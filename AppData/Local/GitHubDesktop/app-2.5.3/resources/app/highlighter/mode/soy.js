self.webpackChunk(["mode/soy"],{28:function(a,b,c){(function(a){a(c(0),c(2))})(function(a){"use strict";var b={noEndTag:!0,soyState:"param-def"},c={alias:{noEndTag:!0},delpackage:{noEndTag:!0},namespace:{noEndTag:!0,soyState:"namespace-def"},"@param":b,"@param?":b,"@inject":b,"@inject?":b,"@state":b,"@state?":b,template:{soyState:"templ-def",variableScope:!0},literal:{},msg:{},fallbackmsg:{noEndTag:!0,reduceIndent:!0},select:{},plural:{},let:{soyState:"var-def"},if:{},elseif:{noEndTag:!0,reduceIndent:!0},else:{noEndTag:!0,reduceIndent:!0},switch:{},case:{noEndTag:!0,reduceIndent:!0},default:{noEndTag:!0,reduceIndent:!0},foreach:{variableScope:!0,soyState:"var-def"},ifempty:{noEndTag:!0,reduceIndent:!0},for:{variableScope:!0,soyState:"var-def"},call:{soyState:"templ-ref"},param:{soyState:"param-ref"},print:{noEndTag:!0},deltemplate:{soyState:"templ-def",variableScope:!0},delcall:{soyState:"templ-ref"},log:{},element:{variableScope:!0}},d=Object.keys(c).filter(function(a){return!c[a].noEndTag||c[a].reduceIndent});a.defineMode("soy",function(b){function e(a){return a[a.length-1]}function f(a,b,c){if(a.sol()){for(var d=0;d<b.indent&&!!a.eat(/\s/);d++);if(d)return null}var f=a.string,g=c.exec(f.substr(a.pos));g&&(a.string=f.substr(0,a.pos+g.index));var h=a.hideFirstChars(b.indent,function(){var c=e(b.localStates);return c.mode.token(a,c.state)});return a.string=f,h}function g(a,b){for(;a;){if(a.element===b)return!0;a=a.next}return!1}function h(a,b){return{element:b,next:a}}function i(a){a.context&&(a.context.scope&&(a.variables=a.context.scope),a.context=a.context.previousContext)}function j(a,b,c){return g(a,b)?"variable-2":c?"variable":"variable-2 error"}function k(a,b,c){this.previousContext=a,this.tag=b,this.kind=null,this.scope=c}var l=a.getMode(b,"text/plain"),m={html:a.getMode(b,{name:"text/html",multilineTagIndentFactor:2,multilineTagIndentPastTag:!1}),attributes:l,text:l,uri:l,trusted_resource_uri:l,css:a.getMode(b,"text/css"),js:a.getMode(b,{name:"text/javascript",statementIndent:2*b.indentUnit})};return{startState:function(){return{soyState:[],templates:null,variables:h(null,"ij"),scopes:null,indent:0,quoteKind:null,context:null,localStates:[{mode:m.html,state:a.startState(m.html)}]}},copyState:function(b){return{tag:b.tag,soyState:b.soyState.concat([]),templates:b.templates,variables:b.variables,context:b.context,indent:b.indent,quoteKind:b.quoteKind,localStates:b.localStates.map(function(b){return{mode:b.mode,state:a.copyState(b.mode,b.state)}})}},token:function(g,l){var n;switch(e(l.soyState)){case"comment":if(g.match(/^.*?\*\//)?l.soyState.pop():g.skipToEnd(),!l.context||!l.context.scope)for(var n,o=/@param\??\s+(\S+)/g,p=g.current();n=o.exec(p);)l.variables=h(l.variables,n[1]);return"comment";case"string":var n=g.match(/^.*?(["']|\\[\s\S])/);return n?n[1]==l.quoteKind&&(l.quoteKind=null,l.soyState.pop()):g.skipToEnd(),"string";}if(!l.soyState.length||"literal"!=e(l.soyState)){if(g.match(/^\/\*/))return l.soyState.push("comment"),"comment";if(g.match(g.sol()?/^\s*\/\/.*/:/^\s+\/\/.*/))return"comment"}switch(e(l.soyState)){case"templ-def":return(n=g.match(/^\.?([\w]+(?!\.[\w]+)*)/))?(l.templates=h(l.templates,n[1]),l.soyState.pop(),"def"):(g.next(),null);case"templ-ref":return(n=g.match(/(\.?[a-zA-Z_][a-zA-Z_0-9]+)+/))?(l.soyState.pop(),"."==n[0][0]?"variable-2":"variable"):(g.next(),null);case"namespace-def":return(n=g.match(/^\.?([\w\.]+)/))?(l.soyState.pop(),"variable"):(g.next(),null);case"param-def":return(n=g.match(/^\w+/))?(l.variables=h(l.variables,n[0]),l.soyState.pop(),l.soyState.push("param-type"),"def"):(g.next(),null);case"param-ref":return(n=g.match(/^\w+/))?(l.soyState.pop(),"property"):(g.next(),null);case"param-type":return"}"==g.peek()?(l.soyState.pop(),null):g.eatWhile(/^([\w]+|[?])/)?"type":(g.next(),null);case"var-def":return(n=g.match(/^\$([\w]+)/))?(l.variables=h(l.variables,n[1]),l.soyState.pop(),"def"):(g.next(),null);case"tag":var q="/"==l.tag[0],r=q?l.tag.substring(1):l.tag,s=c[r];if(g.match(/^\/?}/)){var t="/}"==g.current();return t&&!q&&i(l),"/template"==l.tag||"/deltemplate"==l.tag?(l.variables=h(null,"ij"),l.indent=0):l.indent-=b.indentUnit*(t||-1==d.indexOf(l.tag)?2:1),l.soyState.pop(),"keyword"}if(g.match(/^([\w?]+)(?==)/)){if(l.context&&l.context.tag==r&&"kind"==g.current()&&(n=g.match(/^="([^"]+)/,!1))){var u=n[1];l.context.kind=u;var v=m[u]||m.html,w=e(l.localStates);w.mode.indent&&(l.indent+=w.mode.indent(w.state,"","")),l.localStates.push({mode:v,state:a.startState(v)})}return"attribute"}return(n=g.match(/([\w]+)(?=\()/))?"variable callee":(n=g.match(/^["']/))?(l.soyState.push("string"),l.quoteKind=n,"string"):g.match(/(null|true|false)(?!\w)/)||g.match(/0x([0-9a-fA-F]{2,})/)||g.match(/-?([0-9]*[.])?[0-9]+(e[0-9]*)?/)?"atom":g.match(/(\||[+\-*\/%]|[=!]=|\?:|[<>]=?)/)?"operator":(n=g.match(/^\$([\w]+)/))?j(l.variables,n[1]):(n=g.match(/^\w+/))?/^(?:as|and|or|not|in)$/.test(n[0])?"keyword":null:(g.next(),null);case"literal":return g.match(/^(?=\{\/literal})/)?(l.indent-=b.indentUnit,l.soyState.pop(),this.token(g,l)):f(g,l,/\{\/literal}/);}if(g.match(/^\{literal}/))return l.indent+=b.indentUnit,l.soyState.push("literal"),l.context=new k(l.context,"literal",l.variables),"keyword";if(n=g.match(/^\{([/@\\]?\w+\??)(?=$|[\s}]|\/[/*])/)){var x=l.tag;l.tag=n[1];var q="/"==l.tag[0],y=!!c[l.tag],r=q?l.tag.substring(1):l.tag,s=c[r];"/switch"!=l.tag&&(l.indent+=((q||s&&s.reduceIndent)&&"switch"!=x?1:2)*b.indentUnit),l.soyState.push("tag");var z=!1;if(!s)q&&(z=!0);else if(!q&&s.soyState&&l.soyState.push(s.soyState),!s.noEndTag&&(y||!q))l.context=new k(l.context,l.tag,s.variableScope?l.variables:null);else if(q)if(!l.context||l.context.tag!=r)z=!0;else if(l.context){if(l.context.kind){l.localStates.pop();var w=e(l.localStates);w.mode.indent&&(l.indent-=w.mode.indent(w.state,"",""))}i(l)}return(z?"error ":"")+"keyword"}return g.eat("{")?(l.tag="print",l.indent+=2*b.indentUnit,l.soyState.push("tag"),"keyword"):f(g,l,/\{|\s+\/\/|\/\*/)},indent:function(c,d,f){var g=c.indent,h=e(c.soyState);if("comment"==h)return a.Pass;if("literal"==h)/^\{\/literal}/.test(d)&&(g-=b.indentUnit);else{if(/^\s*\{\/(template|deltemplate)\b/.test(d))return 0;/^\{(\/|(fallbackmsg|elseif|else|ifempty)\b)/.test(d)&&(g-=b.indentUnit),"switch"!=c.tag&&/^\{(case|default)\b/.test(d)&&(g-=b.indentUnit),/^\{\/switch\b/.test(d)&&(g-=b.indentUnit)}var i=e(c.localStates);return g&&i.mode.indent&&(g+=i.mode.indent(i.state,d,f)),g},innerMode:function(a){return a.soyState.length&&"literal"!=e(a.soyState)?null:e(a.localStates)},electricInput:/^\s*\{(\/|\/template|\/deltemplate|\/switch|fallbackmsg|elseif|else|case|default|ifempty|\/literal\})$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",useInnerComments:!1,fold:"indent"}},"htmlmixed"),a.registerHelper("wordChars","soy",/[\w$]/),a.registerHelper("hintWords","soy",Object.keys(c).concat(["css","debugger"])),a.defineMIME("text/x-soy","soy")})}});
//# sourceMappingURL=soy.js.map