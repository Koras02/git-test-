module.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,'__esModule',{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=804)}([function(e,t,n){'use strict';e.exports=n(790)},function(e){e.exports=require('path')},function(e,t){'use strict';function n(e){throw new Error(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.fatalError=n,t.assertNever=function(e,t){throw new Error(t)},t.forceUnwrap=function(e,t){return null==t?n(e):t}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(510)),o(n(509)),o(n(507)),o(n(207)),o(n(7)),o(n(506))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(627);t.Octicon=o.Octicon;var r=n(233);t.OcticonSymbol=r.OcticonSymbol;var i=n(626);t.iconForRepository=i.iconForRepository;var a=n(625);t.iconForStatus=a.iconForStatus},function(e,t){var n,o;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){'use strict';function r(){for(var e=[],t=0,n;t<arguments.length;t++)if(n=arguments[t],n){var o=typeof n;if('string'===o||'number'===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if('object'===o)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}return e.join(' ')}var i={}.hasOwnProperty;'undefined'!=typeof e&&e.exports?e.exports=r:(n=[],o=function(){return r}.apply(t,n),!(o!==void 0&&(e.exports=o)))})()},function(e,t,n){'use strict';t.__esModule=!0;var o=n(139),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r.default||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(12);class a extends o.Component{constructor(){super(...arguments),this.onOkButtonClick=(e)=>{this.props.onOkButtonClick!==void 0&&this.props.onOkButtonClick(e);e.defaultPrevented||!0===this.props.destructive&&(e.preventDefault(),e.currentTarget.form&&e.currentTarget.form.dispatchEvent(new Event('submit')))},this.onCancelButtonClick=(e)=>{this.props.onCancelButtonClick!==void 0&&this.props.onCancelButtonClick(e);e.defaultPrevented||!0===this.props.destructive&&(e.preventDefault(),e.currentTarget.form&&e.currentTarget.form.dispatchEvent(new Event('reset')))}}renderOkButton(){return o.createElement(i.Button,{onClick:this.onOkButtonClick,disabled:this.props.okButtonDisabled,tooltip:this.props.okButtonTitle,type:!0===this.props.destructive?'button':'submit'},this.props.okButtonText||'Ok')}renderCancelButton(){return!1===this.props.cancelButtonVisible?null:o.createElement(i.Button,{onClick:this.onCancelButtonClick,disabled:this.props.cancelButtonDisabled,tooltip:this.props.cancelButtonTitle,type:!0===this.props.destructive?'submit':'reset'},this.props.cancelButtonText||'Cancel')}renderButtons(){return o.createElement(o.Fragment,null,this.renderOkButton(),this.renderCancelButton())}render(){const e=r('button-group',this.props.className,{destructive:!0===this.props.destructive});return o.createElement('div',{className:e},this.renderButtons(),this.props.children)}}t.OkCancelButtonGroup=a},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e,t,n){'use strict';t.__esModule=!0;var o=n(231),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),(0,r.default)(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t,n){'use strict';function o(e){const t=e.headers.get('Link');if(!t)return null;for(const n of t.split(',')){const e=n.match(/<([^>]+)>; rel="([^"]+)"/);if(e&&'next'===e[2]){const t=u.parse(e[1]);return t.path||null}}return null}function r(e){const t=o(e);if(!t)return null;const{pathname:n,query:r}=u.parse(t,!0),{per_page:i,page:a}=r,s='string'==typeof i?parseInt(i,10):NaN,d='string'==typeof a?parseInt(a,10):NaN;if(!s||!d)return t;const l=(d-1)*s,c=Math.min(100,2*s);return s!==c&&0==l%c?(r.per_page=`${c}`,r.page=`${l/c+1}`,u.format({pathname:n,query:r})):t}function i(e){return e.toISOString().replace(/\.\d{3}Z$/,'Z')}async function a(e,t,n,o){const r=Buffer.from(`${t}:${n}`,'utf8').toString('base64'),i=`Basic ${r}`,a=o?{"X-GitHub-OTP":o}:{},d=await s(),l=await h.request(e,null,'POST','authorizations',{scopes:c(e),client_id:v,client_secret:E,note:d,note_url:_,fingerprint:g.uuid()},Object.assign({Authorization:i},a));try{const e=await h.parsedResponse(l);if(e){const t=e.token;if(t&&'string'==typeof t&&t.length)return{kind:P.Authorized,token:t}}}catch(t){if(401===l.status){const e=l.headers.get('x-github-otp');if(e){const t=e.split(';');if(2===t.length){const e=t[1].trim();return'app'===e?{kind:P.TwoFactorAuthenticationRequired,type:f.AuthenticationMode.App}:'sms'===e?{kind:P.TwoFactorAuthenticationRequired,type:f.AuthenticationMode.Sms}:{kind:P.Failed,response:l}}}return{kind:P.Failed,response:l}}const e=t instanceof h.APIError&&t.apiError;if(e){if(403===l.status&&'This API can only be accessed with username and password Basic Auth'===e.message)return{kind:P.PersonalAccessTokenBlocked};if(410===l.status)return{kind:P.WebFlowRequired};if(422===l.status)if(e.errors)for(const t of e.errors){const e='oauthaccess'===t.resource.toLowerCase(),n='user'===t.field.toLowerCase();if(n&&e)return{kind:P.UserRequiresVerification}}else if('Invalid OAuth application client_id or secret.'===e.message)return{kind:P.EnterpriseTooOld}}}return{kind:P.Error,response:l}}async function s(){let t='unknown';try{t=await b()}catch(n){log.error(`getNote: unable to resolve machine username, using '${t}' as a fallback`,n)}return`GitHub Desktop on ${t}@${p.hostname()}`}function d(e){if(e===l()&&!C)return'https://github.com';else{const t=u.parse(e);return`${t.protocol}//${t.hostname}`}}function l(){return C&&0<C.length?C:'https://api.github.com'}function c(e){return e===l()?w:k}Object.defineProperty(t,'__esModule',{value:!0});const p=n(63),u=n(42),m=n(136),h=n(179),f=n(178),g=n(106),y=n(105),S=n(135),C=process.env.DESKTOP_GITHUB_DOTCOM_API_ENDPOINT,b=n(773),v='de0e3c7e9973e1c4dd77',E='1273305a5fc2737c2ca2911948ba24a9d961e2a3';v.length&&E&&E.length||log.warn(`DESKTOP_OAUTH_CLIENT_ID and/or DESKTOP_OAUTH_CLIENT_SECRET is undefined. You won't be able to authenticate new users.`);const w=['repo','user','workflow'],k=['repo','user'];var T;(function(e){e[e.NotModified=304]='NotModified',e[e.NotFound=404]='NotFound'})(T||(T={}));const _='https://desktop.github.com/';class R extends Error{}t.MaxResultsError=R,t.getNextPagePathWithIncreasingPageSize=r;class x{static fromAccount(e){return new x(e.endpoint,e.token)}constructor(e,t){this.endpoint=e,this.token=t}async fetchRepository(t,n){try{const e=await this.request('GET',`repos/${t}/${n}`);return e.status===T.NotFound?(log.warn(`fetchRepository: '${t}/${n}' returned a 404`),null):await h.parsedResponse(e)}catch(o){return log.warn(`fetchRepository: an error occurred for '${t}/${n}'`,o),null}}async fetchRepositories(){try{const e=await this.fetchAll('user/repos');return e.filter((e)=>null!==e.owner)}catch(e){return log.warn(`fetchRepositories: ${e}`),null}}async fetchAccount(){try{const e=await this.request('GET','user'),t=await h.parsedResponse(e);return t}catch(t){throw log.warn(`fetchAccount: failed with endpoint ${this.endpoint}`,t),t}}async fetchEmails(){try{const e=await this.request('GET','user/emails'),t=await h.parsedResponse(e);return Array.isArray(t)?t:[]}catch(t){return log.warn(`fetchEmails: failed with endpoint ${this.endpoint}`,t),[]}}async fetchCommit(t,n,o){try{const e=`repos/${t}/${n}/commits/${o}`,r=await this.request('GET',e);return r.status===T.NotFound?(log.warn(`fetchCommit: '${e}' returned a 404`),null):await h.parsedResponse(r)}catch(r){return log.warn(`fetchCommit: returned an error '${t}/${n}@${o}'`,r),null}}async searchForUserWithEmail(t){if(0===t.length)return null;try{const e={q:`${t} in:email type:user`},n=h.urlWithQueryString('search/users',e),o=await this.request('GET',n),r=await h.parsedResponse(o),i=r.items;return i.length?i[0]:null}catch(n){return log.warn(`searchForUserWithEmail: not found '${t}'`,n),null}}async fetchOrgs(){try{return await this.fetchAll('user/orgs')}catch(t){return log.warn(`fetchOrgs: failed with endpoint ${this.endpoint}`,t),[]}}async createRepository(t,e,n,o){try{const r=t?`orgs/${t.login}/repos`:'user/repos',i=await this.request('POST',r,{name:e,description:n,private:o});return await h.parsedResponse(i)}catch(n){if(n instanceof h.APIError){if(null!==t)throw new Error(`Unable to create repository for organization '${t.login}'. Verify that the repository does not already exist and that you have permission to create a repository there.`);throw n}throw log.error(`createRepository: failed with endpoint ${this.endpoint}`,n),new Error(`Unable to publish repository. Please check if you have an internet connection and try again.`)}}async forkRepository(t,n){try{const e=`/repos/${t}/${n}/forks`,o=await this.request('POST',e);return await h.parsedResponse(o)}catch(o){throw log.error(`forkRepository: failed to fork ${t}/${n} at endpoint: ${this.endpoint}`,o),o}}async fetchIssues(t,n,e,o){const r={state:e};o&&!isNaN(o.getTime())&&(r.since=i(o));const a=h.urlWithQueryString(`repos/${t}/${n}/issues`,r);try{const e=await this.fetchAll(a);return e.filter((e)=>!e.pullRequest)}catch(o){throw log.warn(`fetchIssues: failed for repository ${t}/${n}`,o),o}}async fetchAllOpenPullRequests(t,n){const e=h.urlWithQueryString(`repos/${t}/${n}/pulls`,{state:'open'});try{return await this.fetchAll(e)}catch(o){throw log.warn(`failed fetching open PRs for repository ${t}/${n}`,o),o}}async fetchUpdatedPullRequests(t,n,e,o=320){const i=e.getTime(),a=h.urlWithQueryString(`repos/${t}/${n}/pulls`,{state:'all',sort:'updated',direction:'desc'});try{const e=await this.fetchAll(a,{perPage:10,getNextPagePath:r,continue(e){if(e.length>=o)throw new R('got max pull requests, aborting');const t=e[e.length-1];return t!==void 0&&Date.parse(t.updated_at)>i},suppressErrors:!1});return e.filter((e)=>Date.parse(e.updated_at)>=i)}catch(o){throw log.warn(`failed fetching updated PRs for repository ${t}/${n}`,o),o}}async fetchPullRequest(t,n,o){try{const e=`/repos/${t}/${n}/pulls/${o}`,r=await this.request('GET',e);return await h.parsedResponse(r)}catch(r){throw log.warn(`failed fetching PR for ${t}/${n}/pulls/${o}`,r),r}}async fetchCombinedRefStatus(e,t,n){const o=`repos/${e}/${t}/commits/${n}/status`,r=await this.request('GET',o);return await h.parsedResponse(r)}async fetchPushControl(e,t,n){const o=`repos/${e}/${t}/branches/${encodeURIComponent(n)}/push_control`;try{const e=await this.request('GET',o,void 0,{Accept:'application/vnd.github.phandalin-preview'});return await h.parsedResponse(e)}catch(e){return log.info(`[fetchPushControl] unable to check if branch is potentially pushable`,e),{pattern:null,required_signatures:!1,required_status_checks:[],required_approving_review_count:0,required_linear_history:!1,allow_actor:!0,allow_deletions:!0,allow_force_pushes:!0}}}async fetchProtectedBranches(e,t){const n=`repos/${e}/${t}/branches?protected=true`;try{const e=await this.request('GET',n);return await h.parsedResponse(e)}catch(e){return log.info(`[fetchProtectedBranches] unable to list protected branches`,e),[]}}async fetchAll(e,t){const n=[],r=Object.assign({perPage:100},t),i={per_page:`${r.perPage}`};let a=h.urlWithQueryString(e,i);do{const t=await this.request('GET',a);if(!1!==r.suppressErrors&&!t.ok)return log.warn(`fetchAll: '${e}' returned a ${t.status}`),n;const i=await h.parsedResponse(t);i&&n.push(...i),a=r.getNextPagePath?r.getNextPagePath(t):o(t)}while(a&&(!r.continue||r.continue(n)));return n}request(e,t,n,o){return h.request(this.endpoint,this.token,e,t,n,o)}async getFetchPollInterval(t,n){const e=`repos/${t}/${n}/git`;try{const t=await this.request('HEAD',e),n=t.headers.get('x-poll-interval');if(n){const e=parseInt(n,10);return isNaN(e)?null:e}return null}catch(o){return log.warn(`getFetchPollInterval: failed for ${t}/${n}`,o),null}}async fetchMentionables(t,n,e){const o={Accept:'application/vnd.github.jerry-maguire-preview'};e&&(o['If-None-Match']=e);try{const e=`repos/${t}/${n}/mentionables/users`,r=await this.request('GET',e,void 0,o);if(r.status===T.NotFound)return log.warn(`fetchMentionables: '${e}' returned a 404`),null;if(r.status===T.NotModified)return null;const i=await h.parsedResponse(r),a=r.headers.get('etag');return{users:i,etag:a}}catch(o){return log.warn(`fetchMentionables: failed for ${t}/${n}`,o),null}}async fetchUser(e){try{const t=await this.request('GET',`users/${encodeURIComponent(e)}`);return 404===t.status?null:await h.parsedResponse(t)}catch(t){throw log.warn(`fetchUser: failed with endpoint ${this.endpoint}`,t),t}}}t.API=x;var P;(function(e){e[e.Authorized=0]='Authorized',e[e.Failed=1]='Failed',e[e.TwoFactorAuthenticationRequired=2]='TwoFactorAuthenticationRequired',e[e.UserRequiresVerification=3]='UserRequiresVerification',e[e.PersonalAccessTokenBlocked=4]='PersonalAccessTokenBlocked',e[e.Error=5]='Error',e[e.EnterpriseTooOld=6]='EnterpriseTooOld',e[e.WebFlowRequired=7]='WebFlowRequired'})(P=t.AuthorizationResponseKind||(t.AuthorizationResponseKind={})),t.createAuthorization=a,t.fetchUser=async function(t,e){const n=new x(t,e);try{const o=await n.fetchAccount(),r=await n.fetchEmails(),i=S.getDefaultEmail(r),a=y.getAvatarWithEnterpriseFallback(o.avatar_url,i,t);return new m.Account(o.login,t,e,r,a,o.id,o.name||o.login)}catch(n){throw log.warn(`fetchUser: failed with endpoint ${t}`,n),n}},t.fetchMetadata=async function(e){const t=`${e}/meta`;try{const t=await h.request(e,null,'GET','meta',void 0,{"Content-Type":'application/json'}),n=await h.parsedResponse(t);return n&&void 0!==n.verifiable_password_authentication?n:null}catch(n){return log.error(`fetchMetadata: unable to load metadata from '${t}' as a fallback`,n),null}},t.getEndpointForRepository=function(e){const t=u.parse(e);return'github.com'===t.hostname?l():`${t.protocol}//${t.hostname}/api`},t.getHTMLURL=d,t.getEnterpriseAPIURL=function(e){const t=u.parse(e);return`${t.protocol}//${t.hostname}/api/v3`},t.getDotComAPIEndpoint=l,t.getAccountForEndpoint=function(e,t){return e.find((e)=>e.endpoint===t)||null},t.getOAuthAuthorizationURL=function(e,t){const n=d(e),o=c(e),r=encodeURIComponent(o.join(' '));return`${n}/login/oauth/authorize?client_id=${v}&scope=${r}&state=${t}`},t.requestOAuthToken=async function(t,e){try{const n=d(t),o=await h.request(n,null,'POST','login/oauth/access_token',{client_id:v,client_secret:E,code:e}),r=await h.parsedResponse(o);return r.access_token}catch(n){return log.warn(`requestOAuthToken: failed with endpoint ${t}`,n),null}}},function(e,t,n){'use strict';function o(e){const t=e.gitErrorDescription;return t?t:e.stderr.length?e.stderr:e.stdout.length?e.stdout:'Unknown error'}function r(e){return!(e!==a.GitError.SSHAuthenticationFailed&&e!==a.GitError.SSHPermissionDenied&&e!==a.GitError.HTTPSAuthenticationFailed)}function i(e){if(r(e)){const e='File > Options.';return`Authentication failed. Some common reasons include:

- You are not logged in to your account: see ${e}
- You may need to log out and log back in to refresh your token.
- You do not have permission to access this repository.
- The repository is archived on GitHub. Check the repository settings to confirm you are still permitted to push commits.
- If you use SSH authentication, check that your key is added to the ssh-agent and associated with your account.`}return e===a.GitError.SSHKeyAuditUnverified?'The SSH key is unverified.':e===a.GitError.RemoteDisconnection?'The remote disconnected. Check your Internet connection and try again.':e===a.GitError.HostDown?'The host is down. Check your Internet connection and try again.':e===a.GitError.RebaseConflicts?'We found some conflicts while trying to rebase. Please resolve the conflicts before continuing.':e===a.GitError.MergeConflicts?'We found some conflicts while trying to merge. Please resolve the conflicts and commit the changes.':e===a.GitError.HTTPSRepositoryNotFound||e===a.GitError.SSHRepositoryNotFound?'The repository does not seem to exist anymore. You may not have access, or it may have been deleted or renamed.':e===a.GitError.PushNotFastForward?'The repository has been updated since you last pulled. Try pulling before pushing.':e===a.GitError.BranchDeletionFailed?'Could not delete the branch. It was probably already deleted.':e===a.GitError.DefaultBranchDeletionFailed?`The branch is the repository's default branch and cannot be deleted.`:e===a.GitError.RevertConflicts?'To finish reverting, please merge and commit the changes.':e===a.GitError.EmptyRebasePatch?'There aren\u2019t any changes left to apply.':e===a.GitError.NoMatchingRemoteBranch?'There aren\u2019t any remote branches that match the current branch.':e===a.GitError.NothingToCommit?'There are no changes to commit.':e===a.GitError.NoSubmoduleMapping?'A submodule was removed from .gitmodules, but the folder still exists in the repository. Delete the folder, commit the change, then try again.':e===a.GitError.SubmoduleRepositoryDoesNotExist?'A submodule points to a location which does not exist.':e===a.GitError.InvalidSubmoduleSHA?'A submodule points to a commit which does not exist.':e===a.GitError.LocalPermissionDenied?'Permission denied.':e===a.GitError.InvalidMerge?'This is not something we can merge.':e===a.GitError.InvalidRebase?'This is not something we can rebase.':e===a.GitError.NonFastForwardMergeIntoEmptyHead?'The merge you attempted is not a fast-forward, so it cannot be performed on an empty branch.':e===a.GitError.PatchDoesNotApply?'The requested changes conflict with one or more files in the repository.':e===a.GitError.BranchAlreadyExists?'A branch with that name already exists.':e===a.GitError.BadRevision?'Bad revision.':e===a.GitError.NotAGitRepository?'This is not a git repository.':e===a.GitError.ProtectedBranchForcePush?'This branch is protected from force-push operations.':e===a.GitError.ProtectedBranchRequiresReview?'This branch is protected and any changes requires an approved review. Open a pull request with changes targeting this branch instead.':e===a.GitError.PushWithFileSizeExceedingLimit?'The push operation includes a file which exceeds GitHub\'s file size restriction of 100MB. Please remove the file from history and try again.':e===a.GitError.HexBranchNameRejected?'The branch name cannot be a 40-character string of hexadecimal characters, as this is the format that Git uses for representing objects.':e===a.GitError.ForcePushRejected?'The force push has been rejected for the current branch.':e===a.GitError.InvalidRefLength?'A ref cannot be longer than 255 characters.':e===a.GitError.CannotMergeUnrelatedHistories?'Unable to merge unrelated histories in this repository.':e===a.GitError.PushWithPrivateEmail?'Cannot push these commits as they contain an email address marked as private on GitHub.':e===a.GitError.LFSAttributeDoesNotMatch?'Git LFS attribute found in global Git configuration does not match expected value.':e===a.GitError.ProtectedBranchDeleteRejected?'This branch cannot be deleted from the remote repository because it is marked as protected.':e===a.GitError.ProtectedBranchRequiredStatus?'The push was rejected by the remote server because a required status check has not been satisfied.':e===a.GitError.BranchRenameFailed?'The branch could not be renamed.':e===a.GitError.PathDoesNotExist?'The path does not exist on disk.':e===a.GitError.InvalidObjectName?'The object was not found in the Git repository.':e===a.GitError.OutsideRepository?'This path is not a valid path inside the repository.':e===a.GitError.LockFileAlreadyExists?'A lock file already exists in the repository, which blocks this operation from completing.':e===a.GitError.NoMergeToAbort?'There is no merge in progress, so there is nothing to abort.':e===a.GitError.NoExistingRemoteBranch?'The remote branch does not exist.':e===a.GitError.LocalChangesOverwritten?'Unable to switch branches as there are working directory changes which would be overwritten. Please commit or stash your changes.':e===a.GitError.UnresolvedConflicts?'There are unresolved conflicts in the working directory.':e===a.GitError.ConfigLockFileAlreadyExists?null:e===a.GitError.RemoteAlreadyExists?null:e===a.GitError.TagAlreadyExists?'A tag with that name already exists':s.assertNever(e,`Unknown error: ${e}`)}Object.defineProperty(t,'__esModule',{value:!0});const a=n(35),s=n(2),d=n(10),l=n(172),c=n(1),p=n(84),u=n(270);class m extends Error{constructor(e,t){super(o(e)),this.name='GitError',this.result=e,this.args=t}}t.GitError=m,t.git=async function(e,t,n,o){const r={successExitCodes:new Set([0]),expectedErrors:new Set},s=Object.assign({},r,o);s.env=Object.assign({TERM:'dumb'},s.env);const d=`${n}: git ${e.join(' ')}`,c=await l.measure(d,()=>a.GitProcess.exec(e,t,s)).catch((e)=>{if(u.isErrnoException(e))throw new Error(`Failed to execute ${n}: ${e.code}`);throw e}),p=c.exitCode;let h=null;const f=!!s.successExitCodes&&s.successExitCodes.has(p);f||(h=a.GitProcess.parseError(c.stderr),!h&&(h=a.GitProcess.parseError(c.stdout)));const g=h?i(h):null,y=Object.assign({},c,{gitError:h,gitErrorDescription:g,path:t});let S=!0;if(h&&s.expectedErrors&&(S=s.expectedErrors.has(h)),h&&S||f)return y;const C=[];throw C.push(`\`git ${e.join(' ')}\` exited with an unexpected code: ${p}.`),c.stdout&&(C.push('stdout:'),C.push(c.stdout)),c.stderr&&(C.push('stderr:'),C.push(c.stderr)),h&&C.push(`(The error was parsed as ${h}: ${g})`),log.error(C.join('\n')),new m(y,e)},t.isAuthFailureError=r,t.isConfigFileLockError=function(e){return e instanceof m&&e.result.gitError===a.GitError.ConfigLockFileAlreadyExists};const h=/^error: could not lock config file (.+?): File exists$/m;t.parseConfigLockFilePathFromError=function(e){const t=h.exec(e.stderr);if(null===t)return null;const n=t[1].replace('/','\\');return c.resolve(e.path,`${n}.lock`)},t.gitNetworkArguments=async function(e,t){const n=['-c','credential.helper='];if(null===t)return n;const o=t.endpoint===d.getDotComAPIEndpoint();if(!o)return n;const r='protocol.version',i=null==e?await p.getGlobalConfigValue(r):await p.getConfigValue(e,r);return null===i?[...n,'-c','protocol.version=2']:n},t.parseCommitSHA=function(e){return e.stdout.split(']')[0].split(' ')[1]}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{constructor(){super(...arguments),this.innerButton=null,this.onButtonRef=(e)=>{this.innerButton=e,this.props.onButtonRef&&this.props.onButtonRef(e)},this.focus=()=>{this.innerButton&&this.innerButton.focus()},this.getBoundingClientRect=()=>this.innerButton?this.innerButton.getBoundingClientRect():void 0,this.onClick=(e)=>{this.props.onClick&&this.props.onClick(e),this.props.type===void 0&&e.preventDefault()}}blur(){this.innerButton&&this.innerButton.blur()}render(){const e=r('button-component',{"small-button":'small'===this.props.size},this.props.className);return o.createElement('button',{className:e,disabled:this.props.disabled,onClick:this.onClick,type:this.props.type||'button',ref:this.onButtonRef,tabIndex:this.props.tabIndex,onMouseEnter:this.props.onMouseEnter,title:this.props.tooltip,role:this.props.role,"aria-expanded":this.props.ariaExpanded,"aria-haspopup":this.props.ariaHasPopup},this.props.children)}}t.Button=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(40),i=n(5);class a extends o.Component{constructor(){super(...arguments),this.onClick=(e)=>{if(e.preventDefault(),!this.props.disabled){const e=this.props.uri;e&&r.shell.openExternal(e);const t=this.props.onClick;t&&t()}}}render(){const e=this.props.uri||'',t=i('link-button-component',this.props.className);return o.createElement('a',{className:t,href:e,onClick:this.onClick,title:this.props.title,tabIndex:this.props.tabIndex},this.props.children)}}t.LinkButton=a},function(e,t,n){'use strict';t.__esModule=!0;var o=n(230),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'===('undefined'==typeof t?'undefined':(0,r.default)(t))||'function'==typeof t)?t:e}},function(e,t,n){e.exports=n(785)()},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(597),i=o(r),a=n(593),s=o(a),d=n(230),l=o(d);t.default=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof t?'undefined':(0,l.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(617),__esModule:!0}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{render(){const e=r('row-component',this.props.className);return o.createElement('div',{className:e},this.props.children)}}t.Row=i},function(e,t,n){'use strict';e.exports=Object.assign({},n(290),n(287),n(283),n(740),n(738),n(732),n(41),n(728),n(727),n(726),n(53),n(133));const o=n(33);Object.getOwnPropertyDescriptor(o,'promises')&&Object.defineProperty(e.exports,'promises',{get(){return o.promises}})},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(266)),o(n(706)),o(n(702)),o(n(695)),o(n(694)),o(n(84)),o(n(11)),o(n(255)),o(n(171)),o(n(693)),o(n(263)),o(n(20)),o(n(692)),o(n(254)),o(n(691)),o(n(690)),o(n(689)),o(n(262)),o(n(260)),o(n(258)),o(n(168)),o(n(688)),o(n(251)),o(n(261)),o(n(683)),o(n(250)),o(n(682)),o(n(681)),o(n(680)),o(n(678)),o(n(677)),o(n(128)),o(n(675)),o(n(249)),o(n(674)),o(n(673)),o(n(670))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{render(){return o.createElement('em',{className:'ref-component'},this.props.children)}}t.Ref=r},function(e){e.exports=require('electron')},function(e,t,n){'use strict';function o(e){return e.kind===s.Conflicted}function r(e){if(!e.length)return!0;const t=e.every((e)=>e.selection.getSelectionType()===i.DiffSelectionType.All),n=e.every((e)=>e.selection.getSelectionType()===i.DiffSelectionType.None);let o=null;return t?o=!0:n&&(o=!1),o}Object.defineProperty(t,'__esModule',{value:!0});const i=n(30);var a;(function(e){e.Modified='M',e.Added='A',e.Deleted='D',e.Renamed='R',e.Copied='C',e.Unchanged='.',e.Untracked='?',e.Ignored='!',e.UpdatedButUnmerged='U'})(a=t.GitStatusEntry||(t.GitStatusEntry={}));var s;(function(e){e.New='New',e.Modified='Modified',e.Deleted='Deleted',e.Copied='Copied',e.Renamed='Renamed',e.Conflicted='Conflicted',e.Untracked='Untracked'})(s=t.AppFileStatusKind||(t.AppFileStatusKind={})),t.isConflictedFileStatus=o,t.isConflictWithMarkers=function(e){return e.hasOwnProperty('conflictMarkerCount')},t.isManualConflict=function(e){return!e.hasOwnProperty('conflictMarkerCount')};var d;(function(e){e.AddedByUs='added-by-us',e.DeletedByUs='deleted-by-us',e.AddedByThem='added-by-them',e.DeletedByThem='deleted-by-them',e.BothDeleted='both-deleted',e.BothAdded='both-added',e.BothModified='both-modified'})(d=t.UnmergedEntrySummary||(t.UnmergedEntrySummary={}));class l{constructor(e,t){this.path=e,this.status=t,this.id=t.kind===s.Renamed||t.kind===s.Copied?`${t.kind}+${e}+${t.oldPath}`:`${t.kind}+${e}`}}t.FileChange=l;class c extends l{constructor(e,t,n){super(e,t),this.selection=n}withIncludeAll(e){const t=e?this.selection.withSelectAll():this.selection.withSelectNone();return this.withSelection(t)}withSelection(e){return new c(this.path,this.status,e)}}t.WorkingDirectoryFileChange=c;t.CommittedFileChange=class extends l{constructor(e,t,n){super(e,t),this.commitish=n,this.commitish=n}};class p{constructor(e,t=!0){this.files=e,this.includeAll=t,this.fileIxById=new Map,e.forEach((e,t)=>this.fileIxById.set(e.id,t))}static fromFiles(e){return new p(e,r(e))}withIncludeAllFiles(e){const t=this.files.map((t)=>t.withIncludeAll(e));return new p(t,e)}findFileWithID(e){const t=this.fileIxById.get(e);return t===void 0?null:this.files[t]||null}findFileIndexByID(e){const t=this.fileIxById.get(e);return t===void 0?-1:t}}t.WorkingDirectoryStatus=p},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.RenameBranch=1]='RenameBranch',e[e.DeleteBranch=2]='DeleteBranch',e[e.ConfirmDiscardChanges=3]='ConfirmDiscardChanges',e[e.Preferences=4]='Preferences',e[e.MergeBranch=5]='MergeBranch',e[e.RepositorySettings=6]='RepositorySettings',e[e.AddRepository=7]='AddRepository',e[e.CreateRepository=8]='CreateRepository',e[e.CloneRepository=9]='CloneRepository',e[e.CreateBranch=10]='CreateBranch',e[e.SignIn=11]='SignIn',e[e.About=12]='About',e[e.InstallGit=13]='InstallGit',e[e.PublishRepository=14]='PublishRepository',e[e.Acknowledgements=15]='Acknowledgements',e[e.UntrustedCertificate=16]='UntrustedCertificate',e[e.RemoveRepository=17]='RemoveRepository',e[e.TermsAndConditions=18]='TermsAndConditions',e[e.PushBranchCommits=19]='PushBranchCommits',e[e.CLIInstalled=20]='CLIInstalled',e[e.GenericGitAuthentication=21]='GenericGitAuthentication',e[e.ExternalEditorFailed=22]='ExternalEditorFailed',e[e.OpenShellFailed=23]='OpenShellFailed',e[e.InitializeLFS=24]='InitializeLFS',e[e.LFSAttributeMismatch=25]='LFSAttributeMismatch',e[e.UpstreamAlreadyExists=26]='UpstreamAlreadyExists',e[e.ReleaseNotes=27]='ReleaseNotes',e[e.DeletePullRequest=28]='DeletePullRequest',e[e.MergeConflicts=29]='MergeConflicts',e[e.AbortMerge=30]='AbortMerge',e[e.OversizedFiles=31]='OversizedFiles',e[e.UsageReportingChanges=32]='UsageReportingChanges',e[e.CommitConflictsWarning=33]='CommitConflictsWarning',e[e.PushNeedsPull=34]='PushNeedsPull',e[e.RebaseFlow=35]='RebaseFlow',e[e.ConfirmForcePush=36]='ConfirmForcePush',e[e.StashAndSwitchBranch=37]='StashAndSwitchBranch',e[e.ConfirmOverwriteStash=38]='ConfirmOverwriteStash',e[e.ConfirmDiscardStash=39]='ConfirmDiscardStash',e[e.CreateTutorialRepository=40]='CreateTutorialRepository',e[e.ConfirmExitTutorial=41]='ConfirmExitTutorial',e[e.PushRejectedDueToMissingWorkflowScope=42]='PushRejectedDueToMissingWorkflowScope',e[e.SAMLReauthRequired=43]='SAMLReauthRequired',e[e.CreateFork=44]='CreateFork',e[e.SChannelNoRevocationCheck=45]='SChannelNoRevocationCheck',e[e.CreateTag=46]='CreateTag',e[e.DeleteTag=47]='DeleteTag',e[e.LocalChangesOverwritten=48]='LocalChangesOverwritten',e[e.RebaseConflicts=49]='RebaseConflicts',e[e.ChooseForkSettings=50]='ChooseForkSettings',e[e.ConfirmDiscardSelection=51]='ConfirmDiscardSelection'})(n=t.PopupType||(t.PopupType={}))},function(e,t){'use strict';function n(){return!1,'1'===process.env.GITHUB_DESKTOP_PREVIEW_FEATURES}function o(){return n()||!1}Object.defineProperty(t,'__esModule',{value:!0});t.enableProgressBarOnIcon=function(){return o()},t.enableRecurseSubmodulesFlag=function(){return o()},t.enableReadmeOverwriteWarning=function(){return o()},t.enableWSLDetection=function(){return o()},t.enableCreateForkFlow=function(){return!0},t.enableSchannelCheckRevokeOptOut=function(){return!0},t.enableAutomaticGitProxyConfiguration=function(){return!0},t.enableCreateGitHubIssueFromMenu=function(){return!0},t.enableUpdateRemoteUrl=function(){return!0},t.enableForkyCreateBranchUI=function(){return!0},t.enableNDDBBanner=function(){return!1},t.enableGitTagsDisplay=function(){return!0},t.enableGitTagsCreation=function(){return!0},t.enableForkSettings=function(){return!0},t.enableDiscardLines=function(){return!0}},function(e,t,n){'use strict';function o(e){const t=d.basename(e);return 0===t.length?e:t}function r(e){return e.gitHubRepository instanceof l.GitHubRepository}function i(e){return r(e)&&null!==e.gitHubRepository.parent}function a(e){if(!i(e))return e.gitHubRepository;const t=s(e);return t===c.ForkContributionTarget.Self?e.gitHubRepository:t===c.ForkContributionTarget.Parent?e.gitHubRepository.parent:p.assertNever(t,'Invalid fork contribution target')}function s(e){return e.workflowPreferences.forkContributionTarget===void 0?c.ForkContributionTarget.Parent:e.workflowPreferences.forkContributionTarget}Object.defineProperty(t,'__esModule',{value:!0});const d=n(1),l=n(102),c=n(129),p=n(2);class u{constructor(e,t,n,r,i={},a){this.id=t,this.gitHubRepository=n,this.missing=r,this.workflowPreferences=i,this._isTutorialRepository=a,this.mainWorkTree={path:e},this.name=n&&n.name||o(e)}get path(){return this.mainWorkTree.path}get hash(){return`${this.id}+${this.gitHubRepository&&this.gitHubRepository.hash}+${this.path}+${this.missing}+${this.name}+${this.isTutorialRepository}+${this.workflowPreferences.forkContributionTarget}`}get isTutorialRepository(){return!0===this._isTutorialRepository}}t.Repository=u,t.isRepositoryWithGitHubRepository=r,t.isRepositoryWithForkedGitHubRepository=i,t.nameOf=function(e){const{gitHubRepository:t}=e;return null===t?e.name:t.fullName},t.getGitHubHtmlUrl=function(e){return r(e)?a(e).htmlURL:null},t.getNonForkGitHubRepository=a,t.getForkContributionTarget=s},function(e,t,n){'use strict';function o(e,t){let n={submenu:e};for(const o of t){if(n===void 0||n.submenu===void 0)return;n=n.submenu[o]}return n}function r(e){return{message:e.message||`${e}`,name:e.name||`${e.name}`,stack:e.stack||void 0}}Object.defineProperty(t,'__esModule',{value:!0});const i=n(22);t.updateMenuState=function(e){i.ipcRenderer.send('update-menu-state',e)},t.sendReady=function(e){i.ipcRenderer.send('renderer-ready',e)},t.executeMenuItem=function(e){i.ipcRenderer.send('execute-menu-item',{id:e.id})},t.executeMenuItemById=function(e){i.ipcRenderer.send('execute-menu-item',{id:e})},t.showCertificateTrustDialog=function(e,t){i.ipcRenderer.send('show-certificate-trust-dialog',{certificate:e,message:t})},t.sendWillQuitSync=function(){i.ipcRenderer.sendSync('will-quit')},t.getAppMenu=function(){i.ipcRenderer.send('get-app-menu')};let a=null;t.registerContextualMenuActionDispatcher=function(){i.ipcRenderer.on('contextual-menu-action',(e,t)=>{if(null!==a){const e=o(a,t);void 0!==e&&void 0!==e.action&&(e.action(),a=null)}})},t.showContextualMenu=function(e){a=e,i.ipcRenderer.send('show-contextual-menu',e)},t.updatePreferredAppMenuItemLabels=function(e){i.ipcRenderer.send('update-preferred-app-menu-item-labels',e)},t.reportUncaughtException=function(e){i.ipcRenderer.send('uncaught-exception',r(e))},t.sendErrorReport=function(e,t={},n){i.ipcRenderer.send('send-error-report',{error:r(e),extra:t,nonFatal:n})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.Repository=0]='Repository',e[e.CloningRepository=1]='CloningRepository',e[e.MissingRepository=2]='MissingRepository'})(n=t.SelectionType||(t.SelectionType={}));var o;(function(e){e[e.Repository=0]='Repository',e[e.Branch=1]='Branch',e[e.AppMenu=2]='AppMenu',e[e.AddMenu=3]='AddMenu'})(o=t.FoldoutType||(t.FoldoutType={}));var r;(function(e){e[e.Changes=0]='Changes',e[e.History=1]='History'})(r=t.RepositorySectionTab||(t.RepositorySectionTab={})),t.isMergeConflictState=function(e){return'merge'===e.kind},t.isRebaseConflictState=function(e){return'rebase'===e.kind};var i;(function(e){e.WorkingDirectory='WorkingDirectory',e.Stash='Stash'})(i=t.ChangesSelectionKind||(t.ChangesSelectionKind={}));var a;(function(e){e.History='History',e.Compare='Compare'})(a=t.HistoryTabMode||(t.HistoryTabMode={}));var s;(function(e){e.Ahead='Ahead',e.Behind='Behind'})(s=t.ComparisonMode||(t.ComparisonMode={}))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(68),a=n(13),s=n(27);class d extends o.Component{constructor(){super(...arguments),this.inputElement=null,this.onChange=(e)=>{const t=e.currentTarget.value;this.setState({value:t},()=>{this.props.onValueChanged&&this.props.onValueChanged(t)})},this.onSearchTextCleared=()=>{null!=this.props.onSearchCleared&&this.props.onSearchCleared()},this.onInputRef=(e)=>{null!=this.inputElement&&'search'===this.props.type&&this.inputElement.removeEventListener('search',this.onSearchTextCleared),this.inputElement=e,null!=this.inputElement&&'search'===this.props.type&&this.inputElement.addEventListener('search',this.onSearchTextCleared)},this.onContextMenu=(e)=>{e.preventDefault(),s.showContextualMenu([{role:'editMenu'}])},this.onKeyDown=(e)=>{const t=this.state.value;if(''!==t&&'search'===this.props.type&&'Escape'===e.key){const t='';e.preventDefault(),this.setState({value:t}),this.props.onValueChanged&&this.props.onValueChanged(t)}else'search'===this.props.type&&'Escape'===e.key&&''===t&&this.props.onBlur&&(this.props.onBlur(),null!==this.inputElement&&this.inputElement.blur());this.props.onKeyDown!==void 0&&this.props.onKeyDown(e)},this.onFocus=()=>{this.props.autoFocus||this.props.onFocus===void 0||this.props.onFocus()},this.onBlur=()=>{this.props.onBlur!==void 0&&this.props.onBlur()}}componentWillMount(){const e=this.props.label||this.props.placeholder,t=i.createUniqueId(`TextBox_${e}`);this.setState({inputId:t,value:this.props.value})}componentWillUnmount(){this.state.inputId&&i.releaseUniqueId(this.state.inputId)}componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}selectAll(){null!==this.inputElement&&this.inputElement.select()}focus(){null!==this.inputElement&&this.inputElement.focus()}blur(){null!==this.inputElement&&this.inputElement.blur()}renderLabelLink(){return this.props.labelLinkText?o.createElement(a.LinkButton,{uri:this.props.labelLinkUri,onClick:this.props.onLabelLinkClick,className:'link-label'},this.props.labelLinkText):null}renderLabel(){return this.props.label?o.createElement('div',{className:'label-container'},o.createElement('label',{htmlFor:this.state.inputId},this.props.label),this.renderLabelLink()):null}render(){const e=r('text-box-component',this.props.className),t=this.props.label?this.state.inputId:void 0;return o.createElement('div',{className:e},this.renderLabel(),o.createElement('input',{id:t,ref:this.onInputRef,onFocus:this.onFocus,onBlur:this.onBlur,autoFocus:this.props.autoFocus,disabled:this.props.disabled,type:this.props.type,placeholder:this.props.placeholder,value:this.state.value,onChange:this.onChange,onKeyDown:this.onKeyDown,tabIndex:this.props.tabIndex,onContextMenu:this.onContextMenu}))}}t.TextBox=d},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(724)),o(n(723)),o(n(722)),o(n(721)),o(n(720)),o(n(719))},function(e,t,n){'use strict';function o(e,t){if(e===t)return!0;const n=e.kind;switch(e.kind){case a.Unknown:return e.kind===t.kind;case a.Unborn:return e.kind===t.kind&&e.ref===t.ref;case a.Detached:return e.kind===t.kind&&e.currentSha===t.currentSha;case a.Valid:return e.kind===t.kind&&r(e.branch,t.branch);default:return i.assertNever(e,`Unknown tip state ${n}`);}}function r(e,t){return e.type===t.type&&e.tip.sha===t.tip.sha&&e.remote===t.remote&&e.upstream===t.upstream}Object.defineProperty(t,'__esModule',{value:!0});const i=n(2);var a;(function(e){e.Unknown='Unknown',e.Unborn='Unborn',e.Detached='Detached',e.Valid='Valid'})(a=t.TipState||(t.TipState={})),t.tipEquals=o},function(e,t,n){function o(e){function t(t){return m.apply(e,t)}function n(){return this instanceof n?(f.apply(this,arguments),this):n.apply(Object.create(n.prototype),arguments)}function a(){return this instanceof a?(g.apply(this,arguments),this):a.apply(Object.create(a.prototype),arguments)}function l(e,t,n,o){function a(e,t,n,o){return C(e,t,n,function(s){s&&('EMFILE'===s.code||'ENFILE'===s.code)?r([a,[e,t,n,o]]):('function'==typeof o&&o.apply(this,arguments),i())})}return'function'==typeof n&&(o=n,n=null),a(e,t,n,o)}s(e),e.gracefulify=o,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var c=e.readFile;e.readFile=function(e,t,n){function o(e,t,n){return c(e,t,function(a){a&&('EMFILE'===a.code||'ENFILE'===a.code)?r([o,[e,t,n]]):('function'==typeof n&&n.apply(this,arguments),i())})}return'function'==typeof t&&(n=t,t=null),o(e,t,n)};var p=e.writeFile;e.writeFile=function(e,t,n,o){function a(e,t,n,o){return p(e,t,n,function(s){s&&('EMFILE'===s.code||'ENFILE'===s.code)?r([a,[e,t,n,o]]):('function'==typeof o&&o.apply(this,arguments),i())})}return'function'==typeof n&&(o=n,n=null),a(e,t,n,o)};var u=e.appendFile;u&&(e.appendFile=function(e,t,n,o){function a(e,t,n,o){return u(e,t,n,function(s){s&&('EMFILE'===s.code||'ENFILE'===s.code)?r([a,[e,t,n,o]]):('function'==typeof o&&o.apply(this,arguments),i())})}return'function'==typeof n&&(o=n,n=null),a(e,t,n,o)});var m=e.readdir;if(e.readdir=function(e,n,o){function a(e,n){n&&n.sort&&n.sort(),e&&('EMFILE'===e.code||'ENFILE'===e.code)?r([t,[s]]):('function'==typeof o&&o.apply(this,arguments),i())}var s=[e];return'function'==typeof n?o=n:s.push(n),s.push(a),t(s)},'v0.8'===process.version.substr(0,4)){var h=d(e);n=h.ReadStream,a=h.WriteStream}var f=e.ReadStream;f&&(n.prototype=Object.create(f.prototype),n.prototype.open=function(){var e=this;l(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit('error',t)):(e.fd=n,e.emit('open',n),e.read())})});var g=e.WriteStream;g&&(a.prototype=Object.create(g.prototype),a.prototype.open=function(){var e=this;l(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit('error',t)):(e.fd=n,e.emit('open',n))})}),Object.defineProperty(e,'ReadStream',{get:function(){return n},set:function(e){n=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,'WriteStream',{get:function(){return a},set:function(e){a=e},enumerable:!0,configurable:!0});var y=n;Object.defineProperty(e,'FileReadStream',{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var S=a;Object.defineProperty(e,'FileWriteStream',{get:function(){return S},set:function(e){S=e},enumerable:!0,configurable:!0});var C=e.open;return e.open=l,e}function r(e){m('ENQUEUE',e[0].name,e[1]),global[p].push(e)}function i(){var e=global[p].shift();e&&(m('RETRY',e[0].name,e[1]),e[0].apply(null,e[1]))}var a=n(33),s=n(748),d=n(746),l=n(745),c=n(176),p,u;'function'==typeof Symbol&&'function'==typeof Symbol.for?(p=Symbol.for('graceful-fs.queue'),u=Symbol.for('graceful-fs.previous')):(p='___graceful-fs.queue',u='___graceful-fs.previous');var m=function(){};if(c.debuglog?m=c.debuglog('gfs4'):/\bgfs4\b/i.test(process.env.NODE_DEBUG||'')&&(m=function(){var e=c.format.apply(c,arguments);e='GFS4: '+e.split(/\n/).join('\nGFS4: '),console.error(e)}),!global[p]){var h=[];Object.defineProperty(global,p,{get:function(){return h}}),a.close=function(e){function t(t,n){return e.call(a,t,function(e){e||i(),'function'==typeof n&&n.apply(this,arguments)})}return Object.defineProperty(t,u,{value:e}),t}(a.close),a.closeSync=function(e){function t(){e.apply(a,arguments),i()}return Object.defineProperty(t,u,{value:e}),t}(a.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||'')&&process.on('exit',function(){m(global[p]),n(288).equal(global[p].length,0)})}e.exports=o(l(a)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!a.__patched&&(e.exports=o(a),a.__patched=!0)},function(e){e.exports=require('fs')},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(657);t.encodePathAsUrl=function(...e){const t=o.resolve(...e);return r(t)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(714);t.GitProcess=o.GitProcess;var r=n(271);t.GitError=r.GitError,t.RepositoryDoesNotExistErrorCode=r.RepositoryDoesNotExistErrorCode,t.GitNotFoundErrorCode=r.GitNotFoundErrorCode},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(68);var i;(function(e){e[e.On=0]='On',e[e.Off=1]='Off',e[e.Mixed=2]='Mixed'})(i=t.CheckboxValue||(t.CheckboxValue={}));class a extends o.Component{constructor(){super(...arguments),this.input=null,this.onChange=(e)=>{this.props.onChange&&this.props.onChange(e)},this.onInputRef=(e)=>{this.input=e,this.updateInputState()}}componentDidUpdate(){this.updateInputState()}componentWillMount(){const e=this.props.label||'unknown',t=r.createUniqueId(`Checkbox_${e}`);this.setState({inputId:t})}componentWillUnmount(){this.state.inputId&&r.releaseUniqueId(this.state.inputId)}updateInputState(){const e=this.input;if(e){const t=this.props.value;e.indeterminate=t===i.Mixed,e.checked=t!==i.Off}}renderLabel(){const e=this.props.label,t=this.state.inputId;return e?o.createElement('label',{htmlFor:t},e):null}render(){return o.createElement('div',{className:'checkbox-component'},o.createElement('input',{id:this.state.inputId,tabIndex:this.props.tabIndex,type:'checkbox',onChange:this.onChange,ref:this.onInputRef,disabled:this.props.disabled}),this.renderLabel())}}t.Checkbox=a},function(e){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){'use strict';function o(e){return e.kind===i.AppFileStatusKind.Conflicted}function r(e,t){return!(void 0!==t)&&(!i.isConflictWithMarkers(e)||0<e.conflictMarkerCount)}Object.defineProperty(t,'__esModule',{value:!0});const i=n(23),a=n(2);t.mapStatus=function(e){switch(e.kind){case i.AppFileStatusKind.New:case i.AppFileStatusKind.Untracked:return'New';case i.AppFileStatusKind.Modified:return'Modified';case i.AppFileStatusKind.Deleted:return'Deleted';case i.AppFileStatusKind.Renamed:return'Renamed';case i.AppFileStatusKind.Conflicted:if(i.isConflictWithMarkers(e)){const t=e.conflictMarkerCount;return 0<t?'Conflicted':'Resolved'}return'Conflicted';case i.AppFileStatusKind.Copied:return'Copied';}return a.assertNever(e,`Unknown file status ${e}`)},t.isConflictedFile=o,t.hasConflictedFiles=function(e){return e.files.some((e)=>o(e.status))},t.hasUnresolvedConflicts=r,t.getUnmergedStatusEntryDescription=function(e,t){const n=t?` from ${t}`:'';return e===i.GitStatusEntry.Added?`Using the added file${n}`:e===i.GitStatusEntry.UpdatedButUnmerged?`Using the modified file${n}`:e===i.GitStatusEntry.Deleted?`Using the deleted file${n}`:a.assertNever(e,'Unknown status entry to format')},t.getLabelForManualResolutionOption=function(e,t){const n=t?` from ${t}`:'';return e===i.GitStatusEntry.Added?`Use the added file${n}`:e===i.GitStatusEntry.UpdatedButUnmerged?`Use the modified file${n}`:e===i.GitStatusEntry.Deleted?`Use the deleted file${n}`:a.assertNever(e,'Unknown status entry to format')},t.getUnmergedFiles=function(e){return e.files.filter((e)=>o(e.status))},t.getUntrackedFiles=function(e){return e.files.filter((e)=>e.status.kind===i.AppFileStatusKind.Untracked)},t.getResolvedFiles=function(e,t){return e.files.filter((e)=>i.isConflictedFileStatus(e.status)&&!r(e.status,t.get(e.path)))},t.getConflictedFiles=function(e,t){return e.files.filter((e)=>i.isConflictedFileStatus(e.status)&&r(e.status,t.get(e.path)))}},function(e,t){'use strict';t.fromCallback=function(e){return Object.defineProperty(function(){return'function'==typeof arguments[arguments.length-1]?void e.apply(this,arguments):new Promise((t,n)=>{arguments[arguments.length]=(e,o)=>e?n(e):void t(o),arguments.length++,e.apply(this,arguments)})},'name',{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];return'function'==typeof t?void e.apply(this,arguments).then((e)=>t(null,e),t):e.apply(this,arguments)},'name',{value:e.name})}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=n(1);t.shell={moveItemToTrash:o.shell.moveItemToTrash,beep:o.shell.beep,openExternal:(e)=>new Promise((t)=>{o.ipcRenderer.once('open-external-result',(e,{result:n})=>{t(n)}),o.ipcRenderer.send('open-external',{path:e})}),showItemInFolder:(e)=>{o.ipcRenderer.send('show-item-in-folder',{path:e})},openItem:o.shell.openItem},t.revealInFileManager=function(e,n){const o=r.join(e.path,n);return t.shell.showItemInFolder(o)}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=o(n(743)),i=n(742);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e){e.exports=require('url')},function(e,t,n){'use strict';function o(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}}o(),e.exports=n(789)},function(e){var t=String.fromCharCode,n=Math.round,o=Math.abs,r=Math.max,a=Math.floor,s=Math.ceil,d=Math.min;(function(t,n){e.exports=n()})(this,function(){'use strict';function e(e){return new RegExp('(^|\\s)'+e+'(?:$|\\s)\\s*')}function l(t){for(var e=t.childNodes.length;0<e;--e)t.removeChild(t.firstChild);return t}function c(t,n){return l(t).appendChild(n)}function p(t,n,o,r){var a=document.createElement(t);if(o&&(a.className=o),r&&(a.style.cssText=r),'string'==typeof n)a.appendChild(document.createTextNode(n));else if(n)for(var e=0;e<n.length;++e)a.appendChild(n[e]);return a}function u(t,n,o,r){var i=p(t,n,o,r);return i.setAttribute('role','presentation'),i}function m(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function h(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function f(t,n){var o=t.className;e(n).test(o)||(t.className+=(o?' ':'')+n)}function g(t,n){for(var o=t.split(' '),r=0;r<o.length;r++)o[r]&&!e(o[r]).test(n)&&(n+=' '+o[r]);return n}function y(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function S(e,t,n){for(var o in t||(t={}),e)e.hasOwnProperty(o)&&(!1!==n||!t.hasOwnProperty(o))&&(t[o]=e[o]);return t}function C(e,t,o,r,a){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var s=r||0,i=a||0,n;;){if(n=e.indexOf('\t',s),0>n||n>=t)return i+(t-s);i+=n-s,i+=o-i%o,s=n+1}}function b(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function v(e,t,n){for(var o=0,r=0,i;;){i=e.indexOf('\t',o),-1==i&&(i=e.length);var a=i-o;if(i==e.length||r+a>=t)return o+d(a,t-r);if(r+=i-o,r+=n-r%n,o=i+1,r>=t)return o}}function E(e){for(;es.length<=e;)es.push(w(es)+' ');return es[e]}function w(e){return e[e.length-1]}function k(e,t){for(var n=[],o=0;o<e.length;o++)n[o]=t(e[o],o);return n}function T(e,t,n){for(var o=0,r=n(t);o<e.length&&n(e[o])<=r;)o++;e.splice(o,0,t)}function _(){}function R(e,t){var n;return Object.create?n=Object.create(e):(_.prototype=e,n=new _),t&&S(t,n),n}function x(e){return /\w/.test(e)||'\x80'<e&&(e.toUpperCase()!=e.toLowerCase()||ts.test(e))}function P(e,t){return t?!!(-1<t.source.indexOf('\\w')&&x(e))||t.test(e):x(e)}function D(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function M(e){return 768<=e.charCodeAt(0)&&ns.test(e)}function A(e,t,n){for(;(0>n?0<t:t<e.length)&&M(e.charAt(t));)t+=n;return t}function I(e,t,n){for(var o=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,i=0>o?s(r):a(r);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+o}}function L(e,t,n,o){if(!e)return o(t,n,'ltr',0);for(var a=!1,s=0,i;s<e.length;++s)i=e[s],(i.from<n&&i.to>t||t==n&&i.to==t)&&(o(r(i.from,t),d(i.to,n),1==i.level?'rtl':'ltr',s),a=!0);a||o(t,n,'ltr')}function F(e,t,n){var o;os=null;for(var r=0,i;r<e.length;++r){if(i=e[r],i.from<t&&i.to>t)return r;i.to==t&&(i.from!=i.to&&'before'==n?o=r:os=r),i.from==t&&(i.from!=i.to&&'before'!=n?o=r:os=r)}return null==o?os:o}function B(e,t){var n=e.order;return null==n&&(n=e.order=rs(e.text,t)),n}function N(e,t){return e._handlers&&e._handlers[t]||is}function O(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent('on'+t,n);else{var o=e._handlers,r=o&&o[t];if(r){var i=b(r,n);-1<i&&(o[t]=r.slice(0,i).concat(r.slice(i+1)))}}}function H(e,t){var n=N(e,t);if(n.length)for(var o=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,o)}function z(t,n,o){return'string'==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),H(t,o||n.type,t,n),j(n)||n.codemirrorIgnore}function U(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),o=0;o<t.length;++o)-1==b(n,t[o])&&n.push(t[o])}function W(e,t){return 0<N(e,t).length}function V(e){e.prototype.on=function(e,t){as(this,e,t)},e.prototype.off=function(e,t){O(this,e,t)}}function G(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function K(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function j(t){return null==t.defaultPrevented?!1==t.returnValue:t.defaultPrevented}function q(t){G(t),K(t)}function Y(t){return t.target||t.srcElement}function X(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Ha&&t.ctrlKey&&1==e&&(e=3),e}function Q(e){if(null==fs){var t=p('span','\u200B');c(e,p('span',[t,document.createTextNode('x')])),0!=e.firstChild.offsetHeight&&(fs=1>=t.offsetWidth&&2<t.offsetHeight&&!(Ra&&8>xa))}var n=fs?p('span','\u200B'):p('span','\xA0',null,'display: inline-block; width: 1px; margin-right: -1px');return n.setAttribute('cm-text',''),n}function $(e){if(null!=gs)return gs;var t=c(e,document.createTextNode('A\u062EA')),n=ja(t,0,1).getBoundingClientRect(),o=ja(t,1,2).getBoundingClientRect();return l(e),!!(n&&n.left!=n.right)&&(gs=3>o.right-n.right)}function Z(e){if(null!=cs)return cs;var t=c(e,p('span','x')),n=t.getBoundingClientRect(),r=ja(t,0,1).getBoundingClientRect();return cs=1<o(n.left-r.left)}function J(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ps[e]=t}function ee(e){if('string'==typeof e&&us.hasOwnProperty(e))e=us[e];else if(e&&'string'==typeof e.name&&us.hasOwnProperty(e.name)){var t=us[e.name];'string'==typeof t&&(t={name:t}),e=R(t,e),e.name=t.name}else{if('string'==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ee('application/xml');if('string'==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ee('application/json')}return'string'==typeof e?{name:e}:e||{name:'null'}}function te(e,t){t=ee(t);var n=ps[t.name];if(!n)return te(e,'text/plain');var o=n(e,t);if(ms.hasOwnProperty(t.name)){var r=ms[t.name];for(var i in r)r.hasOwnProperty(i)&&(o.hasOwnProperty(i)&&(o['_'+i]=o[i]),o[i]=r[i])}if(o.name=t.name,t.helperType&&(o.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)o[a]=t.modeProps[a];return o}function ne(e,t){var n=ms.hasOwnProperty(e)?ms[e]:ms[e]={};S(t,n)}function oe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var o={};for(var r in t){var n=t[r];n instanceof Array&&(n=n.concat([])),o[r]=n}return o}function re(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),n&&n.mode!=e);)t=n.state,e=n.mode;return n||{mode:e,state:t}}function ae(e,t,n){return!e.startState||e.startState(t,n)}function se(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error('There is no line '+(t+e.first)+' in the document.');for(var n=e;!n.lines;)for(var o=0;;++o){var r=n.children[o],i=r.chunkSize();if(t<i){n=r;break}t-=i}return n.lines[t]}function de(e,t,o){var r=[],i=t.line;return e.iter(t.line,o.line+1,function(e){var n=e.text;i==o.line&&(n=n.slice(0,o.ch)),i==t.line&&(n=n.slice(t.ch)),r.push(n),++i}),r}function le(e,t,n){var o=[];return e.iter(t,n,function(e){o.push(e.text)}),o}function ce(e,t){var o=t-e.height;if(o)for(var r=e;r;r=r.parent)r.height+=o}function pe(e){if(null==e.parent)return null;for(var t=e.parent,n=b(t.lines,e),o=t.parent;o;t=o,o=o.parent)for(var r=0;;++r){if(o.children[r]==t)break;n+=o.children[r].chunkSize()}return n+t.first}function ue(e,t){var o=e.first;outer:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],a=r.height;if(t<a){e=r;continue outer}t-=a,o+=r.chunkSize()}return o}while(!e.lines);for(var s=0;s<e.lines.length;++s){var i=e.lines[s],d=i.height;if(t<d)break;t-=d}return o+s}function me(e,t){return t>=e.first&&t<e.first+e.size}function he(e,t){return e.lineNumberFormatter(t+e.firstLineNumber)+''}function fe(e,t,n){return void 0===n&&(n=null),this instanceof fe?void(this.line=e,this.ch=t,this.sticky=n):new fe(e,t,n)}function ge(e,t){return e.line-t.line||e.ch-t.ch}function ye(e,t){return e.sticky==t.sticky&&0==ge(e,t)}function Se(e){return fe(e.line,e.ch)}function Ce(e,t){return 0>ge(e,t)?t:e}function be(e,t){return 0>ge(e,t)?e:t}function ve(e,t){return r(e.first,d(t,e.first+e.size-1))}function Ee(e,t){if(t.line<e.first)return fe(e.first,0);var n=e.first+e.size-1;return t.line>n?fe(n,se(e,n).text.length):we(t,se(e,t.line).text.length)}function we(e,t){var n=e.ch;return null==n||n>t?fe(e.line,t):0>n?fe(e.line,0):e}function ke(e,t){for(var n=[],o=0;o<t.length;o++)n[o]=Ee(e,t[o]);return n}function Te(e,t,n,r){var a=[e.state.modeGen],s={};Ie(e,t.text,e.doc.mode,n,function(e,t){return a.push(e,t)},s,r);for(var l=n.state,i=function(r){n.baseTokens=a;var o=e.state.overlays[r],c=1,i=0;n.state=!0,Ie(e,t.text,o.mode,n,function(e,t){for(var n=c,r;i<e;)r=a[c],r>e&&a.splice(c,1,e,a[c+1],r),c+=2,i=d(e,r);if(t)if(o.opaque)a.splice(n,c-n,e,'overlay '+t),c=n+2;else for(;n<c;n+=2){var s=a[n+1];a[n+1]=(s?s+' ':'')+'overlay '+t}},s),n.state=l,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)i(c);return{styles:a,classes:s.bgClass||s.textClass?s:null}}function _e(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var o=Re(e,pe(t)),i=t.text.length>e.options.maxHighlightLength&&oe(e.doc.mode,o.state),a=Te(e,t,o);i&&(o.state=i),t.stateAfter=o.save(!i),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=r(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Re(e,t,n){var o=e.doc,r=e.display;if(!o.mode.startState)return new Ss(o,!0,t);var i=Le(e,t,n),a=i>o.first&&se(o,i-1).stateAfter,s=a?Ss.fromSaved(o,a,i):new Ss(o,ae(o.mode),i);return o.iter(i,t,function(n){xe(e,n.text,s);var o=s.line;n.stateAfter=o==t-1||0==o%5||o>=r.viewFrom&&o<r.viewTo?s.save():null,s.nextLine()}),n&&(o.modeFrontier=s.line),s}function xe(e,t,n,o){var r=e.doc.mode,i=new hs(t,e.options.tabSize,n);for(i.start=i.pos=o||0,''==t&&Pe(r,n.state);!i.eol();)De(r,i,n.state),i.start=i.pos}function Pe(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=re(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function De(e,t,n,o){for(var r=0;10>r;r++){o&&(o[0]=re(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error('Mode '+e.name+' failed to advance stream.')}function Me(e,t,n,o){var r=e.doc,i=r.mode,a;t=Ee(r,t);var s=se(r,t.line),d=Re(e,t.line,n),l=new hs(s.text,e.options.tabSize,d),c;for(o&&(c=[]);(o||l.pos<t.ch)&&!l.eol();)l.start=l.pos,a=De(i,l,d.state),o&&c.push(new Cs(l,a,oe(r.mode,d.state)));return o?c:new Cs(l,a,d.state)}function Ae(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var o=n[1]?'bgClass':'textClass';null==t[o]?t[o]=n[2]:!new RegExp('(?:^|s)'+n[2]+'(?:$|s)').test(t[o])&&(t[o]+=' '+n[2])}return e}function Ie(e,t,n,o,r,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l=0,c=null,p=new hs(t,e.options.tabSize,o),u=e.options.addModeClass&&[null],m;for(''==t&&Ae(Pe(n,o.state),i);!p.eol();){if(p.pos>e.options.maxHighlightLength?(s=!1,a&&xe(e,t,o,p.pos),p.pos=t.length,m=null):m=Ae(De(n,p,o.state,u),i),u){var h=u[0].name;h&&(m='m-'+(m?h+' '+m:h))}if(!s||c!=m){for(;l<p.start;)l=d(p.start,l+5e3),r(l,c);c=m}p.start=p.pos}for(;l<p.pos;){var f=d(p.pos,l+5e3);r(f,c),l=f}}function Le(e,t,n){for(var o=e.doc,r=n?-1:t-(e.doc.mode.innerMode?1e3:100),i=t,a,s;i>r;--i){if(i<=o.first)return o.first;var d=se(o,i-1),l=d.stateAfter;if(l&&(!n||i+(l instanceof ys?l.lookAhead:0)<=o.modeFrontier))return i;var c=C(d.text,null,e.options.tabSize);(null==s||a>c)&&(s=i-1,a=c)}return s}function Fe(e,t){if(e.modeFrontier=d(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,o=t-1,r;o>n;o--)if(r=se(e,o).stateAfter,r&&(!(r instanceof ys)||o+r.lookAhead<t)){n=o+1;break}e.highlightFrontier=d(e.highlightFrontier,n)}}function Be(){bs=!0}function Ne(){vs=!0}function Oe(e,t,n){this.marker=e,this.from=t,this.to=n}function He(e,t){if(e)for(var n=0,o;n<e.length;++n)if(o=e[n],o.marker==t)return o}function ze(e,t){for(var n=0,o;n<e.length;++n)e[n]!=t&&(o||(o=[])).push(e[n]);return o}function Ue(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function We(e,t,n){var o;if(e)for(var r=0;r<e.length;++r){var i=e[r],a=i.marker,s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);if(s||i.from==t&&'bookmark'==a.type&&(!n||!i.marker.insertLeft)){var d=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(o||(o=[])).push(new Oe(a,i.from,d?null:i.to))}}return o}function Ve(e,t,n){var o;if(e)for(var r=0;r<e.length;++r){var i=e[r],a=i.marker,s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);if(s||i.from==t&&'bookmark'==a.type&&(!n||i.marker.insertLeft)){var d=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(o||(o=[])).push(new Oe(a,d?null:i.from-t,null==i.to?null:i.to-t))}}return o}function Ge(e,t){if(t.full)return null;var n=me(e,t.from.line)&&se(e,t.from.line).markedSpans,o=me(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!n&&!o)return null;var r=t.from.ch,a=t.to.ch,s=0==ge(t.from,t.to),d=We(n,r,s),l=Ve(o,a,s),c=1==t.text.length,p=w(t.text).length+(c?r:0);if(d)for(var u=0,i;u<d.length;++u)if(i=d[u],null==i.to){var m=He(l,i.marker);m?c&&(i.to=null==m.to?null:m.to+p):i.to=r}if(l)for(var h=0,f;h<l.length;++h)if(f=l[h],null!=f.to&&(f.to+=p),null==f.from){var g=He(d,f.marker);g||(f.from=p,c&&(d||(d=[])).push(f))}else f.from+=p,c&&(d||(d=[])).push(f);d&&(d=Ke(d)),l&&l!=d&&(l=Ke(l));var y=[d];if(!c){var S=t.text.length-2,C;if(0<S&&d)for(var b=0;b<d.length;++b)null==d[b].to&&(C||(C=[])).push(new Oe(d[b].marker,null,null));for(var v=0;v<S;++v)y.push(C);y.push(l)}return y}function Ke(e){for(var t=0,n;t<e.length;++t)n=e[t],null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1);return e.length?e:null}function je(e,t,n){var o=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0,n;t<e.markedSpans.length;++t)n=e.markedSpans[t].marker,n.readOnly&&(!o||-1==b(o,n))&&(o||(o=[])).push(n)}),!o)return null;for(var r=[{from:t,to:n}],a=0;a<o.length;++a)for(var i=o[a],s=i.find(0),d=0,l;d<r.length;++d)if(l=r[d],!(0>ge(l.to,s.from)||0<ge(l.from,s.to))){var c=[d,1],p=ge(l.from,s.from),u=ge(l.to,s.to);!(0>p)&&(i.inclusiveLeft||p)||c.push({from:l.from,to:s.from}),!(0<u)&&(i.inclusiveRight||u)||c.push({from:s.to,to:l.to}),r.splice.apply(r,c),d+=c.length-3}return r}function qe(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ye(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Xe(e){return e.inclusiveLeft?-1:0}function Qe(e){return e.inclusiveRight?1:0}function $e(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var o=e.find(),r=t.find(),i=ge(o.from,r.from)||Xe(e)-Xe(t);if(i)return-i;var a=ge(o.to,r.to)||Qe(e)-Qe(t);return a?a:t.id-e.id}function Ze(e,t){var n=vs&&e.markedSpans,o;if(n)for(var r=void 0,a=0;a<n.length;++a)r=n[a],r.marker.collapsed&&null==(t?r.from:r.to)&&(!o||0>$e(o,r.marker))&&(o=r.marker);return o}function Je(e){return Ze(e,!0)}function et(e){return Ze(e,!1)}function tt(e,t){var n=vs&&e.markedSpans,o;if(n)for(var r=0,i;r<n.length;++r)i=n[r],i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!o||0>$e(o,i.marker))&&(o=i.marker);return o}function nt(e,t,n,o,r){var a=se(e,t),s=vs&&a.markedSpans;if(s)for(var d=0,i;d<s.length;++d)if(i=s[d],!!i.marker.collapsed){var l=i.marker.find(0),c=ge(l.from,n)||Xe(i.marker)-Xe(r),p=ge(l.to,o)||Qe(i.marker)-Qe(r);if(!(0<=c&&0>=p||0>=c&&0<=p)&&(0>=c&&(i.marker.inclusiveRight&&r.inclusiveLeft?0<=ge(l.to,n):0<ge(l.to,n))||0<=c&&(i.marker.inclusiveRight&&r.inclusiveLeft?0>=ge(l.from,o):0>ge(l.from,o))))return!0}}function ot(e){for(var t;t=Je(e);)e=t.find(-1,!0).line;return e}function rt(e){for(var t;t=et(e);)e=t.find(1,!0).line;return e}function it(e){for(var t,n;t=et(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function at(e,t){var n=se(e,t),o=ot(n);return n==o?t:pe(o)}function st(e,t){if(t>e.lastLine())return t;var n=se(e,t),o;if(!dt(e,n))return t;for(;o=et(n);)n=o.find(1,!0).line;return pe(n)+1}function dt(e,t){var n=vs&&t.markedSpans;if(n)for(var o=void 0,r=0;r<n.length;++r)if(o=n[r],!!o.marker.collapsed){if(null==o.from)return!0;if(!o.marker.widgetNode&&0==o.from&&o.marker.inclusiveLeft&&lt(e,t,o))return!0}}function lt(e,t,n){if(null==n.to){var o=n.marker.find(1,!0);return lt(e,o.line,He(o.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,a=0;a<t.markedSpans.length;++a)if(r=t.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&lt(e,t,r))return!0}function ct(e){e=ot(e);for(var t=0,n=e.parent,o=0,r;o<n.lines.length&&(r=n.lines[o],r!=e);++o)t+=r.height;for(var i=n.parent;i;n=i,i=n.parent)for(var a=0,s;a<i.children.length&&(s=i.children[a],s!=n);++a)t+=s.height;return t}function pt(e){if(0==e.height)return 0;for(var t=e.text.length,n=e,o,r;o=Je(n);)r=o.find(0,!0),n=r.from.line,t+=r.from.ch-r.to.ch;for(n=e;o=et(n);){var i=o.find(0,!0);t-=n.text.length-i.from.ch,n=i.to.line,t+=n.text.length-i.to.ch}return t}function ut(e){var t=e.display,n=e.doc;t.maxLine=se(n,n.first),t.maxLineLength=pt(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=pt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function mt(e,t,n,o){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),qe(e),Ye(e,n);var r=o?o(e):1;r!=e.height&&ce(e,r)}function ht(e){e.parent=null,qe(e)}function ft(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ks:ws;return n[e]||(n[e]=e.replace(/\S+/g,'cm-$&'))}function gt(e,t){var n=u('span',null,null,Pa?'padding-right: .1px':null),o={pre:u('pre',[n],'CodeMirror-line'),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption('lineWrapping')};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var i=r?t.rest[r-1]:t.line,a=void 0;o.pos=0,o.addToken=St,$(e.display.measure)&&(a=B(i,e.doc.direction))&&(o.addToken=bt(o.addToken,a)),o.map=[];var s=t!=e.display.externalMeasured&&pe(i);Et(i,o,_e(e,i,s)),i.styleClasses&&(i.styleClasses.bgClass&&(o.bgClass=g(i.styleClasses.bgClass,o.bgClass||'')),i.styleClasses.textClass&&(o.textClass=g(i.styleClasses.textClass,o.textClass||''))),0==o.map.length&&o.map.push(0,0,o.content.appendChild(Q(e.display.measure))),0==r?(t.measure.map=o.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(o.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Pa){var d=o.content.lastChild;(/\bcm-tab\b/.test(d.className)||d.querySelector&&d.querySelector('.cm-tab'))&&(o.content.className='cm-tab-wrap-hack')}return H(e,'renderLine',e,t.line,o.pre),o.pre.className&&(o.textClass=g(o.pre.className,o.textClass||'')),o}function yt(e){var t=p('span','\u2022','cm-invalidchar');return t.title='\\u'+e.charCodeAt(0).toString(16),t.setAttribute('aria-label',t.title),t}function St(e,t,n,o,r,i,a){if(t){var s=e.splitSpaces?Ct(t,e.trailingSpace):t,d=e.cm.state.specialChars,l=!1,c;if(!d.test(t))e.col+=t.length,c=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,c),Ra&&9>xa&&(l=!0),e.pos+=t.length;else{c=document.createDocumentFragment();for(var u=0;;){d.lastIndex=u;var h=d.exec(t),f=h?h.index-u:t.length-u;if(f){var g=document.createTextNode(s.slice(u,u+f));Ra&&9>xa?c.appendChild(p('span',[g])):c.appendChild(g),e.map.push(e.pos,e.pos+f,g),e.col+=f,e.pos+=f}if(!h)break;u+=f+1;var y=void 0;if('\t'==h[0]){var S=e.cm.options.tabSize,C=S-e.col%S;y=c.appendChild(p('span',E(C),'cm-tab')),y.setAttribute('role','presentation'),y.setAttribute('cm-text','\t'),e.col+=C}else'\r'==h[0]||'\n'==h[0]?(y=c.appendChild(p('span','\r'==h[0]?'\u240D':'\u2424','cm-invalidchar')),y.setAttribute('cm-text',h[0]),e.col+=1):(y=e.cm.options.specialCharPlaceholder(h[0]),y.setAttribute('cm-text',h[0]),Ra&&9>xa?c.appendChild(p('span',[y])):c.appendChild(y),e.col+=1);e.map.push(e.pos,e.pos+1,y),e.pos++}}if(e.trailingSpace=32==s.charCodeAt(t.length-1),n||o||r||l||i){var b=n||'';o&&(b+=o),r&&(b+=r);var v=p('span',[c],b,i);if(a)for(var w in a)a.hasOwnProperty(w)&&'style'!=w&&'class'!=w&&v.setAttribute(w,a[w]);return e.content.appendChild(v)}e.content.appendChild(c)}}function Ct(e,t){if(1<e.length&&!/  /.test(e))return e;for(var n=t,o='',r=0,i;r<e.length;r++)i=e.charAt(r),' '==i&&n&&(r==e.length-1||32==e.charCodeAt(r+1))&&(i='\xA0'),o+=i,n=' '==i;return o}function bt(e,t){return function(n,o,r,a,s,d,l){r=r?r+' cm-force-border':'cm-force-border';for(var c=n.pos,p=c+o.length;;){for(var u=void 0,m=0;m<t.length&&(u=t[m],!(u.to>c&&u.from<=c));m++);if(u.to>=p)return e(n,o,r,a,s,d,l);e(n,o.slice(0,u.to-c),r,a,null,d,l),a=null,o=o.slice(u.to-c),c=u.to}}}function vt(e,t,n,o){var r=!o&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!o&&e.cm.display.input.needsContentAttribute&&(!r&&(r=e.content.appendChild(document.createElement('span'))),r.setAttribute('cm-marker',n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function Et(e,t,n){var o=e.markedSpans,r=e.text,a=0;if(!o){for(var s=1;s<n.length;s+=2)t.addToken(t,r.slice(a,a=n[s]),ft(n[s+1],t.cm.options));return}for(var l=r.length,c=0,p=1,i='',u=0,h,f,g,y,S,C,b;;){if(u==c){g=y=S=f='',b=null,C=null,u=Infinity;for(var v=[],E=void 0,w=0;w<o.length;++w){var k=o[w],T=k.marker;if('bookmark'==T.type&&k.from==c&&T.widgetNode)v.push(T);else if(k.from<=c&&(null==k.to||k.to>c||T.collapsed&&k.to==c&&k.from==c)){if(null!=k.to&&k.to!=c&&u>k.to&&(u=k.to,y=''),T.className&&(g+=' '+T.className),T.css&&(f=(f?f+';':'')+T.css),T.startStyle&&k.from==c&&(S+=' '+T.startStyle),T.endStyle&&k.to==u&&(E||(E=[])).push(T.endStyle,k.to),T.title&&((b||(b={})).title=T.title),T.attributes)for(var m in T.attributes)(b||(b={}))[m]=T.attributes[m];T.collapsed&&(!C||0>$e(C.marker,T))&&(C=k)}else k.from>c&&u>k.from&&(u=k.from)}if(E)for(var _=0;_<E.length;_+=2)E[_+1]==u&&(y+=' '+E[_]);if(!C||C.from==c)for(var R=0;R<v.length;++R)vt(t,0,v[R]);if(C&&(C.from||0)==c){if(vt(t,(null==C.to?l+1:C.to)-c,C.marker,null==C.from),null==C.to)return;C.to==c&&(C=!1)}}if(c>=l)break;for(var x=d(l,u);;){if(i){var P=c+i.length;if(!C){var D=P>x?i.slice(0,x-c):i;t.addToken(t,D,h?h+g:g,S,c+D.length==u?y:'',f,b)}if(P>=x){i=i.slice(x-c),c=x;break}c=P,S=''}i=r.slice(a,a=n[p++]),h=ft(n[p++],t.cm.options)}}}function wt(e,t,n){this.line=t,this.rest=it(t),this.size=this.rest?pe(w(this.rest))-n+1:1,this.node=this.text=null,this.hidden=dt(e,t)}function kt(e,t,n){for(var o=[],r=t,i,a;r<n;r=i)a=new wt(e.doc,se(e.doc,r),r),i=r+a.size,o.push(a);return o}function Tt(e){Ts?Ts.ops.push(e):e.ownsGroup=Ts={ops:[e],delayedCallbacks:[]}}function _t(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var o=0,r;o<e.ops.length;o++)if(r=e.ops[o],r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}while(n<t.length)}function Rt(e,t){var n=e.ownsGroup;if(n)try{_t(n)}finally{Ts=null,t(n)}}function xt(e,t){var n=N(e,t);if(n.length){var o=Array.prototype.slice.call(arguments,2),r;Ts?r=Ts.delayedCallbacks:_s?r=_s:(r=_s=[],setTimeout(Pt,0));for(var a=function(e){r.push(function(){return n[e].apply(null,o)})},s=0;s<n.length;++s)a(s)}}function Pt(){var e=_s;_s=null;for(var t=0;t<e.length;++t)e[t]()}function Dt(e,t,n,o){for(var r=0,i;r<t.changes.length;r++)i=t.changes[r],'text'==i?Lt(e,t):'gutter'==i?Bt(e,t,n,o):'class'==i?Ft(e,t):'widget'==i&&Nt(e,t,o);t.changes=null}function Mt(e){return e.node==e.text&&(e.node=p('div',null,null,'position: relative'),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Ra&&8>xa&&(e.node.style.zIndex=2)),e.node}function At(e,t){var n=t.bgClass?t.bgClass+' '+(t.line.bgClass||''):t.line.bgClass;if(n&&(n+=' CodeMirror-linebackground'),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var o=Mt(t);t.background=o.insertBefore(p('div',null,n),o.firstChild),e.display.input.setUneditable(t.background)}}function It(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):gt(e,t)}function Lt(e,t){var n=t.text.className,o=It(e,t);t.text==t.node&&(t.node=o.pre),t.text.parentNode.replaceChild(o.pre,t.text),t.text=o.pre,o.bgClass!=t.bgClass||o.textClass!=t.textClass?(t.bgClass=o.bgClass,t.textClass=o.textClass,Ft(e,t)):n&&(t.text.className=n)}function Ft(e,t){At(e,t),t.line.wrapClass?Mt(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className='');var n=t.textClass?t.textClass+' '+(t.line.textClass||''):t.line.textClass;t.text.className=n||''}function Bt(e,t,n,o){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=Mt(t);t.gutterBackground=p('div',null,'CodeMirror-gutter-background '+t.line.gutterClass,'left: '+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+'px; width: '+o.gutterTotalWidth+'px'),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=Mt(t),s=t.gutter=p('div',null,'CodeMirror-gutter-wrapper','left: '+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+'px');if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=' '+t.line.gutterClass),!e.options.lineNumbers||i&&i['CodeMirror-linenumbers']||(t.lineNumber=s.appendChild(p('div',he(e.options,n),'CodeMirror-linenumber CodeMirror-gutter-elt','left: '+o.gutterLeft['CodeMirror-linenumbers']+'px; width: '+e.display.lineNumInnerWidth+'px'))),i)for(var d=0;d<e.display.gutterSpecs.length;++d){var l=e.display.gutterSpecs[d].className,c=i.hasOwnProperty(l)&&i[l];c&&s.appendChild(p('div',[c],'CodeMirror-gutter-elt','left: '+o.gutterLeft[l]+'px; width: '+o.gutterWidth[l]+'px'))}}}function Nt(e,t,n){t.alignable&&(t.alignable=null);for(var o=t.node.firstChild,r=void 0;o;o=r)r=o.nextSibling,'CodeMirror-linewidget'==o.className&&t.node.removeChild(o);Ht(e,t,n)}function Ot(e,t,n,o){var r=It(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Ft(e,t),Bt(e,t,n,o),Ht(e,t,o),t.node}function Ht(e,t,n){if(zt(e,t.line,t,n,!0),t.rest)for(var o=0;o<t.rest.length;o++)zt(e,t.rest[o],t,n,!1)}function zt(e,t,n,o,r){if(t.widgets)for(var a=Mt(n),s=0,i=t.widgets;s<i.length;++s){var d=i[s],l=p('div',[d.node],'CodeMirror-linewidget');d.handleMouseEvents||l.setAttribute('cm-ignore-events','true'),Ut(d,l,n,o),e.display.input.setUneditable(l),r&&d.above?a.insertBefore(l,n.gutter||n.text):a.appendChild(l),xt(d,'redraw')}}function Ut(e,t,n,o){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=o.wrapperWidth;t.style.left=o.fixedPos+'px',e.coverGutter||(r-=o.gutterTotalWidth,t.style.paddingLeft=o.gutterTotalWidth+'px'),t.style.width=r+'px'}e.coverGutter&&(t.style.zIndex=5,t.style.position='relative',!e.noHScroll&&(t.style.marginLeft=-o.gutterTotalWidth+'px'))}function Wt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!m(document.body,e.node)){var n='position: relative;';e.coverGutter&&(n+='margin-left: -'+t.display.gutters.offsetWidth+'px;'),e.noHScroll&&(n+='width: '+t.display.wrapper.clientWidth+'px;'),c(t.display.measure,p('div',[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vt(t,o){for(var e=Y(o);e!=t.wrapper;e=e.parentNode)if(!e||1==e.nodeType&&'true'==e.getAttribute('cm-ignore-events')||e.parentNode==t.sizer&&e!=t.mover)return!0}function Gt(e){return e.lineSpace.offsetTop}function Kt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function jt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var n=c(t.measure,p('pre','x','CodeMirror-line-like')),e=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,o={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function qt(e){return Xa-e.display.nativeBarWidth}function Yt(e){return e.display.scroller.clientWidth-qt(e)-e.display.barWidth}function Xt(e){return e.display.scroller.clientHeight-qt(e)-e.display.barHeight}function Qt(e,t,n){var r=e.options.lineWrapping,a=r&&Yt(e);if(!t.measure.heights||r&&t.measure.width!=a){var s=t.measure.heights=[];if(r){t.measure.width=a;for(var d=t.text.firstChild.getClientRects(),l=0;l<d.length-1;l++){var i=d[l],c=d[l+1];2<o(i.bottom-c.bottom)&&s.push((i.bottom+c.top)/2-n.top)}}s.push(n.bottom-n.top)}}function $t(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var o=0;o<e.rest.length;o++)if(e.rest[o]==t)return{map:e.measure.maps[o],cache:e.measure.caches[o]};for(var r=0;r<e.rest.length;r++)if(pe(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Zt(e,t){t=ot(t);var n=pe(t),o=e.display.externalMeasured=new wt(e.doc,t,n);o.lineN=n;var r=o.built=gt(e,o);return o.text=r.pre,c(e.display.lineMeasure,r.pre),o}function Jt(e,t,n,o){return nn(e,tn(e,t),n,o)}function en(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fn(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function tn(e,t){var n=pe(t),o=en(e,n);o&&!o.text?o=null:o&&o.changes&&(Dt(e,o,n,Dn(e)),e.curOp.forceUpdate=!0),o||(o=Zt(e,t));var r=$t(o,t,n);return{line:t,view:o,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function nn(e,t,n,o,r){t.before&&(n=-1);var i=n+(o||''),a;return t.cache.hasOwnProperty(i)?a=t.cache[i]:(!t.rect&&(t.rect=t.view.text.getBoundingClientRect()),!t.hasHeights&&(Qt(e,t.view,t.rect),t.hasHeights=!0),a=sn(e,t,n,o),!a.bogus&&(t.cache[i]=a)),{left:a.left,right:a.right,top:r?a.rtop:a.top,bottom:r?a.rbottom:a.bottom}}function rn(e,t,n){for(var o=0,r,i,a,s,d,l;o<e.length;o+=3)if(d=e[o],l=e[o+1],t<d?(i=0,a=1,s='left'):t<l?(i=t-d,a=i+1):(o==e.length-3||t==l&&e[o+3]>t)&&(a=l-d,i=a-1,t>=l&&(s='right')),null!=i){if(r=e[o+2],d==l&&n==(r.insertLeft?'left':'right')&&(s=n),'left'==n&&0==i)for(;o&&e[o-2]==e[o-3]&&e[o-1].insertLeft;)r=e[(o-=3)+2],s='left';if('right'==n&&i==l-d)for(;o<e.length-3&&e[o+3]==e[o+4]&&!e[o+5].insertLeft;)r=e[(o+=3)+2],s='right';break}return{node:r,start:i,end:a,collapse:s,coverStart:d,coverEnd:l}}function an(e,t){var n=Rs;if('left'==t)for(var o=0;o<e.length&&(n=e[o]).left==n.right;o++);else for(var r=e.length-1;0<=r&&(n=e[r]).left==n.right;r--);return n}function sn(e,t,n,o){var r=rn(t.map,n,o),a=r.node,s=r.start,d=r.end,l=r.collapse,c;if(3==a.nodeType){for(var p=0;4>p;p++){for(;s&&M(t.line.text.charAt(r.coverStart+s));)--s;for(;r.coverStart+d<r.coverEnd&&M(t.line.text.charAt(r.coverStart+d));)++d;if(c=Ra&&9>xa&&0==s&&d==r.coverEnd-r.coverStart?a.parentNode.getBoundingClientRect():an(ja(a,s,d).getClientRects(),o),c.left||c.right||0==s)break;d=s,--s,l='right'}Ra&&11>xa&&(c=dn(e.display.measure,c))}else{0<s&&(l=o='right');var u;c=e.options.lineWrapping&&1<(u=a.getClientRects()).length?u['right'==o?u.length-1:0]:a.getBoundingClientRect()}if(Ra&&9>xa&&!s&&(!c||!c.left&&!c.right)){var m=a.parentNode.getClientRects()[0];c=m?{left:m.left,right:m.left+Pn(e.display),top:m.top,bottom:m.bottom}:Rs}for(var h=c.top-t.rect.top,f=c.bottom-t.rect.top,g=t.view.measure.heights,y=0;y<g.length-1&&!((h+f)/2<g[y]);y++);var i=y?g[y-1]:0,S=g[y],C={left:('right'==l?c.right:c.left)-t.rect.left,right:('left'==l?c.left:c.right)-t.rect.left,top:i,bottom:S};return c.left||c.right||(C.bogus=!0),e.options.singleCursorHeightPerLine||(C.rtop=h,C.rbottom=f),C}function dn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Z(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*o,bottom:t.bottom*o}}function ln(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function cn(e){e.display.externalMeasure=null,l(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ln(e.display.view[t])}function pn(e){cn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function un(){return Ma&&Na?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function mn(){return Ma&&Na?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Wt(e.widgets[n]));return t}function fn(e,t,n,o,r){if(!r){var i=hn(t);n.top+=i,n.bottom+=i}if('line'==o)return n;o||(o='local');var a=ct(t);if('local'==o?a+=Gt(e.display):a-=e.display.viewOffset,'page'==o||'window'==o){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+('window'==o?0:mn());var d=s.left+('window'==o?0:un());n.left+=d,n.right+=d}return n.top+=a,n.bottom+=a,n}function gn(e,t,n){if('div'==n)return t;var o=t.left,r=t.top;if('page'==n)o-=un(),r-=mn();else if('local'==n||!n){var i=e.display.sizer.getBoundingClientRect();o+=i.left,r+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:o-a.left,top:r-a.top}}function yn(e,t,n,o,r){return o||(o=se(e.doc,t.line)),fn(e,o,Jt(e,o,t.ch,r),n)}function Sn(e,t,n,o,r,i){function a(t,a){var s=nn(e,r,t,a?'right':'left',i);return a?s.left=s.right:s.right=s.left,fn(e,o,s,n)}function s(e,t,n){var o=d[t],r=1==o.level;return a(n?e-1:e,r!=n)}o=o||se(e.doc,t.line),r||(r=tn(e,o));var d=B(o,e.doc.direction),l=t.ch,c=t.sticky;if(l>=o.text.length?(l=o.text.length,c='before'):0>=l&&(l=0,c='after'),!d)return a('before'==c?l-1:l,'before'==c);var p=F(d,l,c),u=os,m=s(l,p,'before'==c);return null!=u&&(m.other=s(l,u,'before'!=c)),m}function Cn(e,t){var n=0;t=Ee(e.doc,t),e.options.lineWrapping||(n=Pn(e.display)*t.ch);var o=se(e.doc,t.line),r=ct(o)+Gt(e.display);return{left:n,right:n,top:r,bottom:r+o.height}}function bn(e,t,n,o,r){var i=fe(e,t,n);return i.xRel=r,o&&(i.outside=o),i}function vn(e,t,n){var o=e.doc;if(n+=e.display.viewOffset,0>n)return bn(o.first,0,null,-1,-1);var r=ue(o,n),i=o.first+o.size-1;if(r>i)return bn(o.first+o.size-1,se(o,i).text.length,null,1,1);0>t&&(t=0);for(var a=se(o,r);;){var s=Tn(e,a,r,t,n),d=tt(a,s.ch+(0<s.xRel||0<s.outside?1:0));if(!d)return s;var l=d.find(1);if(l.line==r)return l;a=se(o,r=l.line)}}function En(e,t,n,o){o-=hn(t);var r=t.text.length,i=I(function(t){return nn(e,n,t-1).bottom<=o},r,0);return r=I(function(t){return nn(e,n,t).top>o},i,r),{begin:i,end:r}}function wn(e,t,n,o){n||(n=tn(e,t));var r=fn(e,t,nn(e,n,o),'line').top;return En(e,t,n,r)}function kn(e,t,n,o){return!(e.bottom<=n)&&(!!(e.top>n)||(o?e.left:e.right)>t)}function Tn(e,t,n,o,r){r-=ct(t);var i=tn(e,t),a=hn(t),s=0,d=t.text.length,l=!0,c=B(t,e.doc.direction);if(c){var p=(e.options.lineWrapping?Rn:_n)(e,t,n,i,c,o,r);l=1!=p.level,s=l?p.from:p.to-1,d=l?p.to:p.from-1}var u=null,m=null,h=I(function(t){var n=nn(e,i,t);return(n.top+=a,n.bottom+=a,!!kn(n,o,r,!1))&&(n.top<=r&&n.left<=o&&(u=t,m=n),!0)},s,d),f=!1,g,y;if(m){var S=o-m.left<m.right-o,C=S==l;h=u+(C?0:1),y=C?'after':'before',g=S?m.left:m.right}else{l||h!=d&&h!=s||h++,y=0==h?'after':h==t.text.length?'before':nn(e,i,h-(l?1:0)).bottom+a<=r==l?'after':'before';var b=Sn(e,fe(n,h,y),'line',t,i);g=b.left,f=r<b.top?-1:r>=b.bottom?1:0}return h=A(t.text,h,1),bn(n,h,y,f,o-g)}function _n(e,t,n,o,r,a,s){var i=I(function(d){var i=r[d],l=1!=i.level;return kn(Sn(e,fe(n,l?i.to:i.from,l?'before':'after'),'line',t,o),a,s,!0)},0,r.length-1),d=r[i];if(0<i){var l=1!=d.level,c=Sn(e,fe(n,l?d.from:d.to,l?'after':'before'),'line',t,o);kn(c,a,s,!0)&&c.top>s&&(d=r[i-1])}return d}function Rn(e,t,n,o,a,s,l){var c=En(e,t,o,l),u=c.begin,m=c.end;/\s/.test(t.text.charAt(m-1))&&m--;for(var h=null,f=null,g=0,i;g<a.length;g++)if(i=a[g],!(i.from>=m||i.to<=u)){var p=1!=i.level,y=nn(e,o,p?d(m,i.to)-1:r(u,i.from)).right,S=y<s?s-y+1e9:y-s;(!h||f>S)&&(h=i,f=S)}return h||(h=a[a.length-1]),h.from<u&&(h={from:u,to:h.to,level:h.level}),h.to>m&&(h={from:h.from,to:m,level:h.level}),h}function xn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ps){Ps=p('pre',null,'CodeMirror-line-like');for(var t=0;49>t;++t)Ps.appendChild(document.createTextNode('x')),Ps.appendChild(p('br'));Ps.appendChild(document.createTextNode('x'))}c(e.measure,Ps);var n=Ps.offsetHeight/50;return 3<n&&(e.cachedTextHeight=n),l(e.measure),n||1}function Pn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=p('span','xxxxxxxxxx'),n=p('pre',[t],'CodeMirror-line-like');c(e.measure,n);var o=t.getBoundingClientRect(),r=(o.right-o.left)/10;return 2<r&&(e.cachedCharWidth=r),r||10}function Dn(e){for(var t=e.display,o={},r={},a=t.gutters.clientLeft,s=t.gutters.firstChild,n=0,i;s;s=s.nextSibling,++n)i=e.display.gutterSpecs[n].className,o[i]=s.offsetLeft+s.clientLeft+a,r[i]=s.clientWidth;return{fixedPos:Mn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:o,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Mn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function An(e){var t=xn(e.display),n=e.options.lineWrapping,o=n&&r(5,e.display.scroller.clientWidth/Pn(e.display)-3);return function(r){if(dt(e.doc,r))return 0;var a=0;if(r.widgets)for(var d=0;d<r.widgets.length;d++)r.widgets[d].height&&(a+=r.widgets[d].height);return n?a+(s(r.text.length/o)||1)*t:a+t}}function In(e){var t=e.doc,n=An(e);t.iter(function(e){var t=n(e);t!=e.height&&ce(e,t)})}function Ln(t,o,e,i){var a=t.display;if(!e&&'true'==Y(o).getAttribute('cm-not-content'))return null;var s=a.lineSpace.getBoundingClientRect(),d,l;try{d=o.clientX-s.left,l=o.clientY-s.top}catch(t){return null}var c=vn(t,d,l),p;if(i&&1==c.xRel&&(p=se(t.doc,c.line).text).length==c.ch){var u=C(p,p.length,t.options.tabSize)-p.length;c=fe(c.line,r(0,n((d-jt(t.display).left)/Pn(t.display))-u))}return c}function Fn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,o=0;o<n.length;o++)if(t-=n[o].size,0>t)return o}function Bn(e,t,n,o){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),o||(o=0);var r=e.display;if(o&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)vs&&at(e.doc,t)<r.viewTo&&On(e);else if(n<=r.viewFrom)vs&&st(e.doc,n+o)>r.viewFrom?On(e):(r.viewFrom+=o,r.viewTo+=o);else if(t<=r.viewFrom&&n>=r.viewTo)On(e);else if(t<=r.viewFrom){var i=Hn(e,n,n+o,1);i?(r.view=r.view.slice(i.index),r.viewFrom=i.lineN,r.viewTo+=o):On(e)}else if(n>=r.viewTo){var a=Hn(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):On(e)}else{var s=Hn(e,t,t,-1),d=Hn(e,n,n+o,1);s&&d?(r.view=r.view.slice(0,s.index).concat(kt(e,s.lineN,d.lineN)).concat(r.view.slice(d.index)),r.viewTo+=o):On(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=o:t<l.lineN+l.size&&(r.externalMeasured=null))}function Nn(e,t,n){e.curOp.viewChanged=!0;var o=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(o.externalMeasured=null),!(t<o.viewFrom||t>=o.viewTo)){var i=o.view[Fn(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==b(a,n)&&a.push(n)}}}function On(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Hn(e,t,o,r){var a=Fn(e,t),s=e.display.view,d;if(!vs||o==e.doc.first+e.doc.size)return{index:a,lineN:o};for(var l=e.display.viewFrom,n=0;n<a;n++)l+=s[n].size;if(l!=t){if(0<r){if(a==s.length-1)return null;d=l+s[a].size-t,a++}else d=l-t;t+=d,o+=d}for(;at(e.doc,o)!=o;){if(a==(0>r?0:s.length-1))return null;o+=r*s[a-(0>r?1:0)].size,a+=r}return{index:a,lineN:o}}function zn(e,t,n){var o=e.display,r=o.view;0==r.length||t>=o.viewTo||n<=o.viewFrom?(o.view=kt(e,t,n),o.viewFrom=t):(o.viewFrom>t?o.view=kt(e,t,o.viewFrom).concat(o.view):o.viewFrom<t&&(o.view=o.view.slice(Fn(e,t))),o.viewFrom=t,o.viewTo<n?o.view=o.view.concat(kt(e,o.viewTo,n)):o.viewTo>n&&(o.view=o.view.slice(0,Fn(e,n)))),o.viewTo=n}function Un(e){for(var t=e.display.view,n=0,o=0,r;o<t.length;o++)r=t[o],r.hidden||r.node&&!r.changes||++n;return n}function Wn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vn(e,t){void 0===t&&(t=!0);for(var n=e.doc,o={},r=o.cursors=document.createDocumentFragment(),a=o.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var i=n.sel.ranges[s];if(!(i.from().line>=e.display.viewTo||i.to().line<e.display.viewFrom)){var d=i.empty();(d||e.options.showCursorWhenSelecting)&&Gn(e,i.head,r),d||jn(e,i,a)}}return o}function Gn(e,t,n){var o=Sn(e,t,'div',null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(p('div','\xA0','CodeMirror-cursor'));if(i.style.left=o.left+'px',i.style.top=o.top+'px',i.style.height=r(0,o.bottom-o.top)*e.options.cursorHeight+'px',o.other){var a=n.appendChild(p('div','\xA0','CodeMirror-cursor CodeMirror-secondarycursor'));a.style.display='',a.style.left=o.other.left+'px',a.style.top=o.other.top+'px',a.style.height=.85*(o.other.bottom-o.other.top)+'px'}}function Kn(e,t){return e.top-t.top||e.left-t.left}function jn(e,t,o){function i(e,t,o,r){0>t&&(t=0),t=n(t),r=n(r),l.appendChild(p('div',null,'CodeMirror-selected','position: absolute; left: '+e+'px;\n                             top: '+t+'px; width: '+(null==o?m-e:o)+'px;\n                             height: '+(r-t)+'px'))}function a(t,n,o){function r(n,o){return yn(e,fe(t,n),'div',s,o)}function a(t,n,o){var i=wn(e,s,null,t),a='ltr'==n==('after'==o)?'left':'right',d='after'==o?i.begin:i.end-(/\s/.test(s.text.charAt(i.end-1))?2:1);return r(d,a)[a]}var s=se(d,t),l=s.text.length,c=B(s,d.direction),p,f;return L(c,n||0,null==o?l:o,function(e,t,s,d){var g='ltr'==s,y=r(e,g?'left':'right'),S=r(t-1,g?'right':'left'),C=null==n&&0==e,b=null==o&&t==l,v=0==d,E=!c||d==c.length-1;if(3>=S.top-y.top){var w=(h?C:b)&&v,k=(h?b:C)&&E,T=w?u:(g?y:S).left,_=k?m:(g?S:y).right;i(T,y.top,_-T,y.bottom)}else{var R,x,P,D;g?(R=h&&C&&v?u:y.left,x=h?m:a(e,s,'before'),P=h?u:a(t,s,'after'),D=h&&b&&E?m:S.right):(R=h?a(e,s,'before'):u,x=!h&&C&&v?m:y.right,P=!h&&b&&E?u:S.left,D=h?a(t,s,'after'):m),i(R,y.top,x-R,y.bottom),y.bottom<S.top&&i(u,y.bottom,null,S.top),i(P,S.top,D-P,S.bottom)}(!p||0>Kn(y,p))&&(p=y),0>Kn(S,p)&&(p=S),(!f||0>Kn(y,f))&&(f=y),0>Kn(S,f)&&(f=S)}),{start:p,end:f}}var s=e.display,d=e.doc,l=document.createDocumentFragment(),c=jt(e.display),u=c.left,m=r(s.sizerWidth,Yt(e)-s.sizer.offsetLeft)-c.right,h='ltr'==d.direction,f=t.from(),g=t.to();if(f.line==g.line)a(f.line,f.ch,g.ch);else{var y=se(d,f.line),S=se(d,g.line),C=ot(y)==ot(S),b=a(f.line,f.ch,C?y.text.length+1:null).end,v=a(g.line,C?0:null,g.ch).start;C&&(b.top<v.top-2?(i(b.right,b.top,null,b.bottom),i(u,v.top,v.left,v.bottom)):i(b.right,b.top,v.left-b.right,b.bottom)),b.bottom<v.top&&i(u,b.bottom,null,v.top)}o.appendChild(l)}function qn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility='',0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?'':'hidden'},e.options.cursorBlinkRate):0>e.options.cursorBlinkRate&&(t.cursorDiv.style.visibility='hidden')}}function Yn(e){e.state.focused||(e.display.input.focus(),Qn(e))}function Xn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,$n(e))},100)}function Qn(t,n){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),'nocursor'==t.options.readOnly||(!t.state.focused&&(H(t,'focus',t,n),t.state.focused=!0,f(t.display.wrapper,'CodeMirror-focused'),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),Pa&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),qn(t))}function $n(t,n){t.state.delayingBlurEvent||(t.state.focused&&(H(t,'blur',t,n),t.state.focused=!1,Ka(t.display.wrapper,'CodeMirror-focused')),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Zn(e){for(var t=e.display,n=t.lineDiv.offsetTop,o=0;o<t.view.length;o++){var r=t.view[o],i=e.options.lineWrapping,a=void 0,d=0;if(!r.hidden){if(Ra&&8>xa){var l=r.node.offsetTop+r.node.offsetHeight;a=l-n,n=l}else{var c=r.node.getBoundingClientRect();a=c.bottom-c.top,!i&&r.text.firstChild&&(d=r.text.firstChild.getBoundingClientRect().right-c.left-1)}var p=r.line.height-a;if((.005<p||-.005>p)&&(ce(r.line,a),Jn(r.line),r.rest))for(var u=0;u<r.rest.length;u++)Jn(r.rest[u]);if(d>e.display.sizerWidth){var m=s(d/Pn(e.display));m>e.display.maxLineLength&&(e.display.maxLineLength=m,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function Jn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],o=n.node.parentNode;o&&(n.height=o.offsetHeight)}}function eo(e,t,n){var o=n&&null!=n.top?r(0,n.top):e.scroller.scrollTop;o=a(o-Gt(e));var i=n&&null!=n.bottom?n.bottom:o+e.wrapper.clientHeight,s=ue(t,o),l=ue(t,i);if(n&&n.ensure){var c=n.ensure.from.line,p=n.ensure.to.line;c<s?(s=c,l=ue(t,ct(se(t,c))+e.wrapper.clientHeight)):d(p,t.lastLine())>=l&&(s=ue(t,ct(se(t,p))-e.wrapper.clientHeight),l=p)}return{from:s,to:r(l,s+1)}}function to(e,t){if(!z(e,'scrollCursorIntoView')){var n=e.display,o=n.sizer.getBoundingClientRect(),i=null;if(0>t.top+o.top?i=!0:t.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Fa){var a=p('div','\u200B',null,'position: absolute;\n                         top: '+(t.top-n.viewOffset-Gt(e.display))+'px;\n                         height: '+(t.bottom-t.top+qt(e)+n.barHeight)+'px;\n                         left: '+t.left+'px; width: '+r(2,t.right-t.left)+'px;');e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function no(e,t,n,i){null==i&&(i=0);var a;e.options.lineWrapping||t!=n||(t=t.ch?fe(t.line,'before'==t.sticky?t.ch-1:t.ch,'after'):t,n='before'==t.sticky?fe(t.line,t.ch+1,'before'):t);for(var s=0;5>s;s++){var l=!1,c=Sn(e,t),p=n&&n!=t?Sn(e,n):c;a={left:d(c.left,p.left),top:d(c.top,p.top)-i,right:r(c.left,p.left),bottom:r(c.bottom,p.bottom)+i};var u=ro(e,a),m=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(uo(e,u.scrollTop),1<o(e.doc.scrollTop-m)&&(l=!0)),null!=u.scrollLeft&&(ho(e,u.scrollLeft),1<o(e.doc.scrollLeft-h)&&(l=!0)),!l)break}return a}function oo(e,t){var n=ro(e,t);null!=n.scrollTop&&uo(e,n.scrollTop),null!=n.scrollLeft&&ho(e,n.scrollLeft)}function ro(e,t){var n=e.display,o=xn(e.display);0>t.top&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,a=Xt(e),s={};t.bottom-t.top>a&&(t.bottom=t.top+a);var l=e.doc.height+Kt(n),c=t.top<o,p=t.bottom>l-o;if(t.top<i)s.scrollTop=c?0:t.top;else if(t.bottom>i+a){var u=d(t.top,(p?l:t.bottom)-a);u!=i&&(s.scrollTop=u)}var m=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Yt(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>h;return f&&(t.right=t.left+h),10>t.left?s.scrollLeft=0:t.left<m?s.scrollLeft=r(0,t.left-(f?0:10)):t.right>h+m-3&&(s.scrollLeft=t.right+(f?0:10)-h),s}function io(e,t){null==t||(co(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ao(e){co(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function so(e,t,n){(null!=t||null!=n)&&co(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function lo(e,t){co(e),e.curOp.scrollToPos=t}function co(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Cn(e,t.from),o=Cn(e,t.to);po(e,n,o,t.margin)}}function po(e,t,n,o){var i=ro(e,{left:d(t.left,n.left),top:d(t.top,n.top)-o,right:r(t.right,n.right),bottom:r(t.bottom,n.bottom)+o});so(e,i.scrollLeft,i.scrollTop)}function uo(e,t){2>o(e.doc.scrollTop-t)||(!wa&&Oo(e,{top:t}),mo(e,t,!0),wa&&Oo(e),Mo(e,100))}function mo(e,t,n){t=d(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function ho(e,t,n,r){t=d(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:2>o(e.doc.scrollLeft-t))&&!r||(e.doc.scrollLeft=t,Wo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function fo(e){var t=e.display,o=t.gutters.offsetWidth,r=n(e.doc.height+Kt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?o:0,docHeight:r,scrollHeight:r+qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:o}}function go(e,t){t||(t=fo(e));var n=e.display.barWidth,o=e.display.barHeight;yo(e,t);for(var r=0;4>r&&n!=e.display.barWidth||o!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Zn(e),yo(e,fo(e)),n=e.display.barWidth,o=e.display.barHeight}function yo(e,t){var n=e.display,o=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=o.right)+'px',n.sizer.style.paddingBottom=(n.barHeight=o.bottom)+'px',n.heightForcer.style.borderBottom=o.bottom+'px solid transparent',o.right&&o.bottom?(n.scrollbarFiller.style.display='block',n.scrollbarFiller.style.height=o.bottom+'px',n.scrollbarFiller.style.width=o.right+'px'):n.scrollbarFiller.style.display='',o.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display='block',n.gutterFiller.style.height=o.bottom+'px',n.gutterFiller.style.width=t.gutterWidth+'px'):n.gutterFiller.style.display=''}function So(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ka(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ms[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),as(t,'mousedown',function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute('cm-not-content','true')},function(t,n){'horizontal'==n?ho(e,t):uo(e,t)},e),e.display.scrollbars.addClass&&f(e.display.wrapper,e.display.scrollbars.addClass)}function Co(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++As},Tt(e.curOp)}function bo(e){var t=e.curOp;t&&Rt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;vo(e)})}function vo(e){for(var t=e.ops,n=0;n<t.length;n++)Eo(t[n]);for(var o=0;o<t.length;o++)wo(t[o]);for(var r=0;r<t.length;r++)ko(t[r]);for(var i=0;i<t.length;i++)To(t[i]);for(var a=0;a<t.length;a++)_o(t[a])}function Eo(e){var t=e.cm,n=t.display;Io(t),e.updateMaxLine&&ut(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Is(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function wo(e){e.updatedDisplay=e.mustUpdate&&Bo(e.cm,e.update)}function ko(e){var t=e.cm,n=t.display;e.updatedDisplay&&Zn(t),e.barMeasure=fo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Jt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=r(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qt(t)+t.display.barWidth),e.maxScrollLeft=r(0,n.sizer.offsetLeft+e.adjustWidthTo-Yt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function To(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+'px',e.maxScrollLeft<t.doc.scrollLeft&&ho(t,d(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==h();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&go(t,e.barMeasure),e.updatedDisplay&&Uo(t,e.barMeasure),e.selectionChanged&&qn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yn(e.cm)}function _o(e){var t=e.cm,n=t.display,o=t.doc;if(e.updatedDisplay&&No(t,e.update),null!=n.wheelStartX&&(null!=e.scrollTop||null!=e.scrollLeft||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&mo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&ho(t,e.scrollLeft,!0,!0),e.scrollToPos){var r=no(t,Ee(o,e.scrollToPos.from),Ee(o,e.scrollToPos.to),e.scrollToPos.margin);to(t,r)}var a=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(a)for(var d=0;d<a.length;++d)a[d].lines.length||H(a[d],'hide');if(s)for(var i=0;i<s.length;++i)s[i].lines.length&&H(s[i],'unhide');n.wrapper.offsetHeight&&(o.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&H(t,'changes',t,e.changeObjs),e.update&&e.update.finish()}function Ro(e,t){if(e.curOp)return t();Co(e);try{return t()}finally{bo(e)}}function xo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Co(e);try{return t.apply(e,arguments)}finally{bo(e)}}}function Po(e){return function(){if(this.curOp)return e.apply(this,arguments);Co(this);try{return e.apply(this,arguments)}finally{bo(this)}}}function Do(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Co(t);try{return e.apply(this,arguments)}finally{bo(t)}}}function Mo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,y(Ao,e))}function Ao(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,o=Re(e,t.highlightFrontier),a=[];t.iter(o.line,d(t.first+t.size,e.display.viewTo+500),function(r){if(o.line>=e.display.viewFrom){var s=r.styles,d=r.text.length>e.options.maxHighlightLength?oe(t.mode,o.state):null,l=Te(e,r,o,!0);d&&(o.state=d),r.styles=l.styles;var c=r.styleClasses,p=l.classes;p?r.styleClasses=p:c&&(r.styleClasses=null);for(var u=!s||s.length!=r.styles.length||c!=p&&(!c||!p||c.bgClass!=p.bgClass||c.textClass!=p.textClass),m=0;!u&&m<s.length;++m)u=s[m]!=r.styles[m];u&&a.push(o.line),r.stateAfter=o.save(),o.nextLine()}else r.text.length<=e.options.maxHighlightLength&&xe(e,r.text,o),r.stateAfter=0==o.line%5?o.save():null,o.nextLine();return+new Date>n?(Mo(e,e.options.workDelay),!0):void 0}),t.highlightFrontier=o.line,t.modeFrontier=r(t.modeFrontier,o.line),a.length&&Ro(e,function(){for(var t=0;t<a.length;t++)Nn(e,a[t],'text')})}}function Io(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qt(e)+'px',t.sizer.style.marginBottom=-t.nativeBarWidth+'px',t.sizer.style.borderRightWidth=qt(e)+'px',t.scrollbarsClipped=!0)}function Lo(e){if(e.hasFocus())return null;var t=h();if(!t||!m(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&m(e.display.lineDiv,o.anchorNode)&&(n.anchorNode=o.anchorNode,n.anchorOffset=o.anchorOffset,n.focusNode=o.focusNode,n.focusOffset=o.focusOffset)}return n}function Fo(e){if(e&&e.activeElt&&e.activeElt!=h()&&(e.activeElt.focus(),e.anchorNode&&m(document.body,e.anchorNode)&&m(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Bo(e,t){var n=e.display,o=e.doc;if(t.editorIsHidden)return On(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Un(e))return!1;Vo(e)&&(On(e),t.dims=Dn(e));var i=o.first+o.size,a=r(t.visible.from-e.options.viewportMargin,o.first),s=d(i,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&20>a-n.viewFrom&&(a=r(o.first,n.viewFrom)),n.viewTo>s&&20>n.viewTo-s&&(s=d(i,n.viewTo)),vs&&(a=at(e.doc,a),s=st(e.doc,s));var c=a!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zn(e,a,s),n.viewOffset=ct(se(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+'px';var p=Un(e);if(!c&&0==p&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Lo(e);return 4<p&&(n.lineDiv.style.display='none'),Ho(e,n.updateLineNumbers,t.dims),4<p&&(n.lineDiv.style.display=''),n.renderedView=n.view,Fo(u),l(n.cursorDiv),l(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,c&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Mo(e,400)),n.updateLineNumbers=null,!0}function No(e,t){for(var n=t.viewport,o=!0;;o=!1){if((!o||!e.options.lineWrapping||t.oldDisplayWidth==Yt(e))&&(n&&null!=n.top&&(n={top:d(e.doc.height+Kt(e.display)-Xt(e),n.top)}),t.visible=eo(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo))break;if(!Bo(e,t))break;Zn(e);var r=fo(e);Wn(e),go(e,r),Uo(e,r),t.force=!1}t.signal(e,'update',e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,'viewportChange',e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Oo(e,t){var n=new Is(e,t);if(Bo(e,n)){Zn(e),No(e,n);var o=fo(e);Wn(e),go(e,o),Uo(e,o),n.finish()}}function Ho(e,t,n){function o(t){var n=t.nextSibling;return Pa&&Ha&&e.display.currentWheelTarget==t?t.style.display='none':t.parentNode.removeChild(t),n}for(var r=e.display,a=e.options.lineNumbers,s=r.lineDiv,d=s.firstChild,c=r.view,p=r.viewFrom,u=0,i;u<c.length;u++){if(i=c[u],i.hidden);else if(!i.node||i.node.parentNode!=s){var m=Ot(e,i,p,n);s.insertBefore(m,d)}else{for(;d!=i.node;)d=o(d);var h=a&&null!=t&&t<=p&&i.lineNumber;i.changes&&(-1<b(i.changes,'gutter')&&(h=!1),Dt(e,i,p,n)),h&&(l(i.lineNumber),i.lineNumber.appendChild(document.createTextNode(he(e.options,p)))),d=i.node.nextSibling}p+=i.size}for(;d;)d=o(d)}function zo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+'px'}function Uo(e,t){e.display.sizer.style.minHeight=t.docHeight+'px',e.display.heightForcer.style.top=t.docHeight+'px',e.display.gutters.style.height=t.docHeight+e.display.barHeight+qt(e)+'px'}function Wo(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var o=Mn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,a=o+'px',s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=a),n[s].gutterBackground&&(n[s].gutterBackground.style.left=a));var i=n[s].alignable;if(i)for(var d=0;d<i.length;d++)i[d].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=o+r+'px')}}function Vo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=he(e.options,t.first+t.size-1),o=e.display;if(n.length!=o.lineNumChars){var i=o.measure.appendChild(p('div',[p('div',n)],'CodeMirror-linenumber CodeMirror-gutter-elt')),a=i.firstChild.offsetWidth,s=i.offsetWidth-a;return o.lineGutter.style.width='',o.lineNumInnerWidth=r(a,o.lineGutter.offsetWidth-s)+1,o.lineNumWidth=o.lineNumInnerWidth+s,o.lineNumChars=o.lineNumInnerWidth?n.length:-1,o.lineGutter.style.width=o.lineNumWidth+'px',zo(e.display),!0}return!1}function Go(e,t){for(var n=[],o=!1,r=0;r<e.length;r++){var i=e[r],a=null;if('string'!=typeof i&&(a=i.style,i=i.className),'CodeMirror-linenumbers'==i)if(!t)continue;else o=!0;n.push({className:i,style:a})}return t&&!o&&n.push({className:'CodeMirror-linenumbers',style:null}),n}function Ko(e){var t=e.gutters,n=e.gutterSpecs;l(t),e.lineGutter=null;for(var o=0;o<n.length;++o){var r=n[o],i=r.className,a=r.style,s=t.appendChild(p('div',null,'CodeMirror-gutter '+i));a&&(s.style.cssText=a),'CodeMirror-linenumbers'==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+'px')}t.style.display=n.length?'':'none',zo(e)}function jo(e){Ko(e.display),Bn(e),Wo(e)}function qo(e,t,n,o){var r=this;this.input=n,r.scrollbarFiller=p('div',null,'CodeMirror-scrollbar-filler'),r.scrollbarFiller.setAttribute('cm-not-content','true'),r.gutterFiller=p('div',null,'CodeMirror-gutter-filler'),r.gutterFiller.setAttribute('cm-not-content','true'),r.lineDiv=u('div',null,'CodeMirror-code'),r.selectionDiv=p('div',null,null,'position: relative; z-index: 1'),r.cursorDiv=p('div',null,'CodeMirror-cursors'),r.measure=p('div',null,'CodeMirror-measure'),r.lineMeasure=p('div',null,'CodeMirror-measure'),r.lineSpace=u('div',[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,'position: relative; outline: none');var i=u('div',[r.lineSpace],'CodeMirror-lines');r.mover=p('div',[i],null,'position: relative'),r.sizer=p('div',[r.mover],'CodeMirror-sizer'),r.sizerWidth=null,r.heightForcer=p('div',null,null,'position: absolute; height: '+Xa+'px; width: 1px;'),r.gutters=p('div',null,'CodeMirror-gutters'),r.lineGutter=null,r.scroller=p('div',[r.sizer,r.heightForcer,r.gutters],'CodeMirror-scroll'),r.scroller.setAttribute('tabIndex','-1'),r.wrapper=p('div',[r.scrollbarFiller,r.gutterFiller,r.scroller],'CodeMirror'),Ra&&8>xa&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),Pa||wa&&Oa||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=Go(o.gutters,o.lineNumbers),Ko(r),n.init(r)}function Yo(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function Xo(t){var e=Yo(t);return e.x*=Fs,e.y*=Fs,e}function Qo(t,n){var e=Yo(n),o=e.x,a=e.y,s=t.display,l=s.scroller,c=l.scrollWidth>l.clientWidth,p=l.scrollHeight>l.clientHeight;if(o&&c||a&&p){if(a&&Ha&&Pa)outer:for(var u=n.target,m=s.view;u!=l;u=u.parentNode)for(var h=0;h<m.length;h++)if(m[h].node==u){t.display.currentWheelTarget=u;break outer}if(o&&!wa&&!Aa&&null!=Fs)return a&&p&&uo(t,r(0,l.scrollTop+a*Fs)),ho(t,r(0,l.scrollLeft+o*Fs)),(!a||a&&p)&&G(n),void(s.wheelStartX=null);if(a&&null!=Fs){var i=a*Fs,f=t.doc.scrollTop,g=f+s.wrapper.clientHeight;0>i?f=r(0,f+i-50):g=d(t.doc.height,g+i+50),Oo(t,{top:f,bottom:g})}20>Ls&&(null==s.wheelStartX?(s.wheelStartX=l.scrollLeft,s.wheelStartY=l.scrollTop,s.wheelDX=o,s.wheelDY=a,setTimeout(function(){if(null!=s.wheelStartX){var e=l.scrollLeft-s.wheelStartX,t=l.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(Fs=(Fs*Ls+n)/(Ls+1),++Ls)}},200)):(s.wheelDX+=o,s.wheelDY+=a))}}function $o(e,t,n){var o=e&&e.options.selectionsMayTouch,r=t[n];t.sort(function(e,t){return ge(e.from(),t.from())}),n=b(t,r);for(var a=1;a<t.length;a++){var i=t[a],s=t[a-1],d=ge(s.to(),i.from());if(o&&!i.empty()?0<d:0<=d){var l=be(s.from(),i.from()),c=Ce(s.to(),i.to()),p=s.empty()?i.from()==i.head:s.from()==s.head;a<=n&&--n,t.splice(--a,2,new Ns(p?c:l,p?l:c))}}return new Bs(t,n)}function Zo(e,t){return new Bs([new Ns(e,t||e)],0)}function Jo(e){return e.text?fe(e.from.line+e.text.length-1,w(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function er(e,t){if(0>ge(e,t.from))return e;if(0>=ge(e,t.to))return Jo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,o=e.ch;return e.line==t.to.line&&(o+=Jo(t).ch-t.to.ch),fe(n,o)}function tr(e,t){for(var n=[],o=0,r;o<e.sel.ranges.length;o++)r=e.sel.ranges[o],n.push(new Ns(er(r.anchor,t),er(r.head,t)));return $o(e.cm,n,e.sel.primIndex)}function nr(e,t,n){return e.line==t.line?fe(n.line,e.ch-t.ch+n.ch):fe(n.line+(e.line-t.line),e.ch)}function or(e,t,n){for(var o=[],r=fe(e.first,0),a=r,s=0;s<t.length;s++){var i=t[s],d=nr(i.from,r,a),l=nr(Jo(i),r,a);if(r=i.to,a=l,'around'==n){var c=e.sel.ranges[s],p=0>ge(c.head,c.anchor);o[s]=new Ns(p?l:d,p?d:l)}else o[s]=new Ns(d,d)}return new Bs(o,e.sel.primIndex)}function rr(e){e.doc.mode=te(e.options,e.doc.modeOption),ir(e)}function ir(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Mo(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function ar(e,t){return 0==t.from.ch&&0==t.to.ch&&''==w(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function sr(e,t,o,n){function r(e){return o?o[e]:null}function i(e,o,r){mt(e,o,r,n),xt(e,'change',e,t)}function a(e,t){for(var o=[],a=e;a<t;++a)o.push(new Es(l[a],r(a),n));return o}var s=t.from,d=t.to,l=t.text,c=se(e,s.line),p=se(e,d.line),u=w(l),m=r(l.length-1),h=d.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(ar(e,t)){var f=a(0,l.length-1);i(p,p.text,m),h&&e.remove(s.line,h),f.length&&e.insert(s.line,f)}else if(c==p){if(1==l.length)i(c,c.text.slice(0,s.ch)+u+c.text.slice(d.ch),m);else{var g=a(1,l.length-1);g.push(new Es(u+c.text.slice(d.ch),m,n)),i(c,c.text.slice(0,s.ch)+l[0],r(0)),e.insert(s.line+1,g)}}else if(1==l.length)i(c,c.text.slice(0,s.ch)+l[0]+p.text.slice(d.ch),r(0)),e.remove(s.line+1,h);else{i(c,c.text.slice(0,s.ch)+l[0],r(0)),i(p,u+p.text.slice(d.ch),m);var y=a(1,l.length-1);1<h&&e.remove(s.line+1,h-1),e.insert(s.line+1,y)}xt(e,'change',e,t)}function dr(e,t,n){function o(e,r,a){if(e.linked)for(var s=0,i;s<e.linked.length;++s)if(i=e.linked[s],i.doc!=r){var d=a&&i.sharedHist;(!n||d)&&(t(i.doc,d),o(i.doc,e,d))}}o(e,null,!0)}function lr(e,t){if(t.cm)throw new Error('This document is already in use.');e.doc=t,t.cm=e,In(e),rr(e),cr(e),e.options.lineWrapping||ut(e),e.options.mode=t.modeOption,Bn(e)}function cr(e){('rtl'==e.doc.direction?f:Ka)(e.display.lineDiv,'CodeMirror-rtl')}function pr(e){Ro(e,function(){cr(e),Bn(e)})}function ur(e){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function mr(e,t){var n={from:Se(t.from),to:Jo(t),text:de(e,t.from,t.to)};return br(e,n,t.from.line,t.to.line+1),dr(e,function(e){return br(e,n,t.from.line,t.to.line+1)},!0),n}function hr(e){for(;e.length;){var t=w(e);if(t.ranges)e.pop();else break}}function fr(e,t){return t?(hr(e.done),w(e.done)):e.done.length&&!w(e.done).ranges?w(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),w(e.done)):void 0}function gr(e,t,n,o){var r=e.history;r.undone.length=0;var i=+new Date,a,s;if((r.lastOp==o||r.lastOrigin==t.origin&&t.origin&&('+'==t.origin.charAt(0)&&r.lastModTime>i-(e.cm?e.cm.options.historyEventDelay:500)||'*'==t.origin.charAt(0)))&&(a=fr(r,r.lastOp==o)))s=w(a.changes),0==ge(t.from,t.to)&&0==ge(t.from,s.to)?s.to=Jo(t):a.changes.push(mr(e,t));else{var d=w(r.done);for(d&&d.ranges||Cr(e.sel,r.done),a={changes:[mr(e,t)],generation:r.generation},r.done.push(a);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=i,r.lastOp=r.lastSelOp=o,r.lastOrigin=r.lastSelOrigin=t.origin,s||H(e,'historyAdded')}function yr(e,t,n,o){var r=t.charAt(0);return'*'==r||'+'==r&&n.ranges.length==o.ranges.length&&n.somethingSelected()==o.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Sr(e,t,n,o){var r=e.history,i=o&&o.origin;n==r.lastSelOp||i&&r.lastSelOrigin==i&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==i||yr(e,i,w(r.done),t))?r.done[r.done.length-1]=t:Cr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=i,r.lastSelOp=n,o&&!1!==o.clearRedo&&hr(r.undone)}function Cr(e,t){var n=w(t);n&&n.ranges&&n.equals(e)||t.push(e)}function br(e,t,o,i){var a=t['spans_'+e.id],s=0;e.iter(r(e.first,o),d(e.first+e.size,i),function(n){n.markedSpans&&((a||(a=t['spans_'+e.id]={}))[s]=n.markedSpans),++s})}function vr(e){if(!e)return null;for(var t=0,n;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function Er(e,t){var n=t['spans_'+e.id];if(!n)return null;for(var o=[],r=0;r<t.text.length;++r)o.push(vr(n[r]));return o}function wr(e,t){var n=Er(e,t),o=Ge(e,t);if(!n)return o;if(!o)return n;for(var r=0;r<n.length;++r){var i=n[r],a=o[r];if(i&&a)spans:for(var s=0,d;s<a.length;++s){d=a[s];for(var l=0;l<i.length;++l)if(i[l].marker==d.marker)continue spans;i.push(d)}else a&&(n[r]=a)}return n}function kr(e,t,n){for(var o=[],r=0,i;r<e.length;++r){if(i=e[r],i.ranges){o.push(n?Bs.prototype.deepCopy.call(i):i);continue}var a=i.changes,s=[];o.push({changes:s});for(var d=0;d<a.length;++d){var l=a[d],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var p in l)(c=p.match(/^spans_(\d+)$/))&&-1<b(t,+c[1])&&(w(s)[p]=l[p],delete l[p])}}return o}function Tr(e,t,n,o){if(o){var r=e.anchor;if(n){var i=0>ge(t,r);i==0>ge(n,r)?i!=0>ge(t,n)&&(t=n):(r=t,t=n)}return new Ns(r,t)}return new Ns(n||t,t)}function _r(e,t,n,o,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Ar(e,new Bs([Tr(e.sel.primary(),t,n,r)],0),o)}function Rr(e,t,n){for(var o=[],r=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)o[a]=Tr(e.sel.ranges[a],t[a],null,r);var i=$o(e.cm,o,e.sel.primIndex);Ar(e,i,n)}function xr(e,t,n,o){var r=e.sel.ranges.slice(0);r[t]=n,Ar(e,$o(e.cm,r,e.sel.primIndex),o)}function Pr(e,t,n,o){Ar(e,Zo(t,n),o)}function Dr(e,t,n){var o={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var o=0;o<t.length;o++)n.ranges[o]=new Ns(Ee(e,t[o].anchor),Ee(e,t[o].head))},origin:n&&n.origin};return H(e,'beforeSelectionChange',e,o),e.cm&&H(e.cm,'beforeSelectionChange',e.cm,o),o.ranges==t.ranges?t:$o(e.cm,o.ranges,o.ranges.length-1)}function Mr(e,t,n){var o=e.history.done,r=w(o);r&&r.ranges?(o[o.length-1]=t,Ir(e,t,n)):Ar(e,t,n)}function Ar(e,t,n){Ir(e,t,n),Sr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ir(e,t,n){(W(e,'beforeSelectionChange')||e.cm&&W(e.cm,'beforeSelectionChange'))&&(t=Dr(e,t,n));var o=n&&n.bias||(0>ge(t.primary().head,e.sel.primary().head)?-1:1);Lr(e,Br(e,t,o,!0)),!(n&&!1===n.scroll)&&e.cm&&ao(e.cm)}function Lr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,U(e.cm)),xt(e,'cursorActivity',e))}function Fr(e){Lr(e,Br(e,e.sel,null,!1))}function Br(e,t,n,o){for(var r=0,i;r<t.ranges.length;r++){var a=t.ranges[r],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],d=Or(e,a.anchor,s&&s.anchor,n,o),l=Or(e,a.head,s&&s.head,n,o);(i||d!=a.anchor||l!=a.head)&&(!i&&(i=t.ranges.slice(0,r)),i[r]=new Ns(d,l))}return i?$o(e.cm,i,t.primIndex):t}function Nr(e,t,n,o,r){var a=se(e,t.line);if(a.markedSpans)for(var s=0;s<a.markedSpans.length;++s){var i=a.markedSpans[s],d=i.marker,l='selectLeft'in d?!d.selectLeft:d.inclusiveLeft,c='selectRight'in d?!d.selectRight:d.inclusiveRight;if((null==i.from||(l?i.from<=t.ch:i.from<t.ch))&&(null==i.to||(c?i.to>=t.ch:i.to>t.ch))){if(r&&(H(d,'beforeCursorEnter'),d.explicitlyCleared))if(!a.markedSpans)break;else{--s;continue}if(!d.atomic)continue;if(n){var p=d.find(0>o?1:-1),u=void 0;if((0>o?c:l)&&(p=Hr(e,p,-o,p&&p.line==t.line?a:null)),p&&p.line==t.line&&(u=ge(p,n))&&(0>o?0>u:0<u))return Nr(e,p,t,o,r)}var m=d.find(0>o?-1:1);return(0>o?l:c)&&(m=Hr(e,m,o,m.line==t.line?a:null)),m?Nr(e,m,t,o,r):null}}return t}function Or(e,t,n,o,r){var i=o||1,a=Nr(e,t,n,i,r)||!r&&Nr(e,t,n,i,!0)||Nr(e,t,n,-i,r)||!r&&Nr(e,t,n,-i,!0);return a?a:(e.cantEdit=!0,fe(e.first,0))}function Hr(e,t,n,o){return 0>n&&0==t.ch?t.line>e.first?Ee(e,fe(t.line-1)):null:0<n&&t.ch==(o||se(e,t.line)).text.length?t.line<e.first+e.size-1?fe(t.line+1,0):null:new fe(t.line,t.ch+n)}function zr(e){e.setSelection(fe(e.firstLine(),0),fe(e.lastLine()),$a)}function Ur(e,t,n){var o={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return o.canceled=!0}};return n&&(o.update=function(t,n,r,i){t&&(o.from=Ee(e,t)),n&&(o.to=Ee(e,n)),r&&(o.text=r),void 0!==i&&(o.origin=i)}),H(e,'beforeChange',e,o),e.cm&&H(e.cm,'beforeChange',e.cm,o),o.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function Wr(e,t,n){if(e.cm){if(!e.cm.curOp)return xo(e.cm,Wr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((W(e,'beforeChange')||e.cm&&W(e.cm,'beforeChange'))&&(t=Ur(e,t,!0),!t))){var o=bs&&!n&&je(e,t.from,t.to);if(o)for(var r=o.length-1;0<=r;--r)Vr(e,{from:o[r].from,to:o[r].to,text:r?['']:t.text,origin:t.origin});else Vr(e,t)}}function Vr(e,t){if(1!=t.text.length||''!=t.text[0]||0!=ge(t.from,t.to)){var n=tr(e,t);gr(e,t,n,e.cm?e.cm.curOp.id:NaN),jr(e,t,n,Ge(e,t));var o=[];dr(e,function(e,n){n||-1!=b(o,e.history)||($r(e.history,t),o.push(e.history)),jr(e,t,null,Ge(e,t))})}}function Gr(e,t,n){var o=e.cm&&e.cm.state.suppressEdits;if(!o||n){for(var r=e.history,a=e.sel,s='undo'==t?r.done:r.undone,d='undo'==t?r.undone:r.done,l=0,c;l<s.length&&(c=s[l],n?!c.ranges||c.equals(e.sel):!!c.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;;)if(c=s.pop(),c.ranges){if(Cr(c,d),n&&!c.equals(e.sel))return void Ar(e,c,{clearRedo:!1});a=c}else{if(o)return void s.push(c);break}var p=[];Cr(a,d),d.push({changes:p,generation:r.generation}),r.generation=c.generation||++r.maxGeneration;for(var u=W(e,'beforeChange')||e.cm&&W(e.cm,'beforeChange'),i=function(n){var o=c.changes[n];if(o.origin=t,u&&!Ur(e,o,!1))return s.length=0,{};p.push(mr(e,o));var r=n?tr(e,o):w(s);jr(e,o,r,wr(e,o)),!n&&e.cm&&e.cm.scrollIntoView({from:o.from,to:Jo(o)});var a=[];dr(e,function(e,t){t||-1!=b(a,e.history)||($r(e.history,o),a.push(e.history)),jr(e,o,null,wr(e,o))})},m=c.changes.length-1,h;0<=m;--m)if(h=i(m),h)return h.v}}}function Kr(e,t){if(0!=t&&(e.first+=t,e.sel=new Bs(k(e.sel.ranges,function(e){return new Ns(fe(e.anchor.line+t,e.anchor.ch),fe(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,o=n.viewFrom;o<n.viewTo;o++)Nn(e.cm,o,'gutter')}}function jr(e,t,n,o){if(e.cm&&!e.cm.curOp)return xo(e.cm,jr)(e,t,n,o);if(t.to.line<e.first)return void Kr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Kr(e,r),t={from:fe(e.first,0),to:fe(t.to.line+r,t.to.ch),text:[w(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:fe(i,se(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=de(e,t.from,t.to),n||(n=tr(e,t)),e.cm?qr(e.cm,t,o):sr(e,t,o),Ir(e,n,$a),e.cantEdit&&Or(e,fe(e.firstLine(),0))&&(e.cantEdit=!1)}}function qr(e,t,n){var o=e.doc,r=e.display,i=t.from,a=t.to,s=!1,d=i.line;e.options.lineWrapping||(d=pe(ot(se(o,i.line))),o.iter(d,a.line+1,function(e){if(e==r.maxLine)return s=!0,!0})),-1<o.sel.contains(t.from,t.to)&&U(e),sr(o,t,n,An(e)),e.options.lineWrapping||(o.iter(d,i.line+t.text.length,function(e){var t=pt(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Fe(o,i.line),Mo(e,400);var l=t.text.length-(a.line-i.line)-1;t.full?Bn(e):i.line!=a.line||1!=t.text.length||ar(e.doc,t)?Bn(e,i.line,a.line+1,l):Nn(e,i.line,'text');var c=W(e,'changes'),p=W(e,'change');if(p||c){var u={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&xt(e,'change',e,u),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(u)}e.display.selForContextMenu=null}function Yr(e,t,n,o,r){var i;o||(o=n),0>ge(o,n)&&(i=[o,n],n=i[0],o=i[1]),'string'==typeof t&&(t=e.splitLines(t)),Wr(e,{from:n,to:o,text:t,origin:r})}function Xr(e,t,n,o){n<e.line?e.line+=o:t<e.line&&(e.line=t,e.ch=0)}function Qr(e,t,n,o){for(var r=0;r<e.length;++r){var i=e[r],a=!0;if(i.ranges){i.copied||(i=e[r]=i.deepCopy(),i.copied=!0);for(var s=0;s<i.ranges.length;s++)Xr(i.ranges[s].anchor,t,n,o),Xr(i.ranges[s].head,t,n,o);continue}for(var d=0,l;d<i.changes.length;++d)if(l=i.changes[d],n<l.from.line)l.from=fe(l.from.line+o,l.from.ch),l.to=fe(l.to.line+o,l.to.ch);else if(t<=l.to.line){a=!1;break}a||(e.splice(0,r+1),r=0)}}function $r(e,t){var n=t.from.line,o=t.to.line,r=t.text.length-(o-n)-1;Qr(e.done,n,o,r),Qr(e.undone,n,o,r)}function Zr(e,t,n,o){var r=t,i=t;return('number'==typeof t?i=se(e,ve(e,t)):r=pe(t),null==r)?null:(o(i,r)&&e.cm&&Nn(e.cm,r,n),i)}function Jr(e){var t=this;this.lines=e,this.parent=null;for(var n=0,o=0;o<e.length;++o)e[o].parent=t,n+=e[o].height;this.height=n}function ei(e){var t=this;this.children=e;for(var n=0,o=0,r=0,i;r<e.length;++r)i=e[r],n+=i.chunkSize(),o+=i.height,i.parent=t;this.size=n,this.height=o,this.parent=null}function ti(e,t,n){ct(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&io(e,n)}function ni(e,t,n,o){var i=new Os(e,n,o),a=e.cm;return a&&i.noHScroll&&(a.display.alignWidgets=!0),Zr(e,t,'widget',function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(d(n.length-1,r(0,i.insertAt)),0,i),i.line=t,a&&!dt(e,t)){var o=ct(t)<e.scrollTop;ce(t,t.height+Wt(i)),o&&io(a,i.height),a.curOp.forceUpdate=!0}return!0}),a&&xt(a,'lineWidgetAdded',a,i,'number'==typeof t?t:pe(t)),i}function oi(e,t,n,o,r){if(o&&o.shared)return ri(e,t,n,o,r);if(e.cm&&!e.cm.curOp)return xo(e.cm,oi)(e,t,n,o,r);var a=new zs(e,r),s=ge(t,n);if(o&&S(o,a,!1),0<s||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=u('span',[a.replacedWith],'CodeMirror-widget'),!o.handleMouseEvents&&a.widgetNode.setAttribute('cm-ignore-events','true'),o.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(nt(e,t.line,t,n,a)||t.line!=n.line&&nt(e,n.line,t,n,a))throw new Error('Inserting collapsed marker partially overlapping an existing one');Ne()}a.addToHistory&&gr(e,{from:t,to:n,origin:'markText'},e.sel,NaN);var d=t.line,l=e.cm,c;if(e.iter(d,n.line+1,function(e){l&&a.collapsed&&!l.options.lineWrapping&&ot(e)==l.display.maxLine&&(c=!0),a.collapsed&&d!=t.line&&ce(e,0),Ue(e,new Oe(a,d==t.line?t.ch:null,d==n.line?n.ch:null)),++d}),a.collapsed&&e.iter(t.line,n.line+1,function(t){dt(e,t)&&ce(t,0)}),a.clearOnEnter&&as(a,'beforeCursorEnter',function(){return a.clear()}),a.readOnly&&(Be(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Hs,a.atomic=!0),l){if(c&&(l.curOp.updateMaxLine=!0),a.collapsed)Bn(l,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var p=t.line;p<=n.line;p++)Nn(l,p,'text');a.atomic&&Fr(l.doc),xt(l,'markerAdded',l,a)}return a}function ri(e,t,n,o,r){o=S(o),o.shared=!1;var a=[oi(e,t,n,o,r)],s=a[0],d=o.widgetNode;return dr(e,function(e){d&&(o.widgetNode=d.cloneNode(!0)),a.push(oi(e,Ee(e,t),Ee(e,n),o,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=w(a)}),new Us(a,s)}function ii(e){return e.findMarks(fe(e.first,0),e.clipPos(fe(e.lastLine())),function(e){return e.parent})}function ai(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o.find(),i=e.clipPos(r.from),a=e.clipPos(r.to);if(ge(i,a)){var s=oi(e,i,a,o.primary,o.primary.type);o.markers.push(s),s.parent=o}}}function si(e){for(var t=function(t){var n=e[t],o=[n.primary.doc];dr(n.primary.doc,function(e){return o.push(e)});for(var r=0,i;r<n.markers.length;r++)i=n.markers[r],-1==b(o,i.doc)&&(i.parent=null,n.markers.splice(r--,1))},n=0;n<e.length;n++)t(n)}function di(t){var e=this;if(pi(e),!(z(e,t)||Vt(e.display,t))){G(t),Ra&&(Gs=+new Date);var o=Ln(e,t,!0),r=t.dataTransfer.files;if(o&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var a=r.length,n=Array(a),s=0,d=function(t,r){if(!(e.options.allowDropFileTypes&&-1==b(e.options.allowDropFileTypes,t.type))){var i=new FileReader;i.onload=xo(e,function(){var t=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=''),n[r]=t,++s==a){o=Ee(e.doc,o);var d={from:o,to:o,text:e.doc.splitLines(n.join(e.doc.lineSeparator())),origin:'paste'};Wr(e.doc,d),Mr(e.doc,Zo(o,Jo(d)))}}),i.readAsText(t)}},l=0;l<a;++l)d(r[l],l);else{if(e.state.draggingText&&-1<e.doc.sel.contains(o))return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var i=t.dataTransfer.getData('Text');if(i){var c;if(e.state.draggingText&&!e.state.draggingText.copy&&(c=e.listSelections()),Ir(e.doc,Zo(o,o)),c)for(var p=0;p<c.length;++p)Yr(e.doc,'',c[p].anchor,c[p].head,'drag');e.replaceSelection(i,'around','paste'),e.display.input.focus()}}catch(t){}}}}function li(t,n){if(Ra&&(!t.state.draggingText||100>+new Date-Gs))return void q(n);if(!(z(t,n)||Vt(t.display,n))&&(n.dataTransfer.setData('Text',t.getSelection()),n.dataTransfer.effectAllowed='copyMove',n.dataTransfer.setDragImage&&!Ia)){var e=p('img',null,null,'position: fixed; left: 0; top: 0;');e.src='data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==',Aa&&(e.width=e.height=1,t.display.wrapper.appendChild(e),e._top=e.offsetTop),n.dataTransfer.setDragImage(e,0,0),Aa&&e.parentNode.removeChild(e)}}function ci(t,n){var e=Ln(t,n);if(e){var o=document.createDocumentFragment();Gn(t,e,o),t.display.dragCursor||(t.display.dragCursor=p('div',null,'CodeMirror-cursors CodeMirror-dragcursors'),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),c(t.display.dragCursor,o)}}function pi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ui(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName('CodeMirror'),n=[],o=0,r;o<t.length;o++)r=t[o].CodeMirror,r&&n.push(r);n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}function mi(){Ks||(hi(),Ks=!0)}function hi(){var e;as(window,'resize',function(){null==e&&(e=setTimeout(function(){e=null,ui(fi)},100))}),as(window,'blur',function(){return ui($n)})}function fi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function gi(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n=0,o,r,i,a,s;n<t.length-1;n++)if(s=t[n],/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))o=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))i=!0;else throw new Error('Unrecognized modifier name: '+s);return o&&(e='Alt-'+e),r&&(e='Ctrl-'+e),a&&(e='Cmd-'+e),i&&(e='Shift-'+e),e}function yi(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if('...'==o){delete e[n];continue}for(var r=k(n.split(' '),gi),a=0;a<r.length;a++){var i=void 0,s=void 0;a==r.length-1?(s=r.join(' '),i=o):(s=r.slice(0,a+1).join(' '),i='...');var d=t[s];if(!d)t[s]=i;else if(d!=i)throw new Error('Inconsistent bindings for '+s)}delete e[n]}for(var l in t)e[l]=t[l];return e}function Si(e,t,n,o){t=Ei(t);var r=t.call?t.call(e,o):t[e];if(!1===r)return'nothing';if('...'===r)return'multi';if(null!=r&&n(r))return'handled';if(t.fallthrough){if('[object Array]'!=Object.prototype.toString.call(t.fallthrough))return Si(e,t.fallthrough,n,o);for(var a=0,i;a<t.fallthrough.length;a++)if(i=Si(e,t.fallthrough[a],n,o),i)return i}}function Ci(e){var t='string'==typeof e?e:js[e.keyCode];return'Ctrl'==t||'Alt'==t||'Shift'==t||'Mod'==t}function bi(e,t,n){var o=e;return t.altKey&&'Alt'!=o&&(e='Alt-'+e),(Va?t.metaKey:t.ctrlKey)&&'Ctrl'!=o&&(e='Ctrl-'+e),(Va?t.ctrlKey:t.metaKey)&&'Cmd'!=o&&(e='Cmd-'+e),!n&&t.shiftKey&&'Shift'!=o&&(e='Shift-'+e),e}function vi(e,t){if(Aa&&34==e.keyCode&&e.char)return!1;var n=js[e.keyCode];return!(null==n||e.altGraphKey)&&(3==e.keyCode&&e.code&&(n=e.code),bi(n,e,t))}function Ei(e){return'string'==typeof e?Xs[e]:e}function wi(e,t){for(var n=e.doc.sel.ranges,o=[],r=0,i;r<n.length;r++){for(i=t(n[r]);o.length&&0>=ge(i.from,w(o).to);){var a=o.pop();if(0>ge(a.from,i.from)){i.from=a.from;break}}o.push(i)}Ro(e,function(){for(var t=o.length-1;0<=t;t--)Yr(e.doc,'',o[t].from,o[t].to,'+delete');ao(e)})}function ki(e,t,n){var o=A(e.text,t+n,n);return 0>o||o>e.text.length?null:o}function Ti(e,t,n){var o=ki(e,t.ch,n);return null==o?null:new fe(t.line,o,0>n?'after':'before')}function _i(e,t,n,o,r){if(e){var i=B(n,t.doc.direction);if(i){var a=0>r?w(i):i[0],s=0>r==(1==a.level),d=s?'after':'before',l;if(0<a.level||'rtl'==t.doc.direction){var c=tn(t,n);l=0>r?n.text.length-1:0;var p=nn(t,c,l).top;l=I(function(e){return nn(t,c,e).top==p},0>r==(1==a.level)?a.from:a.to-1,l),'before'==d&&(l=ki(n,l,1))}else l=0>r?a.to:a.from;return new fe(o,l,d)}}return new fe(o,0>r?n.text.length:0,0>r?'before':'after')}function Ri(e,t,n,o){var r=B(t,e.doc.direction);if(!r)return Ti(t,n,o);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky='before'):0>=n.ch&&(n.ch=0,n.sticky='after');var i=F(r,n.ch,n.sticky),a=r[i];if('ltr'==e.doc.direction&&0==a.level%2&&(0<o?a.to>n.ch:a.from<n.ch))return Ti(t,n,o);var s=function(e,n){return ki(t,e instanceof fe?e.ch:e,n)},d=function(n){return e.options.lineWrapping?(c=c||tn(e,t),wn(e,t,c,n)):{begin:0,end:t.text.length}},l=d('before'==n.sticky?s(n,-1):n.ch),c;if('rtl'==e.doc.direction||1==a.level){var p=1==a.level==0>o,u=s(n,p?1:-1);if(null!=u&&(p?u<=a.to&&u<=l.end:u>=a.from&&u>=l.begin)){var m=p?'before':'after';return new fe(n.line,u,m)}}var h=function(e,t,o){for(var i=function(e,t){return t?new fe(n.line,s(e,1),'before'):new fe(n.line,e,'after')};0<=e&&e<r.length;e+=t){var a=r[e],d=0<t==(1!=a.level),l=d?o.begin:s(o.end,-1);if(a.from<=l&&l<a.to)return i(l,d);if(l=d?a.from:s(a.to,-1),o.begin<=l&&l<o.end)return i(l,d)}},f=h(i+o,o,l);if(f)return f;var g=0<o?l.end:s(l.begin,-1);return null!=g&&!(0<o&&g==t.text.length)&&(f=h(0<o?0:r.length-1,o,d(g)),f)?f:null}function xi(e,t){var n=se(e.doc,t),o=ot(n);return o!=n&&(t=pe(o)),_i(!0,e,o,t,1)}function Pi(e,t){var n=se(e.doc,t),o=rt(n);return o!=n&&(t=pe(o)),_i(!0,e,n,t,-1)}function Di(e,t){var n=xi(e,t.line),o=se(e.doc,n.line),i=B(o,e.doc.direction);if(!i||0==i[0].level){var a=r(0,o.text.search(/\S/)),s=t.line==n.line&&t.ch<=a&&t.ch;return fe(n.line,s?0:a,n.sticky)}return n}function Mi(e,t,n){if('string'==typeof t&&(t=Qs[t],!t))return!1;e.display.input.ensurePolled();var o=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Qa}finally{e.display.shift=o,e.state.suppressEdits=!1}return r}function Ai(e,t,n){for(var o=0,r;o<e.state.keyMaps.length;o++)if(r=Si(t,e.state.keyMaps[o],n,e),r)return r;return e.options.extraKeys&&Si(t,e.options.extraKeys,n,e)||Si(t,e.options.keyMap,n,e)}function Ii(t,n,o,e){var r=t.state.keySeq;if(r){if(Ci(n))return'handled';if(/\'$/.test(n)?t.state.keySeq=null:$s.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),Li(t,r+' '+n,o,e))return!0}return Li(t,n,o,e)}function Li(t,n,o,e){var r=Ai(t,n,e);return'multi'==r&&(t.state.keySeq=n),'handled'==r&&xt(t,'keyHandled',t,n,o),('handled'==r||'multi'==r)&&(G(o),qn(t)),!!r}function Fi(t,n){var e=vi(n,!0);return!!e&&(n.shiftKey&&!t.state.keySeq?Ii(t,'Shift-'+e,n,function(e){return Mi(t,e,!0)})||Ii(t,e,n,function(e){if('string'==typeof e?/^go[A-Z]/.test(e):e.motion)return Mi(t,e)}):Ii(t,e,n,function(e){return Mi(t,e)}))}function Bi(t,n,e){return Ii(t,'\''+e+'\'',n,function(e){return Mi(t,e,!0)})}function Ni(t){var e=this;if(e.curOp.focus=h(),!z(e,t)){Ra&&11>xa&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var o=Fi(e,t);Aa&&(Zs=o?n:null,!o&&88==n&&!ls&&(Ha?t.metaKey:t.ctrlKey)&&e.replaceSelection('',null,'cut')),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||Oi(e)}}function Oi(e){function t(o){18!=o.keyCode&&o.altKey||(Ka(n,'CodeMirror-crosshair'),O(document,'keyup',t),O(document,'mouseover',t))}var n=e.display.lineDiv;f(n,'CodeMirror-crosshair'),as(document,'keyup',t),as(document,'mouseover',t)}function Hi(t){16==t.keyCode&&(this.doc.sel.shift=!1),z(this,t)}function zi(n){var e=this;if(!(Vt(e.display,n)||z(e,n)||n.ctrlKey&&!n.altKey||Ha&&n.metaKey)){var o=n.keyCode,r=n.charCode;if(Aa&&o==Zs)return Zs=null,void G(n);if(!(Aa&&(!n.which||10>n.which)&&Fi(e,n))){var i=t(null==r?o:r);'\b'==i||Bi(e,n,i)||e.display.input.onKeyPress(n)}}}function Ui(e,t){var n=+new Date;return rd&&rd.compare(n,e,t)?(od=rd=null,'triple'):od&&od.compare(n,e,t)?(rd=new Js(n,e,t),od=null,'double'):(od=new Js(n,e,t),rd=null,'single')}function Wi(t){var e=this,n=e.display;if(!(z(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=t.shiftKey,Vt(n,t))return void(Pa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!$i(e,t)){var o=Ln(e,t),r=X(t),i=o?Ui(o,r):'single';window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),o&&Vi(e,r,o,i,t)||(1==r?o?Ki(e,o,i,t):Y(t)==n.scroller&&G(t):2==r?(o&&_r(e.doc,o),setTimeout(function(){return n.input.focus()},20)):3==r&&(Ga?e.display.input.onContextMenu(t):Xn(e)))}}}function Vi(e,t,n,o,r){var i='Click';return'double'==o?i='Double'+i:'triple'==o&&(i='Triple'+i),i=(1==t?'Left':2==t?'Middle':'Right')+i,Ii(e,bi(i,r),r,function(t){if('string'==typeof t&&(t=Qs[t]),!t)return!1;var o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),o=t(e,n)!=Qa}finally{e.state.suppressEdits=!1}return o})}function Gi(e,t,n){var o=e.getOption('configureMouse'),r=o?o(e,t,n):{};if(null==r.unit){var i=za?n.shiftKey&&n.metaKey:n.altKey;r.unit=i?'rectangle':'single'==t?'char':'double'==t?'word':'line'}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=Ha?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=Ha?!n.altKey:!n.ctrlKey),r}function Ki(e,t,n,o){Ra?setTimeout(y(Yn,e),0):e.curOp.focus=h();var r=Gi(e,n,o),i=e.doc.sel,a;e.options.dragDrop&&on&&!e.isReadOnly()&&'single'==n&&-1<(a=i.contains(t))&&(0>ge((a=i.ranges[a]).from(),t)||0<t.xRel)&&(0<ge(a.to(),t)||0>t.xRel)?ji(e,o,t,r):Yi(e,o,t,r)}function ji(t,e,n,r){var i=t.display,a=!1,s=xo(t,function(o){Pa&&(i.scroller.draggable=!1),t.state.draggingText=!1,O(i.wrapper.ownerDocument,'mouseup',s),O(i.wrapper.ownerDocument,'mousemove',d),O(i.scroller,'dragstart',l),O(i.scroller,'drop',s),a||(G(o),!r.addNew&&_r(t.doc,n,null,null,r.extend),Pa||Ra&&9==xa?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),d=function(t){a=a||10<=o(e.clientX-t.clientX)+o(e.clientY-t.clientY)},l=function(){return a=!0};Pa&&(i.scroller.draggable=!0),t.state.draggingText=s,s.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),as(i.wrapper.ownerDocument,'mouseup',s),as(i.wrapper.ownerDocument,'mousemove',d),as(i.scroller,'dragstart',l),as(i.scroller,'drop',s),Xn(t),setTimeout(function(){return i.input.focus()},20)}function qi(e,t,n){if('char'==n)return new Ns(t,t);if('word'==n)return e.findWordAt(t);if('line'==n)return new Ns(fe(t.line,0),Ee(e.doc,fe(t.line+1,0)));var o=n(e,t);return new Ns(o.from,o.to)}function Yi(t,e,n,o){function i(e){if(0!=ge(y,e))if(y=e,'rectangle'==o.unit){for(var i=[],a=t.options.tabSize,s=C(se(c,n.line).text,n.ch,a),l=C(se(c,e.line).text,e.ch,a),u=d(s,l),h=r(s,l),g=d(n.line,e.line),S=d(t.lastLine(),r(n.line,e.line));g<=S;g++){var b=se(c,g).text,E=v(b,u,a);u==h?i.push(new Ns(fe(g,E),fe(g,E))):b.length>E&&i.push(new Ns(fe(g,E),fe(g,v(b,h,a))))}i.length||i.push(new Ns(n,n)),Ar(c,$o(t,p.ranges.slice(0,f).concat(i),f),{origin:'*mouse',scroll:!1}),t.scrollIntoView(e)}else{var w=m,k=qi(t,e,o.unit),T=w.anchor,_;0<ge(k.anchor,T)?(_=k.head,T=be(w.from(),k.anchor)):(_=k.anchor,T=Ce(w.to(),k.head));var R=p.ranges.slice(0);R[f]=Xi(t,new Ns(Ee(c,T),_)),Ar(c,$o(t,R,f),Za)}}function a(n){var e=++b,r=Ln(t,n,!0,'rectangle'==o.unit);if(r)if(0!=ge(r,y)){t.curOp.focus=h(),i(r);var s=eo(l,c);(r.line>=s.to||r.line<s.from)&&setTimeout(xo(t,function(){b==e&&a(n)}),150)}else{var d=n.clientY<S.top?-20:n.clientY>S.bottom?20:0;d&&setTimeout(xo(t,function(){b!=e||(l.scroller.scrollTop+=d,a(n))}),50)}}function s(n){t.state.selectingText=!1,b=Infinity,n&&(G(n),l.input.focus()),O(l.wrapper.ownerDocument,'mousemove',E),O(l.wrapper.ownerDocument,'mouseup',w),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;G(e);var p=c.sel,u=p.ranges,m,f;if(o.addNew&&!o.extend?(f=c.sel.contains(n),m=-1<f?u[f]:new Ns(n,n)):(m=c.sel.primary(),f=c.sel.primIndex),'rectangle'==o.unit)o.addNew||(m=new Ns(n,n)),n=Ln(t,e,!0,!0),f=-1;else{var g=qi(t,n,o.unit);m=o.extend?Tr(m,g.anchor,g.head,o.extend):g}o.addNew?-1==f?(f=u.length,Ar(c,$o(t,u.concat([m]),f),{scroll:!1,origin:'*mouse'})):1<u.length&&u[f].empty()&&'char'==o.unit&&!o.extend?(Ar(c,$o(t,u.slice(0,f).concat(u.slice(f+1)),0),{scroll:!1,origin:'*mouse'}),p=c.sel):xr(c,f,m,Za):(f=0,Ar(c,new Bs([m],0),Za),p=c.sel);var y=n,S=l.wrapper.getBoundingClientRect(),b=0,E=xo(t,function(t){0!==t.buttons&&X(t)?a(t):s(t)}),w=xo(t,s);t.state.selectingText=w,as(l.wrapper.ownerDocument,'mousemove',E),as(l.wrapper.ownerDocument,'mouseup',w)}function Xi(e,t){var n=t.anchor,o=t.head,r=se(e.doc,n.line);if(0==ge(n,o)&&n.sticky==o.sticky)return t;var i=B(r);if(!i)return t;var a=F(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var d=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==d||d==i.length)return t;var l;if(o.line!=n.line)l=0<(o.line-n.line)*('ltr'==e.doc.direction?1:-1);else{var c=F(i,o.ch,o.sticky),p=c-a||(o.ch-n.ch)*(1==s.level?-1:1);l=c==d-1||c==d?0>p:0<p}var u=i[d+(l?-1:0)],m=l==(1==u.level),h=m?u.from:u.to,f=m?'after':'before';return n.ch==h&&n.sticky==f?t:new Ns(new fe(n.line,h,f),o)}function Qi(t,n,e,o){var r,s;if(n.touches)r=n.touches[0].clientX,s=n.touches[0].clientY;else try{r=n.clientX,s=n.clientY}catch(t){return!1}if(r>=a(t.display.gutters.getBoundingClientRect().right))return!1;o&&G(n);var d=t.display,l=d.lineDiv.getBoundingClientRect();if(s>l.bottom||!W(t,e))return j(n);s-=l.top-d.viewOffset;for(var c=0,i;c<t.display.gutterSpecs.length;++c)if(i=d.gutters.childNodes[c],i&&i.getBoundingClientRect().right>=r){var p=ue(t.doc,s),u=t.display.gutterSpecs[c];return H(t,e,t,p,u.className,n),j(n)}}function $i(t,n){return Qi(t,n,'gutterClick',!0)}function Zi(t,n){Vt(t.display,n)||Ji(t,n)||z(t,n,'contextmenu')||!Ga&&t.display.input.onContextMenu(n)}function Ji(t,n){return!!W(t,'gutterContextMenu')&&Qi(t,n,'gutterContextMenu',!1)}function ea(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,'')+e.options.theme.replace(/(^|\s)\s*/g,' cm-s-'),pn(e)}function ta(e,t,n){if(!t!=!(n&&n!=ed)){var o=e.display.dragFunctions,r=t?as:O;r(e.display.scroller,'dragstart',o.start),r(e.display.scroller,'dragenter',o.enter),r(e.display.scroller,'dragover',o.over),r(e.display.scroller,'dragleave',o.leave),r(e.display.scroller,'drop',o.drop)}}function na(e){e.options.lineWrapping?(f(e.display.wrapper,'CodeMirror-wrap'),e.display.sizer.style.minWidth='',e.display.sizerWidth=null):(Ka(e.display.wrapper,'CodeMirror-wrap'),ut(e)),In(e),Bn(e),pn(e),setTimeout(function(){return go(e)},100)}function oa(e,t){var n=this;if(!(this instanceof oa))return new oa(e,t);this.options=t=t?S(t):{},S(td,t,!1);var o=t.value;'string'==typeof o?o=new Vs(o,t.mode,null,t.lineSeparator,t.direction):t.mode&&(o.modeOption=t.mode),this.doc=o;var r=new oa.inputStyles[t.inputStyle](this),a=this.display=new qo(e,o,r,t);for(var s in a.wrapper.CodeMirror=this,ea(this),t.lineWrapping&&(this.display.wrapper.className+=' CodeMirror-wrap'),So(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ya,keySeq:null,specialChars:null},t.autofocus&&!Oa&&a.input.focus(),Ra&&11>xa&&setTimeout(function(){return n.display.input.reset(!0)},20),ra(this),mi(),Co(this),this.curOp.forceUpdate=!0,lr(this,o),t.autofocus&&!Oa||this.hasFocus()?setTimeout(y(Qn,this),20):$n(this),nd)nd.hasOwnProperty(s)&&nd[s](n,t[s],ed);Vo(this),t.finishInit&&t.finishInit(this);for(var d=0;d<id.length;++d)id[d](n);bo(this),Pa&&t.lineWrapping&&'optimizelegibility'==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering='auto')}function ra(t){function n(){i.activeTouch&&(s=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return 1>=e.radiusX&&1>=e.radiusY}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,o=t.top-e.top;return 400<n*n+o*o}var i=t.display;as(i.scroller,'mousedown',xo(t,Wi)),Ra&&11>xa?as(i.scroller,'dblclick',xo(t,function(n){if(!z(t,n)){var e=Ln(t,n);if(!(!e||$i(t,n)||Vt(t.display,n))){G(n);var o=t.findWordAt(e);_r(t.doc,o.anchor,o.head)}}})):as(i.scroller,'dblclick',function(n){return z(t,n)||G(n)}),as(i.scroller,'contextmenu',function(n){return Zi(t,n)});var a={end:0},s;as(i.scroller,'touchstart',function(n){if(!z(t,n)&&!o(n)&&!$i(t,n)){i.input.ensurePolled(),clearTimeout(s);var e=+new Date;i.activeTouch={start:e,moved:!1,prev:300>=e-a.end?a:null},1==n.touches.length&&(i.activeTouch.left=n.touches[0].pageX,i.activeTouch.top=n.touches[0].pageY)}}),as(i.scroller,'touchmove',function(){i.activeTouch&&(i.activeTouch.moved=!0)}),as(i.scroller,'touchend',function(o){var e=i.activeTouch;if(e&&!Vt(i,o)&&null!=e.left&&!e.moved&&300>new Date-e.start){var a=t.coordsChar(i.activeTouch,'page'),s;s=!e.prev||r(e,e.prev)?new Ns(a,a):!e.prev.prev||r(e,e.prev.prev)?t.findWordAt(a):new Ns(fe(a.line,0),Ee(t.doc,fe(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),G(o)}n()}),as(i.scroller,'touchcancel',n),as(i.scroller,'scroll',function(){i.scroller.clientHeight&&(uo(t,i.scroller.scrollTop),ho(t,i.scroller.scrollLeft,!0),H(t,'scroll',t))}),as(i.scroller,'mousewheel',function(n){return Qo(t,n)}),as(i.scroller,'DOMMouseScroll',function(n){return Qo(t,n)}),as(i.wrapper,'scroll',function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(n){z(t,n)||q(n)},over:function(n){z(t,n)||(ci(t,n),q(n))},start:function(n){return li(t,n)},drop:xo(t,di),leave:function(n){z(t,n)||pi(t)}};var e=i.input.getField();as(e,'keyup',function(n){return Hi.call(t,n)}),as(e,'keydown',xo(t,Ni)),as(e,'keypress',xo(t,zi)),as(e,'focus',function(n){return Qn(t,n)}),as(e,'blur',function(n){return $n(t,n)})}function ia(e,t,n,o){var s=e.doc,d;null==n&&(n='add'),'smart'==n&&(s.mode.indent?d=Re(e,t).state:n='prev');var l=e.options.tabSize,c=se(s,t),p=C(c.text,null,l);c.stateAfter&&(c.stateAfter=null);var u=c.text.match(/^\s*/)[0],m;if(!o&&!/\S/.test(c.text))m=0,n='not';else if('smart'==n&&(m=s.mode.indent(d,c.text.slice(u.length),c.text),m==Qa||150<m)){if(!o)return;n='prev'}'prev'==n?t>s.first?m=C(se(s,t-1).text,null,l):m=0:'add'==n?m=p+e.options.indentUnit:'subtract'==n?m=p-e.options.indentUnit:'number'==typeof n&&(m=p+n),m=r(0,m);var h='',f=0;if(e.options.indentWithTabs)for(var g=a(m/l);g;--g)f+=l,h+='\t';if(f<m&&(h+=E(m-f)),h!=u)return Yr(s,h,fe(t,0),fe(t,u.length),'+input'),c.stateAfter=null,!0;for(var i=0,y;i<s.sel.ranges.length;i++)if(y=s.sel.ranges[i],y.head.line==t&&y.head.ch<u.length){var S=fe(t,u.length);xr(s,i,new Ns(S,S));break}}function aa(e){ad=e}function sa(e,t,n,o,r){var a=e.doc;e.display.shift=!1,o||(o=a.sel);var s=+new Date-200,l='paste'==r||e.state.pasteIncoming>s,c=ss(t),p=null;if(l&&1<o.ranges.length)if(!(ad&&ad.text.join('\n')==t))c.length==o.ranges.length&&e.options.pasteLinesPerSelection&&(p=k(c,function(e){return[e]}));else if(0==o.ranges.length%ad.text.length){p=[];for(var u=0;u<ad.text.length;u++)p.push(a.splitLines(ad.text[u]))}for(var i=e.curOp.updateInput,m=o.ranges.length-1;0<=m;m--){var h=o.ranges[m],f=h.from(),g=h.to();h.empty()&&(n&&0<n?f=fe(f.line,f.ch-n):e.state.overwrite&&!l?g=fe(g.line,d(se(a,g.line).text.length,g.ch+w(c).length)):l&&ad&&ad.lineWise&&ad.text.join('\n')==t&&(f=g=fe(f.line,0)));var y={from:f,to:g,text:p?p[m%p.length]:c,origin:r||(l?'paste':e.state.cutIncoming>s?'cut':'+input')};Wr(e.doc,y),xt(e,'inputRead',e,y)}t&&!l&&la(e,t),ao(e),2>e.curOp.updateInput&&(e.curOp.updateInput=i),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function da(t,e){var n=t.clipboardData&&t.clipboardData.getData('Text');if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ro(e,function(){return sa(e,n,0,null,'paste')}),!0}function la(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,o=n.ranges.length-1,r;0<=o;o--)if(r=n.ranges[o],!(100<r.head.ch||o&&n.ranges[o-1].head.line==r.head.line)){var i=e.getModeAt(r.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(-1<t.indexOf(i.electricChars.charAt(s))){a=ia(e,r.head.line,'smart');break}}else i.electricInput&&i.electricInput.test(se(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=ia(e,r.head.line,'smart'));a&&xt(e,'electricInput',e,r.head.line)}}function ca(e){for(var t=[],n=[],o=0;o<e.doc.sel.ranges.length;o++){var r=e.doc.sel.ranges[o].head.line,i={anchor:fe(r,0),head:fe(r+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function pa(e,t,n,o){e.setAttribute('autocorrect',n?'':'off'),e.setAttribute('autocapitalize',o?'':'off'),e.setAttribute('spellcheck',!!t)}function ua(){var e=p('textarea',null,null,'position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none'),t=p('div',[e],null,'overflow: hidden; position: relative; width: 3px; height: 0px;');return Pa?e.style.width='1000px':e.setAttribute('wrap','off'),Ba&&(e.style.border='1px solid black'),pa(e),t}function ma(e,t,n,o,r){function i(){var o=t.line+n;return!(o<e.first||o>=e.first+e.size)&&(t=new fe(o,t.ch,t.sticky),c=se(e,o))}function a(o){var a;if(a=r?Ri(e.cm,c,t,n):Ti(c,t,n),null!=a)t=a;else if(!o&&i())t=_i(r,e.cm,c,t.line,n);else return!1;return!0}var s=t,d=n,c=se(e,t.line);if('char'==o)a();else if('column'==o)a(!0);else if('word'==o||'group'==o)for(var l=null,p='group'==o,u=e.cm&&e.cm.getHelper(t,'wordChars'),m=!0;;m=!1){if(0>n&&!a(!m))break;var h=c.text.charAt(t.ch)||'\n',f=P(h,u)?'w':p&&'\n'==h?'n':!p||/\s/.test(h)?null:'p';if(!p||m||f||(f='s'),l&&l!=f){0>n&&(n=1,a(),t.sticky='after');break}if(f&&(l=f),0<n&&!a(!m))break}var g=Or(e,t,s,d,!0);return ye(s,g)&&(g.hitSide=!0),g}function ha(e,t,n,o){var i=e.doc,a=t.left,s;if('page'==o){var l=d(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=r(l-.5*xn(e.display),3);s=(0<n?t.bottom:t.top)+n*c}else'line'==o&&(s=0<n?t.bottom+3:t.top-3);for(var p;;){if(p=vn(e,a,s),!p.outside)break;if(0>n?0>=s:s>=i.height){p.hitSide=!0;break}s+=5*n}return p}function fa(e,t){var n=en(e,t.line);if(!n||n.hidden)return null;var o=se(e.doc,t.line),r=$t(n,o,t.line),i=B(o,e.doc.direction),a='left';if(i){var s=F(i,t.ch);a=s%2?'right':'left'}var d=rn(r.map,t.ch,a);return d.offset='right'==d.collapse?d.end:d.start,d}function ga(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ya(e,t){return t&&(e.bad=!0),e}function Sa(e,t,n,o,r){function i(e){return function(t){return t.id==e}}function a(){c&&(l+=p,u&&(l+=p),c=u=!1)}function s(e){e&&(a(),l+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute('cm-text');if(n)return void s(n);var l=t.getAttribute('cm-marker'),m;if(l){var h=e.findMarks(fe(o,0),fe(r+1,0),i(+l));return void(h.length&&(m=h[0].find(0))&&s(de(e.doc,m.from,m.to).join(p)))}if('false'==t.getAttribute('contenteditable'))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&a();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(u=!0),f&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,'').replace(/\u00a0/g,' '))}for(var l='',c=!1,p=e.doc.lineSeparator(),u=!1;;){if(d(t),t==n)break;t=t.nextSibling,u=!1}return l}function Ca(e,t,n){var o;if(t==e.display.lineDiv){if(o=e.display.lineDiv.childNodes[n],!o)return ya(e.clipPos(fe(e.display.viewTo-1)),!0);t=null,n=0}else for(o=t;;o=o.parentNode){if(!o||o==e.display.lineDiv)return null;if(o.parentNode&&o.parentNode==e.display.lineDiv)break}for(var r=0,i;r<e.display.view.length;r++)if(i=e.display.view[r],i.node==o)return ba(i,t,n)}function ba(e,t,n){function o(t,n,o){for(var r=-1,i;r<(c?c.length:0);r++){i=0>r?l.map:c[r];for(var a=0,s;a<i.length;a+=3)if(s=i[a+2],s==t||s==n){var d=pe(0>r?e.line:e.rest[r]),p=i[a]+o;return(0>o||s!=t)&&(p=i[a+(o?1:0)]),fe(d,p)}}}var r=e.text.firstChild,i=!1;if(!t||!m(r,t))return ya(fe(pe(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var a=e.rest?w(e.rest):e.line;return ya(fe(pe(a),a.text.length),i)}var s=3==t.nodeType?t:null,d=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));d.parentNode!=r;)d=d.parentNode;var l=e.measure,c=l.maps,p=o(s,d,n);if(p)return ya(p,i);for(var u=d.nextSibling,h=s?s.nodeValue.length-n:0;u;u=u.nextSibling){if(p=o(u,u.firstChild,0),p)return ya(fe(p.line,p.ch-h),i);h+=u.textContent.length}for(var f=d.previousSibling,g=n;f;f=f.previousSibling){if(p=o(f,f.firstChild,-1),p)return ya(fe(p.line,p.ch+g),i);g+=f.textContent.length}}var va=navigator.userAgent,Ea=navigator.platform,wa=/gecko\/\d/i.test(va),ka=/MSIE \d/.test(va),Ta=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(va),_a=/Edge\/(\d+)/.exec(va),Ra=ka||Ta||_a,xa=Ra&&(ka?document.documentMode||6:+(_a||Ta)[1]),Pa=!_a&&/WebKit\//.test(va),Da=Pa&&/Qt\/\d+\.\d+/.test(va),Ma=!_a&&/Chrome\//.test(va),Aa=/Opera\//.test(va),Ia=/Apple Computer/.test(navigator.vendor),La=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(va),Fa=/PhantomJS/.test(va),Ba=!_a&&/AppleWebKit/.test(va)&&/Mobile\/\w+/.test(va),Na=/Android/.test(va),Oa=Ba||Na||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(va),Ha=Ba||/Mac/.test(Ea),za=/\bCrOS\b/.test(va),Ua=/win/i.test(Ea),Wa=Aa&&va.match(/Version\/(\d*\.\d*)/);Wa&&(Wa=+Wa[1]),Wa&&15<=Wa&&(Aa=!1,Pa=!0);var Va=Ha&&(Da||Aa&&(null==Wa||12.11>Wa)),Ga=wa||Ra&&9<=xa,Ka=function(t,n){var o=t.className,r=e(n).exec(o);if(r){var i=o.slice(r.index+r[0].length);t.className=o.slice(0,r.index)+(i?r[1]+i:'')}},ja;ja=document.createRange?function(e,t,n,o){var i=document.createRange();return i.setEnd(o||e,n),i.setStart(e,t),i}:function(e,t,n){var o=document.body.createTextRange();try{o.moveToElementText(e.parentNode)}catch(t){return o}return o.collapse(!0),o.moveEnd('character',n),o.moveStart('character',t),o};var qa=function(e){e.select()};Ba?qa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Ra&&(qa=function(e){try{e.select()}catch(e){}});var Ya=function(){this.id=null,this.f=null,this.time=0,this.handler=y(this.onTimeout,this)};Ya.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ya.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var Xa=30,Qa={toString:function(){return'CodeMirror.Pass'}},$a={scroll:!1},Za={origin:'*mouse'},Ja={origin:'+move'},es=[''],ts=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ns=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,os=null,rs=function(){function e(e){return 247>=e?n.charAt(e):1424<=e&&1524>=e?'R':1536<=e&&1785>=e?o.charAt(e-1536):1774<=e&&2220>=e?'r':8192<=e&&8203>=e?'w':8204==e?'b':'L'}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n='bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN',o='nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111',r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,d=/[1n]/;return function(n,o){var l='ltr'==o?'L':'R';if(0==n.length||'ltr'==o&&!r.test(n))return!1;for(var c=n.length,p=[],u=0;u<c;++u)p.push(e(n.charCodeAt(u)));for(var h=0,f=l,g;h<c;++h)g=p[h],'m'==g?p[h]=f:f=g;for(var y=0,S=l,C;y<c;++y)C=p[y],'1'==C&&'r'==S?p[y]='n':a.test(C)&&(S=C,'r'==C&&(p[y]='R'));for(var b=1,v=p[0],E;b<c-1;++b)E=p[b],'+'==E&&'1'==v&&'1'==p[b+1]?p[b]='1':','==E&&v==p[b+1]&&('1'==v||'n'==v)&&(p[b]=v),v=E;for(var k=0,T;k<c;++k)if(T=p[k],','==T)p[k]='N';else if('%'==T){var _=void 0;for(_=k+1;_<c&&'%'==p[_];++_);for(var R=k&&'!'==p[k-1]||_<c&&'1'==p[_]?'1':'N',x=k;x<_;++x)p[x]=R;k=_-1}for(var P=0,D=l,M;P<c;++P)M=p[P],'L'==D&&'1'==M?p[P]='L':a.test(M)&&(D=M);for(var A=0;A<c;++A)if(i.test(p[A])){var I=void 0;for(I=A+1;I<c&&i.test(p[I]);++I);for(var L='L'==(A?p[A-1]:l),F='L'==(I<c?p[I]:l),B=L==F?L?'L':'R':l,N=A;N<I;++N)p[N]=B;A=I-1}for(var O=[],H=0,z;H<c;)if(s.test(p[H])){var m=H;for(++H;H<c&&s.test(p[H]);++H);O.push(new t(0,m,H))}else{var U=H,W=O.length;for(++H;H<c&&'L'!=p[H];++H);for(var V=U;V<H;)if(d.test(p[V])){U<V&&O.splice(W,0,new t(1,U,V));var G=V;for(++V;V<H&&d.test(p[V]);++V);O.splice(W,0,new t(2,G,V)),U=V}else++V;U<H&&O.splice(W,0,new t(1,U,H))}return'ltr'==o&&(1==O[0].level&&(z=n.match(/^\s+/))&&(O[0].from=z[0].length,O.unshift(new t(0,0,z[0].length))),1==w(O).level&&(z=n.match(/\s+$/))&&(w(O).to-=z[0].length,O.push(new t(0,c-z[0].length,c)))),'rtl'==o?O.reverse():O}}(),is=[],as=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent('on'+t,n);else{var o=e._handlers||(e._handlers={});o[t]=(o[t]||is).concat(n)}},on=function(){if(Ra&&9>xa)return!1;var e=p('div');return'draggable'in e||'dragDrop'in e}(),ss=3=='\n\nb'.split(/\n/).length?function(e){return e.split(/\r\n?|\n/)}:function(e){for(var t=0,n=[],o=e.length,r;t<=o;){r=e.indexOf('\n',t),-1==r&&(r=e.length);var i=e.slice(t,'\r'==e.charAt(r-1)?r-1:r),a=i.indexOf('\r');-1==a?(n.push(i),t=r+1):(n.push(i.slice(0,a)),t+=a+1)}return n},ds=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(t){}return!!(t&&t.parentElement()==e)&&0!=t.compareEndPoints('StartToEnd',t)},ls=function(){var t=p('div');return!!('oncopy'in t)||(t.setAttribute('oncopy','return;'),'function'==typeof t.oncopy)}(),cs=null,ps={},us={},ms={},hs=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n},fs,gs;hs.prototype.eol=function(){return this.pos>=this.string.length},hs.prototype.sol=function(){return this.pos==this.lineStart},hs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},hs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},hs.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(n='string'==typeof e?t==e:t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},hs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},hs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},hs.prototype.skipToEnd=function(){this.pos=this.string.length},hs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},hs.prototype.backUp=function(e){this.pos-=e},hs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=C(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},hs.prototype.indentation=function(){return C(this.string,null,this.tabSize)-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},hs.prototype.match=function(e,t,n){if('string'==typeof e){var o=function(e){return n?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);if(o(r)==o(e))return!1!==t&&(this.pos+=e.length),!0}else{var i=this.string.slice(this.pos).match(e);return i&&0<i.index?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}},hs.prototype.current=function(){return this.string.slice(this.start,this.pos)},hs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},hs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},hs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ys=function(e,t){this.state=e,this.lookAhead=t},Ss=function(e,t,n,o){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};Ss.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Ss.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,''),size:this.baseTokens[this.baseTokenPos]-e}},Ss.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Ss.fromSaved=function(e,t,n){return t instanceof ys?new Ss(e,oe(e.mode,t.state),n,t.lookAhead):new Ss(e,oe(e.mode,t),n)},Ss.prototype.save=function(e){var t=!1===e?this.state:oe(this.doc.mode,this.state);return 0<this.maxLookAhead?new ys(t,this.maxLookAhead):t};var Cs=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},bs=!1,vs=!1,Es=function(e,t,n){this.text=e,Ye(this,t),this.height=n?n(this):1};Es.prototype.lineNo=function(){return pe(this)},V(Es);var ws={},ks={},Ts=null,_s=null,Rs={left:0,right:0,top:0,bottom:0},xs=function(e,t,n){this.cm=n;var o=this.vert=p('div',[p('div',null,null,'min-width: 1px')],'CodeMirror-vscrollbar'),r=this.horiz=p('div',[p('div',null,null,'height: 100%; min-height: 1px')],'CodeMirror-hscrollbar');o.tabIndex=r.tabIndex=-1,e(o),e(r),as(o,'scroll',function(){o.clientHeight&&t(o.scrollTop,'vertical')}),as(r,'scroll',function(){r.clientWidth&&t(r.scrollLeft,'horizontal')}),this.checkedZeroWidth=!1,Ra&&8>xa&&(this.horiz.style.minHeight=this.vert.style.minWidth='18px')},Ps;xs.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,o=e.nativeBarWidth;if(n){this.vert.style.display='block',this.vert.style.bottom=t?o+'px':'0';var i=e.viewHeight-(t?o:0);this.vert.firstChild.style.height=r(0,e.scrollHeight-e.clientHeight+i)+'px'}else this.vert.style.display='',this.vert.firstChild.style.height='0';if(t){this.horiz.style.display='block',this.horiz.style.right=n?o+'px':'0',this.horiz.style.left=e.barLeft+'px';var a=e.viewWidth-e.barLeft-(n?o:0);this.horiz.firstChild.style.width=r(0,e.scrollWidth-e.clientWidth+a)+'px'}else this.horiz.style.display='',this.horiz.firstChild.style.width='0';return!this.checkedZeroWidth&&0<e.clientHeight&&(0==o&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?o:0,bottom:t?o:0}},xs.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,'horiz')},xs.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,'vert')},xs.prototype.zeroWidthHack=function(){var e=Ha&&!La?'12px':'18px';this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents='none',this.disableHoriz=new Ya,this.disableVert=new Ya},xs.prototype.enableZeroWidthBar=function(e,t,n){function o(){var r=e.getBoundingClientRect(),i='vert'==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);i==e?t.set(1e3,o):e.style.pointerEvents='none'}e.style.pointerEvents='auto',t.set(1e3,o)},xs.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ds=function(){};Ds.prototype.update=function(){return{bottom:0,right:0}},Ds.prototype.setScrollLeft=function(){},Ds.prototype.setScrollTop=function(){},Ds.prototype.clear=function(){};var Ms={native:xs,null:Ds},As=0,Is=function(e,t,n){var o=e.display;this.viewport=t,this.visible=eo(o,e.doc,t),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=Yt(e),this.force=n,this.dims=Dn(e),this.events=[]};Is.prototype.signal=function(e,t){W(e,t)&&this.events.push(arguments)},Is.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)H.apply(null,e.events[t])};var Ls=0,Fs=null;Ra?Fs=-.53:wa?Fs=15:Ma?Fs=-.7:Ia&&(Fs=-1/3);var Bs=function(e,t){this.ranges=e,this.primIndex=t};Bs.prototype.primary=function(){return this.ranges[this.primIndex]},Bs.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var o=t.ranges[n],r=e.ranges[n];if(!ye(o.anchor,r.anchor)||!ye(o.head,r.head))return!1}return!0},Bs.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Ns(Se(e.ranges[n].anchor),Se(e.ranges[n].head));return new Bs(t,this.primIndex)},Bs.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Bs.prototype.contains=function(e,t){var n=this;t||(t=e);for(var o=0,r;o<this.ranges.length;o++)if(r=n.ranges[o],0<=ge(t,r.from())&&0>=ge(e,r.to()))return o;return-1};var Ns=function(e,t){this.anchor=e,this.head=t};Ns.prototype.from=function(){return be(this.anchor,this.head)},Ns.prototype.to=function(){return Ce(this.anchor,this.head)},Ns.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Jr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,o=e,r;o<e+t;++o)r=n.lines[o],n.height-=r.height,ht(r),xt(r,'delete');this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var o=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=o},iterN:function(t,o,n){for(var r=this,i=t+o;t<i;++t)if(n(r.lines[t]))return!0}},ei.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var o=0;o<this.children.length;++o){var r=n.children[o],i=r.chunkSize();if(e<i){var a=d(t,i-e),s=r.height;if(r.removeInner(e,a),n.height-=s-r.height,i==a&&(n.children.splice(o--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(25>this.size-t&&(1<this.children.length||!(this.children[0]instanceof Jr))){var l=[];this.collapse(l),this.children=[new Jr(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var o=this;this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=o.children[r],a=i.chunkSize();if(e<=a){if(i.insertInner(e,t,n),i.lines&&50<i.lines.length){for(var s=i.lines.length%25+25,d=s,l;d<i.lines.length;)l=new Jr(i.lines.slice(d,d+=25)),i.height-=l.height,o.children.splice(++r,0,l),l.parent=o;i.lines=i.lines.slice(0,s),o.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(10>=this.children.length)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new ei(t);if(!e.parent){var o=new ei(e.children);o.parent=e,e.children=[o,n],e=o}else{e.size-=n.size,e.height-=n.height;var r=b(e.parent.children,e);e.parent.children.splice(r+1,0,n)}n.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var o=this,r=0;r<this.children.length;++r){var i=o.children[r],a=i.chunkSize();if(e<a){var s=d(t,a-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Os=function(e,t,n){var o=this;if(n)for(var r in n)n.hasOwnProperty(r)&&(o[r]=n[r]);this.doc=e,this.node=t};Os.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,o=this.line,a=pe(o);if(null!=a&&n){for(var s=0;s<n.length;++s)n[s]==e&&n.splice(s--,1);n.length||(o.widgets=null);var i=Wt(this);ce(o,r(0,o.height-i)),t&&(Ro(t,function(){ti(t,o,-i),Nn(t,a,'widget')}),xt(t,'lineWidgetCleared',t,this,a))}},Os.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,o=this.line;this.height=null;var r=Wt(this)-t;r&&(!dt(this.doc,o)&&ce(o,o.height+r),n&&Ro(n,function(){n.curOp.forceUpdate=!0,ti(n,o,r),xt(n,'lineWidgetChanged',n,e,pe(o))}))},V(Os);var Hs=0,zs=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Hs};zs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&Co(t),W(this,'clear')){var o=this.find();o&&xt(this,'clear',o.from,o.to)}for(var r=null,a=null,s=0;s<this.lines.length;++s){var i=e.lines[s],d=He(i.markedSpans,e);t&&!e.collapsed?Nn(t,pe(i),'text'):t&&(null!=d.to&&(a=pe(i)),null!=d.from&&(r=pe(i))),i.markedSpans=ze(i.markedSpans,d),null==d.from&&e.collapsed&&!dt(e.doc,i)&&t&&ce(i,xn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=ot(e.lines[l]),p=pt(c);p>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=p,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Bn(t,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Fr(t.doc)),t&&xt(t,'markerCleared',t,this,r,a),n&&bo(t),this.parent&&this.parent.clear()}},zs.prototype.find=function(e,t){var n=this;null==e&&'bookmark'==this.type&&(e=1);for(var o=0,r,i;o<this.lines.length;++o){var a=n.lines[o],s=He(a.markedSpans,n);if(null!=s.from&&(r=fe(t?a:pe(a),s.from),-1==e))return r;if(null!=s.to&&(i=fe(t?a:pe(a),s.to),1==e))return i}return r&&{from:r,to:i}},zs.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,o=this.doc.cm;t&&o&&Ro(o,function(){var r=t.line,i=pe(t.line),a=en(o,i);if(a&&(ln(a),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!dt(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var d=Wt(n)-s;d&&ce(r,r.height+d)}xt(o,'markerChanged',o,e)})},zs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=b(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},zs.prototype.detachLine=function(e){if(this.lines.splice(b(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},V(zs);var Us=function(e,t){var n=this;this.markers=e,this.primary=t;for(var o=0;o<e.length;++o)e[o].parent=n};Us.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,'clear')}},Us.prototype.find=function(e,t){return this.primary.find(e,t)},V(Us);var Ws=0,Vs=function(e,t,n,o,r){if(!(this instanceof Vs))return new Vs(e,t,n,o,r);null==n&&(n=0),ei.call(this,[new Jr([new Es('',null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=fe(n,0);this.sel=Zo(i),this.history=new ur(null),this.id=++Ws,this.modeOption=t,this.lineSep=o,this.direction='rtl'==r?'rtl':'ltr',this.extend=!1,'string'==typeof e&&(e=this.splitLines(e)),sr(this,{from:i,to:i,text:e}),Ar(this,Zo(i),$a)};Vs.prototype=R(ei.prototype,{constructor:Vs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,o=0;o<t.length;++o)n+=t[o].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=le(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Do(function(e){var t=fe(this.first,0),n=this.first+this.size-1;Wr(this,{from:t,to:fe(n,se(this,n).text.length),text:this.splitLines(e),origin:'setValue',full:!0},!0),this.cm&&so(this.cm,0,0),Ar(this,Zo(t),$a)}),replaceRange:function(e,t,n,o){t=Ee(this,t),n=n?Ee(this,n):t,Yr(this,e,t,n,o)},getRange:function(e,t,n){var o=de(this,Ee(this,e),Ee(this,t));return!1===n?o:o.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(me(this,e))return se(this,e)},getLineNumber:function(e){return pe(e)},getLineHandleVisualStart:function(e){return'number'==typeof e&&(e=se(this,e)),ot(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ee(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return n=null==e||'head'==e?t.head:'anchor'==e?t.anchor:'end'==e||'to'==e||!1===e?t.to():t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Do(function(e,t,n){Pr(this,Ee(this,'number'==typeof e?fe(e,t||0):e),null,n)}),setSelection:Do(function(e,t,n){Pr(this,Ee(this,e),Ee(this,t||e),n)}),extendSelection:Do(function(e,t,n){_r(this,Ee(this,e),t&&Ee(this,t),n)}),extendSelections:Do(function(e,t){Rr(this,ke(this,e),t)}),extendSelectionsBy:Do(function(e,t){var n=k(this.sel.ranges,e);Rr(this,ke(this,n),t)}),setSelections:Do(function(e,t,n){var o=this;if(e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new Ns(Ee(o,e[a].anchor),Ee(o,e[a].head));null==t&&(t=d(e.length-1,this.sel.primIndex)),Ar(this,$o(this.cm,r,t),n)}}),addSelection:Do(function(e,t,n){var o=this.sel.ranges.slice(0);o.push(new Ns(Ee(this,e),Ee(this,t||e))),Ar(this,$o(this.cm,o,o.length-1),n)}),getSelection:function(e){for(var t=this,n=this.sel.ranges,o=0,r,i;o<n.length;o++)i=de(t,n[o].from(),n[o].to()),r=r?r.concat(i):i;return!1===e?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],o=this.sel.ranges,r=0,i;r<o.length;r++)i=de(t,o[r].from(),o[r].to()),!1!==e&&(i=i.join(e||t.lineSeparator())),n[r]=i;return n},replaceSelection:function(e,t,n){for(var o=[],r=0;r<this.sel.ranges.length;r++)o[r]=e;this.replaceSelections(o,t,n||'+input')},replaceSelections:Do(function(e,t,n){for(var o=this,r=[],a=this.sel,s=0,i;s<a.ranges.length;s++)i=a.ranges[s],r[s]={from:i.from(),to:i.to(),text:o.splitLines(e[s]),origin:n};for(var d=t&&'end'!=t&&or(this,r,t),l=r.length-1;0<=l;l--)Wr(o,r[l]);d?Mr(this,d):this.cm&&ao(this.cm)}),undo:Do(function(){Gr(this,'undo')}),redo:Do(function(){Gr(this,'redo')}),undoSelection:Do(function(){Gr(this,'undo',!0)}),redoSelection:Do(function(){Gr(this,'redo',!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,o=0;o<e.done.length;o++)e.done[o].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ur(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:kr(this.history.done),undone:kr(this.history.undone)}},setHistory:function(e){var t=this.history=new ur(this.history.maxGeneration);t.done=kr(e.done.slice(0),null,!0),t.undone=kr(e.undone.slice(0),null,!0)},setGutterMarker:Do(function(e,t,n){return Zr(this,e,'gutter',function(e){var o=e.gutterMarkers||(e.gutterMarkers={});return o[t]=n,!n&&D(o)&&(e.gutterMarkers=null),!0})}),clearGutter:Do(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Zr(t,n,'gutter',function(){return n.gutterMarkers[e]=null,D(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if('number'==typeof e){if(!me(this,e))return null;if(t=e,e=se(this,e),!e)return null}else if(t=pe(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Do(function(t,n,o){return Zr(this,t,'gutter'==n?'gutter':'class',function(t){var r='text'==n?'textClass':'background'==n?'bgClass':'gutter'==n?'gutterClass':'wrapClass';if(!t[r])t[r]=o;else{if(e(o).test(t[r]))return!1;t[r]+=' '+o}return!0})}),removeLineClass:Do(function(t,n,o){return Zr(this,t,'gutter'==n?'gutter':'class',function(t){var r='text'==n?'textClass':'background'==n?'bgClass':'gutter'==n?'gutterClass':'wrapClass',i=t[r];if(!i)return!1;if(null==o)t[r]=null;else{var a=i.match(e(o));if(!a)return!1;var s=a.index+a[0].length;t[r]=i.slice(0,a.index)+(a.index&&s!=i.length?' ':'')+i.slice(s)||null}return!0})}),addLineWidget:Do(function(e,t,n){return ni(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return oi(this,Ee(this,e),Ee(this,t),n,n&&n.type||'range')},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=Ee(this,e),oi(this,e,e,n,'bookmark')},findMarksAt:function(e){e=Ee(this,e);var t=[],n=se(this,e.line).markedSpans;if(n)for(var o=0,r;o<n.length;++o)r=n[o],(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker);return t},findMarks:function(e,t,n){e=Ee(this,e),t=Ee(this,t);var o=[],r=e.line;return this.iter(e.line,t.line+1,function(a){var s=a.markedSpans;if(s)for(var d=0,i;d<s.length;d++)i=s[d],null!=i.to&&r==e.line&&e.ch>=i.to||null==i.from&&r!=e.line||null!=i.from&&r==t.line&&i.from>=t.ch||n&&!n(i.marker)||o.push(i.marker.parent||i.marker);++r}),o},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var o=0;o<n.length;++o)null!=n[o].from&&e.push(n[o].marker)}),e},posFromIndex:function(e){var t=this.first,n=this.lineSeparator().length,o;return this.iter(function(r){var i=r.text.length+n;return i>e?(o=e,!0):void(e-=i,++t)}),Ee(this,fe(t,o))},indexFromPos:function(e){e=Ee(this,e);var t=e.ch;if(e.line<this.first||0>e.ch)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Vs(le(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var o=new Vs(le(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:e.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ai(o,ii(this)),o},unlinkDoc:function(e){var t=this;if(e instanceof oa&&(e=e.doc),this.linked)for(var n=0,o;n<this.linked.length;++n)if(o=t.linked[n],o.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),si(ii(t));break}if(e.history==this.history){var r=[e.id];dr(e,function(e){return r.push(e.id)},!0),e.history=new ur(null),e.history.done=kr(this.history.done,r),e.history.undone=kr(this.history.undone,r)}},iterLinkedDocs:function(e){dr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ss(e)},lineSeparator:function(){return this.lineSep||'\n'},setDirection:Do(function(e){'rtl'!=e&&(e='ltr'),e==this.direction||(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&pr(this.cm))})}),Vs.prototype.eachLine=Vs.prototype.iter;for(var Gs=0,Ks=!1,js={3:'Pause',8:'Backspace',9:'Tab',13:'Enter',16:'Shift',17:'Ctrl',18:'Alt',19:'Pause',20:'CapsLock',27:'Esc',32:'Space',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down',44:'PrintScrn',45:'Insert',46:'Delete',59:';',61:'=',91:'Mod',92:'Mod',93:'Mod',106:'*',107:'=',109:'-',110:'.',111:'/',145:'ScrollLock',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\'',63232:'Up',63233:'Down',63234:'Left',63235:'Right',63272:'Delete',63273:'Home',63275:'End',63276:'PageUp',63277:'PageDown',63302:'Insert'},qs=0;10>qs;qs++)js[qs+48]=js[qs+96]=qs+'';for(var i=65;90>=i;i++)js[i]=t(i);for(var Ys=1;12>=Ys;Ys++)js[Ys+111]=js[Ys+63235]='F'+Ys;var Xs={};Xs.basic={Left:'goCharLeft',Right:'goCharRight',Up:'goLineUp',Down:'goLineDown',End:'goLineEnd',Home:'goLineStartSmart',PageUp:'goPageUp',PageDown:'goPageDown',Delete:'delCharAfter',Backspace:'delCharBefore',"Shift-Backspace":'delCharBefore',Tab:'defaultTab',"Shift-Tab":'indentAuto',Enter:'newlineAndIndent',Insert:'toggleOverwrite',Esc:'singleSelection'},Xs.pcDefault={"Ctrl-A":'selectAll',"Ctrl-D":'deleteLine',"Ctrl-Z":'undo',"Shift-Ctrl-Z":'redo',"Ctrl-Y":'redo',"Ctrl-Home":'goDocStart',"Ctrl-End":'goDocEnd',"Ctrl-Up":'goLineUp',"Ctrl-Down":'goLineDown',"Ctrl-Left":'goGroupLeft',"Ctrl-Right":'goGroupRight',"Alt-Left":'goLineStart',"Alt-Right":'goLineEnd',"Ctrl-Backspace":'delGroupBefore',"Ctrl-Delete":'delGroupAfter',"Ctrl-S":'save',"Ctrl-F":'find',"Ctrl-G":'findNext',"Shift-Ctrl-G":'findPrev',"Shift-Ctrl-F":'replace',"Shift-Ctrl-R":'replaceAll',"Ctrl-[":'indentLess',"Ctrl-]":'indentMore',"Ctrl-U":'undoSelection',"Shift-Ctrl-U":'redoSelection',"Alt-U":'redoSelection',fallthrough:'basic'},Xs.emacsy={"Ctrl-F":'goCharRight',"Ctrl-B":'goCharLeft',"Ctrl-P":'goLineUp',"Ctrl-N":'goLineDown',"Alt-F":'goWordRight',"Alt-B":'goWordLeft',"Ctrl-A":'goLineStart',"Ctrl-E":'goLineEnd',"Ctrl-V":'goPageDown',"Shift-Ctrl-V":'goPageUp',"Ctrl-D":'delCharAfter',"Ctrl-H":'delCharBefore',"Alt-D":'delWordAfter',"Alt-Backspace":'delWordBefore',"Ctrl-K":'killLine',"Ctrl-T":'transposeChars',"Ctrl-O":'openLine'},Xs.macDefault={"Cmd-A":'selectAll',"Cmd-D":'deleteLine',"Cmd-Z":'undo',"Shift-Cmd-Z":'redo',"Cmd-Y":'redo',"Cmd-Home":'goDocStart',"Cmd-Up":'goDocStart',"Cmd-End":'goDocEnd',"Cmd-Down":'goDocEnd',"Alt-Left":'goGroupLeft',"Alt-Right":'goGroupRight',"Cmd-Left":'goLineLeft',"Cmd-Right":'goLineRight',"Alt-Backspace":'delGroupBefore',"Ctrl-Alt-Backspace":'delGroupAfter',"Alt-Delete":'delGroupAfter',"Cmd-S":'save',"Cmd-F":'find',"Cmd-G":'findNext',"Shift-Cmd-G":'findPrev',"Cmd-Alt-F":'replace',"Shift-Cmd-Alt-F":'replaceAll',"Cmd-[":'indentLess',"Cmd-]":'indentMore',"Cmd-Backspace":'delWrappedLineLeft',"Cmd-Delete":'delWrappedLineRight',"Cmd-U":'undoSelection',"Shift-Cmd-U":'redoSelection',"Ctrl-Up":'goDocStart',"Ctrl-Down":'goDocEnd',fallthrough:['basic','emacsy']},Xs['default']=Ha?Xs.macDefault:Xs.pcDefault;var Qs={selectAll:zr,singleSelection:function(e){return e.setSelection(e.getCursor('anchor'),e.getCursor('head'),$a)},killLine:function(e){return wi(e,function(t){if(t.empty()){var n=se(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:fe(t.head.line+1,0)}:{from:t.head,to:fe(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return wi(e,function(t){return{from:fe(t.from().line,0),to:Ee(e.doc,fe(t.to().line+1,0))}})},delLineLeft:function(e){return wi(e,function(e){return{from:fe(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return wi(e,function(t){var n=e.charCoords(t.head,'div').top+5,o=e.coordsChar({left:0,top:n},'div');return{from:o,to:t.from()}})},delWrappedLineRight:function(e){return wi(e,function(t){var n=e.charCoords(t.head,'div').top+5,o=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},'div');return{from:t.from(),to:o}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(fe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(fe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return xi(e,t.head.line)},{origin:'+move',bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Di(e,t.head)},{origin:'+move',bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Pi(e,t.head.line)},{origin:'+move',bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,'div').top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},'div')},Ja)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,'div').top+5;return e.coordsChar({left:0,top:n},'div')},Ja)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,'div').top+5,o=e.coordsChar({left:0,top:n},'div');return o.ch<e.getLine(o.line).search(/\S/)?Di(e,t.head):o},Ja)},goLineUp:function(e){return e.moveV(-1,'line')},goLineDown:function(e){return e.moveV(1,'line')},goPageUp:function(e){return e.moveV(-1,'page')},goPageDown:function(e){return e.moveV(1,'page')},goCharLeft:function(e){return e.moveH(-1,'char')},goCharRight:function(e){return e.moveH(1,'char')},goColumnLeft:function(e){return e.moveH(-1,'column')},goColumnRight:function(e){return e.moveH(1,'column')},goWordLeft:function(e){return e.moveH(-1,'word')},goGroupRight:function(e){return e.moveH(1,'group')},goGroupLeft:function(e){return e.moveH(-1,'group')},goWordRight:function(e){return e.moveH(1,'word')},delCharBefore:function(e){return e.deleteH(-1,'char')},delCharAfter:function(e){return e.deleteH(1,'char')},delWordBefore:function(e){return e.deleteH(-1,'word')},delWordAfter:function(e){return e.deleteH(1,'word')},delGroupBefore:function(e){return e.deleteH(-1,'group')},delGroupAfter:function(e){return e.deleteH(1,'group')},indentAuto:function(e){return e.indentSelection('smart')},indentMore:function(e){return e.indentSelection('add')},indentLess:function(e){return e.indentSelection('subtract')},insertTab:function(e){return e.replaceSelection('\t')},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),o=e.options.tabSize,r=0;r<n.length;r++){var i=n[r].from(),a=C(e.getLine(i.line),i.ch,o);t.push(E(o-a%o))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection('add'):e.execCommand('insertTab')},transposeChars:function(e){return Ro(e,function(){for(var t=e.listSelections(),n=[],o=0;o<t.length;o++)if(t[o].empty()){var r=t[o].head,i=se(e.doc,r.line).text;if(i)if(r.ch==i.length&&(r=new fe(r.line,r.ch-1)),0<r.ch)r=new fe(r.line,r.ch+1),e.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),fe(r.line,r.ch-2),r,'+transpose');else if(r.line>e.doc.first){var a=se(e.doc,r.line-1).text;a&&(r=new fe(r.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),fe(r.line-1,a.length-1),r,'+transpose'))}n.push(new Ns(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){return Ro(e,function(){for(var t=e.listSelections(),n=t.length-1;0<=n;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,'+input');t=e.listSelections();for(var o=0;o<t.length;o++)e.indentLine(t[o].from().line,null,!0);ao(e)})},openLine:function(e){return e.replaceSelection('\n','start')},toggleOverwrite:function(e){return e.toggleOverwrite()}},$s=new Ya,Zs=null,Js=function(e,t,n){this.time=e,this.pos=t,this.button=n};Js.prototype.compare=function(e,t,n){return this.time+400>e&&0==ge(t,this.pos)&&n==this.button};var ed={toString:function(){return'CodeMirror.Init'}},td={},nd={},od,rd;oa.defaults=td,oa.optionHandlers=nd;var id=[];oa.defineInitHook=function(e){return id.push(e)};var ad=null,sd=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ya,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};sd.prototype.init=function(e){function t(t){if(!z(r,t)){if(r.somethingSelected())aa({lineWise:!1,text:r.getSelections()}),'cut'==t.type&&r.replaceSelection('',null,'cut');else{if(!r.options.lineWiseCopyCut)return;var e=ca(r);aa({lineWise:!0,text:e.text}),'cut'==t.type&&r.operation(function(){r.setSelections(e.ranges,0,$a),r.replaceSelection('',null,'cut')})}if(t.clipboardData){t.clipboardData.clearData();var n=ad.text.join('\n');if(t.clipboardData.setData('Text',n),t.clipboardData.getData('Text')==n)return void t.preventDefault()}var a=ua(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=ad.text.join('\n');var d=document.activeElement;qa(s),setTimeout(function(){r.display.lineSpace.removeChild(a),d.focus(),d==i&&o.showPrimarySelection()},50)}}var n=this,o=this,r=o.cm,i=o.div=e.lineDiv;pa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),as(i,'paste',function(t){z(r,t)||da(t,r)||11>=xa&&setTimeout(xo(r,function(){return n.updateFromDOM()}),20)}),as(i,'compositionstart',function(t){n.composing={data:t.data,done:!1}}),as(i,'compositionupdate',function(t){n.composing||(n.composing={data:t.data,done:!1})}),as(i,'compositionend',function(t){n.composing&&(t.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),as(i,'touchstart',function(){return o.forceCompositionEnd()}),as(i,'input',function(){n.composing||n.readFromDOMSoon()}),as(i,'copy',t),as(i,'cut',t)},sd.prototype.prepareSelection=function(){var e=Vn(this.cm,!1);return e.focus=this.cm.state.focused,e},sd.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},sd.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},sd.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),o=n.from(),r=n.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||r.line<t.display.viewFrom)return void e.removeAllRanges();var i=Ca(t,e.anchorNode,e.anchorOffset),a=Ca(t,e.focusNode,e.focusOffset);if(!i||i.bad||!a||a.bad||0!=ge(be(i,a),o)||0!=ge(Ce(i,a),r)){var s=t.display.view,d=o.line>=t.display.viewFrom&&fa(t,o)||{node:s[0].measure.map[2],offset:0},l=r.line<t.display.viewTo&&fa(t,r);if(!l){var c=s[s.length-1].measure,p=c.maps?c.maps[c.maps.length-1]:c.map;l={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(!d||!l)return void e.removeAllRanges();var u=e.rangeCount&&e.getRangeAt(0),m;try{m=ja(d.node,d.offset,l.offset,l.node)}catch(t){}m&&(!wa&&t.state.focused?(e.collapse(d.node,d.offset),!m.collapsed&&(e.removeAllRanges(),e.addRange(m))):(e.removeAllRanges(),e.addRange(m)),u&&null==e.anchorNode?e.addRange(u):wa&&this.startGracePeriod()),this.rememberSelection()}},sd.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},sd.prototype.showMultipleSelections=function(e){c(this.cm.display.cursorDiv,e.cursors),c(this.cm.display.selectionDiv,e.selection)},sd.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},sd.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return m(this.div,t)},sd.prototype.focus=function(){'nocursor'!=this.cm.options.readOnly&&(!this.selectionInEditor()&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},sd.prototype.blur=function(){this.div.blur()},sd.prototype.getField=function(){return this.div},sd.prototype.supportsTouch=function(){return!0},sd.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Ro(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},sd.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},sd.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Na&&Ma&&this.cm.display.gutterSpecs.length&&ga(e.anchorNode))return this.cm.triggerOnKeyDown({type:'keydown',keyCode:8,preventDefault:o}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ca(t,e.anchorNode,e.anchorOffset),r=Ca(t,e.focusNode,e.focusOffset);n&&r&&Ro(t,function(){Ar(t.doc,Zo(n,r),$a),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},sd.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),o=n.from(),r=n.to();if(0==o.ch&&o.line>e.firstLine()&&(o=fe(o.line-1,se(e.doc,o.line-1).length)),r.ch==se(e.doc,r.line).text.length&&r.line<e.lastLine()&&(r=fe(r.line+1,0)),o.line<t.viewFrom||r.line>t.viewTo-1)return!1;var i,a,s;o.line==t.viewFrom||0==(i=Fn(e,o.line))?(a=pe(t.view[0].line),s=t.view[0].node):(a=pe(t.view[i].line),s=t.view[i-1].node.nextSibling);var l=Fn(e,r.line),c,p;if(l==t.view.length-1?(c=t.viewTo-1,p=t.lineDiv.lastChild):(c=pe(t.view[l+1].line)-1,p=t.view[l+1].node.previousSibling),!s)return!1;for(var u=e.doc.splitLines(Sa(e,s,p,a,c)),m=de(e.doc,fe(a,0),fe(c,se(e.doc,c).text.length));1<u.length&&1<m.length;)if(w(u)==w(m))u.pop(),m.pop(),c--;else if(u[0]==m[0])u.shift(),m.shift(),a++;else break;for(var h=0,f=0,g=u[0],y=m[0],S=d(g.length,y.length);h<S&&g.charCodeAt(h)==y.charCodeAt(h);)++h;for(var C=w(u),b=w(m),v=d(C.length-(1==u.length?h:0),b.length-(1==m.length?h:0));f<v&&C.charCodeAt(C.length-f-1)==b.charCodeAt(b.length-f-1);)++f;if(1==u.length&&1==m.length&&a==o.line)for(;h&&h>o.ch&&C.charCodeAt(C.length-f-1)==b.charCodeAt(b.length-f-1);)h--,f++;u[u.length-1]=C.slice(0,C.length-f).replace(/^\u200b+/,''),u[0]=u[0].slice(h).replace(/\u200b+$/,'');var E=fe(a,h),k=fe(c,m.length?w(m).length-f:0);if(1<u.length||u[0]||ge(E,k))return Yr(e.doc,u,E,k,'+input'),!0},sd.prototype.ensurePolled=function(){this.forceCompositionEnd()},sd.prototype.reset=function(){this.forceCompositionEnd()},sd.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},sd.prototype.readFromDOMSoon=function(){var e=this;null!=this.readDOMTimeout||(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},sd.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Ro(this.cm,function(){return Bn(e.cm)})},sd.prototype.setUneditable=function(e){e.contentEditable='false'},sd.prototype.onKeyPress=function(n){0==n.charCode||this.composing||(n.preventDefault(),!this.cm.isReadOnly()&&xo(this.cm,sa)(this.cm,t(null==n.charCode?n.keyCode:n.charCode),0))},sd.prototype.readOnlyChanged=function(e){this.div.contentEditable=('nocursor'!=e)+''},sd.prototype.onContextMenu=function(){},sd.prototype.resetPosition=function(){},sd.prototype.needsContentAttribute=!0;var dd=function(e){this.cm=e,this.prevInput='',this.pollingFast=!1,this.polling=new Ya,this.hasSelection=!1,this.composing=null};dd.prototype.init=function(t){function e(t){if(!z(r,t)){if(r.somethingSelected())aa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=ca(r);aa({lineWise:!0,text:e.text}),'cut'==t.type?r.setSelections(e.ranges,null,$a):(o.prevInput='',i.value=e.text.join('\n'),qa(i))}'cut'==t.type&&(r.state.cutIncoming=+new Date)}}var n=this,o=this,r=this.cm;this.createField(t);var i=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),Ba&&(i.style.width='0px'),as(i,'input',function(){Ra&&9<=xa&&n.hasSelection&&(n.hasSelection=null),o.poll()}),as(i,'paste',function(t){z(r,t)||da(t,r)||(r.state.pasteIncoming=+new Date,o.fastPoll())}),as(i,'cut',e),as(i,'copy',e),as(t.scroller,'paste',function(n){if(!(Vt(t,n)||z(r,n))){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void o.focus();var e=new Event('paste');e.clipboardData=n.clipboardData,i.dispatchEvent(e)}}),as(t.lineSpace,'selectstart',function(n){Vt(t,n)||G(n)}),as(i,'compositionstart',function(){var e=r.getCursor('from');o.composing&&o.composing.range.clear(),o.composing={start:e,range:r.markText(e,r.getCursor('to'),{className:'CodeMirror-composing'})}}),as(i,'compositionend',function(){o.composing&&(o.poll(),o.composing.range.clear(),o.composing=null)})},dd.prototype.createField=function(){this.wrapper=ua(),this.textarea=this.wrapper.firstChild},dd.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,o=Vn(e);if(e.options.moveInputWithCursor){var i=Sn(e,n.sel.primary().head,'div'),a=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();o.teTop=r(0,d(t.wrapper.clientHeight-10,i.top+s.top-a.top)),o.teLeft=r(0,d(t.wrapper.clientWidth-10,i.left+s.left-a.left))}return o},dd.prototype.showSelection=function(e){var t=this.cm,n=t.display;c(n.cursorDiv,e.cursors),c(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+'px',this.wrapper.style.left=e.teLeft+'px')},dd.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput='';var n=t.getSelection();this.textarea.value=n,t.state.focused&&qa(this.textarea),Ra&&9<=xa&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value='',Ra&&9<=xa&&(this.hasSelection=null))}},dd.prototype.getField=function(){return this.textarea},dd.prototype.supportsTouch=function(){return!1},dd.prototype.focus=function(){if('nocursor'!=this.cm.options.readOnly&&(!Oa||h()!=this.textarea))try{this.textarea.focus()}catch(t){}},dd.prototype.blur=function(){this.textarea.blur()},dd.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},dd.prototype.receivedFocus=function(){this.slowPoll()},dd.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},dd.prototype.fastPoll=function(){function e(){var o=n.poll();o||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},dd.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,o=this.prevInput;if(this.contextMenuPending||!t.state.focused||ds(n)&&!o&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==o&&!t.somethingSelected())return!1;if(Ra&&9<=xa&&this.hasSelection===r||Ha&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||o||(o='\u200B'),8666==i)return this.reset(),this.cm.execCommand('undo')}for(var a=0,s=d(o.length,r.length);a<s&&o.charCodeAt(a)==r.charCodeAt(a);)++a;return Ro(t,function(){sa(t,r.slice(a),o.length-a,null,e.composing?'*compose':null),1e3<r.length||-1<r.indexOf('\n')?n.value=e.prevInput='':e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor('to'),{className:'CodeMirror-composing'}))}),!0},dd.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},dd.prototype.onKeyPress=function(){Ra&&9<=xa&&(this.hasSelection=null),this.fastPoll()},dd.prototype.onContextMenu=function(t){function e(){if(null!=s.selectionStart){var e=r.somethingSelected(),t='\u200B'+(e?s.value:'');s.value='\u21DA',s.value=t,o.prevInput=e?'':'\u200B',s.selectionStart=1,s.selectionEnd=t.length,a.selForContextMenu=r.doc.sel}}function n(){if(o.contextMenuPending==n&&(o.contextMenuPending=!1,o.wrapper.style.cssText=p,s.style.cssText=c,Ra&&9>xa&&a.scrollbars.setScrollTop(a.scroller.scrollTop=d),null!=s.selectionStart)){(!Ra||Ra&&9>xa)&&e();var t=0,i=function(){a.selForContextMenu==r.doc.sel&&0==s.selectionStart&&0<s.selectionEnd&&'\u200B'==o.prevInput?xo(r,zr)(r):10>t++?a.detectingSelectAll=setTimeout(i,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(i,200)}}var o=this,r=o.cm,a=r.display,s=o.textarea;o.contextMenuPending&&o.contextMenuPending();var i=Ln(r,t),d=a.scroller.scrollTop;if(i&&!Aa){var l=r.options.resetSelectionOnContextMenu;l&&-1==r.doc.sel.contains(i)&&xo(r,Ar)(r.doc,Zo(i),$a);var c=s.style.cssText,p=o.wrapper.style.cssText,u=o.wrapper.offsetParent.getBoundingClientRect();o.wrapper.style.cssText='position: static',s.style.cssText='position: absolute; width: 30px; height: 30px;\n      top: '+(t.clientY-u.top-5)+'px; left: '+(t.clientX-u.left-5)+'px;\n      z-index: 1000; background: '+(Ra?'rgba(255, 255, 255, .05)':'transparent')+';\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);';var m;if(Pa&&(m=window.scrollY),a.input.focus(),Pa&&window.scrollTo(null,m),a.input.reset(),r.somethingSelected()||(s.value=o.prevInput=' '),o.contextMenuPending=n,a.selForContextMenu=r.doc.sel,clearTimeout(a.detectingSelectAll),Ra&&9<=xa&&e(),Ga){q(t);var h=function(){O(window,'mouseup',h),setTimeout(n,20)};as(window,'mouseup',h)}else setTimeout(n,50)}},dd.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled='nocursor'==e},dd.prototype.setUneditable=function(){},dd.prototype.needsContentAttribute=!1,function(e){function t(t,o,r,i){e.defaults[t]=o,r&&(n[t]=i?function(e,t,n){n!=ed&&r(e,t,n)}:r)}var n=e.optionHandlers;e.defineOption=t,e.Init=ed,t('value','',function(e,t){return e.setValue(t)},!0),t('mode',null,function(e,t){e.doc.modeOption=t,rr(e)},!0),t('indentUnit',2,rr,!0),t('indentWithTabs',!1),t('smartIndent',!0),t('tabSize',4,function(e){ir(e),pn(e),Bn(e)},!0),t('lineSeparator',null,function(e,t){if(e.doc.lineSep=t,!!t){var n=[],o=e.doc.first;e.doc.iter(function(e){for(var r=0,i;;){if(i=e.text.indexOf(t,r),-1==i)break;r=i+t.length,n.push(fe(o,i))}o++});for(var r=n.length-1;0<=r;r--)Yr(e.doc,t,n[r],fe(n[r].line,n[r].ch+t.length))}}),t('specialChars',/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test('\t')?'':'|\t'),'g'),n!=ed&&e.refresh()}),t('specialCharPlaceholder',yt,function(e){return e.refresh()},!0),t('electricChars',!0),t('inputStyle',Oa?'contenteditable':'textarea',function(){throw new Error('inputStyle can not (yet) be changed in a running editor')},!0),t('spellcheck',!1,function(e,t){return e.getInputField().spellcheck=t},!0),t('autocorrect',!1,function(e,t){return e.getInputField().autocorrect=t},!0),t('autocapitalize',!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t('rtlMoveVisually',!Ua),t('wholeLineUpdateBefore',!0),t('theme','default',function(e){ea(e),jo(e)},!0),t('keyMap','default',function(e,t,n){var o=Ei(t),r=n!=ed&&Ei(n);r&&r.detach&&r.detach(e,o),o.attach&&o.attach(e,r||null)}),t('extraKeys',null),t('configureMouse',null),t('lineWrapping',!1,na,!0),t('gutters',[],function(e,t){e.display.gutterSpecs=Go(t,e.options.lineNumbers),jo(e)},!0),t('fixedGutter',!0,function(e,t){e.display.gutters.style.left=t?Mn(e.display)+'px':'0',e.refresh()},!0),t('coverGutterNextToScrollbar',!1,function(e){return go(e)},!0),t('scrollbarStyle','native',function(e){So(e),go(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t('lineNumbers',!1,function(e,t){e.display.gutterSpecs=Go(e.options.gutters,t),jo(e)},!0),t('firstLineNumber',1,jo,!0),t('lineNumberFormatter',function(e){return e},jo,!0),t('showCursorWhenSelecting',!1,Wn,!0),t('resetSelectionOnContextMenu',!0),t('lineWiseCopyCut',!0),t('pasteLinesPerSelection',!0),t('selectionsMayTouch',!1),t('readOnly',!1,function(e,t){'nocursor'==t&&($n(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t('disableInput',!1,function(e,t){t||e.display.input.reset()},!0),t('dragDrop',!0,ta),t('allowDropFileTypes',null),t('cursorBlinkRate',530),t('cursorScrollMargin',0),t('cursorHeight',1,Wn,!0),t('singleCursorHeightPerLine',!0,Wn,!0),t('workTime',100),t('workDelay',100),t('flattenSpans',!0,ir,!0),t('addModeClass',!1,ir,!0),t('pollInterval',100),t('undoDepth',200,function(e,t){return e.doc.history.undoDepth=t}),t('historyEventDelay',1250),t('viewportMargin',10,function(e){return e.refresh()},!0),t('maxHighlightLength',1e4,ir,!0),t('moveInputWithCursor',!0,function(e,t){t||e.display.input.resetPosition()}),t('tabindex',null,function(e,t){return e.display.input.getField().tabIndex=t||''}),t('autofocus',null),t('direction','ltr',function(e,t){return e.doc.setDirection(t)},!0),t('phrases',null)}(oa),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var o=this.options,r=o[e];o[e]==n&&'mode'!=e||(o[e]=n,t.hasOwnProperty(e)&&xo(this,t[e])(this,n,r),H(this,'optionChange',this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?'push':'unshift'](Ei(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Po(function(t,n){var o=t.token?t:e.getMode(this.options,t);if(o.startState)throw new Error('Overlays may not be stateful.');T(this.state.overlays,{mode:o,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Bn(this)}),removeOverlay:Po(function(e){for(var t=this,n=this.state.overlays,o=0,r;o<n.length;++o)if(r=n[o].modeSpec,r==e||'string'==typeof e&&r.name==e)return n.splice(o,1),t.state.modeGen++,void Bn(t)}),indentLine:Po(function(e,t,n){'string'!=typeof t&&'number'!=typeof t&&(null==t?t=this.options.smartIndent?'smart':'prev':t=t?'add':'subtract'),me(this.doc,e)&&ia(this,e,t,n)}),indentSelection:Po(function(e){for(var t=this,n=this.doc.sel.ranges,o=-1,a=0,i;a<n.length;a++)if(i=n[a],!i.empty()){var s=i.from(),l=i.to(),c=r(o,s.line);o=d(t.lastLine(),l.line-(l.ch?0:1))+1;for(var p=c;p<o;++p)ia(t,p,e);var u=t.doc.sel.ranges;0==s.ch&&n.length==u.length&&0<u[a].from().ch&&xr(t.doc,a,new Ns(s,u[a].to()),$a)}else i.head.line>o&&(ia(t,i.head.line,e,!0),o=i.head.line,a==t.doc.sel.primIndex&&ao(t))}),getTokenAt:function(e,t){return Me(this,e,t)},getLineTokens:function(e,t){return Me(this,fe(e),t,!0)},getTokenTypeAt:function(e){e=Ee(this.doc,e);var t=_e(this,se(this.doc,e.line)),n=0,o=(t.length-1)/2,r=e.ch,i;if(0==r)i=t[2];else for(;;){var a=n+o>>1;if((a?t[2*a-1]:0)>=r)o=a;else if(t[2*a+1]<r)n=a+1;else{i=t[2*a+2];break}}var s=i?i.indexOf('overlay '):-1;return 0>s?i:0==s?null:i.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var o=this,r=[];if(!n.hasOwnProperty(t))return r;var a=n[t],s=this.getModeAt(e);if('string'==typeof s[t])a[s[t]]&&r.push(a[s[t]]);else if(s[t])for(var d=0,i;d<s[t].length;d++)i=a[s[t][d]],i&&r.push(i);else s.helperType&&a[s.helperType]?r.push(a[s.helperType]):a[s.name]&&r.push(a[s.name]);for(var l=0,c;l<a._global.length;l++)c=a._global[l],c.pred(s,o)&&-1==b(r,c.val)&&r.push(c.val);return r},getStateAfter:function(e,t){var n=this.doc;return e=ve(n,null==e?n.first+n.size-1:e),Re(this,e+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary(),o;return o=null==e?n.head:'object'==typeof e?Ee(this.doc,e):e?n.from():n.to(),Sn(this,o,t||'page')},charCoords:function(e,t){return yn(this,Ee(this.doc,e),t||'page')},coordsChar:function(e,t){return e=gn(this,e,t||'page'),vn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=gn(this,{top:e,left:0},t||'page').top,ue(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var o=!1,r;if('number'==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,o=!0),r=se(this.doc,e)}else r=e;return fn(this,r,{top:0,left:0},t||'page',n||o).top+(o?this.doc.height-ct(r):0)},defaultTextHeight:function(){return xn(this.display)},defaultCharWidth:function(){return Pn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,o,i){var a=this.display;e=Sn(this,Ee(this.doc,e));var s=e.bottom,d=e.left;if(t.style.position='absolute',t.setAttribute('cm-ignore-events','true'),this.display.input.setUneditable(t),a.sizer.appendChild(t),'over'==o)s=e.top;else if('above'==o||'near'==o){var l=r(a.wrapper.clientHeight,this.doc.height),c=r(a.sizer.clientWidth,a.lineSpace.clientWidth);('above'==o||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),d+t.offsetWidth>c&&(d=c-t.offsetWidth)}t.style.top=s+'px',t.style.left=t.style.right='','right'==i?(d=a.sizer.clientWidth-t.offsetWidth,t.style.right='0px'):('left'==i?d=0:'middle'==i&&(d=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=d+'px'),n&&oo(this,{left:d,top:s,right:d+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:Po(Ni),triggerOnKeyPress:Po(zi),triggerOnKeyUp:Hi,triggerOnMouseDown:Po(Wi),execCommand:function(e){if(Qs.hasOwnProperty(e))return Qs[e].call(null,this)},triggerElectric:Po(function(e){la(this,e)}),findPosH:function(e,t,n,o){var r=this,a=1;0>t&&(a=-1,t=-t);for(var s=Ee(this.doc,e),d=0;d<t&&(s=ma(r.doc,s,a,n,o),!s.hitSide);++d);return s},moveH:Po(function(e,t){var n=this;this.extendSelectionsBy(function(o){return n.display.shift||n.doc.extend||o.empty()?ma(n.doc,o.head,e,t,n.options.rtlMoveVisually):0>e?o.from():o.to()},Ja)}),deleteH:Po(function(e,t){var n=this.doc.sel,o=this.doc;n.somethingSelected()?o.replaceSelection('',null,'+delete'):wi(this,function(n){var r=ma(o,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,o){var r=this,a=1,s=o;0>t&&(a=-1,t=-t);for(var d=Ee(this.doc,e),l=0,i;l<t&&(i=Sn(r,d,'div'),null==s?s=i.left:i.left=s,d=ha(r,i,a,n),!d.hitSide);++l);return d},moveV:Po(function(e,t){var n=this,o=this.doc,r=[],a=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(i){if(a)return 0>e?i.from():i.to();var s=Sn(n,i.head,'div');null!=i.goalColumn&&(s.left=i.goalColumn),r.push(s.left);var d=ha(n,s,e,t);return'page'==t&&i==o.sel.primary()&&io(n,yn(n,d,'div').top-s.top),d},Ja),r.length)for(var s=0;s<o.sel.ranges.length;s++)o.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=se(t,e.line).text,o=e.ch,r=e.ch;if(n){var i=this.getHelper(e,'wordChars');('before'==e.sticky||r==n.length)&&o?--o:++r;for(var a=n.charAt(o),s=P(a,i)?function(e){return P(e,i)}:/\s/.test(a)?function(e){return /\s/.test(e)}:function(e){return!/\s/.test(e)&&!P(e)};0<o&&s(n.charAt(o-1));)--o;for(;r<n.length&&s(n.charAt(r));)++r}return new Ns(fe(e.line,o),fe(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?f(this.display.cursorDiv,'CodeMirror-overwrite'):Ka(this.display.cursorDiv,'CodeMirror-overwrite'),H(this,'overwriteToggle',this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==h()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Po(function(e,t){so(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qt(this)-this.display.barHeight,width:e.scrollWidth-qt(this)-this.display.barWidth,clientHeight:Xt(this),clientWidth:Yt(this)}},scrollIntoView:Po(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):'number'==typeof e?e={from:fe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null==e.from.line?po(this,e.from,e.to,e.margin):lo(this,e)}),setSize:Po(function(e,t){var n=this,o=function(e){return'number'==typeof e||/^\d+$/.test(e+'')?e+'px':e};null!=e&&(this.display.wrapper.style.width=o(e)),null!=t&&(this.display.wrapper.style.height=o(t)),this.options.lineWrapping&&cn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Nn(n,r,'widget');break}++r}),this.curOp.forceUpdate=!0,H(this,'refresh',this)}),operation:function(e){return Ro(this,e)},startOperation:function(){return Co(this)},endOperation:function(){return bo(this)},refresh:Po(function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,pn(this),so(this,this.doc.scrollLeft,this.doc.scrollTop),zo(this.display),(null==e||.5<o(e-xn(this.display)))&&In(this),H(this,'refresh',this)}),swapDoc:Po(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),lr(this,e),pn(this),this.display.input.reset(),so(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,'swapDoc',this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},V(e),e.registerHelper=function(t,o,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][o]=r},e.registerGlobalHelper=function(t,o,r,i){e.registerHelper(t,o,i),n[t]._global.push({pred:r,val:i})}}(oa);var ld=['iter','insert','remove','copy','getEditor','constructor'];for(var cd in Vs.prototype)Vs.prototype.hasOwnProperty(cd)&&0>b(ld,cd)&&(oa.prototype[cd]=function(e){return function(){return e.apply(this.doc,arguments)}}(Vs.prototype[cd]));return V(Vs),oa.inputStyles={textarea:dd,contenteditable:sd},oa.defineMode=function(e){oa.defaults.mode||'null'==e||(oa.defaults.mode=e),J.apply(this,arguments)},oa.defineMIME=function(e,t){us[e]=t},oa.defineMode('null',function(){return{token:function(e){return e.skipToEnd()}}}),oa.defineMIME('text/plain','null'),oa.defineExtension=function(e,t){oa.prototype[e]=t},oa.defineDocExtension=function(e,t){Vs.prototype[e]=t},oa.fromTextArea=function(e,t){function n(){e.value=s.getValue()}if(t=t?S(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var o=h();t.autofocus=o==e||null!=e.getAttribute('autofocus')&&o==document.body}var r;if(e.form&&(as(e.form,'submit',n),!t.leaveSubmitMethodAlone)){var i=e.form;r=i.submit;try{var a=i.submit=function(){n(),i.submit=r,i.submit(),i.submit=a}}catch(t){}}t.finishInit=function(o){o.save=n,o.getTextArea=function(){return e},o.toTextArea=function(){o.toTextArea=isNaN,n(),e.parentNode.removeChild(o.getWrapperElement()),e.style.display='',e.form&&(O(e.form,'submit',n),!t.leaveSubmitMethodAlone&&'function'==typeof e.form.submit&&(e.form.submit=r))}},e.style.display='none';var s=oa(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s},function(e){e.off=O,e.on=as,e.wheelEventPixels=Xo,e.Doc=Vs,e.splitLines=ss,e.countColumn=C,e.findColumn=v,e.isWordChar=x,e.Pass=Qa,e.signal=H,e.Line=Es,e.changeEnd=Jo,e.scrollbarModel=Ms,e.Pos=fe,e.cmpPos=ge,e.modes=ps,e.mimeModes=us,e.resolveMode=ee,e.getMode=te,e.modeExtensions=ms,e.extendMode=ne,e.copyState=oe,e.startState=ae,e.innerMode=re,e.commands=Qs,e.keyMap=Xs,e.keyName=vi,e.isModifierKey=Ci,e.lookupKey=Si,e.normalizeKeyMap=yi,e.StringStream=hs,e.SharedTextMarker=Us,e.TextMarker=zs,e.LineWidget=Os,e.e_preventDefault=G,e.e_stopPropagation=K,e.e_stop=q,e.addClass=f,e.contains=m,e.rmClass=Ka,e.keyNames=js}(oa),oa.version='5.49.2',oa})},function(e){var t=e.exports={version:'1.2.6'};'number'==typeof __e&&(__e=t)},function(e,t,n){'use strict';function o(e,t){return e.type===i.Local&&e.name!==t&&null!=e.upstream}Object.defineProperty(t,'__esModule',{value:!0});const r=n(705);var i;(function(e){e[e.Local=0]='Local',e[e.Remote=1]='Remote'})(i=t.BranchType||(t.BranchType={}));var a;(function(e){e.CurrentBranch='CurrentBranch',e.DefaultBranch='DefaultBranch',e.Head='Head',e.UpstreamDefaultBranch='UpstreamDefaultBranch'})(a=t.StartPoint||(t.StartPoint={})),t.eligibleForFastForward=o;class s{constructor(e,t,n,o){this.name=e,this.upstream=t,this.tip=n,this.type=o}get remote(){const e=this.upstream;if(!e)return null;const t=e.match(/(.*?)\/.*/);return!t||2>t.length?null:t[1]}get upstreamWithoutRemote(){return this.upstream?r.removeRemotePrefix(this.upstream):null}get nameWithoutRemote(){if(this.type===i.Local)return this.name;else{const e=r.removeRemotePrefix(this.name);return e||this.name}}}t.Branch=s},function(e,t){'use strict';function n(e,t){return e<t?-1:e>t?1:0}function o(e,t){return e<t?1:e>t?-1:0}Object.defineProperty(t,'__esModule',{value:!0}),t.compare=n,t.compareDescending=o,t.caseInsensitiveEquals=function(e,t){return e.toLowerCase()===t.toLowerCase()},t.caseInsensitiveCompare=function(e,t){return n(e.toLowerCase(),t.toLowerCase())},t.caseInsensitiveCompareDescending=function(e,t){return o(e.toLowerCase(),t.toLowerCase())}},function(e){e.exports=require('child_process')},function(e,t,n){(function(){t.Emitter=n(778),t.Disposable=n(180),t.CompositeDisposable=n(777)}).call(this)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);var i;(function(e){e[e.Tabs=0]='Tabs',e[e.Switch=1]='Switch',e[e.Vertical=2]='Vertical'})(i=t.TabBarType||(t.TabBarType={}));class a extends o.Component{constructor(){super(...arguments),this.tabRefsByIndex=new Map,this.onSelectAdjacentTab=(e,t)=>{const n=o.Children.toArray(this.props.children);if(0!==n.length){const o='next'===e?1:-1,r=(t+o+n.length)%n.length,i=this.tabRefsByIndex.get(r);i&&i.focus(),this.props.onTabClicked(r)}},this.onTabClicked=(e)=>{this.props.onTabClicked(e)},this.onTabRef=(e,t)=>{t?this.tabRefsByIndex.set(e,t):this.tabRefsByIndex.delete(e)}}render(){const{type:e}=this.props;return o.createElement('div',{className:'tab-bar '+(e===i.Switch?'switch':e===i.Vertical?'vertical':'tabs'),role:'tablist'},this.renderItems())}renderItems(){const e=o.Children.toArray(this.props.children);return e.map((e,t)=>{const n=t===this.props.selectedIndex;return o.createElement(s,{key:t,selected:n,index:t,onClick:this.onTabClicked,onSelectAdjacent:this.onSelectAdjacentTab,onButtonRef:this.onTabRef,type:this.props.type},e)})}}t.TabBar=a;class s extends o.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.onClick(this.props.index)},this.onKeyDown=(e)=>{const{type:t,index:n}=this.props,o=t===i.Vertical?'ArrowUp':'ArrowLeft',r=t===i.Vertical?'ArrowDown':'ArrowRight';e.key===o?(this.props.onSelectAdjacent('previous',n),e.preventDefault()):e.key===r&&(this.props.onSelectAdjacent('next',n),e.preventDefault())},this.onButtonRef=(e)=>{this.props.onButtonRef(this.props.index,e)}}render(){const e=this.props.selected,t=r('tab-bar-item',{selected:e});return o.createElement('button',{ref:this.onButtonRef,className:t,onClick:this.onClick,role:'tab',"aria-selected":e,tabIndex:e?void 0:-1,onKeyDown:this.onKeyDown,type:'button'},this.props.children)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4);class i extends o.Component{render(){return o.createElement(r.Octicon,{className:'spin',symbol:r.OcticonSymbol.sync})}}t.Loading=i},function(e,t,n){'use strict';async function o(e,t=process.env,n=a.resolveGitProxy){if(i.enableAutomaticGitProxyConfiguration()){if('ALL_PROXY'in t||'all_proxy'in t)return void log.info(`proxy url not resolved, ALL_PROXY already set`);const o=/^(https?):\/\//i.exec(e);if(null===o)return void log.info(`proxy url not resolved, protocol not supported`);const r=o[1].toLowerCase(),i=`${r}_proxy`;if(i in t||'https'===r&&'HTTPS_PROXY'in t)return void log.info(`proxy url not resolved, ${i} already set`);const a=await n(e).catch((e)=>{log.error('Failed resolving Git proxy',e)});return void 0===a?void 0:{[i]:a}}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(100),i=n(25),a=n(704),s=n(10);t.getFallbackUrlForProxyResolve=function(e,t){return null===e?null!==t.gitHubRepository&&null!==t.gitHubRepository.cloneURL?t.gitHubRepository.cloneURL:'https://github.com':e.endpoint===s.getDotComAPIEndpoint()?'https://github.com':e.endpoint},t.envForRemoteOperation=async function(e,t){return Object.assign({},r.envForAuthentication(e),(await o(t)))},t.envForProxy=o},function(e,t,n){'use strict';const o=n(39).fromPromise,r=n(290);e.exports={pathExists:o(function(e){return r.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:r.existsSync}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.merge=function(e,t){const n=Object.assign({},e);for(const o in t)n[o]=t[o];return n}},function(e,t,n){'use strict';function o(e,t){const n=d.getHTMLURL(e.endpoint),o=a.parse(n),r=o.hostname,i=l.parseRemote(t);if(!i)return null;const s=i.owner,c=i.name;return r&&i.hostname.toLowerCase()===r.toLowerCase()&&s&&c?{name:c,owner:s,endpoint:e.endpoint}:null}function r(e,t){if(null==e)return!1;const n=l.parseRemote(e),o=l.parseRemote(t.url);return null!=o&&null!=n&&!!c.caseInsensitiveEquals(o.hostname,n.hostname)&&null!=o.owner&&null!=n.owner&&null!=o.name&&null!=n.name&&c.caseInsensitiveEquals(o.owner,n.owner)&&c.caseInsensitiveEquals(o.name,n.name)}function i(e,t){const n=l.parseRepositoryIdentifier(e),o=l.parseRepositoryIdentifier(t);return null!==n&&null!==o&&n.hostname===o.hostname&&n.owner===o.owner&&n.name===o.name}Object.defineProperty(t,'__esModule',{value:!0});const a=n(42),s=n(1),d=n(10),l=n(104),c=n(47);t.matchGitHubRepository=function(e,t){for(const n of e){const e=o(n,t);if(e)return e}return null},t.matchExistingRepository=function(e,t){return e.find((e)=>s.normalize(e.path).toLowerCase()===s.normalize(t).toLowerCase())||null},t.repositoryMatchesRemote=function(e,t){return r(e.htmlURL,t)||r(e.cloneURL,t)},t.urlMatchesRemote=r,t.urlMatchesCloneURL=function(e,t){return null!==t.cloneURL&&i(t.cloneURL,e)},t.urlsMatch=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.getBoolean=function(e,t){const n=localStorage.getItem(e);return null===n?t:!('1'!==n&&'true'!==n)||'0'!==n&&'false'!==n&&t},t.setBoolean=function(e,t){localStorage.setItem(e,t?'1':'0')},t.getNumber=function(e,t){const n=localStorage.getItem(e);if(null===n||0===n.length)return t;const o=parseInt(n,10);return isNaN(o)?t:o},t.setNumber=function(e,t){localStorage.setItem(e,t.toString())},t.getNumberArray=function(e){return(localStorage.getItem(e)||'').split(n).map(parseFloat).filter((e)=>!isNaN(e))},t.setNumberArray=function(e,t){localStorage.setItem(e,t.join(n))},t.getStringArray=function(e){const t=localStorage.getItem(e)||'[]';try{const e=JSON.parse(t);return e instanceof Array?e.some((e)=>'string'!=typeof e)?[]:e:[]}catch(t){return[]}},t.setStringArray=function(e,t){const n=JSON.stringify(t);localStorage.setItem(e,n)};const n=','},function(e,t,n){var o=Math.round,r=Math.abs,i=Math.floor,a=Math.ceil,s=Math.min;(function(e){var t;//! moment.js
(function(t,n){e.exports=n()})(this,function(){'use strict';function t(){return Ot.apply(null,arguments)}function n(e){return e instanceof Array||'[object Array]'===Object.prototype.toString.call(e)}function d(e){return null!=e&&'[object Object]'===Object.prototype.toString.call(e)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function p(e){return void 0===e}function c(e){return'number'==typeof e||'[object Number]'===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||'[object Date]'===Object.prototype.toString.call(e)}function m(e,t){var n=[],o;for(o=0;o<e.length;++o)n.push(t(e[o],o));return n}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return h(t,'toString')&&(e.toString=t.toString),h(t,'valueOf')&&(e.valueOf=t.valueOf),e}function g(e,t,n,o){return Xe(e,t,n,o,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(e){return null==e._pf&&(e._pf=y()),e._pf}function C(e){if(null==e._isValid){var t=S(e),n=Ht.call(t.parsedDateParts,function(e){return null!=e}),o=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null==Object.isFrozen||!Object.isFrozen(e))e._isValid=o;else return o}return e._isValid}function b(e){var t=g(NaN);return null==e?S(t).userInvalidated=!0:f(S(t),e),t}function v(e,t){var n,o,r;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=S(t)),p(t._locale)||(e._locale=t._locale),0<zt.length)for(n=0;n<zt.length;n++)o=zt[n],r=t[o],p(r)||(e[o]=r);return e}function E(e){v(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===Ut&&(Ut=!0,t.updateOffset(this),Ut=!1)}function w(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function k(e){return 0>e?a(e)||0:i(e)}function T(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=k(t)),n}function _(e,t,n){var o=s(e.length,t.length),a=r(e.length-t.length),d=0,l;for(l=0;l<o;l++)(n&&e[l]!==t[l]||!n&&T(e[l])!==T(t[l]))&&d++;return d+a}function R(e){!1===t.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+e)}function x(e,n){var o=!0;return f(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),o){for(var r=[],a=0,i;a<arguments.length;a++){if(i='','object'==typeof arguments[a]){for(var s in i+='\n['+a+'] ',arguments[0])i+=s+': '+arguments[0][s]+', ';i=i.slice(0,-2)}else i=arguments[a];r.push(i)}R(e+'\nArguments: '+Array.prototype.slice.call(r).join('')+'\n'+new Error().stack),o=!1}return n.apply(this,arguments)},n)}function P(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Wt[e]||(R(n),Wt[e]=!0)}function D(e){return e instanceof Function||'[object Function]'===Object.prototype.toString.call(e)}function M(e,t){var n=f({},e),o;for(o in t)h(t,o)&&(d(e[o])&&d(t[o])?(n[o]={},f(n[o],e[o]),f(n[o],t[o])):null==t[o]?delete n[o]:n[o]=t[o]);for(o in e)h(e,o)&&!h(t,o)&&d(e[o])&&(n[o]=f({},n[o]));return n}function A(e){null!=e&&this.set(e)}function I(e,t){var n=e.toLowerCase();Kt[n]=Kt[n+'s']=Kt[t]=e}function L(e){return'string'==typeof e?Kt[e]||Kt[e.toLowerCase()]:void 0}function F(e){var t={},n,o;for(o in e)h(e,o)&&(n=L(o),n&&(t[n]=e[o]));return t}function B(e,t){jt[e]=t}function N(e){var t=[];for(var n in e)t.push({unit:n,priority:jt[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function O(e,t,n){var o=''+r(e),i=t-o.length;return(0<=e?n?'+':'':'-')+Math.pow(10,Math.max(0,i)).toString().substr(1)+o}function H(e,t,n,o){var r=o;'string'==typeof o&&(r=function(){return this[o]()}),e&&(Qt[e]=r),t&&(Qt[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),n&&(Qt[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,''):e.replace(/\\/g,'')}function U(e){var t=e.match(qt),n,o;for(n=0,o=t.length;n<o;n++)t[n]=Qt[t[n]]?Qt[t[n]]:z(t[n]);return function(n){var r='',a;for(a=0;a<o;a++)r+=D(t[a])?t[a].call(n,e):t[a];return r}}function W(e,t){return e.isValid()?(t=V(t,e.localeData()),Xt[t]=Xt[t]||U(t),Xt[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var o=5;for(Yt.lastIndex=0;0<=o&&Yt.test(e);)e=e.replace(Yt,n),Yt.lastIndex=0,o-=1;return e}function G(e,t,n){fn[e]=D(t)?t:function(e){return e&&n?n:t}}function K(e,t){return h(fn,e)?fn[e](t._strict,t._locale):new RegExp(j(e))}function j(e){return q(e.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,o,r){return t||n||o||r}))}function q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}function Y(e,t){var n=t,o;for('string'==typeof e&&(e=[e]),c(t)&&(n=function(e,n){n[t]=T(e)}),o=0;o<e.length;o++)gn[e[o]]=n}function X(e,t){Y(e,function(e,n,o,r){o._w=o._w||{},t(e,o._w,o,r)})}function Q(e,t,n){null!=t&&h(gn,e)&&gn[e](t,n._a,n,e)}function $(e){return Z(e)?366:365}function Z(e){return 0==e%4&&0!=e%100||0==e%400}function J(e,n){return function(o){return null==o?ee(this,e):(te(this,e,o),t.updateOffset(this,n),this)}}function ee(e,t){return e.isValid()?e._d['get'+(e._isUTC?'UTC':'')+t]():NaN}function te(e,t,n){e.isValid()&&!isNaN(n)&&('FullYear'===t&&Z(e.year())&&1===e.month()&&29===e.date()?e._d['set'+(e._isUTC?'UTC':'')+t](n,e.month(),oe(n,e.month())):e._d['set'+(e._isUTC?'UTC':'')+t](n))}function ne(e,t){return(e%t+t)%t}function oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ne(t,12);return e+=(t-n)/12,1===n?Z(e)?29:28:31-n%7%2}function re(e,t,n){var o=e.toLocaleLowerCase(),r,i,a;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)a=g([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,'').toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,'').toLocaleLowerCase();return n?'MMM'===t?(i=Rn.call(this._shortMonthsParse,o),-1===i?null:i):(i=Rn.call(this._longMonthsParse,o),-1===i?null:i):'MMM'===t?(i=Rn.call(this._shortMonthsParse,o),-1!==i)?i:(i=Rn.call(this._longMonthsParse,o),-1===i?null:i):(i=Rn.call(this._longMonthsParse,o),-1!==i)?i:(i=Rn.call(this._shortMonthsParse,o),-1===i?null:i)}function ie(e,t){var n;if(!e.isValid())return e;if('string'==typeof t)if(/^\d+$/.test(t))t=T(t);else if(t=e.localeData().monthsParse(t),!c(t))return e;return n=s(e.date(),oe(e.year(),t)),e._d['set'+(e._isUTC?'UTC':'')+'Month'](t,n),e}function ae(e){return null==e?ee(this,'Month'):(ie(this,e),t.updateOffset(this,!0),this)}function se(){function e(e,t){return t.length-e.length}var t=[],n=[],o=[],r,i;for(r=0;12>r;r++)i=g([2e3,r]),t.push(this.monthsShort(i,'')),n.push(this.months(i,'')),o.push(this.months(i,'')),o.push(this.monthsShort(i,''));for(t.sort(e),n.sort(e),o.sort(e),r=0;12>r;r++)t[r]=q(t[r]),n[r]=q(n[r]);for(r=0;24>r;r++)o[r]=q(o[r]);this._monthsRegex=new RegExp('^('+o.join('|')+')','i'),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp('^('+n.join('|')+')','i'),this._monthsShortStrictRegex=new RegExp('^('+t.join('|')+')','i')}function de(e,t,n,o,r,i,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,o,r,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,o,r,i,a),s}function le(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ce(e,t,n){var o=7+t-n,r=(7+le(e,0,o).getUTCDay()-t)%7;return-r+o-1}function pe(e,t,n,o,r){var i=ce(e,o,r),a=1+7*(t-1)+(7+n-o)%7+i,s,d;return 0>=a?(s=e-1,d=$(s)+a):a>$(e)?(s=e+1,d=a-$(e)):(s=e,d=a),{year:s,dayOfYear:d}}function ue(e,t,n){var o=ce(e.year(),t,n),r=i((e.dayOfYear()-o-1)/7)+1,a,s;return 1>r?(s=e.year()-1,a=r+me(s,t,n)):r>me(e.year(),t,n)?(a=r-me(e.year(),t,n),s=e.year()+1):(s=e.year(),a=r),{week:a,year:s}}function me(e,t,n){var o=ce(e,t,n),r=ce(e+1,t,n);return($(e)-o+r)/7}function he(e,t){return'string'==typeof e?isNaN(e)?(e=t.weekdaysParse(e),'number'==typeof e?e:null):parseInt(e,10):e}function fe(e,t){return'string'==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ge(e,t){return e.slice(t,7).concat(e.slice(0,t))}function ye(e,t,n){var o=e.toLocaleLowerCase(),r,i,a;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)a=g([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,'').toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,'').toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,'').toLocaleLowerCase();return n?'dddd'===t?(i=Rn.call(this._weekdaysParse,o),-1===i?null:i):'ddd'===t?(i=Rn.call(this._shortWeekdaysParse,o),-1===i?null:i):(i=Rn.call(this._minWeekdaysParse,o),-1===i?null:i):'dddd'===t?(i=Rn.call(this._weekdaysParse,o),-1!==i)?i:(i=Rn.call(this._shortWeekdaysParse,o),-1!==i)?i:(i=Rn.call(this._minWeekdaysParse,o),-1===i?null:i):'ddd'===t?(i=Rn.call(this._shortWeekdaysParse,o),-1!==i)?i:(i=Rn.call(this._weekdaysParse,o),-1!==i)?i:(i=Rn.call(this._minWeekdaysParse,o),-1===i?null:i):(i=Rn.call(this._minWeekdaysParse,o),-1!==i)?i:(i=Rn.call(this._weekdaysParse,o),-1!==i)?i:(i=Rn.call(this._shortWeekdaysParse,o),-1===i?null:i)}function Se(){function e(e,t){return t.length-e.length}var t=[],n=[],o=[],r=[],a,i,s,d,l;for(a=0;7>a;a++)i=g([2e3,1]).day(a),s=this.weekdaysMin(i,''),d=this.weekdaysShort(i,''),l=this.weekdays(i,''),t.push(s),n.push(d),o.push(l),r.push(s),r.push(d),r.push(l);for(t.sort(e),n.sort(e),o.sort(e),r.sort(e),a=0;7>a;a++)n[a]=q(n[a]),o[a]=q(o[a]),r[a]=q(r[a]);this._weekdaysRegex=new RegExp('^('+r.join('|')+')','i'),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp('^('+o.join('|')+')','i'),this._weekdaysShortStrictRegex=new RegExp('^('+n.join('|')+')','i'),this._weekdaysMinStrictRegex=new RegExp('^('+t.join('|')+')','i')}function Ce(){return this.hours()%12||12}function be(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ve(e,t){return t._meridiemParse}function Ee(e){return e?e.toLowerCase().replace('_','-'):e}function we(e){for(var t=0,n,o,r,i;t<e.length;){for(i=Ee(e[t]).split('-'),n=i.length,o=Ee(e[t+1]),o=o?o.split('-'):null;0<n;){if(r=ke(i.slice(0,n).join('-')),r)return r;if(o&&o.length>=n&&_(i,o,!0)>=n-1)break;n--}t++}return Gn}function ke(t){var n=null;if(!Ln[t]&&'undefined'!=typeof e&&e&&e.exports)try{n=Gn._abbr;!function(){var t=new Error('Cannot find module "undefined"');throw t.code='MODULE_NOT_FOUND',t}(),Te(n)}catch(t){}return Ln[t]}function Te(e,t){var n;return e&&(n=p(t)?Re(e):_e(e,t),n?Gn=n:'undefined'!=typeof console&&console.warn&&console.warn('Locale '+e+' not found. Did you forget to load it?')),Gn._abbr}function _e(e,t){if(null!==t){var n=In,o;if(t.abbr=e,null!=Ln[e])P('defineLocaleOverride','use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'),n=Ln[e]._config;else if(null!=t.parentLocale)if(null!=Ln[t.parentLocale])n=Ln[t.parentLocale]._config;else if(o=ke(t.parentLocale),null!=o)n=o._config;else return Fn[t.parentLocale]||(Fn[t.parentLocale]=[]),Fn[t.parentLocale].push({name:e,config:t}),null;return Ln[e]=new A(M(n,t)),Fn[e]&&Fn[e].forEach(function(e){_e(e.name,e.config)}),Te(e),Ln[e]}return delete Ln[e],null}function Re(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Gn;if(!n(e)){if(t=ke(e),t)return t;e=[e]}return we(e)}function xe(){return Vt(Ln)}function Pe(e){var t=e._a,n;return t&&-2===S(e).overflow&&(n=0>t[Sn]||11<t[Sn]?Sn:1>t[Cn]||t[Cn]>oe(t[yn],t[Sn])?Cn:0>t[bn]||24<t[bn]||24===t[bn]&&(0!==t[vn]||0!==t[En]||0!==t[wn])?bn:0>t[vn]||59<t[vn]?vn:0>t[En]||59<t[En]?En:0>t[wn]||999<t[wn]?wn:-1,S(e)._overflowDayOfYear&&(n<yn||n>Cn)&&(n=Cn),S(e)._overflowWeeks&&-1===n&&(n=kn),S(e)._overflowWeekday&&-1===n&&(n=Tn),S(e).overflow=n),e}function De(e,t,n){return null==e?null==t?n:t:e}function Me(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Ae(e){var t=[],n,o,r,i,a;if(!e._d){for(r=Me(e),e._w&&null==e._a[Cn]&&null==e._a[Sn]&&Ie(e),null!=e._dayOfYear&&(a=De(e._a[yn],r[yn]),(e._dayOfYear>$(a)||0===e._dayOfYear)&&(S(e)._overflowDayOfYear=!0),o=le(a,0,e._dayOfYear),e._a[Sn]=o.getUTCMonth(),e._a[Cn]=o.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=t[n]=r[n];for(;7>n;n++)e._a[n]=t[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[bn]&&0===e._a[vn]&&0===e._a[En]&&0===e._a[wn]&&(e._nextDay=!0,e._a[bn]=0),e._d=(e._useUTC?le:de).apply(null,t),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[bn]=24),e._w&&'undefined'!=typeof e._w.d&&e._w.d!==i&&(S(e).weekdayMismatch=!0)}}function Ie(e){var t,n,o,r,i,a,s,d;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)i=1,a=4,n=De(t.GG,e._a[yn],ue(Qe(),1,4).year),o=De(t.W,1),r=De(t.E,1),(1>r||7<r)&&(d=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var l=ue(Qe(),i,a);n=De(t.gg,e._a[yn],l.year),o=De(t.w,l.week),null==t.d?null==t.e?r=i:(r=t.e+i,(0>t.e||6<t.e)&&(d=!0)):(r=t.d,(0>r||6<r)&&(d=!0))}1>o||o>me(n,i,a)?S(e)._overflowWeeks=!0:null==d?(s=pe(n,o,r,i,a),e._a[yn]=s.year,e._dayOfYear=s.dayOfYear):S(e)._overflowWeekday=!0}function Le(e){var t=e._i,n=Bn.exec(t)||Nn.exec(t),o,r,i,a,s,d;if(n){for(S(e).iso=!0,o=0,r=Hn.length;o<r;o++)if(Hn[o][1].exec(n[1])){a=Hn[o][0],i=!1!==Hn[o][2];break}if(null==a)return void(e._isValid=!1);if(n[3]){for(o=0,r=zn.length;o<r;o++)if(zn[o][1].exec(n[3])){s=(n[2]||' ')+zn[o][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(n[4])if(On.exec(n[4]))d='Z';else return void(e._isValid=!1);e._f=a+(s||'')+(d||''),We(e)}else e._isValid=!1}function Fe(e,t,n,o,r,i){var a=[Be(e),Pn.indexOf(t),parseInt(n,10),parseInt(o,10),parseInt(r,10)];return i&&a.push(parseInt(i,10)),a}function Be(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Ne(e){return e.replace(/\([^)]*\)|[\n\t]/g,' ').replace(/(\s\s+)/g,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'')}function Oe(e,t,n){if(e){var o=Dn.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(o!==r)return S(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function He(e,t,n){if(e)return Vn[e];if(t)return 0;var o=parseInt(n,10),r=o%100;return 60*((o-r)/100)+r}function ze(e){var t=Wn.exec(Ne(e._i));if(t){var n=Fe(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Oe(t[1],n,e))return;e._a=n,e._tzm=He(t[8],t[9],t[10]),e._d=le.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),S(e).rfc2822=!0}else e._isValid=!1}function Ue(e){var n=Un.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));if(Le(e),!1===e._isValid)delete e._isValid;else return;if(ze(e),!1===e._isValid)delete e._isValid;else return;t.createFromInputFallback(e)}function We(e){if(e._f===t.ISO_8601)return void Le(e);if(e._f===t.RFC_2822)return void ze(e);e._a=[],S(e).empty=!0;var n=''+e._i,o=n.length,r=0,a,i,s,d,l;for(s=V(e._f,e._locale).match(qt)||[],a=0;a<s.length;a++)d=s[a],i=(n.match(K(d,e))||[])[0],i&&(l=n.substr(0,n.indexOf(i)),0<l.length&&S(e).unusedInput.push(l),n=n.slice(n.indexOf(i)+i.length),r+=i.length),Qt[d]?(i?S(e).empty=!1:S(e).unusedTokens.push(d),Q(d,i,e)):e._strict&&!i&&S(e).unusedTokens.push(d);S(e).charsLeftOver=o-r,0<n.length&&S(e).unusedInput.push(n),12>=e._a[bn]&&!0===S(e).bigHour&&0<e._a[bn]&&(S(e).bigHour=void 0),S(e).parsedDateParts=e._a.slice(0),S(e).meridiem=e._meridiem,e._a[bn]=Ve(e._locale,e._a[bn],e._meridiem),Ae(e),Pe(e)}function Ve(e,t,n){var o;return null==n?t:null==e.meridiemHour?null==e.isPM?t:(o=e.isPM(n),o&&12>t&&(t+=12),o||12!==t||(t=0),t):e.meridiemHour(t,n)}function Ge(e){var t,n,o,r,i;if(0===e._f.length)return S(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)(i=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],We(t),!!C(t))&&(i+=S(t).charsLeftOver,i+=10*S(t).unusedTokens.length,S(t).score=i,(null==o||i<o)&&(o=i,n=t));f(e,n||t)}function Ke(e){if(!e._d){var t=F(e._i);e._a=m([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ae(e)}}function je(e){var t=new E(Pe(qe(e)));return t._nextDay&&(t.add(1,'d'),t._nextDay=void 0),t}function qe(e){var t=e._i,o=e._f;return(e._locale=e._locale||Re(e._l),null===t||void 0===o&&''===t)?b({nullInput:!0}):('string'==typeof t&&(e._i=t=e._locale.preparse(t)),w(t))?new E(Pe(t)):(u(t)?e._d=t:n(o)?Ge(e):o?We(e):Ye(e),C(e)||(e._d=null),e)}function Ye(e){var o=e._i;p(o)?e._d=new Date(t.now()):u(o)?e._d=new Date(o.valueOf()):'string'==typeof o?Ue(e):n(o)?(e._a=m(o.slice(0),function(e){return parseInt(e,10)}),Ae(e)):d(o)?Ke(e):c(o)?e._d=new Date(o):t.createFromInputFallback(e)}function Xe(e,t,o,r,i){var a={};return(!0===o||!1===o)&&(r=o,o=void 0),(d(e)&&l(e)||n(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=o,a._i=e,a._f=t,a._strict=r,je(a)}function Qe(e,t,n,o){return Xe(e,t,n,o,!1)}function $e(e,t){var o,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Qe();for(o=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](o))&&(o=t[r]);return o}function Ze(e){for(var t in e)if(-1===Rn.call(qn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,o=0;o<qn.length;++o)if(e[qn[o]]){if(n)return!1;parseFloat(e[qn[o]])!==T(e[qn[o]])&&(n=!0)}return!0}function Je(e){var t=F(e),n=t.year||0,o=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Ze(t),this._milliseconds=+c+1e3*l+6e4*d+60*(60*(1e3*s)),this._days=+a+7*i,this._months=+r+3*o+12*n,this._data={},this._locale=Re(),this._bubble()}function et(e){return e instanceof Je}function tt(e){return 0>e?-1*o(-1*e):o(e)}function nt(e,t){H(e,0,0,function(){var e=this.utcOffset(),n='+';return 0>e&&(e=-e,n='-'),n+O(~~(e/60),2)+t+O(~~e%60,2)})}function ot(e,t){var n=(t||'').match(e);if(null===n)return null;var o=n[n.length-1]||[],r=(o+'').match(Yn)||['-',0,0],i=+(60*r[1])+T(r[2]);return 0===i?0:'+'===r[0]?i:-i}function rt(e,n){var o,r;return n._isUTC?(o=n.clone(),r=(w(e)||u(e)?e.valueOf():Qe(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+r),t.updateOffset(o,!1),o):Qe(e).local()}function it(e){return 15*-o(e._d.getTimezoneOffset()/15)}function at(){return!!this.isValid()&&this._isUTC&&0===this._offset}function st(e,t){var n=e,o=null,r,i,a;return et(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:c(e)?(n={},t?n[t]=e:n.milliseconds=e):(o=Xn.exec(e))?(r='-'===o[1]?-1:1,n={y:0,d:T(o[Cn])*r,h:T(o[bn])*r,m:T(o[vn])*r,s:T(o[En])*r,ms:T(tt(1e3*o[wn]))*r}):(o=Qn.exec(e))?(r='-'===o[1]?-1:1,n={y:dt(o[2],r),M:dt(o[3],r),w:dt(o[4],r),d:dt(o[5],r),h:dt(o[6],r),m:dt(o[7],r),s:dt(o[8],r)}):null==n?n={}:'object'==typeof n&&('from'in n||'to'in n)&&(a=ct(Qe(n.from),Qe(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),i=new Je(n),et(e)&&h(e,'_locale')&&(i._locale=e._locale),i}function dt(e,t){var n=e&&parseFloat(e.replace(',','.'));return(isNaN(n)?0:n)*t}function lt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,'M').isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,'M'),n}function ct(e,t){var n;return e.isValid()&&t.isValid()?(t=rt(t,e),e.isBefore(t)?n=lt(e,t):(n=lt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pt(e,t){return function(n,o){var r,i;return null===o||isNaN(+o)||(P(t,'moment().'+t+'(period, number) is deprecated. Please use moment().'+t+'(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'),i=n,n=o,o=i),n='string'==typeof n?+n:n,r=st(n,o),ut(this,r,e),this}}function ut(e,n,o,r){var i=n._milliseconds,a=tt(n._days),s=tt(n._months);e.isValid()&&(r=null==r||r,s&&ie(e,ee(e,'Month')+s*o),a&&te(e,'Date',ee(e,'Date')+a*o),i&&e._d.setTime(e._d.valueOf()+i*o),r&&t.updateOffset(e,a||s))}function mt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,'months'),r,i;return 0>t-o?(r=e.clone().add(n-1,'months'),i=(t-o)/(o-r)):(r=e.clone().add(n+1,'months'),i=(t-o)/(r-o)),-(n+i)||0}function ht(e){var t;return void 0===e?this._locale._abbr:(t=Re(e),null!=t&&(this._locale=t),this)}function ft(){return this._locale}function gt(e,t){return(e%t+t)%t}function yt(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-oo:new Date(e,t,n).valueOf()}function St(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-oo:Date.UTC(e,t,n)}function Ct(e,t){H(0,[e,e.length],0,t)}function bt(e,t,n,o,r){var i;return null==e?ue(this,o,r).year:(i=me(e,o,r),t>i&&(t=i),vt.call(this,e,t,n,o,r))}function vt(e,t,n,o,r){var i=pe(e,t,n,o,r),a=le(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Et(e,t){t[wn]=T(1e3*('0.'+e))}function wt(e){return e}function kt(e,t,n,o){var r=Re(),i=g().set(o,t);return r[n](i,e)}function Tt(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||'',null!=t)return kt(e,t,n,'month');var o=[],r;for(r=0;12>r;r++)o[r]=kt(e,r,n,'month');return o}function _t(e,t,n,o){'boolean'==typeof e?(c(t)&&(n=t,t=void 0),t=t||''):(t=e,n=t,e=!1,c(t)&&(n=t,t=void 0),t=t||'');var r=Re(),a=e?r._week.dow:0;if(null!=n)return kt(t,(n+a)%7,o,'day');var s=[],d;for(d=0;7>d;d++)s[d]=kt(t,(d+a)%7,o,'day');return s}function Rt(e,t,n,o){var r=st(t,n);return e._milliseconds+=o*r._milliseconds,e._days+=o*r._days,e._months+=o*r._months,e._bubble()}function xt(e){return 0>e?i(e):a(e)}function Pt(e){return 4800*e/146097}function Dt(e){return 146097*e/4800}function Mt(e){return function(){return this.as(e)}}function At(e){return function(){return this.isValid()?this._data[e]:NaN}}function It(e,t,n,o,r){return r.relativeTime(t||1,!!n,e,o)}function Lt(e,t,n){var o=st(e).abs(),r=Po(o.as('s')),i=Po(o.as('m')),s=Po(o.as('h')),d=Po(o.as('d')),l=Po(o.as('M')),c=Po(o.as('y')),p=r<=Do.ss&&['s',r]||r<Do.s&&['ss',r]||1>=i&&['m']||i<Do.m&&['mm',i]||1>=s&&['h']||s<Do.h&&['hh',s]||1>=d&&['d']||d<Do.d&&['dd',d]||1>=l&&['M']||l<Do.M&&['MM',l]||1>=c&&['y']||['yy',c];return p[2]=t,p[3]=0<+e,p[4]=n,It.apply(null,p)}function Ft(e){return void 0===e?Po:'function'==typeof e&&(Po=e,!0)}function Bt(e){return(0<e)-(0>e)||+e}function Nt(){if(!this.isValid())return this.localeData().invalidDate();var e=Mo(this._milliseconds)/1e3,t=Mo(this._days),n=Mo(this._months),o,r,i;o=k(e/60),r=k(o/60),e%=60,o%=60,i=k(n/12),n%=12;var a=i,d=n,l=t,c=r,p=o,u=e?e.toFixed(3).replace(/\.?0+$/,''):'',s=this.asSeconds();if(!s)return'P0D';var m=0>s?'-':'',h=Bt(this._months)===Bt(s)?'':'-',f=Bt(this._days)===Bt(s)?'':'-',g=Bt(this._milliseconds)===Bt(s)?'':'-';return m+'P'+(a?h+a+'Y':'')+(d?h+d+'M':'')+(l?f+l+'D':'')+(c||p||u?'T':'')+(c?g+c+'H':'')+(p?g+p+'M':'')+(u?g+u+'S':'')}var Ot,Ht;Ht=Array.prototype.some?Array.prototype.some:function(e){for(var n=Object(this),t=n.length>>>0,o=0;o<t;o++)if(o in n&&e.call(this,n[o],o,n))return!0;return!1};var zt=t.momentProperties=[],Ut=!1,Wt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Vt=Object.keys?Object.keys:function(e){var t=[],n;for(n in e)h(e,n)&&t.push(n);return t};var Gt=/\d{1,2}/,Kt={},jt={},qt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xt={},Qt={},$t=/\d/,Zt=/\d\d/,Jt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/\d\d?/,on=/\d\d\d\d?/,rn=/\d\d\d\d\d\d?/,an=/\d{1,3}/,sn=/\d{1,4}/,dn=/[+-]?\d{1,6}/,ln=/\d+/,cn=/[+-]?\d+/,pn=/Z|[+-]\d\d:?\d\d/gi,un=/Z|[+-]\d\d(?::?\d\d)?/gi,mn=/[+-]?\d+(\.\d{1,3})?/,hn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fn={},gn={},yn=0,Sn=1,Cn=2,bn=3,vn=4,En=5,wn=6,kn=7,Tn=8;H('Y',0,0,function(){var e=this.year();return 9999>=e?''+e:'+'+e}),H(0,['YY',2],0,function(){return this.year()%100}),H(0,['YYYY',4],0,'year'),H(0,['YYYYY',5],0,'year'),H(0,['YYYYYY',6,!0],0,'year'),I('year','y'),B('year',1),G('Y',cn),G('YY',nn,Zt),G('YYYY',sn,en),G('YYYYY',dn,tn),G('YYYYYY',dn,tn),Y(['YYYYY','YYYYYY'],yn),Y('YYYY',function(e,n){n[yn]=2===e.length?t.parseTwoDigitYear(e):T(e)}),Y('YY',function(e,n){n[yn]=t.parseTwoDigitYear(e)}),Y('Y',function(e,t){t[yn]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return T(e)+(68<T(e)?1900:2e3)};var _n=J('FullYear',!0),Rn;Rn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H('M',['MM',2],'Mo',function(){return this.month()+1}),H('MMM',0,0,function(e){return this.localeData().monthsShort(this,e)}),H('MMMM',0,0,function(e){return this.localeData().months(this,e)}),I('month','M'),B('month',8),G('M',nn),G('MM',nn,Zt),G('MMM',function(e,t){return t.monthsShortRegex(e)}),G('MMMM',function(e,t){return t.monthsRegex(e)}),Y(['M','MM'],function(e,t){t[Sn]=T(e)-1}),Y(['MMM','MMMM'],function(e,t,n,o){var r=n._locale.monthsParse(e,o,n._strict);null==r?S(n).invalidMonth=e:t[Sn]=r});var xn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pn=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];H('w',['ww',2],'wo','week'),H('W',['WW',2],'Wo','isoWeek'),I('week','w'),I('isoWeek','W'),B('week',5),B('isoWeek',5),G('w',nn),G('ww',nn,Zt),G('W',nn),G('WW',nn,Zt),X(['w','ww','W','WW'],function(e,t,n,o){t[o.substr(0,1)]=T(e)});H('d',0,'do','day'),H('dd',0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H('ddd',0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H('dddd',0,0,function(e){return this.localeData().weekdays(this,e)}),H('e',0,0,'weekday'),H('E',0,0,'isoWeekday'),I('day','d'),I('weekday','e'),I('isoWeekday','E'),B('day',11),B('weekday',11),B('isoWeekday',11),G('d',nn),G('e',nn),G('E',nn),G('dd',function(e,t){return t.weekdaysMinRegex(e)}),G('ddd',function(e,t){return t.weekdaysShortRegex(e)}),G('dddd',function(e,t){return t.weekdaysRegex(e)}),X(['dd','ddd','dddd'],function(e,t,n,o){var r=n._locale.weekdaysParse(e,o,n._strict);null==r?S(n).invalidWeekday=e:t.d=r}),X(['d','e','E'],function(e,t,n,o){t[o]=T(e)});var Dn=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];H('H',['HH',2],0,'hour'),H('h',['hh',2],0,Ce),H('k',['kk',2],0,function(){return this.hours()||24}),H('hmm',0,0,function(){return''+Ce.apply(this)+O(this.minutes(),2)}),H('hmmss',0,0,function(){return''+Ce.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),H('Hmm',0,0,function(){return''+this.hours()+O(this.minutes(),2)}),H('Hmmss',0,0,function(){return''+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),be('a',!0),be('A',!1),I('hour','h'),B('hour',13),G('a',ve),G('A',ve),G('H',nn),G('h',nn),G('k',nn),G('HH',nn,Zt),G('hh',nn,Zt),G('kk',nn,Zt),G('hmm',on),G('hmmss',rn),G('Hmm',on),G('Hmmss',rn),Y(['H','HH'],bn),Y(['k','kk'],function(e,t){var n=T(e);t[bn]=24===n?0:n}),Y(['a','A'],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Y(['h','hh'],function(e,t,n){t[bn]=T(e),S(n).bigHour=!0}),Y('hmm',function(e,t,n){var o=e.length-2;t[bn]=T(e.substr(0,o)),t[vn]=T(e.substr(o)),S(n).bigHour=!0}),Y('hmmss',function(e,t,n){var o=e.length-4,r=e.length-2;t[bn]=T(e.substr(0,o)),t[vn]=T(e.substr(o,2)),t[En]=T(e.substr(r)),S(n).bigHour=!0}),Y('Hmm',function(e,t){var n=e.length-2;t[bn]=T(e.substr(0,n)),t[vn]=T(e.substr(n))}),Y('Hmmss',function(e,t){var n=e.length-4,o=e.length-2;t[bn]=T(e.substr(0,n)),t[vn]=T(e.substr(n,2)),t[En]=T(e.substr(o))});var Mn=/[ap]\.?m?\.?/i,An=J('Hours',!0),In={calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'},invalidDate:'Invalid date',ordinal:'%d',dayOfMonthOrdinalParse:Gt,relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',ss:'%d seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:Pn,week:{dow:0,doy:6},weekdays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],weekdaysMin:['Su','Mo','Tu','We','Th','Fr','Sa'],weekdaysShort:Dn,meridiemParse:Mn},Ln={},Fn={},Bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,On=/Z|[+-]\d\d(?::?\d\d)?/,Hn=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,!1],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,!1],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,!1],['YYYYDDD',/\d{7}/]],zn=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]],Un=/^\/?Date\((\-?\d+)/i,Wn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},Gn;t.createFromInputFallback=x('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',function(e){e._d=new Date(e._i+(e._useUTC?' UTC':''))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Kn=x('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var e=Qe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()}),jn=x('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var e=Qe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}),qn=['year','quarter','month','week','day','hour','minute','second','millisecond'];nt('Z',':'),nt('ZZ',''),G('Z',un),G('ZZ',un),Y(['Z','ZZ'],function(e,t,n){n._useUTC=!0,n._tzm=ot(un,e)});var Yn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Xn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Qn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;st.fn=Je.prototype,st.invalid=function(){return st(NaN)};var $n=pt(1,'add'),Zn=pt(-1,'subtract');t.defaultFormat='YYYY-MM-DDTHH:mm:ssZ',t.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';var Jn=x('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(e){return void 0===e?this.localeData():this.locale(e)}),eo=1e3,to=60*eo,no=60*to,oo=3506328*no;H(0,['gg',2],0,function(){return this.weekYear()%100}),H(0,['GG',2],0,function(){return this.isoWeekYear()%100}),Ct('gggg','weekYear'),Ct('ggggg','weekYear'),Ct('GGGG','isoWeekYear'),Ct('GGGGG','isoWeekYear'),I('weekYear','gg'),I('isoWeekYear','GG'),B('weekYear',1),B('isoWeekYear',1),G('G',cn),G('g',cn),G('GG',nn,Zt),G('gg',nn,Zt),G('GGGG',sn,en),G('gggg',sn,en),G('GGGGG',dn,tn),G('ggggg',dn,tn),X(['gggg','ggggg','GGGG','GGGGG'],function(e,t,n,o){t[o.substr(0,2)]=T(e)}),X(['gg','GG'],function(e,n,o,r){n[r]=t.parseTwoDigitYear(e)}),H('Q',0,'Qo','quarter'),I('quarter','Q'),B('quarter',7),G('Q',$t),Y('Q',function(e,t){t[Sn]=3*(T(e)-1)}),H('D',['DD',2],'Do','date'),I('date','D'),B('date',9),G('D',nn),G('DD',nn,Zt),G('Do',function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Y(['D','DD'],Cn),Y('Do',function(e,t){t[Cn]=T(e.match(nn)[0])});var ro=J('Date',!0);H('DDD',['DDDD',3],'DDDo','dayOfYear'),I('dayOfYear','DDD'),B('dayOfYear',4),G('DDD',an),G('DDDD',Jt),Y(['DDD','DDDD'],function(e,t,n){n._dayOfYear=T(e)}),H('m',['mm',2],0,'minute'),I('minute','m'),B('minute',14),G('m',nn),G('mm',nn,Zt),Y(['m','mm'],vn);var io=J('Minutes',!1);H('s',['ss',2],0,'second'),I('second','s'),B('second',15),G('s',nn),G('ss',nn,Zt),Y(['s','ss'],En);var ao=J('Seconds',!1);H('S',0,0,function(){return~~(this.millisecond()/100)}),H(0,['SS',2],0,function(){return~~(this.millisecond()/10)}),H(0,['SSS',3],0,'millisecond'),H(0,['SSSS',4],0,function(){return 10*this.millisecond()}),H(0,['SSSSS',5],0,function(){return 100*this.millisecond()}),H(0,['SSSSSS',6],0,function(){return 1e3*this.millisecond()}),H(0,['SSSSSSS',7],0,function(){return 1e4*this.millisecond()}),H(0,['SSSSSSSS',8],0,function(){return 1e5*this.millisecond()}),H(0,['SSSSSSSSS',9],0,function(){return 1e6*this.millisecond()}),I('millisecond','ms'),B('millisecond',16),G('S',an,$t),G('SS',an,Zt),G('SSS',an,Jt);var so;for(so='SSSS';9>=so.length;so+='S')G(so,ln);for(so='S';9>=so.length;so+='S')Y(so,Et);var lo=J('Milliseconds',!1);H('z',0,0,'zoneAbbr'),H('zz',0,0,'zoneName');var co=E.prototype;co.add=$n,co.calendar=function(e,n){var o=e||Qe(),r=rt(o,this).startOf('day'),i=t.calendarFormat(this,r)||'sameElse',a=n&&(D(n[i])?n[i].call(this,o):n[i]);return this.format(a||this.localeData().calendar(i,this,Qe(o)))},co.clone=function(){return new E(this)},co.diff=function(e,t,n){var o,r,i;return this.isValid()?(o=rt(e,this),!o.isValid())?NaN:(r=6e4*(o.utcOffset()-this.utcOffset()),t=L(t),(i='year'===t?mt(this,o)/12:'month'===t?mt(this,o):'quarter'===t?mt(this,o)/3:'second'===t?(this-o)/1e3:'minute'===t?(this-o)/6e4:'hour'===t?(this-o)/36e5:'day'===t?(this-o-r)/864e5:'week'===t?(this-o-r)/6048e5:this-o,n?i:k(i))):NaN},co.endOf=function(e){var n;if(e=L(e),void 0===e||'millisecond'===e||!this.isValid())return this;var o=this._isUTC?St:yt;return'year'===e?n=o(this.year()+1,0,1)-1:'quarter'===e?n=o(this.year(),this.month()-this.month()%3+3,1)-1:'month'===e?n=o(this.year(),this.month()+1,1)-1:'week'===e?n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1:'isoWeek'===e?n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:'day'===e||'date'===e?n=o(this.year(),this.month(),this.date()+1)-1:'hour'===e?(n=this._d.valueOf(),n+=no-gt(n+(this._isUTC?0:this.utcOffset()*to),no)-1):'minute'===e?(n=this._d.valueOf(),n+=to-gt(n,to)-1):'second'===e?(n=this._d.valueOf(),n+=eo-gt(n,eo)-1):void 0,this._d.setTime(n),t.updateOffset(this,!0),this},co.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=W(this,e);return this.localeData().postformat(n)},co.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Qe(e).isValid())?st({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},co.fromNow=function(e){return this.from(Qe(),e)},co.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Qe(e).isValid())?st({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},co.toNow=function(e){return this.to(Qe(),e)},co.get=function(e){return e=L(e),D(this[e])?this[e]():this},co.invalidAt=function(){return S(this).overflow},co.isAfter=function(e,t){var n=w(e)?e:Qe(e);return!!(this.isValid()&&n.isValid())&&(t=L(t)||'millisecond','millisecond'===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},co.isBefore=function(e,t){var n=w(e)?e:Qe(e);return!!(this.isValid()&&n.isValid())&&(t=L(t)||'millisecond','millisecond'===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},co.isBetween=function(e,t,n,o){var r=w(e)?e:Qe(e),i=w(t)?t:Qe(t);return!!(this.isValid()&&r.isValid()&&i.isValid())&&(o=o||'()',('('===o[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(')'===o[1]?this.isBefore(i,n):!this.isAfter(i,n)))},co.isSame=function(e,t){var n=w(e)?e:Qe(e),o;return!!(this.isValid()&&n.isValid())&&(t=L(t)||'millisecond','millisecond'===t?this.valueOf()===n.valueOf():(o=n.valueOf(),this.clone().startOf(t).valueOf()<=o&&o<=this.clone().endOf(t).valueOf()))},co.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},co.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},co.isValid=function(){return C(this)},co.lang=Jn,co.locale=ht,co.localeData=ft,co.max=jn,co.min=Kn,co.parsingFlags=function(){return f({},S(this))},co.set=function(e,t){if('object'==typeof e){e=F(e);for(var n=N(e),o=0;o<n.length;o++)this[n[o].unit](e[n[o].unit])}else if(e=L(e),D(this[e]))return this[e](t);return this},co.startOf=function(e){var n;if(e=L(e),void 0===e||'millisecond'===e||!this.isValid())return this;var o=this._isUTC?St:yt;return'year'===e?n=o(this.year(),0,1):'quarter'===e?n=o(this.year(),this.month()-this.month()%3,1):'month'===e?n=o(this.year(),this.month(),1):'week'===e?n=o(this.year(),this.month(),this.date()-this.weekday()):'isoWeek'===e?n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):'day'===e||'date'===e?n=o(this.year(),this.month(),this.date()):'hour'===e?(n=this._d.valueOf(),n-=gt(n+(this._isUTC?0:this.utcOffset()*to),no)):'minute'===e?(n=this._d.valueOf(),n-=gt(n,to)):'second'===e?(n=this._d.valueOf(),n-=gt(n,eo)):void 0,this._d.setTime(n),t.updateOffset(this,!0),this},co.subtract=Zn,co.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},co.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},co.toDate=function(){return new Date(this.valueOf())},co.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?W(n,t?'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace('Z',W(n,'Z')):W(n,t?'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYY-MM-DD[T]HH:mm:ss.SSSZ')},co.inspect=function(){if(!this.isValid())return'moment.invalid(/* '+this._i+' */)';var e='moment',t='';this.isLocal()||(e=0===this.utcOffset()?'moment.utc':'moment.parseZone',t='Z');var n='['+e+'("]',o=0<=this.year()&&9999>=this.year()?'YYYY':'YYYYYY',r=t+'[")]';return this.format(n+o+'-MM-DD[T]HH:mm:ss.SSS'+r)},co.toJSON=function(){return this.isValid()?this.toISOString():null},co.toString=function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},co.unix=function(){return i(this.valueOf()/1e3)},co.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},co.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},co.year=_n,co.isLeapYear=function(){return Z(this.year())},co.weekYear=function(e){return bt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},co.isoWeekYear=function(e){return bt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},co.quarter=co.quarters=function(e){return null==e?a((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},co.month=ae,co.daysInMonth=function(){return oe(this.year(),this.month())},co.week=co.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),'d')},co.isoWeek=co.isoWeeks=function(e){var t=ue(this,1,4).week;return null==e?t:this.add(7*(e-t),'d')},co.weeksInYear=function(){var e=this.localeData()._week;return me(this.year(),e.dow,e.doy)},co.isoWeeksInYear=function(){return me(this.year(),1,4)},co.date=ro,co.day=co.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=he(e,this.localeData()),this.add(e-t,'d'))},co.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,'d')},co.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=fe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},co.dayOfYear=function(e){var t=o((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return null==e?t:this.add(e-t,'d')},co.hour=co.hours=An,co.minute=co.minutes=io,co.second=co.seconds=ao,co.millisecond=co.milliseconds=lo,co.utcOffset=function(e,n,o){var i=this._offset||0,a;if(!this.isValid())return null==e?NaN:this;if(null!=e){if('string'!=typeof e)16>r(e)&&!o&&(e*=60);else if(e=ot(un,e),null===e)return this;return!this._isUTC&&n&&(a=it(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,'m'),i!==e&&(!n||this._changeInProgress?ut(this,st(e-i,'m'),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:it(this)},co.utc=function(e){return this.utcOffset(0,e)},co.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(it(this),'m')),this},co.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if('string'==typeof this._i){var e=ot(pn,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},co.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Qe(e).utcOffset():0,0==(this.utcOffset()-e)%60)},co.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},co.isLocal=function(){return!!this.isValid()&&!this._isUTC},co.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},co.isUtc=at,co.isUTC=at,co.zoneAbbr=function(){return this._isUTC?'UTC':''},co.zoneName=function(){return this._isUTC?'Coordinated Universal Time':''},co.dates=x('dates accessor is deprecated. Use date instead.',ro),co.months=x('months accessor is deprecated. Use month instead',ae),co.years=x('years accessor is deprecated. Use year instead',_n),co.zone=x('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',function(e,t){return null==e?-this.utcOffset():('string'!=typeof e&&(e=-e),this.utcOffset(e,t),this)}),co.isDSTShifted=x('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',function(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=qe(e),e._a){var t=e._isUTC?g(e._a):Qe(e._a);this._isDSTShifted=this.isValid()&&0<_(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var po=A.prototype;po.calendar=function(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return D(o)?o.call(t,n):o},po.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},po.invalidDate=function(){return this._invalidDate},po.ordinal=function(e){return this._ordinal.replace('%d',e)},po.preparse=wt,po.postformat=wt,po.relativeTime=function(e,t,n,o){var r=this._relativeTime[n];return D(r)?r(e,t,n,o):r.replace(/%d/i,e)},po.pastFuture=function(e,t){var n=this._relativeTime[0<e?'future':'past'];return D(n)?n(t):n.replace(/%s/i,t)},po.set=function(e){var t,n;for(n in e)t=e[n],D(t)?this[n]=t:this['_'+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+'|'+/\d{1,2}/.source)},po.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xn).test(t)?'format':'standalone'][e.month()]:n(this._months)?this._months:this._months.standalone},po.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xn.test(t)?'format':'standalone'][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},po.monthsParse=function(e,t,n){var o,r,i;if(this._monthsParseExact)return re.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(r=g([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp('^'+this.months(r,'').replace('.','')+'$','i'),this._shortMonthsParse[o]=new RegExp('^'+this.monthsShort(r,'').replace('.','')+'$','i')),n||this._monthsParse[o]||(i='^'+this.months(r,'')+'|^'+this.monthsShort(r,''),this._monthsParse[o]=new RegExp(i.replace('.',''),'i')),n&&'MMMM'===t&&this._longMonthsParse[o].test(e))return o;if(n&&'MMM'===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}},po.monthsRegex=function(e){return this._monthsParseExact?(h(this,'_monthsRegex')||se.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,'_monthsRegex')||(this._monthsRegex=hn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},po.monthsShortRegex=function(e){return this._monthsParseExact?(h(this,'_monthsRegex')||se.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,'_monthsShortRegex')||(this._monthsShortRegex=hn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},po.week=function(e){return ue(e,this._week.dow,this._week.doy).week},po.firstDayOfYear=function(){return this._week.doy},po.firstDayOfWeek=function(){return this._week.dow},po.weekdays=function(e,t){var o=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?'format':'standalone'];return!0===e?ge(o,this._week.dow):e?o[e.day()]:o},po.weekdaysMin=function(e){return!0===e?ge(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},po.weekdaysShort=function(e){return!0===e?ge(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},po.weekdaysParse=function(e,t,n){var o,r,i;if(this._weekdaysParseExact)return ye.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;7>o;o++){if(r=g([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp('^'+this.weekdays(r,'').replace('.','\\.?')+'$','i'),this._shortWeekdaysParse[o]=new RegExp('^'+this.weekdaysShort(r,'').replace('.','\\.?')+'$','i'),this._minWeekdaysParse[o]=new RegExp('^'+this.weekdaysMin(r,'').replace('.','\\.?')+'$','i')),this._weekdaysParse[o]||(i='^'+this.weekdays(r,'')+'|^'+this.weekdaysShort(r,'')+'|^'+this.weekdaysMin(r,''),this._weekdaysParse[o]=new RegExp(i.replace('.',''),'i')),n&&'dddd'===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&'ddd'===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&'dd'===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}},po.weekdaysRegex=function(e){return this._weekdaysParseExact?(h(this,'_weekdaysRegex')||Se.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,'_weekdaysRegex')||(this._weekdaysRegex=hn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},po.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(h(this,'_weekdaysRegex')||Se.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,'_weekdaysShortRegex')||(this._weekdaysShortRegex=hn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},po.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(h(this,'_weekdaysRegex')||Se.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,'_weekdaysMinRegex')||(this._weekdaysMinRegex=hn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},po.isPM=function(e){return'p'===(e+'').toLowerCase().charAt(0)},po.meridiem=function(e,t,n){return 11<e?n?'pm':'PM':n?'am':'AM'},Te('en',{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===T(e%100/10)?'th':1==t?'st':2==t?'nd':3==t?'rd':'th';return e+n}}),t.lang=x('moment.lang is deprecated. Use moment.locale instead.',Te),t.langData=x('moment.langData is deprecated. Use moment.localeData instead.',Re);var uo=r,mo=Mt('ms'),ho=Mt('s'),fo=Mt('m'),go=Mt('h'),yo=Mt('d'),So=Mt('w'),Co=Mt('M'),bo=Mt('Q'),vo=Mt('y'),Eo=At('milliseconds'),wo=At('seconds'),ko=At('minutes'),To=At('hours'),_o=At('days'),Ro=At('months'),xo=At('years'),Po=o,Do={ss:44,s:45,m:45,h:22,d:26,M:11},Mo=r,Ao=Je.prototype;return Ao.isValid=function(){return this._isValid},Ao.abs=function(){var e=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),e.milliseconds=uo(e.milliseconds),e.seconds=uo(e.seconds),e.minutes=uo(e.minutes),e.hours=uo(e.hours),e.months=uo(e.months),e.years=uo(e.years),this},Ao.add=function(e,t){return Rt(this,e,t,1)},Ao.subtract=function(e,t){return Rt(this,e,t,-1)},Ao.as=function(e){if(!this.isValid())return NaN;var t=this._milliseconds,n,r;if(e=L(e),'month'===e||'quarter'===e||'year'===e)switch(n=this._days+t/864e5,r=this._months+Pt(n),e){case'month':return r;case'quarter':return r/3;case'year':return r/12;}else switch(n=this._days+o(Dt(this._months)),e){case'week':return n/7+t/6048e5;case'day':return n+t/864e5;case'hour':return 24*n+t/36e5;case'minute':return 1440*n+t/6e4;case'second':return 86400*n+t/1e3;case'millisecond':return i(864e5*n)+t;default:throw new Error('Unknown unit '+e);}},Ao.asMilliseconds=mo,Ao.asSeconds=ho,Ao.asMinutes=fo,Ao.asHours=go,Ao.asDays=yo,Ao.asWeeks=So,Ao.asMonths=Co,Ao.asQuarters=bo,Ao.asYears=vo,Ao.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*T(this._months/12):NaN},Ao._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,o=this._data,r,i,a,s,d;return 0<=e&&0<=t&&0<=n||0>=e&&0>=t&&0>=n||(e+=864e5*xt(Dt(n)+t),t=0,n=0),o.milliseconds=e%1e3,r=k(e/1e3),o.seconds=r%60,i=k(r/60),o.minutes=i%60,a=k(i/60),o.hours=a%24,t+=k(a/24),d=k(Pt(t)),n+=d,t-=xt(Dt(d)),s=k(n/12),n%=12,o.days=t,o.months=n,o.years=s,this},Ao.clone=function(){return st(this)},Ao.get=function(e){return e=L(e),this.isValid()?this[e+'s']():NaN},Ao.milliseconds=Eo,Ao.seconds=wo,Ao.minutes=ko,Ao.hours=To,Ao.days=_o,Ao.weeks=function(){return k(this.days()/7)},Ao.months=Ro,Ao.years=xo,Ao.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Lt(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Ao.toISOString=Nt,Ao.toString=Nt,Ao.toJSON=Nt,Ao.locale=ht,Ao.localeData=ft,Ao.toIsoString=x('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',Nt),Ao.lang=Jn,H('X',0,0,'unix'),H('x',0,0,'valueOf'),G('x',cn),G('X',mn),Y('X',function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Y('x',function(e,t,n){n._d=new Date(T(e))}),t.version='2.24.0',function(e){Ot=e}(Qe),t.fn=co,t.min=function(){var e=[].slice.call(arguments,0);return $e('isBefore',e)},t.max=function(){var e=[].slice.call(arguments,0);return $e('isAfter',e)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=g,t.unix=function(e){return Qe(1e3*e)},t.months=function(e,t){return Tt(e,t,'months')},t.isDate=u,t.locale=Te,t.invalid=b,t.duration=st,t.isMoment=w,t.weekdays=function(e,t,n){return _t(e,t,n,'weekdays')},t.parseZone=function(){return Qe.apply(null,arguments).parseZone()},t.localeData=Re,t.isDuration=et,t.monthsShort=function(e,t){return Tt(e,t,'monthsShort')},t.weekdaysMin=function(e,t,n){return _t(e,t,n,'weekdaysMin')},t.defineLocale=_e,t.updateLocale=function(e,t){if(null!=t){var n=In,o,r;r=ke(e),null!=r&&(n=r._config),t=M(n,t),o=new A(t),o.parentLocale=Ln[e],Ln[e]=o,Te(e)}else null!=Ln[e]&&(null==Ln[e].parentLocale?null!=Ln[e]&&delete Ln[e]:Ln[e]=Ln[e].parentLocale);return Ln[e]},t.locales=xe,t.weekdaysShort=function(e,t,n){return _t(e,t,n,'weekdaysShort')},t.normalizeUnits=L,t.relativeTimeRounding=Ft,t.relativeTimeThreshold=function(e,t){return void 0!==Do[e]&&(void 0===t?Do[e]:(Do[e]=t,'s'===e&&(Do.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,'days',!0);return-6>n?'sameElse':-1>n?'lastWeek':0>n?'lastDay':1>n?'sameDay':2>n?'nextDay':7>n?'nextWeek':'sameElse'},t.prototype=co,t.HTML5_FMT={DATETIME_LOCAL:'YYYY-MM-DDTHH:mm',DATETIME_LOCAL_SECONDS:'YYYY-MM-DDTHH:mm:ss',DATETIME_LOCAL_MS:'YYYY-MM-DDTHH:mm:ss.SSS',DATE:'YYYY-MM-DD',TIME:'HH:mm',TIME_SECONDS:'HH:mm:ss',TIME_MS:'HH:mm:ss.SSS',WEEK:'GGGG-[W]WW',MONTH:'YYYY-MM'},t})}).call(this,n(138)(e))},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}},function(e,t,n){'use strict';n.r(t),n.d(t,'bpfrpt_proptype_CellPosition',function(){return s}),n.d(t,'bpfrpt_proptype_CellRendererParams',function(){return d}),n.d(t,'bpfrpt_proptype_CellRenderer',function(){return l}),n.d(t,'bpfrpt_proptype_CellCache',function(){return c}),n.d(t,'bpfrpt_proptype_StyleCache',function(){return p}),n.d(t,'bpfrpt_proptype_CellRangeRendererParams',function(){return u}),n.d(t,'bpfrpt_proptype_CellRangeRenderer',function(){return m}),n.d(t,'bpfrpt_proptype_CellSizeGetter',function(){return h}),n.d(t,'bpfrpt_proptype_CellSize',function(){return f}),n.d(t,'bpfrpt_proptype_NoContentRenderer',function(){return g}),n.d(t,'bpfrpt_proptype_Scroll',function(){return y}),n.d(t,'bpfrpt_proptype_ScrollbarPresenceChange',function(){return S}),n.d(t,'bpfrpt_proptype_RenderedSection',function(){return C}),n.d(t,'bpfrpt_proptype_OverscanIndicesGetterParams',function(){return b}),n.d(t,'bpfrpt_proptype_OverscanIndices',function(){return v}),n.d(t,'bpfrpt_proptype_OverscanIndicesGetter',function(){return E}),n.d(t,'bpfrpt_proptype_Alignment',function(){return w}),n.d(t,'bpfrpt_proptype_VisibleCellRange',function(){return k});var o=n(0),r=n.n(o),i=n(15),a=n.n(i),s=null,d=null,l=null,c=null,p=null,u=null,m=null,h=null,f=null,g=null,y=null,S=null,C=null,b=null,v=null,E=null,w=null,k=null},function(e,t,n){var o=n(225)('wks'),r=n(224),i=n(119).Symbol;e.exports=function(e){return o[e]||(o[e]=i&&i[e]||(i||r)('Symbol.'+e))}},function(e,t,n){'use strict';function o(e){return e===a.AskForConfirmation?t.askToStash:e===a.MoveToNewBranch?t.moveToNewBranch:e===a.StashOnCurrentBranch?t.stashOnCurrentBranch:i.assertNever(e,`Unknown UncommittedChangesStrategyKind: ${e}`)}function r(e){return e===a.AskForConfirmation?a.AskForConfirmation:e===a.StashOnCurrentBranch?a.StashOnCurrentBranch:e===a.MoveToNewBranch?a.MoveToNewBranch:null}Object.defineProperty(t,'__esModule',{value:!0});const i=n(2);var a;(function(e){e.AskForConfirmation='AskForConfirmation',e.StashOnCurrentBranch='StashOnCurrentBranch',e.MoveToNewBranch='MoveToNewBranch'})(a=t.UncommittedChangesStrategyKind||(t.UncommittedChangesStrategyKind={})),t.uncommittedChangesStrategyKindDefault=a.AskForConfirmation,t.askToStash={kind:a.AskForConfirmation},t.stashOnCurrentBranch={kind:a.StashOnCurrentBranch},t.moveToNewBranch={kind:a.MoveToNewBranch,transientStashEntry:null},t.getUncommittedChangesStrategy=o,t.parseStrategy=r},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(49);t.BaseStore=class{constructor(){this.emitter=new o.Emitter}emitUpdate(){this.emitter.emit('did-update',{})}emitError(e){this.emitter.emit('did-error',e)}onDidUpdate(e){return this.emitter.on('did-update',e)}onDidError(e){return this.emitter.on('did-error',e)}};t.TypedBaseStore=class{constructor(){this.emitter=new o.Emitter}emitUpdate(e){this.emitter.emit('did-update',e)}emitError(e){this.emitter.emit('did-error',e)}onDidUpdate(e){return this.emitter.on('did-update',e)}onDidError(e){return this.emitter.on('did-error',e)}}},function(e){e.exports=require('os')},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(34),a=n(72),s=n(2),d=n(474),l=n(473),c=n(470),p=n(469),u=n(92),m=n(467);var h;(function(e){e.Start='Start',e.SignInToDotComWithBrowser='SignInToDotComWithBrowser',e.SignInToDotCom='SignInToDotCom',e.SignInToEnterprise='SignInToEnterprise',e.ConfigureGit='ConfigureGit',e.UsageOptOut='UsageOptOut'})(h=t.WelcomeStep||(t.WelcomeStep={}));const f=i.encodePathAsUrl(__dirname,'static/welcome-illustration-right.svg');t.WelcomeLeftTopImageUri=i.encodePathAsUrl(__dirname,'static/welcome-illustration-left-top.svg'),t.WelcomeLeftBottomImageUri=i.encodePathAsUrl(__dirname,'static/welcome-illustration-left-bottom.svg');class g extends o.Component{constructor(e){super(e),this.dotComSupportsBasicAuthSubscription=null,this.onDotComSupportsBasicAuthUpdated=(e)=>{this.setState({dotComSupportsBasicAuth:e})},this.advanceToStep=(e)=>{log.info(`[Welcome] advancing to step: ${e}`),e===h.SignInToDotCom?this.props.dispatcher.beginDotComSignIn():e===h.SignInToEnterprise&&this.props.dispatcher.beginEnterpriseSignIn(),this.setState({currentStep:e})},this.done=()=>{this.setState({exiting:!0},()=>{setTimeout(()=>{this.props.dispatcher.endWelcomeFlow()},250)})},this.state={currentStep:h.Start,exiting:!1,dotComSupportsBasicAuth:e.dispatcher.tryGetDotComSupportsBasicAuth()}}componentWillReceiveProps(e){this.advanceOnSuccessfulSignIn(e)}componentDidMount(){this.props.dispatcher.recordWelcomeWizardInitiated(),this.dotComSupportsBasicAuthSubscription=this.props.dispatcher.onDotComSupportsBasicAuthUpdated(this.onDotComSupportsBasicAuthUpdated)}componentWillUnmount(){null!==this.dotComSupportsBasicAuthSubscription&&(this.dotComSupportsBasicAuthSubscription.dispose(),this.dotComSupportsBasicAuthSubscription=null)}get inSignInStep(){return!(this.state.currentStep!==h.SignInToDotCom)||!(this.state.currentStep!==h.SignInToDotComWithBrowser)||!(this.state.currentStep!==h.SignInToEnterprise)}advanceOnSuccessfulSignIn(e){return this.inSignInStep?this.props.signInState?e.signInState?this.props.signInState.kind===e.signInState.kind?void log.info(`[Welcome] kind ${this.props.signInState.kind} is the same as ${e.signInState.kind}. ignoring...`):void(e.signInState.kind===a.SignInStep.Success&&(this.advanceToStep(h.ConfigureGit),this.props.dispatcher.resetSignInState())):void log.info(`[Welcome] next sign in state not found. ignoring...`):void log.info(`[Welcome] current sign in state not found. ignoring...`):void log.info(`[Welcome] no sign in step found. ignoring...`)}getComponentForCurrentStep(){const e=this.state.currentStep,t=this.props.signInState;switch(e){case h.Start:case h.SignInToDotComWithBrowser:const n=e===h.SignInToDotComWithBrowser&&null!==t&&t.kind===a.SignInStep.Authentication&&t.loading;return o.createElement(d.Start,{advance:this.advanceToStep,dispatcher:this.props.dispatcher,loadingBrowserAuth:n,dotComSupportsBasicAuth:this.state.dotComSupportsBasicAuth});case h.SignInToDotCom:return o.createElement(l.SignInDotCom,{dispatcher:this.props.dispatcher,advance:this.advanceToStep,signInState:t});case h.SignInToEnterprise:return o.createElement(c.SignInEnterprise,{dispatcher:this.props.dispatcher,advance:this.advanceToStep,signInState:t});case h.ConfigureGit:return o.createElement(p.ConfigureGit,{advance:this.advanceToStep,accounts:this.props.accounts});case h.UsageOptOut:return o.createElement(m.UsageOptOut,{dispatcher:this.props.dispatcher,advance:this.advanceToStep,optOut:this.props.optOut,done:this.done});default:return s.assertNever(e,`Unknown welcome step: ${e}`);}}render(){const e=r({exiting:this.state.exiting});return o.createElement(u.UiView,{id:'welcome',className:e},o.createElement('div',{className:'welcome-left'},o.createElement('div',{className:'welcome-content'},this.getComponentForCurrentStep(),o.createElement('img',{className:'welcome-graphic-top',src:t.WelcomeLeftTopImageUri}),o.createElement('img',{className:'welcome-graphic-bottom',src:t.WelcomeLeftBottomImageUri}))),o.createElement('div',{className:'welcome-right'},o.createElement('img',{className:'welcome-graphic',src:f})))}}t.Welcome=g},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{render(){return o.createElement('span',{className:'monospaced'},this.props.children)}}t.Monospaced=r},function(e,t,n){'use strict';function o(e,t){if(e.length<=t)return e;if(0>=t)return'';if(1===t)return'\u2026';const n=(t-1)/2,o=e.substr(0,d(n)),r=e.substr(e.length-Math.ceil(n));return`${o}…${r}`}function r(e,t){if(e.length<=t)return e;if(0>=t)return'';if(1===t)return'\u2026';const n=e.lastIndexOf(c.sep);if(-1===n)return o(e,t);const r=e.length-n-1;if(r+2>t)return o(e,t);const i=e.substr(0,t-r-2),a=e.substr(n);return`${i}…${a}`}function i(e){e=e.endsWith('/')?e.substr(0,e.length-1):e;const t=c.basename(e),n=e.substr(0,e.length-t.length);return{normalizedFileName:t,normalizedDirectory:n}}function a(e,t){if(t=void 0===t?e.length:t,0>=t)return{normalizedPath:e,directoryText:'',fileText:'',length:t};const{normalizedFileName:n,normalizedDirectory:o}=i(e);if(t>=e.length)return{normalizedPath:e,directoryText:o,fileText:n,length:t};const a=r(e,t);let s=0;for(let n=0;n<a.length&&n<o.length;n++){const e=o[n],t=a[n];if(e===t)s++;else{if('\u2026'===t){s++;const e=n+1;a.length>e&&a[e]===c.sep&&s++}break}}const d=a.substr(s),l=a.substr(0,s);return{normalizedPath:e,directoryText:l,fileText:d,length:t}}function s(e,t){const n=c.normalize(e);return Object.assign({normalizedPath:n,longestFit:0,shortestNonFit:void 0,availableWidth:void 0,fullTextWidth:void 0},a(n,t))}var d=Math.floor;Object.defineProperty(t,'__esModule',{value:!0});const l=n(0),c=n(1),p=n(124);t.truncateMid=o,t.truncatePath=r,t.extract=i;class u extends l.PureComponent{constructor(e){super(e),this.pathElement=null,this.pathInnerElement=null,this.onDialogShow=(e)=>{const t=e.target;t instanceof Element&&t.contains(this.pathElement)&&this.resizeIfNecessary()},this.onPathElementRef=(e)=>{this.pathElement=e},this.onPathInnerElementRef=(e)=>{this.pathInnerElement=e},this.state=s(e.path)}componentWillReceiveProps(e){e.path!==this.props.path&&this.setState(s(e.path))}componentDidMount(){this.resizeIfNecessary(),document.addEventListener('dialog-show',this.onDialogShow)}componentWillUnmount(){document.removeEventListener('dialog-show',this.onDialogShow)}componentDidUpdate(){this.resizeIfNecessary()}render(){const e=this.state.directoryText&&this.state.directoryText.length?l.createElement('span',{className:'dirname'},this.state.directoryText):null,t=this.state.length<this.state.normalizedPath.length,n=t?this.state.normalizedPath:void 0;return l.createElement('div',{className:'path-text-component',ref:this.onPathElementRef,title:n},l.createElement('span',{ref:this.onPathInnerElementRef},e,l.createElement('span',{className:'filename'},this.state.fileText)))}resizeIfNecessary(){if(this.pathElement&&this.pathInnerElement){const e=void 0===this.props.availableWidth?this.pathElement.getBoundingClientRect().width:this.props.availableWidth,t=Math.max(e,0);if(void 0!==this.state.fullTextWidth&&this.state.fullTextWidth<=t)return this.state.length===this.state.normalizedPath.length?void(t!==this.state.availableWidth&&this.setState(Object.assign({},this.state,{availableWidth:t}))):void this.setState(Object.assign({},this.state,a(this.state.normalizedPath),{availableWidth:t}));if(void 0!==this.state.availableWidth&&this.state.availableWidth!==t){const e=s(this.props.path,this.state.length);return void(t<this.state.availableWidth?this.setState(Object.assign({},e,{fullTextWidth:this.state.fullTextWidth,shortestNonFit:this.state.shortestNonFit,availableWidth:t})):t>this.state.availableWidth&&this.setState(Object.assign({},e,{fullTextWidth:this.state.fullTextWidth,longestFit:this.state.longestFit,availableWidth:t})))}if(0===t)return void(0!==this.state.length&&this.setState(Object.assign({},this.state,a(this.state.normalizedPath,0),{availableWidth:t,longestFit:0,shortestNonFit:1})));const n=this.pathInnerElement.getBoundingClientRect().width,o=this.state.length===this.state.normalizedPath.length?n:this.state.fullTextWidth,r=0===n?.5:t/n;if(!(n<=t)){const e=this.state.length,n=this.state.longestFit||0,i=p.clamp(d(this.state.length*r),n,e-1);this.setState(Object.assign({},this.state,a(this.state.normalizedPath,i),{shortestNonFit:e,availableWidth:t,fullTextWidth:o}))}else if(this.state.length===this.state.normalizedPath.length)return void this.setState(Object.assign({},this.state,{availableWidth:t,fullTextWidth:o}));else{const e=this.state.length,i=void 0===this.state.shortestNonFit?this.state.normalizedPath.length:this.state.shortestNonFit-1,s=e+1;if(s>=i)return void this.setState(Object.assign({},this.state,{longestFit:e,availableWidth:t,fullTextWidth:o}));if(3>t-n)return void this.setState(Object.assign({},this.state,{longestFit:e,availableWidth:t,fullTextWidth:o}));const l=p.clamp(d(this.state.length*r),s,i);this.setState(Object.assign({},this.state,a(this.state.normalizedPath,l),{longestFit:e,availableWidth:t,fullTextWidth:o}))}}}}t.PathText=u},function(e,t,n){'use strict';n.r(t);var o=function(e,t){return e===t};t['default']=function(e,t){void 0===t&&(t=o);var n=[],r=!1,i=function(e,o){return t(e,n[o])},a=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return r&&s===this&&o.length===n.length&&o.every(i)?d:(d=e.apply(this,o),r=!0,s=this,n=o,d)},s,d;return a}},function(e,t,n){'use strict';function o(e){return e.replace(/[^a-z0-9\-_:.]+/gi,'_')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(106),a=new Set;t.createUniqueId=function(e){const t=o(`${'__'}${e}`);for(let n=0;100>n;n++){const e=0<n?`${t}_${n}`:t;if(!a.has(e))return a.add(e),e}return!1,r.uuid()},t.releaseUniqueId=function(e){a.delete(e)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(651);t.structuralEquals=function(e,t){return o(e,t,{strict:!0})},t.shallowEquals=function(e,t){if(Object.is(e,t))return!0;if(null===e||null===t||'object'!=typeof e||'object'!=typeof t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let o=0;o<n.length;o++){const r=n[o];if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1}return!0},t.arrayEquals=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e.Loading='loading',e.Clean='clean',e.Conflicts='conflicts',e.Invalid='invalid'})(n=t.ComputedAction||(t.ComputedAction={}))},function(e,t){'use strict';function n(e){const t=e.lastIndexOf(': ');if(0===t)return null;if(t-2>=e.length)return null;const n=e.substr(0,t),i=e.substr(n.length+2).trim();if(!i.length)return null;const a=i.split(', ');if(!a.length)return null;let s,d,l;if(!r.test(a[0])){const e=o.exec(a[0]);if(!e||4!==e.length)return null;if(l=parseInt(e[1],10),s=parseInt(e[2],10),d=parseInt(e[3],10),isNaN(l)||isNaN(s)||isNaN(d))return null}else if(s=parseInt(a[0],10),isNaN(s))return null;let c=!1;for(let t=1;t<a.length;t++)if('done.'===a[t]){c=!0;break}return{title:n,value:s,percent:l,total:d,done:c,text:e}}Object.defineProperty(t,'__esModule',{value:!0});t.GitProgressParser=class{constructor(e){if(this.stepIndex=0,this.lastPercent=0,!e.length)throw new Error('must specify at least one step');const t=e.reduce((e,t)=>e+t.weight,0);this.steps=e.map((e)=>({title:e.title,weight:e.weight/t}))}parse(e){const t=n(e);if(!t)return{kind:'context',text:e,percent:this.lastPercent};let o=0;for(let n=0;n<this.steps.length;n++){const e=this.steps[n];if(n>=this.stepIndex&&t.title===e.title)return t.total&&(o+=e.weight*(t.value/t.total)),this.stepIndex=n,this.lastPercent=o,{kind:'progress',percent:o,details:t};o+=e.weight}return{kind:'context',text:e,percent:this.lastPercent}}};const o=/^(\d{1,3})% \((\d+)\/(\d+)\)$/,r=/^\d+$/;t.parse=n},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(750)),o(n(749)),o(n(641)),o(n(242)),o(n(640)),o(n(639)),o(n(638)),o(n(637)),o(n(268)),o(n(634)),o(n(234));var r=n(240);t.UpstreamRemoteName=r.UpstreamRemoteName},function(e,t,n){e.exports={default:n(587),__esModule:!0}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4);class i extends o.Component{constructor(){super(...arguments),this.timeoutId=null,this.componentDidMount=()=>{this.props.timeout!==void 0&&(this.timeoutId=window.setTimeout(()=>{this.props.onDismissed()},this.props.timeout))},this.componentWillUnmount=()=>{this.props.timeout!==void 0&&null!==this.timeoutId&&window.clearTimeout(this.timeoutId)}}render(){return o.createElement('div',{id:this.props.id,className:'banner'},o.createElement('div',{className:'contents'},this.props.children),this.renderCloseButton())}renderCloseButton(){const{dismissable:e}=this.props;return void 0===e||!1===e?null:o.createElement('div',{className:'close'},o.createElement('a',{onClick:this.props.onDismissed},o.createElement(r.Octicon,{symbol:r.OcticonSymbol.x})))}}t.Banner=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{constructor(){super(...arguments),this.onLoad=(t)=>{this.props.onElementLoad&&this.props.onElementLoad(t.currentTarget)}}render(){const e=this.props.image,t=`data:${e.mediaType};base64,${e.contents}`;return o.createElement('img',{src:t,style:this.props.style,onLoad:this.onLoad})}}t.ImageContainer=r},function(e,t,n){'use strict';function o(e,t){return()=>{const n=performance.now()-e,o=(n/1e3).toFixed(3),r=`[Timing] ${t} took ${o}s`;log.info(r)}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(26);t.startTimer=function(e,t){const n=performance&&performance.now?performance.now():null;if(null===n)return log.warn(`[Timing] invoked but performance.now not found - are you using this outside the renderer?`),{done:()=>{}};const i=`Action '${e}' for '${r.nameOf(t)}'`;return{done:o(n,i)}}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(618)),o(n(220))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=['.cmd','.exe','.bat','.sh'];t.CopyFilePathLabel='Copy file path',t.DefaultEditorLabel='Open in external editor',t.RevealInFileManagerLabel='Show in Explorer',t.TrashNameLabel='Recycle Bin',t.OpenWithDefaultProgramLabel='Open with default program',t.isSafeFileExtension=function(e){return-1===n.indexOf(e.toLowerCase())}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e.NotLoaded='NotLoaded',e.Loading='Loading',e.Loaded='Loaded'})(n=t.StashedChangesLoadStates||(t.StashedChangesLoadStates={}))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.Push=1]='Push',e[e.Pull=2]='Pull',e[e.Fetch=3]='Fetch',e[e.Clone=4]='Clone',e[e.Checkout=5]='Checkout'})(n=t.RetryActionType||(t.RetryActionType={}))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(31),r=n(124);t.initializeNewRebaseFlow=function(e){const{defaultBranch:t,allBranches:n,recentBranches:r,tip:i}=e.branchesState;let a=null;if(i.kind===o.TipState.Valid)a=i.branch;else throw new Error('Tip is not in a valid state, which is required to start the rebase flow');const s={kind:'ChooseBranch',defaultBranch:t,currentBranch:a,allBranches:n,recentBranches:r};return s},t.initializeRebaseFlowForConflictedRepository=function(e){return{kind:'ShowConflicts',conflictState:e}},t.formatRebaseValue=function(e){return Math.round(100*r.clamp(e,0,1))/100},t.isCurrentBranchForcePush=function(e,t){if(null===t)return!1;const{tip:n,rebasedBranches:r}=e,{ahead:i,behind:a}=t;let s=!1;if(n.kind===o.TipState.Valid){const e=n.branch.nameWithoutRemote,{sha:t}=n.branch.tip,o=r.get(e);s=o===t}return s&&0<a&&0<i}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(701)),o(n(700)),o(n(699)),o(n(698)),o(n(71)),o(n(697)),o(n(259))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(35),r=n(172),i=n(270);t.spawnAndComplete=function(e,t,n,a,s){const d=`${n}: git ${e.join(' ')}`;return r.measure(d,()=>new Promise((r,d)=>{const l=o.GitProcess.spawn(e,t);l.on('error',(e)=>{i.isErrnoException(e)?d(new Error(`Failed to execute ${n}: ${e.code}`)):d(e)});let c=0,p=!1;const u=[];l.stdout&&l.stdout.on('data',(e)=>{(!s||c<s)&&(u.push(e),c+=e.length),s&&c>=s&&!p&&(l.kill(),p=!0)});const m=[];l.stderr&&l.stderr.on('data',(e)=>{m.push(e)}),l.on('close',(e,t)=>{const n=Buffer.concat(u,s?Math.min(s,c):c),o=Buffer.concat(m),i=a||new Set([0]);return i.has(e)||t?void r({output:n,error:o,exitCode:e}):void d(new Error(`Git returned an unexpected exit code '${e}' which should be handled by the caller.'`))})}))}},function(e,t,n){'use strict';async function o(e,t,n,o){const i=['config','-z'];t||i.push('--global'),n!==void 0&&i.push('--type',n),i.push(e);const a=await r.git(i,t||__dirname,'getConfigValueInPath',{successExitCodes:new Set([0,1]),env:o});if(1===a.exitCode)return null;const s=a.stdout,d=s.split('\0');return d[0]}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(1);t.getConfigValue=function(e,t){return o(t,e.path)},t.getGlobalConfigValue=function(e,t){return o(e,null,void 0,t)},t.getGlobalBooleanConfigValue=async function(e,t){const n=await o(e,null,'bool',t);return null===n?null:'false'!==n},t.setGlobalConfigValue=async function(e,t,n){const o=n?{env:n}:void 0;await r.git(['config','--global','--replace-all',e,t],__dirname,'setGlobalConfigValue',o)},t.getGlobalConfigPath=async function(e){const t=e?{env:e}:void 0,n=await r.git(['config','--global','--list','--show-origin','--name-only','-z'],__dirname,'getGlobalConfigPath',t),o=n.stdout.split('\0');if(1>o.length)return null;const a=o[0];if(!a.length)return null;const s=a.match(/file:(.+)/i);return!s||2>s.length?null:i.normalize(s[1])}},function(e,t,n){'use strict';function o(e){return e===s.Light?'light':e===s.Dark?'dark':i.assertNever(e,`Unknown theme ${e}`)}function r(){return'dark'===localStorage.getItem(d)?s.Dark:s.Light}Object.defineProperty(t,'__esModule',{value:!0});const i=n(2),a=n(56);var s;(function(e){e[e.Light=0]='Light',e[e.Dark=1]='Dark'})(s=t.ApplicationTheme||(t.ApplicationTheme={})),t.getThemeName=o;const d='theme';t.getPersistedTheme=r,t.getPersistedThemeName=function(){return o(r())},t.setPersistedTheme=function(e){localStorage.setItem(d,o(e))};const l='autoSwitchTheme';t.getAutoSwitchPersistedTheme=function(){return a.getBoolean(l,!1)},t.setAutoSwitchPersistedTheme=function(e){a.setBoolean(l,e)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(755);t.StatsDatabase=o.StatsDatabase;var r=n(754);t.StatsStore=r.StatsStore,t.SamplesURL=r.SamplesURL;var i=n(292);t.getGUID=i.getGUID;var a=n(631);t.hasSeenUsageStatsNote=a.hasSeenUsageStatsNote,t.markUsageStatsNoteSeen=a.markUsageStatsNoteSeen},function(e,t,n){'use strict';function o(){return c||(c=l.remote.app),c}function r(){return p||(p=o().getVersion()),p}function i(){return u||(u=o().getName()),u}function a(){return m||(m=o().getAppPath()),m}function s(){return h||(h=o().getPath('userData')),h}function d(){if(!f){const e=o();try{f=e.getPath('documents')}catch(t){f=e.getPath('home')}}return f}Object.defineProperty(t,'__esModule',{value:!0});const l=n(22);let c=null,p=null,u=null,m=null,h=null,f=null;t.getVersion=r,t.getName=i,t.getAppPath=a,t.getUserDataPath=s,t.getDocumentsPath=d},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}var r=n(786),i=o(r),a=n(309),s=o(a);e.exports={TransitionGroup:s.default,CSSTransitionGroup:i.default}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{constructor(){super(...arguments),this.onSubmit=(e)=>{e.preventDefault(),this.props.onSubmit&&this.props.onSubmit()}}render(){const e=r('form-component',this.props.className);return o.createElement('form',{className:e,onSubmit:this.onSubmit},this.props.children)}}t.Form=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(511);t.PushBranchCommits=o.PushBranchCommits;var r=n(206);t.BranchList=r.BranchList;var i=n(504);t.BranchesContainer=i.BranchesContainer;var a=n(499);t.PullRequestBadge=a.PullRequestBadge;var s=n(205);t.groupBranches=s.groupBranches;var d=n(202);t.BranchListItem=d.BranchListItem;var l=n(203);t.renderDefaultBranch=l.renderDefaultBranch},function(e,t,n){'use strict';function o(e,t,n,o){const d=new a.Tokenizer(e,t),l='string'==typeof o?d.tokenize(o):o;return l.map((e,t)=>{switch(e.kind){case a.TokenType.Emoji:return r.createElement('img',{key:t,alt:e.text,className:'emoji',src:e.path});case a.TokenType.Link:return!1===n?r.createElement('span',{key:t},e.text):r.createElement(i.LinkButton,{key:t,uri:e.url,title:e.url},e.text);case a.TokenType.Text:return r.createElement('span',{key:t},e.text);default:return s.assertNever(e,`Unknown token type: ${e}`);}})}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(13),a=n(147),s=n(2),d=n(67);class l extends r.Component{constructor(){super(...arguments),this.getElements=d.default(o),this.getTitle=d.default((e)=>'string'==typeof e?e:e.map((e)=>e.text).join(''))}render(){const{emoji:e,repository:t,renderUrlsAsLinks:n,text:o}=this.props;return 0===o.length?null:r.createElement('div',{className:this.props.className,title:this.getTitle(o)},this.getElements(e,t,n,o))}}t.RichText=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{render(){const e=r(this.props.className,'ui-view'),t=Object.assign({},this.props,{className:e});return o.createElement('div',Object.assign({},t),this.props.children)}}t.UiView=i},function(e,t,n){var o=n(223),r=n(162);e.exports=function(e){return o(r(e))}},function(e){e.exports={}},function(e,t,n){var o=n(119),r=n(45),i=n(232),a='prototype',s=function(e,t,n){var d=e&s.F,l=e&s.G,c=e&s.S,p=e&s.P,u=e&s.B,m=e&s.W,h=l?r:r[t]||(r[t]={}),f=l?o:c?o[t]:(o[t]||{})[a],g,y,S;for(g in l&&(n=t),n)y=!d&&f&&g in f,y&&g in h||(S=y?f[g]:n[g],h[g]=l&&'function'!=typeof f[g]?n[g]:u&&y?i(S,o):m&&f[g]==S?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(S):p&&'function'==typeof S?i(Function.call,S):S,p&&((h[a]||(h[a]={}))[g]=S))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);t.HighlightText=({text:e,highlight:t})=>o.createElement('span',null,e.split('').map((e,n)=>[e,t.includes(n)]).concat([['',!1]]).reduce((e,[t,n],r,a)=>{if(n===e.matched&&r<a.length-1)e.str+=t;else{const a=e.matched?'mark':'span';e.result.push(o.createElement(a,{key:r},e.str)),e.str=t,e.matched=n}return e},{matched:!1,str:'',result:[]}).result)},function(e,t){'use strict';function n(e){return e!==o.NotApplicable&&e!==o.Paused}Object.defineProperty(t,'__esModule',{value:!0});var o;(function(e){e.NotApplicable='NotApplicable',e.PickEditor='PickEditor',e.CreateBranch='CreateBranch',e.EditFile='EditFile',e.MakeCommit='MakeCommit',e.PushBranch='PushBranch',e.OpenPullRequest='OpenPullRequest',e.AllDone='AllDone',e.Paused='Paused'})(o=t.TutorialStep||(t.TutorialStep={})),t.isValidTutorialStep=n,t.orderedTutorialSteps=[o.PickEditor,o.CreateBranch,o.EditFile,o.MakeCommit,o.PushBranch,o.OpenPullRequest,o.AllDone]},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e.SuccessfulMerge='SuccessfulMerge',e.MergeConflictsFound='MergeConflictsFound',e.SuccessfulRebase='SuccessfulRebase',e.RebaseConflictsFound='RebaseConflictsFound'})(n=t.BannerType||(t.BannerType={}))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.DefaultCommitMessage={summary:'',description:''}},function(e,t,n){'use strict';function o(){const e='bat';return i.resolve(__dirname,'static',`ask-pass-trampoline.${e}`)}function r(){return i.resolve(__dirname,'ask-pass.js')}Object.defineProperty(t,'__esModule',{value:!0});const i=n(1),a=n(35);t.envForAuthentication=function(e){const t={DESKTOP_PATH:process.execPath,DESKTOP_ASKPASS_SCRIPT:r(),GIT_ASKPASS:o(),GIT_TERMINAL_PROMPT:'0',GIT_TRACE:localStorage.getItem('git-trace')||'0'};return e?Object.assign({},t,{DESKTOP_USERNAME:e.login,DESKTOP_ENDPOINT:e.endpoint}):t},t.AuthenticationErrors=new Set([a.GitError.HTTPSAuthenticationFailed,a.GitError.SSHAuthenticationFailed,a.GitError.HTTPSRepositoryNotFound,a.GitError.SSHRepositoryNotFound])},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(278),r=n(276),i=n(274);t.parse=function(e){return r.parse(e)};class a extends Error{constructor(e,t={}){super(e),this.metadata=t}}t.ExternalEditorError=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{constructor(e,t,n,o=null,r=null,i='master',a=null,s=null,d=null,l=null,c=null){this.name=e,this.owner=t,this.dbID=n,this.isPrivate=o,this.htmlURL=r,this.defaultBranch=i,this.cloneURL=a,this.issuesEnabled=s,this.isArchived=d,this.permissions=l,this.parent=c}get endpoint(){return this.owner.endpoint}get fullName(){return`${this.owner.login}/${this.name}`}get fork(){return!!this.parent}get hash(){return`${this.dbID}+${this.defaultBranch}+${this.isPrivate}+${this.cloneURL}+${this.name}+${this.htmlURL}+${this.owner.hash}+${this.parent&&this.parent.hash}`}}t.GitHubRepository=n,t.hasWritePermission=function(e){return null===e.permissions||'read'!==e.permissions}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1);let r=1;class i{constructor(e,t){this.path=e,this.url=t,this.id=r++}get name(){return o.basename(this.url,'.git')}get hash(){return`${this.id}+${this.path}+${this.url}`}}t.CloningRepository=i},function(e,t){'use strict';function n(e){for(const{protocol:t,regex:n}of o){const o=e.match(n);if(!o)continue;const r=o[1],i=o[2],a=o[3];if(r)return{protocol:t,hostname:r,owner:i,name:a}}return null}Object.defineProperty(t,'__esModule',{value:!0});const o=[{protocol:'https',regex:/^https?:\/\/(?:.+@)?(.+)\/(.+)\/(.+?)(?:\/|.git\/?)?$/},{protocol:'ssh',regex:/^git@(.+):(.+)\/(.+?)(?:\/|.git)?$/},{protocol:'ssh',regex:/^git:(.+)\/(.+)\/(.+?)(?:\/|.git)?$/},{protocol:'ssh',regex:/^ssh:\/\/git@(.+)\/(.+)\/(.+?)(?:\/|.git)?$/}];t.parseRemote=n,t.parseRepositoryIdentifier=function(e){const t=n(e);if(t){const{owner:e,name:n,hostname:o}=t;if(e&&n)return{owner:e,name:n,hostname:o}}const o=e.split('/');if(2===o.length&&0<o[0].length&&0<o[1].length){const e=o[0],t=o[1];return{owner:e,name:t,hostname:null}}return null}},function(e,t,n){'use strict';function o(e,t=60){const n=e.trim().toLowerCase(),o=r.createHash('md5').update(n).digest('hex');return`https://www.gravatar.com/avatar/${o}?s=${t}`}Object.defineProperty(t,'__esModule',{value:!0});const r=n(177),i=n(10);t.generateGravatarUrl=o,t.getAvatarWithEnterpriseFallback=function(e,t,n){return n===i.getDotComAPIEndpoint()||null===t||0===t.length?e:o(t)}},function(e,t,n){'use strict';function o(e){if(window.crypto){const t=new Uint8Array(e);return crypto.getRandomValues(t),Buffer.from(t.buffer)}return r.randomBytes(e)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(177),i=n(302);t.uuid=function(){return i({random:o(16)})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n extends Error{constructor(e,t){super(e.message),this.name=e.name,this.stack=e.stack,this.underlyingError=e,this.metadata=t}}t.ErrorWithMetadata=n},function(e,t){function n(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(l);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function r(e){var t='';return e.scheme&&(t+=e.scheme+':'),t+='//',e.auth&&(t+=e.auth+'@'),e.host&&(t+=e.host),e.port&&(t+=':'+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,a=o(e);if(a){if(!a.path)return e;n=a.path}for(var s=t.isAbsolute(n),d=n.split(/\/+/),l=0,c=d.length-1,i;0<=c;c--)i=d[c],'.'===i?d.splice(c,1):'..'===i?l++:0<l&&(''===i?(d.splice(c+1,l),l=0):(d.splice(c,2),l--));return n=d.join('/'),''===n&&(n=s?'/':'.'),a?(a.path=n,r(a)):n}function a(e){return e}function s(e){if(!e)return!1;var t=e.length;if(9>t)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;0<=n;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t){return e===t?0:e>t?1:-1}t.getArg=n;var l=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,c=/^data:.+\,.+$/;t.urlParse=o,t.urlGenerate=r,t.normalize=i,t.join=function(e,t){''===e&&(e='.'),''===t&&(t='.');var n=o(t),a=o(e);if(a&&(e=a.path||'/'),n&&!n.scheme)return a&&(n.scheme=a.scheme),r(n);if(n||t.match(c))return t;if(a&&!a.host&&!a.path)return a.host=t,r(a);var s='/'===t.charAt(0)?t:i(e.replace(/\/+$/,'')+'/'+t);return a?(a.path=s,r(a)):s},t.isAbsolute=function(e){return'/'===e.charAt(0)||!!e.match(l)},t.relative=function(e,t){''===e&&(e='.'),e=e.replace(/\/$/,'');for(var n=0,o;0!==t.indexOf(e+'/');){if(o=e.lastIndexOf('/'),0>o)return t;if(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join('../')+t.substr(e.length+1)};var p=function(){var e=Object.create(null);return!('__proto__'in e)}();t.toSetString=p?a:function(e){return s(e)?'$'+e:e},t.fromSetString=p?a:function(e){return s(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var o=e.source-t.source;return 0==o?(o=e.originalLine-t.originalLine,0!=o)?o:(o=e.originalColumn-t.originalColumn,0!=o||n)?o:(o=e.generatedColumn-t.generatedColumn,0!=o)?o:(o=e.generatedLine-t.generatedLine,0==o?e.name-t.name:o):o},t.compareByGeneratedPositionsDeflated=function(e,t,n){var o=e.generatedLine-t.generatedLine;return 0==o?(o=e.generatedColumn-t.generatedColumn,0!=o||n)?o:(o=e.source-t.source,0!=o)?o:(o=e.originalLine-t.originalLine,0!=o)?o:(o=e.originalColumn-t.originalColumn,0==o?e.name-t.name:o):o},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0===n?(n=e.generatedColumn-t.generatedColumn,0!==n)?n:(n=d(e.source,t.source),0!==n)?n:(n=e.originalLine-t.originalLine,0!==n)?n:(n=e.originalColumn-t.originalColumn,0===n?d(e.name,t.name):n):n}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e){if((!i||e)&&r.default){var t=document.createElement('div');t.style.position='absolute',t.style.top='-9999px',t.style.width='50px',t.style.height='50px',t.style.overflow='scroll',document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var o=n(181),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=void 0;e.exports=t['default']},function(e,t,n){'use strict';t.__esModule=!0;var o=n(231),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(448))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(18),i=n(12);class a extends o.Component{constructor(){super(...arguments),this.onClick=(e)=>{e.preventDefault(),this.props.onAction()}}render(){return o.createElement(r.Row,{className:'call-to-action'},this.props.children,o.createElement(i.Button,{className:'action-button',type:'submit',onClick:this.onClick},this.props.actionTitle))}}t.CallToAction=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(5),a=n(2),s=n(12),d=n(124);var l;(function(e){e[e.Standard=0]='Standard',e[e.Subtitle=1]='Subtitle'})(l=t.ToolbarButtonStyle||(t.ToolbarButtonStyle={}));class c extends o.Component{constructor(){super(...arguments),this.innerButton=null,this.onClick=(e)=>{this.props.onClick&&this.props.onClick(e)},this.onButtonRef=(e)=>{this.innerButton=e},this.focusButton=()=>{this.innerButton&&this.innerButton.focus()},this.getButtonBoundingClientRect=()=>this.innerButton?this.innerButton.getBoundingClientRect():void 0}render(){const e=this.props.icon?o.createElement(r.Octicon,{symbol:this.props.icon,className:i('icon',this.props.iconClassName)}):null,t=i('toolbar-button',{"has-progress":void 0!==this.props.progressValue},this.props.className),n=this.props.progressValue===void 0?void 0:Math.round(100*d.clamp(this.props.progressValue,0,1))/100,a=n===void 0?void 0:o.createElement('div',{className:'progress',style:{transform:`scaleX(${n})`}});return o.createElement('div',{className:t,onKeyDown:this.props.onKeyDown,title:this.props.tooltip},o.createElement(s.Button,{onClick:this.onClick,ref:this.onButtonRef,disabled:this.props.disabled,onMouseEnter:this.props.onMouseEnter,tabIndex:this.props.tabIndex,role:this.props.role,ariaExpanded:this.props.ariaExpanded},a,e,this.renderText(),this.props.children))}renderText(){if(this.props.title===void 0&&this.props.description===void 0)return null;const e=this.props.title===void 0?null:o.createElement('div',{className:'title'},this.props.title),t=this.props.description===void 0?null:o.createElement('div',{className:'description'},this.props.description),n=this.props.style||l.Standard;return n===l.Standard?o.createElement('div',{className:'text'},t,e):n===l.Subtitle?o.createElement('div',{className:'text'},o.createElement('div',{className:'title'},this.props.title),t):a.assertNever(n,`Unknown button style: ${n}`)}}t.ToolbarButton=c},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(215)),o(n(524)),o(n(523))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(40);t.openFile=async function(e,t){const n=await o.shell.openExternal(`file://${e}`);if(!n){const n={name:'no-external-program',message:`Unable to open file ${e} in an external program. Please check you have a program associated with this file extension`};await t.postError(n)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(57),i=60*1e3,a=60*i,s=24*a;class d extends o.Component{constructor(e){super(e),this.timer=null,this.updateFromScheduler=()=>{this.updateWithDate(this.props.date)},this.state={absoluteText:'',relativeText:''}}clearTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}updateAndSchedule(e,t,n){this.clearTimer(),this.timer=window.setTimeout(this.updateFromScheduler,Math.min(n,2147483647)),this.setState({absoluteText:e,relativeText:t})}updateWithDate(e){const t=r(e),n=r(),o=t.diff(n),d=Math.abs(o),l=t.format('LLLL'),c=!0===this.props.abbreviate?r.duration(d,'milliseconds').format('y[y] M[m] w[w] d[d] h[h] m[m]',{largest:1}):t.from(n);0<o&&d>i?this.updateAndSchedule(l,t.format('lll'),d):d<i?this.updateAndSchedule(l,'just now',i-d):d<a?this.updateAndSchedule(l,c,i):d<s?this.updateAndSchedule(l,c,a):d<7*s?this.updateAndSchedule(l,c,6*a):this.setState({absoluteText:l,relativeText:t.format('ll')})}componentWillReceiveProps(e){this.props.date!==e.date&&this.updateWithDate(e.date)}componentWillMount(){this.updateWithDate(this.props.date)}componentWillUnmount(){this.clearTimer()}shouldComponentUpdate(e,t){return e.date!==this.props.date||t.absoluteText!==this.state.absoluteText||t.relativeText!==this.state.relativeText}render(){return o.createElement('span',{title:this.state.absoluteText},this.state.relativeText)}}t.RelativeTime=d},function(e,t){var o=Math.max,r=Math.ceil;(function(){var e,n,a,s,i,d,l,c,p,u,h,m,f,g,y,S,C,b,v,E;E=150,u=20,v=150,p=.75,t.score=function(e,t,o){var a,s,d,l;return(s=o.preparedQuery,a=o.allowErrors,!(a||i(e,s.core_lw,s.core_up)))?0:(l=e.toLowerCase(),d=n(e,l,s),r(d))},t.isMatch=i=function(e,t,o){var r,i,a,s,n,d,l;if(a=e.length,s=t.length,!a||s>a)return!1;for(r=-1,i=-1;++i<s;){for(n=t.charCodeAt(i),d=o.charCodeAt(i);++r<a&&(l=e.charCodeAt(r),l!==n&&l!==d););if(r==a)return!1}return!0},t.computeScore=n=function(e,t,a){var s,d,l,u,S,C,v,E,i,w,k,T,_,n,R,x,P,D,M,A,I,L,F,B;if(R=a.query,x=a.query_lw,w=e.length,_=R.length,s=h(e,t,R,x),d=s.score,s.count===_)return g(_,w,d,s.pos);if(n=t.indexOf(x),-1<n)return y(e,t,R,x,n,_,w);for(A=Array(_),S=Array(_),B=b(_,w),k=r(p*_)+5,T=k,v=!0,i=-1;++i<_;)A[i]=0,S[i]=0;for(E=-1;++E<w;){if(L=t[E],!L.charCodeAt(0)in a.charCodes){if(v){for(i=-1;++i<_;)S[i]=0;v=!1}continue}for(D=0,M=0,u=0,P=!0,v=!0,i=-1;++i<_;){if(I=A[i],I>D&&(D=I),C=0,x[i]===L)if(F=c(E,e,t),C=0<u?u:f(e,t,R,x,E,i,F),l=M+m(E,i,F,d,C),l>D)D=l,T=k;else{if(P&&0>=--T)return o(D,A[_-1])*B;P=!1}M=I,u=S[i],S[i]=C,A[i]=D}}return D=A[_-1],D*B},t.isWordStart=c=function(e,t,n){var o,r;return!(0!==e)||(o=t[e],r=t[e-1],d(r)||o!==n[e]&&r===n[e-1])},t.isWordEnd=l=function(e,t,n,o){var r,i;return!(e!==o-1)||(r=t[e],i=t[e+1],d(i)||r===n[e]&&i!==n[e+1])},d=function(e){return' '===e||'.'===e||'-'===e||'_'===e||'/'===e||'\\'===e},C=function(e){var t;return e<u?(t=u-e,100+t*t):o(100+u-e,0)},t.scoreSize=b=function(e,t){return v/(v+Math.abs(t-e))},g=function(e,t,n,o){return 2*e*(E*n+C(o))*b(e,t)},t.scorePattern=S=function(e,t,n,o,r){var i,a;return a=e,i=6,n===e&&(i+=2),o&&(i+=3),r&&(i+=1),e===t&&(o&&(n===t?a+=2:a+=1),r&&(i+=1)),n+a*(a+i)},t.scoreCharacter=m=function(e,t,n,o,r){var i;return i=C(e),n?i+E*((o>r?o:r)+10):i+E*r},t.scoreConsecutives=f=function(e,t,o,r,a,i,s){var d,c,p,u,n,m,h;for(c=e.length,u=o.length,p=c-a,n=u-i,d=p<n?p:n,m=0,h=0,o[i]===e[a]&&m++;++h<d&&r[++i]===t[++a];)o[i]===e[a]&&m++;return h<d&&a--,1===h?1+2*m:S(h,u,m,s,l(a,e,t,c))},t.scoreExactMatch=y=function(e,t,o,r,a,s,n){var d,p,i,u,m;for(m=c(a,e,t),m||(i=t.indexOf(r,a+1),-1<i&&(m=c(i,e,t),m&&(a=i))),p=-1,u=0;++p<s;)o[a+p]===e[p]&&u++;return d=l(a+s-1,e,t,n),g(s,n,S(s,s,u,m,d),a)},e=function(){return function(e,t,n){this.score=e,this.pos=t,this.count=n}}(),a=new e(0,.1,0),t.scoreAcronyms=h=function(t,o,r,l){var p,u,h,i,f,m,n,g,y,C,b;if(f=t.length,m=r.length,!(1<f&&1<m))return a;for(p=0,C=0,b=0,g=0,h=-1,i=-1;++i<m;){if(n=l[i],d(n))if(h=o.indexOf(n,h+1),-1<h){C++;continue}else break;for(;++h<f;)if(n===o[h]&&c(h,t,o)){r[i]===t[h]&&g++,b+=h,p++;break}if(h===f)break}return 2>p?a:(u=p==m&&s(t,o,r,p),y=S(p,m,g,!0,u),new e(y,b/p,p+C))},s=function(e,t,o,r){var a,s,i,d;if(i=e.length,d=o.length,a=0,i>12*d)return!1;for(s=-1;++s<i;)if(c(s,e,t)&&++a>r)return!1;return!0}}).call(this)},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e,t,n){'use strict';function o(e){return e.text}function r(e){const t=[],n=(e.filterText||'').toLowerCase();for(const r of e.groups){const i=n?u.match(n,r.items,o):r.items.map((e)=>({score:1,matches:{title:[],subtitle:[]},item:e}));if(i.length){e.renderGroupHeader&&t.push({kind:'group',identifier:r.identifier});for(const{item:e,matches:n}of i)t.push({kind:'item',item:e,matches:n})}}let r=-1;const a=e.selectedItem;return a&&(r=t.findIndex((e)=>'item'===e.kind&&e.item.id===a.id)),0>r&&n.length&&(r=t.findIndex((e)=>'item'===e.kind)),{rows:t,selectedRow:r}}function i(e,t){if(0<=t&&t<e.length){const n=e[t];if('item'===n.kind)return n.item}return null}function a(e,t){const n=i(e,t);return n?n.id:null}Object.defineProperty(t,'__esModule',{value:!0});const s=n(0),d=n(5),l=n(77),c=n(29),p=n(18),u=n(573);class m extends s.Component{constructor(e){super(e),this.list=null,this.filterTextBox=null,this.renderRow=(e)=>{const t=this.state.rows[e];return'item'===t.kind?this.props.renderItem(t.item,t.matches):this.props.renderGroupHeader?this.props.renderGroupHeader(t.identifier):null},this.onTextBoxRef=(e)=>{this.filterTextBox=e},this.onListRef=(e)=>{this.list=e},this.onFilterValueChanged=(e)=>{this.props.onFilterTextChanged&&this.props.onFilterTextChanged(e)},this.onSelectedRowChanged=(e,t)=>{if(this.setState({selectedRow:e}),this.props.onSelectionChanged){const n=this.state.rows[e];'item'===n.kind&&this.props.onSelectionChanged(n.item,t)}},this.canSelectRow=(e)=>{if(this.props.disabled)return!1;const t=this.state.rows[e];return'item'===t.kind},this.onRowClick=(e,t)=>{if(this.props.onItemClick){const n=this.state.rows[e];'item'===n.kind&&this.props.onItemClick(n.item,t)}},this.onRowKeyDown=(e,t)=>{const n=this.list;if(!n)return;const o=this.state.rows.length,r=l.findNextSelectableRow(o,{direction:'down',row:-1},this.canSelectRow),i=l.findNextSelectableRow(o,{direction:'up',row:0},this.canSelectRow);let a=!1;if('ArrowUp'===t.key&&e===r?a=!0:'ArrowDown'===t.key&&e===i&&(a=!0),a){const e=this.filterTextBox;e&&(t.preventDefault(),e.focus())}},this.onKeyDown=(e)=>{const t=this.list,n=e.key;if(t&&(this.props.onFilterKeyDown&&this.props.onFilterKeyDown(e),!e.defaultPrevented)){const o=this.state.rows.length;if('ArrowDown'===n){if(0<o){const e=l.findNextSelectableRow(o,{direction:'down',row:-1},this.canSelectRow);null!=e&&this.setState({selectedRow:e},()=>{t.focus()})}e.preventDefault()}else if('ArrowUp'===n){if(0<o){const e=l.findNextSelectableRow(o,{direction:'up',row:0},this.canSelectRow);null!=e&&this.setState({selectedRow:e},()=>{t.focus()})}e.preventDefault()}else if('Enter'===n){if(0===o)return e.preventDefault();const t=this.props.filterText;if(void 0!==t&&!/\S/.test(t))return e.preventDefault();const n=l.findNextSelectableRow(o,{direction:'down',row:-1},this.canSelectRow);null!=n&&this.onRowClick(n,{kind:'keyboard',event:e})}}},this.state=r(e)}componentWillMount(){this.props.filterTextBox!==void 0&&(this.filterTextBox=this.props.filterTextBox)}componentWillReceiveProps(e){this.setState(r(e))}componentDidUpdate(e,t){if(this.props.onSelectionChanged){const e=a(t.rows,t.selectedRow),n=a(this.state.rows,this.state.selectedRow);if(e!==n){const e=this.props.selectedItem?this.props.selectedItem.id:null;if(e!==n){const e=i(this.state.rows,this.state.selectedRow);this.props.onSelectionChanged(e,{kind:'filter',filterText:this.props.filterText||''})}}}if(void 0!==this.props.onFilterListResultsChanged){const e=this.state.rows.filter((e)=>'item'===e.kind).length;this.props.onFilterListResultsChanged(e)}}componentDidMount(){null!==this.filterTextBox&&this.filterTextBox.selectAll()}renderTextBox(){return s.createElement(c.TextBox,{ref:this.onTextBoxRef,type:'search',autoFocus:!0,placeholder:this.props.placeholderText||'Filter',className:'filter-list-filter-field',onValueChanged:this.onFilterValueChanged,onKeyDown:this.onKeyDown,value:this.props.filterText,disabled:this.props.disabled})}render(){return s.createElement('div',{className:d('filter-list',this.props.className)},this.props.renderPreList?this.props.renderPreList():null,s.createElement(p.Row,{className:'filter-field-row'},this.props.filterTextBox===void 0?this.renderTextBox():null,this.props.renderPostFilter?this.props.renderPostFilter():null),s.createElement('div',{className:'filter-list-container'},this.renderContent()))}selectNextItem(e=!1,t='down'){if(null===this.list)return;let n=null;n=-1===this.state.selectedRow||this.state.selectedRow===this.state.rows.length?l.findNextSelectableRow(this.state.rows.length,{direction:t,row:-1},this.canSelectRow):l.findNextSelectableRow(this.state.rows.length,{direction:t,row:this.state.selectedRow},this.canSelectRow),null!==n&&this.setState({selectedRow:n},()=>{e&&null!==this.list&&this.list.focus()})}renderContent(){return 0===this.state.rows.length&&this.props.renderNoItems?this.props.renderNoItems():s.createElement(l.List,{ref:this.onListRef,rowCount:this.state.rows.length,rowRenderer:this.renderRow,rowHeight:this.props.rowHeight,selectedRows:[this.state.selectedRow],onSelectedRowChanged:this.onSelectedRowChanged,onRowClick:this.onRowClick,onRowKeyDown:this.onRowKeyDown,canSelectRow:this.canSelectRow,invalidationProps:Object.assign({},this.props,this.props.invalidationProps)})}}t.FilterList=m,t.getText=o},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(294);class r extends o.default{constructor(e,t){super(e),this.schemaVersion=t}async conditionalVersion(e,t,n){if(!(null!=this.schemaVersion&&this.schemaVersion<e)){const o=this.version(e).stores(t);null!=n&&(await o.upgrade(n))}}}t.BaseDatabase=r},function(e,t){'use strict';async function n(e){return new Promise((t)=>window.setTimeout(t,e))}async function o(e,t,n){let o=null;const r=new Promise((e)=>{o=window.setTimeout(()=>e(n),t)});return Promise.race([e,r]).finally(()=>{null!==o&&window.clearTimeout(o)})}Object.defineProperty(t,'__esModule',{value:!0}),t.promiseWithMinimumTimeout=function(e,t){return Promise.all([e(),n(t)]).then((e)=>e[0])},t.sleep=n,t.timeout=o},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(667));var o=n(246);t.ShellError=o.ShellError},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.clamp=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{constructor(e,t,n,o=new Date().getTimezoneOffset()){this.name=e,this.email=t,this.date=n,this.tzOffset=o}static parseIdentity(e){const t=e.match(/^(.*?) <(.*?)> (\d+) (\+|-)?(\d{2})(\d{2})/);if(!t)return null;const o=t[1],r=t[2],i=new Date(1e3*parseInt(t[3],10)),a='-'===t[4]?'-':'+',s=t[5],d=t[6],l=60*parseInt(s,10)+parseInt(d,10),c=l*('-'===a?-1:1);return new n(o,r,i,c)}}t.CommitIdentity=n},function(e,t){'use strict';function n(e,t){if(!1===t.global)throw new Error('A regex has been provided that is not marked as global, and has the potential to execute forever if it finds a match');const n=[];for(let o=t.exec(e);null!==o;)n.push(o),o=t.exec(e);return n}Object.defineProperty(t,'__esModule',{value:!0}),t.getCaptures=function(e,t){const o=n(e,t),r=o.reduce((e,t)=>e.concat([t.slice(1)]),[]);return r},t.getMatches=n},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(19),r=n(63),i=n(1),a=n(49),s=n(710),d=n(170);t.getTempFilePath=async function(e){const t=i.join(r.tmpdir(),`${e}-`),n=await o.mkdtemp(t);return i.join(n,e)},t.tailByLine=function(e,t){const n=new s.Tailer(e),o=n.onError((t)=>{log.warn(`Unable to tail path: ${e}`,t)}),r=n.onDataAvailable((e)=>{d(e).on('data',(e)=>{if(!r.disposed){const n=e.toString();t(n)}})});return n.start(),new a.Disposable(()=>{r.dispose(),o.dispose(),n.stop()})},t.readFile=async function(e,t){return new Promise((n,r)=>{t=t||{flag:'r'},o.readFile(e,t,(e,t)=>{e?r(e):n(t)})})},t.readPartialFile=async function(e,t,n){return await new Promise((r,i)=>{const a=[];let s=0;o.createReadStream(e,{start:t,end:n}).on('data',(e)=>{a.push(e),s+=e.length}).on('error',i).on('end',()=>r(Buffer.concat(a,s)))})}},function(e,t,n){'use strict';function o(e,t){const n=e.split('\n'),o=[];for(const i of n){const e=r(i,t);e&&o.push(e)}return o}function r(e,t){for(const n of t){const t=e.indexOf(n);if(0<t)return{token:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}return null}async function i(e){return(await s.getConfigValue(e,'trailer.separators'))||':'}Object.defineProperty(t,'__esModule',{value:!0});const a=n(11),s=n(84);t.isCoAuthoredByTrailer=function(e){return'co-authored-by'===e.token.toLowerCase()},t.parseRawUnfoldedTrailers=o,t.parseSingleUnfoldedTrailer=r,t.getTrailerSeparatorCharacters=i,t.parseTrailers=async function(e,t){const n=await a.git(['interpret-trailers','--parse'],e.path,'parseTrailers',{stdin:t}),r=n.stdout;if(0===r.length)return[];const s=await i(e);return o(n.stdout,s)},t.mergeTrailers=async function(e,t,n,o=!1){const r=['interpret-trailers'];o&&r.push('--unfold');for(const i of n)r.push('--trailer',`${i.token}=${i.value}`);const i=await a.git(r,e.path,'mergeTrailers',{stdin:t});return i.stdout}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e.Parent='parent',e.Self='self'})(n=t.ForkContributionTarget||(t.ForkContributionTarget={}))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.BackgroundTask=0]='BackgroundTask',e[e.UserInitiatedTask=1]='UserInitiatedTask'})(n=t.FetchType||(t.FetchType={}))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.DotCom=0]='DotCom',e[e.Enterprise=1]='Enterprise',e[e.Generic=2]='Generic'})(n=t.CloneRepositoryTab||(t.CloneRepositoryTab={}))},function(e,t,n){'use strict';function o(e){if(e.accelerator)return e.accelerator;if(e.role){const t=e.getDefaultRoleAccelerator;if('function'==typeof t)try{const n=t.call(e);if('string'==typeof n)return n}catch(e){console.error('Could not retrieve default accelerator',e)}}return null}function r(e){const t=e.match(/&([^&])/);return t?t[1]:null}function i(e){switch(e){case'normal':case'separator':case'submenu':case'checkbox':case'radio':return e;default:throw new Error(`Unable to parse string ${e} to a valid menu item type`);}}function a(e){const t=e.id;if(!t)throw new Error(`menuItem must specify id: ${e.label}`);const n=e.enabled,a=e.visible,d=e.label,l=e.checked,c=o(e),u=r(e.label),m=i(e.type);switch(m){case'normal':return{id:t,type:'menuItem',label:d,enabled:n,visible:a,accelerator:c,accessKey:u};case'separator':return{id:t,type:'separator',visible:a};case'submenu':const o=s(e.submenu,t);return{id:t,type:'submenuItem',label:d,enabled:n,visible:a,menu:o,accessKey:u};case'checkbox':return{id:t,type:'checkbox',label:d,enabled:n,visible:a,accelerator:c,checked:l,accessKey:u};case'radio':return{id:t,type:'radio',label:d,enabled:n,visible:a,accelerator:c,checked:l,accessKey:u};default:return p.assertNever(m,`Unknown menu item type ${m}`);}}function s(e,t){const n=e.items.map(a);return!1,{id:t,type:'menu',items:n}}function d(e,t=new Map){for(const n of e.items)t.set(n.id,n),'submenuItem'===n.type&&d(n.menu,t);return t}function l(e){return'menuItem'===e.type||'submenuItem'===e.type||'checkbox'===e.type||'radio'===e.type}function c(e){return'separator'!==e.type&&e.enabled&&e.visible}Object.defineProperty(t,'__esModule',{value:!0});const p=n(2);t.menuFromElectronMenu=s,t.itemMayHaveAccessKey=l,t.itemIsSelectable=c,t.findItemByAccessKey=function(e,t){const n=e.toLowerCase();for(const o of t)if(l(o)&&o.accessKey&&o.accessKey.toLowerCase()===n)return o;return null};class u{constructor(e,t,n){this.menu=e,this.openMenus=t,this.menuItemById=n}static fromMenu(e){const t=d(e);return new u(e,[e],t)}getItemById(e){return this.menuItemById.get(e)}withMenu(e){const t=d(e),n=[];for(const o of this.openMenus){let r;if(!o.id)r=e;else{const e=t.get(o.id);if(e&&'submenuItem'===e.type)r=e.menu;else break}let i;o.selectedItem&&(i=t.get(o.selectedItem.id)),n.push({id:r.id,type:'menu',items:r.items,selectedItem:i})}return new u(e,n,t)}withOpenedMenu(e,t=!1){const n=this.menuItemById.get(e.id);if(!n)return this;if('submenuItem'!==n.type)throw new Error(`Attempt to open a submenu from an item of wrong type: ${n.type}`);const o=this.openMenus.findIndex((e)=>-1!==e.items.indexOf(n));if(-1===o)return this;const r=this.openMenus.slice(0,o+1);if(t){const e=n.menu.items.find(c);r.push(Object.assign({},n.menu,{selectedItem:e}))}else r.push(n.menu);return new u(this.menu,r,this.menuItemById)}withClosedMenu(e){if(!e.id)return this;const t=this.openMenus.findIndex((t)=>t.id===e.id);if(-1===t)return this;const n=this.openMenus.slice(0,t);return new u(this.menu,n,this.menuItemById)}withLastMenu(e){const t=this.openMenus.findIndex((t)=>t.id===e.id);if(-1===t)return this;const n=this.openMenus.slice(0,t+1);return new u(this.menu,n,this.menuItemById)}withSelectedItem(e){const t=this.menuItemById.get(e.id);if(!t)return this;const n=this.openMenus.findIndex((e)=>-1!==e.items.indexOf(t));if(-1===n)return this;const o=this.openMenus.slice(),r=o[n];o[n]=Object.assign({},r,{selectedItem:t});for(let t=n+1;t<o.length;t++)o[t]=Object.assign({},o[t],{selectedItem:void 0});for(let t=n-1;0<=t;t--){const e=o[t],n=o[t+1],r=e.items.find((e)=>'submenuItem'===e.type&&e.id===n.id);o[t]=Object.assign({},e,{selectedItem:r})}return new u(this.menu,o,this.menuItemById)}withDeselectedMenu(e){const t=this.openMenus.findIndex((t)=>t.id===e.id);if(-1===t)return this;const n=this.openMenus[t],o=this.openMenus.slice();o[t]=Object.assign({},n,{selectedItem:void 0});for(let n=t-1;0<=n;n--){const e=o[n],t=o[n+1],r=e.items.find((e)=>'submenuItem'===e.type&&e.id===t.id);o[n]=Object.assign({},e,{selectedItem:r})}return new u(this.menu,o,this.menuItemById)}withReset(){return new u(this.menu,[this.menu],this.menuItemById)}}t.AppMenu=u},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(739);e.exports={remove:o(r),removeSync:r.sync}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(753),r=n(63),i=n(752);t.getOS=function(){return`Windows ${r.release()}`},t.isMacOsAndMojaveOrLater=function(){return!1,!1},t.isWindows10And1809Preview17666OrLater=function(){{const e=r.release();return void 0!==e&&o.compare(e,'10.0.17666','>=')}return!1}},function(e,t,n){'use strict';function o(e){return'public'===e.visibility||!e.visibility}function r(e){const t=i.parse(e);return a.getDotComAPIEndpoint()===e?'users.noreply.github.com':`users.noreply.${t.hostname}`}Object.defineProperty(t,'__esModule',{value:!0});const i=n(42),a=n(10);t.lookupPreferredEmail=function(e){const t=e.emails;if(0===t.length)return null;const n=t.find((t)=>t.primary);if(n&&o(n))return n;const i=`@${r(e.endpoint)}`,a=t.find((t)=>t.email.toLowerCase().endsWith(i));return a?a:t[0]},t.getDefaultEmail=function(e){return 0===e.length?'':e[0].email||''}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(10);class r{constructor(e,t,n,o,r,i,a){this.login=e,this.endpoint=t,this.token=n,this.emails=o,this.avatarURL=r,this.id=i,this.name=a}static anonymous(){return new r('',o.getDotComAPIEndpoint(),'',[],'',-1,'')}withToken(e){return new r(this.login,this.endpoint,e,this.emails,this.avatarURL,this.id,this.name)}}t.Account=r},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=o.remote.autoUpdater,i='last-successful-update-check',a=n(49),s=n(27),d=n(107),l=n(776),c=n(775),p=n(56);var u;(function(e){e[e.CheckingForUpdates=0]='CheckingForUpdates',e[e.UpdateAvailable=1]='UpdateAvailable',e[e.UpdateNotAvailable=2]='UpdateNotAvailable',e[e.UpdateReady=3]='UpdateReady'})(u=t.UpdateStatus||(t.UpdateStatus={}));class m{constructor(){this.emitter=new a.Emitter,this.status=u.UpdateNotAvailable,this.lastSuccessfulCheck=null,this.newRelease=null,this.userInitiatedUpdate=!0,this.onAutoUpdaterError=(e)=>{this.status=u.UpdateNotAvailable;{const t=l.parseError(e);this.emitError(t||e)}},this.onCheckingForUpdate=()=>{this.status=u.CheckingForUpdates,this.emitDidChange()},this.onUpdateAvailable=()=>{this.touchLastChecked(),this.status=u.UpdateAvailable,this.emitDidChange()},this.onUpdateNotAvailable=()=>{this.touchLastChecked(),this.status=u.UpdateNotAvailable,this.emitDidChange()},this.onUpdateDownloaded=async()=>{this.newRelease=await c.generateReleaseSummary(),this.status=u.UpdateReady,this.emitDidChange()};const e=p.getNumber(i,0);0<e&&(this.lastSuccessfulCheck=new Date(e)),r.on('error',this.onAutoUpdaterError),r.on('checking-for-update',this.onCheckingForUpdate),r.on('update-available',this.onUpdateAvailable),r.on('update-not-available',this.onUpdateNotAvailable),r.on('update-downloaded',this.onUpdateDownloaded),window.addEventListener('beforeunload',()=>{r.removeListener('error',this.onAutoUpdaterError),r.removeListener('checking-for-update',this.onCheckingForUpdate),r.removeListener('update-available',this.onUpdateAvailable),r.removeListener('update-not-available',this.onUpdateNotAvailable),r.removeListener('update-downloaded',this.onUpdateDownloaded)})}touchLastChecked(){const e=new Date;this.lastSuccessfulCheck=e,p.setNumber(i,e.getTime())}onDidChange(e){return this.emitter.on('did-change',e)}emitDidChange(){this.emitter.emit('did-change',this.state)}onError(e){return this.emitter.on('error',e)}emitError(e){const t=new d.ErrorWithMetadata(e,{backgroundTask:!this.userInitiatedUpdate});this.emitter.emit('error',t)}get state(){return{status:this.status,lastSuccessfulCheck:this.lastSuccessfulCheck,newRelease:this.newRelease}}checkForUpdates(e){if(this.status!==u.UpdateReady){this.userInitiatedUpdate=!e;try{r.setFeedURL({url:'https://central.github.com/api/deployments/desktop/desktop/latest?version=2.5.3&env=production'}),r.checkForUpdates()}catch(t){this.emitError(t)}}}quitAndInstallUpdate(){s.sendWillQuitSync(),r.quitAndInstall()}}t.updateStore=new m},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={default:n(590),__esModule:!0}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(68);class i extends o.Component{componentWillMount(){const e=this.props.label||'unknown',t=r.createUniqueId(`Select_${e}`);this.setState({inputId:t})}componentWillUnmount(){this.state.inputId&&r.releaseUniqueId(this.state.inputId)}renderLabel(){const e=this.props.label,t=this.state.inputId;return e?o.createElement('label',{htmlFor:t},e):null}render(){return o.createElement('div',{className:'select-component'},this.renderLabel(),o.createElement('select',{id:this.state.inputId,onChange:this.props.onChange,value:this.props.value,defaultValue:this.props.defaultValue},this.props.children))}}t.Select=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.ReleaseNotesUri='https://desktop.github.com/release-notes/'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{render(){const e=r('errors-component',this.props.className);return o.createElement('div',{className:e},this.props.children)}}t.Errors=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=/[\x00-\x20\x7F~^:?*\[\\|""<>]+|@{|\.\.+|^\.|\.$|\.lock$|\/$/g;t.sanitizedRefName=function(e){return e.replace(n,'-').replace(/^[-\+]*/g,'')},t.testForInvalidChars=function(e){return n.test(e)}},function(e,t,n){'use strict';function o(e){return e===a.ComputedAction.Loading?d.OcticonSymbol.primitiveDot:e===a.ComputedAction.Conflicts?d.OcticonSymbol.alert:e===a.ComputedAction.Invalid?d.OcticonSymbol.x:e===a.ComputedAction.Clean?d.OcticonSymbol.check:s.assertNever(e,`Unknown state: ${JSON.stringify(e)}`)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(5),a=n(70),s=n(2),d=n(4);class l extends r.Component{render(){const{status:e,classNamePrefix:t}=this.props;if(null===e)return null;const{kind:n}=e,a=`${t}-icon-container`;return r.createElement('div',{className:a},r.createElement(d.Octicon,{className:i(t,`${t}-${n}`,this.props.className),symbol:o(n)}))}}t.ActionStatusIcon=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(516))},function(e,t,n){'use strict';function o(){}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(5),a=n(549),s=n(51);class d extends r.Component{constructor(e){super(e),this.slowLoadingTimeoutId=null,this.onSlowLoadingTimeout=()=>{this.setState({isLoadingSlow:!0})},this.state={isLoadingDiff:null===e.diff,isLoadingSlow:!1,propSnapshot:e}}static getDerivedStateFromProps(e,t){const n=null===e.diff,o=n!==t.isLoadingDiff;return Object.assign({isLoadingDiff:n},n?void 0:{propSnapshot:e},o?{isLoadingSlow:!1}:void 0)}componentDidMount(){this.state.isLoadingDiff&&this.scheduleSlowLoadingTimeout()}componentWillUnmount(){this.clearSlowLoadingTimeout()}componentDidUpdate(e,t){this.state.isLoadingDiff!==t.isLoadingDiff&&(this.state.isLoadingDiff?this.scheduleSlowLoadingTimeout():this.clearSlowLoadingTimeout())}scheduleSlowLoadingTimeout(){this.clearSlowLoadingTimeout(),this.slowLoadingTimeoutId=window.setTimeout(this.onSlowLoadingTimeout,150)}clearSlowLoadingTimeout(){null!==this.slowLoadingTimeoutId&&(window.clearTimeout(this.slowLoadingTimeoutId),this.slowLoadingTimeoutId=null)}render(){const{isLoadingDiff:e,isLoadingSlow:t}=this.state,{repository:n,imageDiffType:d,readOnly:l,hideWhitespaceInDiff:c,onIncludeChanged:p,onDiscardChanges:u,diff:m,file:h,onOpenBinaryFile:f,onChangeImageDiffType:g}=this.state.propSnapshot,y=i('seamless-diff-switcher',{loading:e,slow:e&&t,"has-diff":null!==m}),S=e?r.createElement('div',{className:'loading-indicator'},r.createElement(s.Loading,null)):null;return r.createElement('div',{className:y},null===m?null:r.createElement(a.Diff,{repository:n,imageDiffType:d,file:h,diff:m,readOnly:l,hideWhitespaceInDiff:c,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onIncludeChanged:e?o:p,onDiscardChanges:e?o:u,onOpenBinaryFile:e?o:f,onChangeImageDiffType:e?o:g}),S)}}t.SeamlessDiffSwitcher=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(26),r=n(10);var i;(function(e){e[e.Text=0]='Text',e[e.Emoji=1]='Emoji',e[e.Link=2]='Link'})(i=t.TokenType||(t.TokenType={}));t.Tokenizer=class{constructor(e,t){this.repository=null,this._results=[],this._currentString='',this.emoji=e,t&&o.isRepositoryWithGitHubRepository(t)&&(this.repository=o.getNonForkGitHubRepository(t))}reset(){this._results=[],this._currentString=''}append(e){this._currentString+=e}flush(){this._currentString.length&&(this._results.push({kind:i.Text,text:this._currentString}),this._currentString='')}getLastProcessedChar(){return this._currentString.length?this._currentString[this._currentString.length-1]:null}scanForEndOfWord(e,t){const n=e.indexOf('\n',t+1),o=e.indexOf(' ',t+1);return-1<n&&-1<o?Math.min(n,o):-1<n?n:-1<o?o:e.length}scanForEmoji(e,t){const n=this.scanForEndOfWord(e,t),o=e.slice(t,n);if(!/^:.*?:$/.test(o))return null;const r=this.emoji.get(o);return r?(this.flush(),this._results.push({kind:i.Emoji,text:o,path:r}),{nextIndex:n}):null}scanForIssue(e,t,n){let o=this.scanForEndOfWord(e,t),r=e.slice(t,o);if(r.endsWith(')')&&(o-=1,r=e.slice(t,o)),r.endsWith('.')&&(o-=1,r=e.slice(t,o)),r.endsWith(',')&&(o-=1,r=e.slice(t,o)),!/^#\d+$/.test(r))return null;this.flush();const a=parseInt(r.substr(1),10);if(isNaN(a))return null;const s=`${n.htmlURL}/issues/${a}`;return this._results.push({kind:i.Link,text:r,url:s}),{nextIndex:o}}scanForMention(e,t,n){const o=this.getLastProcessedChar();if(o&&' '!==o)return null;let a=this.scanForEndOfWord(e,t),s=e.slice(t,a);if((s.endsWith('!')||s.endsWith(','))&&(a-=1,s=e.slice(t,a)),!/^@[a-zA-Z0-9\-]+$/.test(s))return null;this.flush();const d=s.substr(1),l=`${r.getHTMLURL(n.endpoint)}/${d}`;return this._results.push({kind:i.Link,text:s,url:l}),{nextIndex:a}}scanForHyperlink(e,t,n){const o=this.getLastProcessedChar();if(o&&' '!==o)return null;const r=this.scanForEndOfWord(e,t),a=e.slice(t,r);if(!/^https?:\/\/.+/.test(a))return null;if(this.flush(),n&&n.htmlURL){const e=n.htmlURL.toLowerCase();if(a.toLowerCase().startsWith(`${e}/issues/`)){const e=/\/issues\/(\d+)/.exec(a);if(e){const t=e[1];return this._results.push({kind:i.Link,url:a,text:`#${t}`}),{nextIndex:r}}}}return this._results.push({kind:i.Link,url:a,text:a}),{nextIndex:r}}inspectAndMove(e,t,n){const o=n();return o?o.nextIndex:(this.append(e),t+1)}tokenizeNonGitHubRepository(e){for(let t=0;t<e.length;){const n=e[t];':'===n?t=this.inspectAndMove(n,t,()=>this.scanForEmoji(e,t)):'h'===n?t=this.inspectAndMove(n,t,()=>this.scanForHyperlink(e,t)):(this.append(n),t++)}return this.flush(),this._results}tokenizeGitHubRepository(e,t){for(let n=0;n<e.length;){const o=e[n];':'===o?n=this.inspectAndMove(o,n,()=>this.scanForEmoji(e,n)):'#'===o?n=this.inspectAndMove(o,n,()=>this.scanForIssue(e,n,t)):'@'===o?n=this.inspectAndMove(o,n,()=>this.scanForMention(e,n,t)):'h'===o?n=this.inspectAndMove(o,n,()=>this.scanForHyperlink(e,n,t)):(this.append(o),n++)}return this.flush(),this._results}tokenize(e){return this.reset(),this.repository?this.tokenizeGitHubRepository(e,this.repository):this.tokenizeNonGitHubRepository(e)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(23),i=n(4),a=n(66);class s extends o.Component{render(){const e={className:'path-label-component'},{status:t}=this.props,n=this.props.availableWidth;if(t.kind===r.AppFileStatusKind.Renamed||t.kind===r.AppFileStatusKind.Copied){const r=n?n/2-10:void 0;return o.createElement('label',Object.assign({},e),o.createElement(a.PathText,{path:t.oldPath,availableWidth:r}),o.createElement(i.Octicon,{className:'rename-arrow',symbol:i.OcticonSymbol.arrowRight}),o.createElement(a.PathText,{path:this.props.path,availableWidth:r}))}return o.createElement('label',Object.assign({},e),o.createElement(a.PathText,{path:this.props.path,availableWidth:n}))}}t.PathLabel=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=n(558),a=r.encodePathAsUrl(__dirname,'static/default-avatar.png');class s extends o.Component{constructor(e){super(e),this.cancelFetchingAvatar=!1,this.state={dataUrl:a}}shouldComponentUpdate(e,t){return t.dataUrl!==this.state.dataUrl||!!(e.user&&this.props.user&&(e.user.avatarURL!==this.props.user.avatarURL||e.user.email!==this.props.user.email||e.user.name!==this.props.user.name||e.title!==this.props.title))||!(e.user||this.props.user)&&e.title!==this.props.title}async componentWillMount(){const e=await i.fetchAvatarUrl(a,this.props.user);this.cancelFetchingAvatar||this.setState({dataUrl:e})}async componentWillReceiveProps(e){const t=await i.fetchAvatarUrl(a,e.user);this.cancelFetchingAvatar||this.setState({dataUrl:t})}componentWillUnmount(){this.cancelFetchingAvatar=!0}getTitle(){if(null!==this.props.title){if(void 0===this.props.title)return this.props.title;const e=this.props.user;if(e){const t=e.name;return t?`${t} <${e.email}>`:e.email}return'Unknown user'}}render(){const e=this.getTitle(),t=this.props.user?`Avatar for ${this.props.user.name||this.props.user.email}`:`Avatar for unknown user`,n=o.createElement('img',{className:'avatar',title:e,src:this.state.dataUrl,alt:e,"aria-label":t});return void 0===e?n:o.createElement('span',{title:e,className:'avatar-container'},n)}}t.Avatar=s},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.ThrottledScheduler=class{constructor(e){this.timeoutId=null,this.delay=e}queue(e){this.clear(),this.timeoutId=window.setTimeout(e,this.delay)}clear(){null!=this.timeoutId&&window.clearTimeout(this.timeoutId)}}},function(e,t,n){(function(){var e,o,r,i,a,s,d,l,c,p;p=n(117),s=p.isMatch,e=p.computeScore,l=p.scoreSize,c=20,r=2.5,t.score=function(t,n,o){var r,i,a,l;return(i=o.preparedQuery,r=o.allowErrors,!(r||s(t,i.core_lw,i.core_up)))?0:(l=t.toLowerCase(),a=e(t,l,i),a=d(t,l,a,o),Math.ceil(a))},d=function(t,n,i,s){var d,p,u,m,h,f,g,y,S,C;if(0===i)return 0;for(S=s.preparedQuery,C=s.useExtensionBonus,y=s.pathSeparator,h=t.length-1;t[h]===y;)h--;if(u=t.lastIndexOf(y,h),g=h-u,f=1,C&&(f+=a(n,S.ext,u,h,2),i*=f),-1===u)return i;for(m=S.depth;-1<u&&0<m--;)u=t.lastIndexOf(y,u-1);return p=-1===u?i:f*e(t.slice(u+1,h+1),n.slice(u+1,h+1),S),d=.5*c/(c+o(t,h+1,y)),d*p+(1-d)*i*l(0,r*g)},t.countDir=o=function(e,t,n){var o,r;if(1>t)return 0;for(o=0,r=-1;++r<t&&e[r]===n;)continue;for(;++r<t;)if(e[r]===n)for(o++;++r<t&&e[r]===n;)continue;return o},t.getExtension=i=function(e){var t;return t=e.lastIndexOf('.'),0>t?'':e.substr(t+1)},a=function(e,t,o,r,i){var s,d,l,n;if(!t.length)return 0;if(n=e.lastIndexOf('.',r),!(n>o))return 0;for(l=t.length,s=r-n,s<l&&(l=s,s=t.length),n++,d=-1;++d<l&&e[n+d]===t[d];);return 0===d&&0<i?.9*a(e,t,o,n-2,i-1):d/s}}).call(this)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{constructor(e){super(e),this.wrapperRef=null,this.focusWithinChangedTimeoutId=null,this.onWrapperRef=(e)=>{e&&(e.addEventListener('focusin',()=>{this.onFocusWithinChanged(!0)}),e.addEventListener('focusout',()=>{this.onFocusWithinChanged(!1)})),this.wrapperRef=e},this.onClick=(t)=>{this.props.onClick&&this.props.onClick(t)},this.onKeyDown=(t)=>{this.props.onKeyDown&&this.props.onKeyDown(t)},this.onMouseDown=(t)=>{t.target===this.wrapperRef&&t.preventDefault()},this.state={focusWithin:!1}}onFocusWithinChanged(e){this.setState({focusWithin:e}),null!==this.focusWithinChangedTimeoutId&&(cancelAnimationFrame(this.focusWithinChangedTimeoutId),this.focusWithinChangedTimeoutId=null),this.focusWithinChangedTimeoutId=requestAnimationFrame(()=>{this.props.onFocusWithinChanged&&this.props.onFocusWithinChanged(e),this.focusWithinChangedTimeoutId=null})}render(){const e=r('focus-container',this.props.className,{"focus-within":this.state.focusWithin});return o.createElement('div',{className:e,ref:this.onWrapperRef,onClick:this.onClick,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyDown},this.props.children)}}t.FocusContainer=i},function(e,t,n){var o=n(222);e.exports=function(e){if(!o(e))throw TypeError(e+' is not an object!');return e}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,n){n(608);var o=n(94);o.NodeList=o.HTMLCollection=o.Array},function(e,t,n){var o=n(37).setDesc,r=n(157),i=n(60)('toStringTag');e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(37),r=n(158);e.exports=n(226)?function(e,t,n){return o.setDesc(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){'use strict';var o=n(611)(!0);n(229)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=o(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t,n){var o=n(95),r=n(45),i=n(118);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),o(o.S+o.F*i(function(){n(1)}),'Object',a)}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e,t,n){var o=n(162);e.exports=function(e){return Object(o(e))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.Accounts=0]='Accounts',e[e.Integrations=1]='Integrations',e[e.Git=2]='Git',e[e.Appearance=3]='Appearance',e[e.Advanced=4]='Advanced'})(n=t.PreferencesTab||(t.PreferencesTab={}))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(87),i='last-clone-location';t.getDefaultDir=function(){return localStorage.getItem(i)||o.join(r.getDocumentsPath(),'GitHub')},t.setDefaultDir=function(e){localStorage.setItem(i,e)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.sendNonFatalException=function(e,t){process.emit('send-non-fatal-exception',t,{kind:e})}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(20);t.validatedRepositoryPath=async function(e){try{return await o.getTopLevelWorkingDirectory(e)}catch(t){return null}}},function(e,t,n){'use strict';function o(e,t){return`${e}..${t}`}function r(e,t){return`${e}...${t}`}async function i(e,t){const n=await s.git(['rev-list','--left-right','--count',t,'--'],e.path,'getAheadBehind',{expectedErrors:new Set([a.GitError.BadRevision])});if(n.gitError===a.GitError.BadRevision)return null;const o=n.stdout,r=o.split('\t');if(2!==r.length)return null;const i=parseInt(r[0],10);if(isNaN(i))return null;const d=parseInt(r[1],10);return isNaN(d)?null:{ahead:i,behind:d}}Object.defineProperty(t,'__esModule',{value:!0});const a=n(35),s=n(11),d=n(46);t.revRange=o,t.revSymmetricDifference=r,t.getAheadBehind=i,t.getBranchAheadBehind=async function(e,t){if(t.type===d.BranchType.Remote)return null;const n=t.upstream;if(!n)return null;const o=r(t.name,n);return i(e,o)},t.getCommitsInRange=async function(e,t,n){const r=o(t,n),i=['rev-list',r,'--reverse',`--oneline`,`--no-abbrev-commit`,'--'],d={expectedErrors:new Set([a.GitError.BadRevision])},l=await s.git(i,e.path,'getCommitsInRange',d);if(l.gitError===a.GitError.BadRevision)return log.warn('Unable to rebase these branches because one or both of the refs do not exist in the repository'),null;const c=l.stdout.split('\n'),p=[],u=/^([a-z0-9]{40}) (.*)$/;for(const o of c){const e=u.exec(o);if(null!==e&&3===e.length){const t=e[1],n=e[2];p.push({sha:t,summary:n})}}return p}},function(e,t,n){'use strict';async function o(e,t,n={}){if(t.length){const o=['update-index'];!1!==n.add&&o.push('--add'),(!1!==n.remove||!0===n.forceRemove)&&o.push('--remove'),n.forceRemove&&o.push('--force-remove'),!1!==n.replace&&o.push('--replace'),o.push('-z','--stdin'),await r.git(o,e.path,'updateIndex',{stdin:t.join('\0')})}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(30),a=n(266),s=n(23);t.stageFiles=async function(e,t){const n=[],r=[],d=[],l=[];for(const o of t)o.selection.getSelectionType()===i.DiffSelectionType.All?(n.push(o.path),o.status.kind===s.AppFileStatusKind.Renamed&&r.push(o.status.oldPath),o.status.kind===s.AppFileStatusKind.Deleted&&l.push(o.path)):d.push(o);if(await o(e,r,{forceRemove:!0}),await o(e,n),0<l.length&&(await o(e,l,{forceRemove:!0})),d.length)for(const t of d)await a.applyPatchToIndex(e,t)}},function(e,t,n){function o(e,t){if(!e)throw new Error('expected readStream');if(!e.readable)throw new Error('readStream must be readable');var n=new r(t);return e.pipe(n),n}function r(e){i.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1;var t=this;this.on('pipe',function(e){!t.encoding&&e instanceof i.Readable&&(t.encoding=e._readableState.encoding)})}var i=n(289),a=n(176),s=n(709);e.exports=function(t,n){return e.exports.createStream(t,n)},e.exports.createStream=function(e,t){return e?o(e,t):new r(t)},e.exports.createLineStream=function(e){return console.log('WARNING: byline#createLineStream is deprecated and will be removed soon'),o(e)},e.exports.LineStream=r,a.inherits(r,i.Transform),r.prototype._transform=function(e,t,n){t=t||'utf8',Buffer.isBuffer(e)&&('buffer'==t?(e=e.toString(),t='utf8'):e=e.toString(t)),this._chunkEncoding=t;var o=e.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/g);this._lastChunkEndedWithCR&&'\n'==e[0]&&o.shift(),0<this._lineBuffer.length&&(this._lineBuffer[this._lineBuffer.length-1]+=o[0],o.shift()),this._lastChunkEndedWithCR='\r'==e[e.length-1],this._lineBuffer=this._lineBuffer.concat(o),this._pushBuffer(t,1,n)},r.prototype._pushBuffer=function(e,t,n){for(;this._lineBuffer.length>t;){var o=this._lineBuffer.shift();if((this._keepEmptyLines||0<o.length)&&!this.push(this._reencode(o,e))){var r=this;return void s.setImmediate(function(){r._pushBuffer(e,t,n)})}}n()},r.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)},r.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?new Buffer(e,t).toString(this.encoding):this.encoding?e:new Buffer(e,t)}},function(e,t,n){'use strict';function o(e){return e.length<=w}function r(e){return e.length>=k}function i(e){for(const t of e.hunks)for(const e of t.lines)if(e.text.length>T)return!0;return!1}async function a(e,t,n){let o,r;if(t instanceof y.WorkingDirectoryFileChange){if(t.status.kind===y.AppFileStatusKind.Conflicted)return{kind:S.DiffType.Image};t.status.kind!==y.AppFileStatusKind.Deleted&&(o=await m(e,t)),t.status.kind!==y.AppFileStatusKind.New&&t.status.kind!==y.AppFileStatusKind.Untracked&&(r=await u(e,v.getOldPathOrDefault(t),'HEAD'))}else t.status.kind!==y.AppFileStatusKind.Deleted&&(o=await u(e,t.path,n)),t.status.kind!==y.AppFileStatusKind.New&&t.status.kind!==y.AppFileStatusKind.Untracked&&(r=await u(e,v.getOldPathOrDefault(t),`${n}^`));return{kind:S.DiffType.Image,previous:r,current:o}}async function s(e,t,n,o,r){const i=h.extname(t.path).toLowerCase();return n.isBinary?_.has(i)?a(e,t,o):{kind:S.DiffType.Binary}:{kind:S.DiffType.Text,text:n.contents,hunks:n.hunks,lineEndingsChange:r}}function d(e){return'.png'===e?'image/png':'.jpg'===e||'.jpeg'===e?'image/jpg':'.gif'===e?'image/gif':'.ico'===e?'image/x-icon':'.webp'===e?'image/webp':'.bmp'===e?'image/bmp':'text/plain'}function l(e){if(0!==e.length){const t=e.toString('utf-8'),n=R.exec(t);if(n){const e=S.parseLineEndingText(n[1]),t=S.parseLineEndingText(n[2]);if(e&&t)return{from:e,to:t}}}}function c(e){const t=e.toString('utf-8'),n=t.split('\0'),o=new b.DiffParser;return o.parse(n[n.length-1])}function p(e,t,n,a,d){if(!o(e))return Promise.resolve({kind:S.DiffType.Unrenderable});const l=c(e);if(r(e)||i(l)){const e={kind:S.DiffType.LargeText,text:l.contents,hunks:l.hunks,lineEndingsChange:d};return Promise.resolve(e)}return s(t,n,l,a,d)}async function u(e,t,n){const o=h.extname(t),r=await g.getBlobContents(e,n,t);return new S.Image(r.toString('base64'),d(o),r.length)}async function m(e,t){const n=await f.readFile(h.join(e.path,t.path));return new S.Image(n.toString('base64'),d(h.extname(t.path)),n.length)}Object.defineProperty(t,'__esModule',{value:!0});const h=n(1),f=n(127),g=n(265),y=n(23),S=n(30),C=n(83),b=n(708),v=n(264),E=n(126),w=7e7,k=w/16,T=5e3,_=new Set(['.png','.jpg','.jpeg','.gif','.ico','.webp','.bmp']);t.getCommitDiff=async function(e,t,n,o=!1){const r=['log',n,...(o?['-w']:[]),'-m','-1','--first-parent','--patch-with-raw','-z','--no-color','--',t.path];(t.status.kind===y.AppFileStatusKind.Renamed||t.status.kind===y.AppFileStatusKind.Copied)&&r.push(t.status.oldPath);const{output:i}=await C.spawnAndComplete(r,e.path,'getCommitDiff');return p(i,e,t,n)},t.getWorkingDirectoryDiff=async function(e,t){let n,o;t.status.kind===y.AppFileStatusKind.New||t.status.kind===y.AppFileStatusKind.Untracked?(n=new Set([0,1]),o=['diff','--no-ext-diff','--no-index','--patch-with-raw','-z','--no-color','--','/dev/null',t.path]):t.status.kind===y.AppFileStatusKind.Renamed?o=['diff','--no-ext-diff','--patch-with-raw','-z','--no-color','--',t.path]:o=['diff','HEAD','--no-ext-diff','--patch-with-raw','-z','--no-color','--',t.path];const{output:r,error:i}=await C.spawnAndComplete(o,e.path,'getWorkingDirectoryDiff',n),a=l(i);return p(r,e,t,'HEAD',a)},t.convertDiff=s;const R=/warning: (CRLF|CR|LF) will be replaced by (CRLF|CR|LF) in .*/;t.getBlobImage=u,t.getWorkingDirectoryImage=m,t.getBinaryPaths=async function(e,t){const{output:n}=await C.spawnAndComplete(['diff','--numstat','-z',t],e.path,'getBinaryPaths'),o=E.getCaptures(n.toString('utf8'),x);if(0===o.length)return[];const r=o.reduce((e,t)=>e.concat(t));return r};const x=/-\t-\t(?:\0.+\0)?([^\0]*)/gi},function(e,t){'use strict';async function n(e,t){const n=++a,i=performance&&performance.now?performance.now():null;o(n,e);try{return await t()}finally{if(i){const t=performance.now()-i;if(1e3<t){const n=(t/1e3).toFixed(3);log.info(`Executing ${e} (took ${n}s)`)}}r(n,e)}}function o(e,t){if(i){const n=`${e}::${t}`;performance.mark(n)}}function r(e,t){if(i){const n=`${e}::${t}`,o=t;performance.measure(o,n),performance.clearMarks(n),performance.clearMeasures(o)}}Object.defineProperty(t,'__esModule',{value:!0});let i=!1,a=0;t.start=function(){i=!0},t.stop=function(){i=!1},t.measure=n},function(e,t,n){'use strict';function o(){return i.isWindows10And1809Preview17666OrLater()}Object.defineProperty(t,'__esModule',{value:!0});const r=n(22),i=n(134);t.supportsDarkMode=o,t.isDarkModeEnabled=function(){return!!o()&&r.remote.nativeTheme.shouldUseDarkColors}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.ForkedRemotePrefix='github-desktop-',t.forkPullRequestRemoteName=function(e){return`${t.ForkedRemotePrefix}${e}`},t.remoteEquals=function(e,t){return!(e!==t)||null!==e&&null!==t&&e.name===t.name&&e.url===t.url}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(731);e.exports={readJson:o(r.readFile),readJsonSync:r.readFileSync,writeJson:o(r.writeFile),writeJsonSync:r.writeFileSync}},function(e){e.exports=require('util')},function(e){e.exports=require('crypto')},function(e,t){'use strict';function n(e){return e===i.Sms?r:o}Object.defineProperty(t,'__esModule',{value:!0});const o='Open the two-factor authentication app on your device to view your authentication code and verify your identity.',r='We just sent you a message via SMS with your authentication code. Enter the code in the form below to verify your identity.';var i;(function(e){e[e.Sms=0]='Sms',e[e.App=1]='App'})(i=t.AuthenticationMode||(t.AuthenticationMode={})),t.getWelcomeMessage=n},function(e,t,n){'use strict';async function o(t){try{const e=await t.json();return e}catch(n){const e=t.headers.get('Content-Length')||'(missing)',o=t.headers.get('X-GitHub-Request-Id')||'(missing)';throw log.warn(`deserialize: invalid JSON found at '${t.url}' - status: ${t.status}, length: '${e}' id: '${o}'`,n),n}}function r(e,t){let n='/'===t[0]?t.substr(1):t;n.startsWith('api/v3/')&&(n=n.substr(7));const o=e.endsWith('/')?e:`${e}/`;return new s.URL(n,o).toString()}function i(){const e='Windows';return`GitHubDesktop/${a.getVersion()} (${e})`}Object.defineProperty(t,'__esModule',{value:!0});const a=n(87),s=n(42);class d extends Error{constructor(e,t){let n;if(t&&t.message){n=t.message;const e=t.errors,o=e&&e.map((t)=>t.message).join(', ');o&&(n=`${n} (${o})`)}else n=`API error ${e.url}: ${e.statusText} (${e.status})`;super(n),this.responseStatus=e.status,this.apiError=t}}t.APIError=d,t.getAbsoluteUrl=r,t.request=function(e,t,n,o,a,s){const d=r(e,o);let l={Accept:'application/vnd.github.v3+json, application/json',"Content-Type":'application/json',"User-Agent":i()};t&&(l.Authorization=`token ${t}`),l=Object.assign({},l,s);const c={headers:l,method:n,body:JSON.stringify(a)};return fetch(d,c)},t.parsedResponse=async function(e){if(e.ok)return o(e);else{let t;try{t=await o(e)}catch(t){throw new d(e,null)}throw new d(e,t)}},t.urlWithQueryString=function(e,t){const n=Object.keys(t).map((e)=>`${e}=${encodeURIComponent(t[e])}`).join('&');return n.length?-1===e.indexOf('?')?`${e}?${n}`:`${e}&${n}`:e}},function(e){(function(){var t;e.exports=t=function(){function e(e){this.disposalAction=e}return e.prototype.disposed=!1,e.isDisposable=function(e){return'function'==typeof(null==e?void 0:e.dispose)},e.prototype.dispose=function(){this.disposed||(this.disposed=!0,'function'==typeof this.disposalAction&&this.disposalAction(),this.disposalAction=null)},e}()}).call(this)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=!!('undefined'!=typeof window&&window.document&&window.document.createElement),e.exports=t['default']},function(e,t,n){'use strict';function o(e){var t=new Date().getTime(),n=Math.max(0,16-(t-c)),o=setTimeout(e,n);return c=t,o}Object.defineProperty(t,'__esModule',{value:!0});var r=n(181),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a='clearTimeout',s=o,d=void 0,l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+'AnimationFrame'};i.default&&['','webkit','moz','o','ms'].some(function(e){var t=l(e,'request');if(t in window)return a=l(e,'cancel'),s=function(e){return window[t](e)}});var c=new Date().getTime();d=function(e){return s(e)},d.cancel=function(e){window[a]&&'function'==typeof window[a]&&window[a](e)},t.default=d,e.exports=t['default']},function(e){'use strict';/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t['_'+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==o.join(''))return!1;var r={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){r[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},r)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var a=t(e),d=1,s,l;d<arguments.length;d++){for(var c in s=Object(arguments[d]),s)o.call(s,c)&&(a[c]=s[c]);if(n){l=n(s);for(var p=0;p<l.length;p++)r.call(s,l[p])&&(a[l[p]]=s[l[p]])}}return a}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(338)),o(n(337)),o(n(336)),o(n(235))},function(e,t,n){'use strict';function o(e,t){return c.createElement('li',{key:e,className:'unmerged-file-status-conflicts'},c.createElement(h.Octicon,{symbol:h.OcticonSymbol.fileCode,className:'file-octicon'}),t)}function r(e,t,n,o,r,i){return[{label:E.getLabelForManualResolutionOption(o.entry.us,r),action:()=>n.updateManualConflictResolution(t,e,g.ManualConflictResolutionKind.ours)},{label:E.getLabelForManualResolutionOption(o.entry.them,i),action:()=>n.updateManualConflictResolution(t,e,g.ManualConflictResolutionKind.theirs)}]}function i(e,t,n){return t===g.ManualConflictResolutionKind.ours?E.getUnmergedStatusEntryDescription(e.entry.us,n):t===g.ManualConflictResolutionKind.theirs?E.getUnmergedStatusEntryDescription(e.entry.them,n):'No conflicts remaining'}function a(e,t,n){return e===g.ManualConflictResolutionKind.ours?t:e===g.ManualConflictResolutionKind.theirs?n:void 0}function s(e){return Math.ceil(e/3)}function d(e){return`Open in ${e||'editor'}`}function l(e){return null===e?`No editor configured in Options > Advanced`:void 0}Object.defineProperty(t,'__esModule',{value:!0});const c=n(0),p=n(23),u=n(1),m=n(27),h=n(4),f=n(66),g=n(256),y=n(78),S=n(115),C=n(22),b=n(12),v=n(13),E=n(38);t.renderUnmergedFile=(e)=>p.isConflictWithMarkers(e.status)&&E.hasUnresolvedConflicts(e.status,e.manualResolution)?T({path:e.path,status:e.status,resolvedExternalEditor:e.resolvedExternalEditor,onOpenEditorClick:()=>e.openFileInExternalEditor(u.join(e.repository.path,e.path)),repository:e.repository,dispatcher:e.dispatcher,ourBranch:e.ourBranch,theirBranch:e.theirBranch}):p.isManualConflict(e.status)&&E.hasUnresolvedConflicts(e.status,e.manualResolution)?k({path:e.path,status:e.status,repository:e.repository,dispatcher:e.dispatcher,ourBranch:e.ourBranch,theirBranch:e.theirBranch}):w({path:e.path,status:e.status,repository:e.repository,dispatcher:e.dispatcher,manualResolution:e.manualResolution,branch:a(e.manualResolution,e.ourBranch,e.theirBranch)});const w=(e)=>c.createElement('li',{key:e.path,className:'unmerged-file-status-resolved'},c.createElement(h.Octicon,{symbol:h.OcticonSymbol.fileCode,className:'file-octicon'}),c.createElement('div',{className:'column-left'},c.createElement(f.PathText,{path:e.path}),P({path:e.path,status:e.status,branch:e.branch,manualResolution:e.manualResolution,repository:e.repository,dispatcher:e.dispatcher})),c.createElement('div',{className:'green-circle'},c.createElement(h.Octicon,{symbol:h.OcticonSymbol.check}))),k=(e)=>{const t=_(e.path,e.status,e.repository,e.dispatcher,e.ourBranch,e.theirBranch),n=c.createElement(c.Fragment,null,c.createElement('div',{className:'column-left'},c.createElement(f.PathText,{path:e.path}),c.createElement('div',{className:'file-conflicts-status'},'Manual conflict')),c.createElement('div',{className:'action-buttons'},c.createElement(b.Button,{className:'small-button button-group-item resolve-arrow-menu',onClick:t},'Resolve',c.createElement(h.Octicon,{symbol:h.OcticonSymbol.triangleDown}))));return o(e.path,n)},T=(e)=>{const t=s(e.status.conflictMarkerCount),n=1===t?`1 conflict`:`${t} conflicts`,r=null===e.resolvedExternalEditor,i=l(e.resolvedExternalEditor),a=x(e.path,e.repository,e.dispatcher,e.status,e.ourBranch,e.theirBranch),p=c.createElement(c.Fragment,null,c.createElement('div',{className:'column-left'},c.createElement(f.PathText,{path:e.path}),c.createElement('div',{className:'file-conflicts-status'},n)),c.createElement('div',{className:'action-buttons'},c.createElement(b.Button,{onClick:e.onOpenEditorClick,disabled:r,tooltip:i,className:'small-button button-group-item'},d(e.resolvedExternalEditor)),c.createElement(b.Button,{onClick:a,className:'small-button button-group-item arrow-menu'},c.createElement(h.Octicon,{symbol:h.OcticonSymbol.triangleDown}))));return o(e.path,p)},_=(e,t,n,o,i,a)=>()=>{m.showContextualMenu(r(e,n,o,t,i,a))},R=(e,t,n)=>()=>n.updateManualConflictResolution(t,e,null),x=(e,t,n,o,i,a)=>()=>{const s=u.join(t.path,e),d=[{label:y.OpenWithDefaultProgramLabel,action:()=>S.openFile(s,n)},{label:y.RevealInFileManagerLabel,action:()=>C.shell.showItemInFolder(s)},{type:'separator'},...r(e,t,n,o,i,a)];m.showContextualMenu(d)},P=(e)=>{if(p.isConflictWithMarkers(e.status)&&0===e.status.conflictMarkerCount)return c.createElement('div',{className:'file-conflicts-status'},'No conflicts remaining');const t=i(e.status,e.manualResolution,e.branch);return c.createElement('div',{className:'file-conflicts-status'},t,'\xA0',c.createElement(v.LinkButton,{onClick:R(e.path,e.repository,e.dispatcher)},'Undo'))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(13);t.renderUnmergedFilesSummary=function(e){const t=1===e?`1 conflicted file`:`${e} conflicted files`;return o.createElement('h3',{className:'summary'},t)},t.renderAllResolved=function(){return o.createElement('div',{className:'all-conflicts-resolved'},o.createElement('div',{className:'green-circle'},o.createElement(r.Octicon,{symbol:r.OcticonSymbol.check})),o.createElement('div',{className:'message'},'All conflicts resolved'))},t.renderShellLink=function(e){return o.createElement('div',null,o.createElement(i.LinkButton,{onClick:e},'Open in command line,'),' ','your tool of choice, or close to resolve manually.')}},function(e,t,n){'use strict';async function o(){try{return await d.readlink(t.InstalledCLIPath)}catch(e){return null}}function r(e){return e?new Promise((e,n)=>{c.unlink(t.InstalledCLIPath,(o)=>null===o?void e():void n(new Error(`Failed to remove file at ${t.InstalledCLIPath}. Authorization of GitHub Desktop Helper is required.`)))}):d.unlink(t.InstalledCLIPath)}function i(e){const n=l.dirname(t.InstalledCLIPath);return e?new Promise((e,o)=>{c.makeTree(n,(n)=>null===n?void e():void o(new Error(`Failed to create intermediate directories to ${t.InstalledCLIPath}`)))}):d.mkdirp(n)}function a(e){return e?new Promise((e,n)=>{c.symlink(p,t.InstalledCLIPath,(o)=>null===o?void e():void n(new Error(`Failed to symlink ${p} to ${t.InstalledCLIPath}`)))}):d.symlink(p,t.InstalledCLIPath)}async function s(e){await r(e),await i(e),await a(e)}Object.defineProperty(t,'__esModule',{value:!0});const d=n(19),l=n(1),c=n(393);t.InstalledCLIPath='/usr/local/bin/github';const p=l.resolve(__dirname,'static','github.sh');t.installCLI=async function(){const e=await o();if(e!==p)try{await s(!1)}catch(t){await s(!0)}}},function(e,t,n){'use strict';function o(e,t){if(null!==t)for(const n of e)for(const e of n.items)if(e.url===t.clone_url)return e;return null}function r(e,t){return e.find((e)=>e.clone_url===t.url)||null}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(120),s=n(10),d=n(421),l=n(67),c=n(12),p=n(4),u=n(96),m=n(13),h=n(21);class f extends i.PureComponent{constructor(){super(...arguments),this.getRepositoryGroups=l.default((e,t)=>null===e?[]:d.groupRepositories(e,t)),this.getSelectedListItem=l.default(o),this.refreshRepositories=()=>{this.props.onRefreshRepositories(this.props.account)},this.onItemClick=(e,t)=>{const{onItemClicked:n,repositories:o}=this.props;if(void 0!==n&&null!==o){const i=r(o,e);null!==i&&n(i,t)}},this.onSelectionChanged=(e)=>{null===e||null===this.props.repositories?this.props.onSelectionChanged(null):this.props.onSelectionChanged(r(this.props.repositories,e))},this.renderGroupHeader=(e)=>{let t=e;return e===d.YourRepositoriesIdentifier&&(t='Your repositories'),i.createElement('div',{className:'clone-repository-list-content clone-repository-list-group-header'},t)},this.renderItem=(e,t)=>i.createElement('div',{className:'clone-repository-list-item'},i.createElement(p.Octicon,{className:'icon',symbol:e.icon}),i.createElement('div',{className:'name',title:e.text[0]},i.createElement(u.HighlightText,{text:e.text[0],highlight:t.title}))),this.renderPostFilter=()=>i.createElement(c.Button,{disabled:this.props.loading,onClick:this.refreshRepositories,tooltip:'Refresh the list of repositories'},i.createElement(p.Octicon,{symbol:p.OcticonSymbol.sync,className:this.props.loading?'spin':void 0})),this.renderNoItems=()=>{const{loading:e,repositories:t}=this.props,n=this.props.account.endpoint===s.getDotComAPIEndpoint()?'GitHub.com':s.getHTMLURL(this.props.account.endpoint);return e&&(null===t||0===t.length)?i.createElement('div',{className:'no-items loading'},`Loading repositories from ${n}…`):0===this.props.filterText.length?i.createElement('div',{className:'no-items empty-repository-list'},i.createElement('div',null,'Looks like there are no repositories for',' ',i.createElement(h.Ref,null,this.props.account.login),' on ',n,'.',' ',i.createElement(m.LinkButton,{onClick:this.refreshRepositories},'Refresh this list'),' ','if you\'ve created a repository recently.')):i.createElement('div',{className:'no-items no-results-found'},i.createElement('div',null,'Sorry, I can\'t find any repository matching',' ',i.createElement(h.Ref,null,this.props.filterText)))}}componentDidMount(){null===this.props.repositories&&this.refreshRepositories()}componentDidUpdate(e){e.repositories!==this.props.repositories&&null===this.props.repositories&&this.refreshRepositories()}render(){const{repositories:e,account:t,selectedItem:n}=this.props,o=this.getRepositoryGroups(e,t.login),r=this.getSelectedListItem(o,n);return i.createElement(a.FilterList,{className:'clone-github-repo',rowHeight:31,selectedItem:r,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onSelectionChanged:this.onSelectionChanged,invalidationProps:o,groups:o,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,renderNoItems:this.renderNoItems,renderPostFilter:this.renderPostFilter,onItemClick:this.props.onItemClicked?this.onItemClick:void 0,placeholderText:'Filter your repositories'})}}t.CloneableRepositoryFilterList=f},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=new RegExp(['\uD83C[\uDF00-\uDFFF]','\uD83D[\uDC00-\uDE4F]','\uD83D[\uDE80-\uDEFF]'].join('|'),'g');t.sanitizedRepositoryName=function(e){return e.replace(n,'-').replace(/[^\w.-]/g,'-')}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(129);t.ForkSettingsDescription=function(e){const t=e.forkContributionTarget===r.ForkContributionTarget.Self?e.repository.gitHubRepository:e.repository.gitHubRepository.parent;return o.createElement('ul',{className:'fork-settings-description'},o.createElement('li',null,'Pull requests targeting ',o.createElement('strong',null,t.fullName),' ','will be shown in the pull request list.'),o.createElement('li',null,'Issues will be created in ',o.createElement('strong',null,t.fullName),'.'),o.createElement('li',null,'"View on Github" will open ',o.createElement('strong',null,t.fullName),' ','in the browser.'),o.createElement('li',null,'New branches will be based on',' ',o.createElement('strong',null,t.fullName),'\'s default branch.'))}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.truncateWithEllipsis=function(e,t){if(e.length<=t)return e;const n=[...e];if(n.length<=t)return e;const o=n.reduce((e,t)=>('\uFE00'<=t&&'\uFE0F'>=t?e.length&&e.push(`${e.pop()}${t}`):e.push(t),e),[]);if(o.length<=t)return e;const r=o.slice(0,t).join('');return`${r}…`}},function(e,t,n){'use strict';function o(e){return e.split('+').map(d.getPlatformSpecificNameOrSymbolForModifier).join('+')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(5),a=n(4),s=n(465),d=n(216);t.friendlyAcceleratorText=o;class l extends r.Component{getIcon(e){if('checkbox'===e.type&&e.checked)return r.createElement(a.Octicon,{className:'icon',symbol:a.OcticonSymbol.check});return'radio'===e.type&&e.checked?r.createElement(a.Octicon,{className:'icon',symbol:a.OcticonSymbol.primitiveDot}):null}render(){const e=this.props.item;if('separator'===e.type)return r.createElement('hr',null);const t='submenuItem'===e.type&&!1!==this.props.renderSubMenuArrow?r.createElement(a.Octicon,{className:'submenu-arrow',symbol:a.OcticonSymbol.triangleRight}):null,n='submenuItem'!==e.type&&e.accelerator&&!1!==this.props.renderAcceleratorText?r.createElement('div',{className:'accelerator'},o(e.accelerator)):null,d=i('menu-item',{disabled:!e.enabled},{checkbox:'checkbox'===e.type},{radio:'radio'===e.type},{checked:('checkbox'===e.type||'radio'===e.type)&&e.checked});return r.createElement('div',{className:d},this.getIcon(e),r.createElement('div',{className:'label'},r.createElement(s.AccessText,{text:e.label,highlight:this.props.highlightAccessKey})),n,t)}}t.MenuListItem=l},function(e,t,n){'use strict';function o(e,t){return e?t.findIndex((t)=>t.id===e.id):-1}function r(e){return e.reduce((e,t)=>e+i(t),0)}function i(e){return e.visible?'separator'===e.type?m:u:0}function a(e){const t=[],n=e.selectedItem;let o=-1;for(let r=0;r<e.items.length;r++){const i=e.items[r];i.visible&&(t.push(i),i===n&&(o=t.length-1))}return{items:t,selectedIndex:o}}Object.defineProperty(t,'__esModule',{value:!0});const s=n(0),d=n(5),l=n(77),c=n(132),p=n(192),u=30,m=10;t.getListHeight=r,t.getRowHeight=i;class h extends s.Component{constructor(e){super(e),this.list=null,this.onRowClick=(e,t)=>{const n=this.state.items[e];'separator'!==n.type&&n.enabled&&this.props.onItemClicked(this.props.depth,n,t)},this.onSelectedRowChanged=(e,t)=>{const n=this.state.items[e];this.props.onSelectionChanged(this.props.depth,n,t)},this.onKeyDown=(e)=>{if(!e.defaultPrevented&&!(e.altKey||e.ctrlKey||e.metaKey)&&this.props.enableAccessKeyNavigation){const t=c.findItemByAccessKey(e.key,this.state.items);t&&c.itemIsSelectable(t)&&(e.preventDefault(),this.props.onSelectionChanged(this.props.depth,t,{kind:'keyboard',event:e}),this.props.onItemClicked(this.props.depth,t,{kind:'keyboard',event:e}))}},this.onRowKeyDown=(e,t)=>{if(this.props.onItemKeyDown){const n=this.state.items[e];this.props.onItemKeyDown(this.props.depth,n,t)}},this.canSelectRow=(e)=>{const t=this.state.items[e];return c.itemIsSelectable(t)},this.onListRef=(e)=>{this.list=e},this.onMouseEnter=()=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.depth)},this.renderMenuItem=(e)=>{const t=this.state.items[e];return s.createElement(p.MenuListItem,{key:t.id,item:t,highlightAccessKey:this.props.enableAccessKeyNavigation})},this.rowHeight=(e)=>{const t=this.state.items[e.index];return'separator'===t.type?m:u},this.state=a(e)}componentWillReceiveProps(e){if(!(this.props.items===e.items))this.setState(a(e));else if(this.props.selectedItem!==e.selectedItem){const t=o(e.selectedItem,this.state.items);this.setState({selectedIndex:t})}}render(){const e=!0===this.props.autoHeight?{height:r(this.props.items)+5,maxHeight:'100%'}:{},t=d('menu-pane',this.props.className);return s.createElement('div',{className:t,onMouseEnter:this.onMouseEnter,onKeyDown:this.onKeyDown,style:e},s.createElement(l.List,{ref:this.onListRef,rowCount:this.state.items.length,rowHeight:this.rowHeight,rowRenderer:this.renderMenuItem,selectedRows:[this.state.selectedIndex],onRowClick:this.onRowClick,onSelectedRowChanged:this.onSelectedRowChanged,canSelectRow:this.canSelectRow,onRowKeyDown:this.onRowKeyDown,invalidationProps:this.state.items,selectOnHover:!0,ariaMode:'menu'}))}focus(){this.list&&this.list.focus()}}t.MenuPane=h},function(e,t,n){'use strict';function o(e){const t=e.replace(/^@\./,'').replace('&','').replace(/[^a-z0-9_]+/gi,'-').replace(/_+/,'_').toLowerCase();return t.length?`menu-pane-${t}`:void 0}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(193),a=300;class s extends r.Component{constructor(e){super(e),this.focusPane=-1,this.paneRefs=[],this.expandCollapseTimer=null,this.onItemClicked=(e,t,n)=>{if(this.clearExpandCollapseTimer(),'submenuItem'===t.type){const o=this.props.enableAccessKeyNavigation&&'keyboard'===n.kind&&'Enter'!==n.event.key&&' '!==n.event.key;this.props.dispatcher.setAppMenuState((e)=>e.withOpenedMenu(t,o)),'keyboard'===n.kind&&(this.focusPane=e+1)}else'separator'!==t.type&&(this.props.onClose({type:'item-executed'}),this.props.dispatcher.executeMenuItem(t))},this.onItemKeyDown=(e,t,n)=>{'ArrowLeft'===n.key||'Escape'===n.key?(this.clearExpandCollapseTimer(),0===e&&'Escape'===n.key?(this.props.onClose({type:'keyboard',event:n}),n.preventDefault()):0<e&&(this.props.dispatcher.setAppMenuState((t)=>t.withClosedMenu(this.props.state[e])),this.focusPane=e-1,n.preventDefault())):'ArrowRight'===n.key&&(this.clearExpandCollapseTimer(),'submenuItem'===t.type&&(this.props.dispatcher.setAppMenuState((e)=>e.withOpenedMenu(t,!0)),this.focusPane=e+1,n.preventDefault()))},this.onSelectionChanged=(e,t,n)=>{this.clearExpandCollapseTimer(),'keyboard'===n.kind?this.props.dispatcher.setAppMenuState((n)=>n.withSelectedItem(t).withLastMenu(this.props.state[e])):('submenuItem'===t.type?this.scheduleExpand(t):this.scheduleCollapseTo(this.props.state[e]),this.props.dispatcher.setAppMenuState((e)=>e.withSelectedItem(t)))},this.onMenuPaneRef=(e)=>{e&&(this.paneRefs[e.props.depth]=e)},this.onPaneMouseEnter=(e)=>{this.clearExpandCollapseTimer();const t=this.props.state[e],n=t.selectedItem;n?this.props.dispatcher.setAppMenuState((e)=>e.withSelectedItem(n)):this.props.dispatcher.setAppMenuState((e)=>e.withDeselectedMenu(t)),this.focusPane=e},this.onKeyDown=(e)=>{e.defaultPrevented||'Escape'!==e.key||(e.preventDefault(),this.props.onClose({type:'keyboard',event:e}))},this.focusPane=e.state.length-1,this.receiveProps(null,e)}receiveProps(e,t){!t.openedWithAccessKey||e&&e.openedWithAccessKey||(this.focusPane=t.state.length-1)}clearExpandCollapseTimer(){this.expandCollapseTimer&&(window.clearTimeout(this.expandCollapseTimer),this.expandCollapseTimer=null)}scheduleExpand(e){this.clearExpandCollapseTimer(),this.expandCollapseTimer=window.setTimeout(()=>{this.props.dispatcher.setAppMenuState((t)=>t.withOpenedMenu(e))},a)}scheduleCollapseTo(e){this.clearExpandCollapseTimer(),this.expandCollapseTimer=window.setTimeout(()=>{this.props.dispatcher.setAppMenuState((t)=>t.withLastMenu(e))},a)}renderMenuPane(e,t){const n=t.id||'@',a=t.id?o(t.id):void 0;return r.createElement(i.MenuPane,{key:n,ref:this.onMenuPaneRef,className:a,autoHeight:this.props.autoHeight,depth:e,items:t.items,selectedItem:t.selectedItem,onItemClicked:this.onItemClicked,onMouseEnter:this.onPaneMouseEnter,onItemKeyDown:this.onItemKeyDown,onSelectionChanged:this.onSelectionChanged,enableAccessKeyNavigation:this.props.enableAccessKeyNavigation})}render(){const e=this.props.state,t=e.map((e,t)=>this.renderMenuPane(t,e));return this.paneRefs=this.paneRefs.slice(0,t.length),r.createElement('div',{id:'app-menu-foldout',onKeyDown:this.onKeyDown},t)}ensurePaneFocus(){if(0<=this.focusPane){const e=this.paneRefs[this.focusPane];e&&(e.focus(),this.focusPane=-1)}}componentWillReceiveProps(e){this.receiveProps(this.props,e)}componentDidMount(){this.ensurePaneFocus()}componentDidUpdate(){this.ensurePaneFocus()}componentWillUnmount(){this.clearExpandCollapseTimer()}}t.AppMenu=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(21),i=n(13),a=n(19);class s extends o.Component{constructor(){super(...arguments),this.onDeleteLockFile=async()=>{try{await a.unlink(this.props.lockFilePath)}catch(t){if('ENOENT'!==t.code)return void this.props.onError(t)}this.props.onLockFileDeleted()}}render(){return o.createElement('div',{className:'config-lock-file-exists-component'},o.createElement('p',null,'Failed to update Git configuration file. A lock file already exists at',' ',o.createElement(r.Ref,null,this.props.lockFilePath),'.'),o.createElement('p',null,'This can happen if another tool is currently modifying the Git configuration or if a Git process has terminated earlier without cleaning up the lock file. Do you want to',' ',o.createElement(i.LinkButton,{onClick:this.onDeleteLockFile},'delete the lock file'),' ','and try again?'))}}t.ConfigLockFileExists=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(197),i=n(2),a=n(472),s=n(471),d=n(72);class l extends o.Component{constructor(){super(...arguments),this.onEndpointEntered=(e)=>{this.props.dispatcher.setSignInEndpoint(e)},this.onCredentialsEntered=(e,t)=>{this.props.dispatcher.setSignInCredentials(e,t)},this.onBrowserSignInRequested=()=>{this.props.dispatcher.requestBrowserAuthentication()},this.onOTPEntered=(e)=>{this.props.dispatcher.setSignInOTP(e)}}renderEndpointEntryStep(e){const t=this.props.children;return o.createElement(s.EnterpriseServerEntry,{loading:e.loading,error:e.error,onSubmit:this.onEndpointEntered,additionalButtons:t})}renderAuthenticationStep(e){const t=this.props.children;return o.createElement(r.AuthenticationForm,{loading:e.loading,error:e.error,supportsBasicAuth:e.supportsBasicAuth,additionalButtons:t,onBrowserSignInRequested:this.onBrowserSignInRequested,onSubmit:this.onCredentialsEntered,forgotPasswordUrl:e.forgotPasswordUrl,endpoint:e.endpoint})}renderTwoFactorAuthenticationStep(e){return o.createElement(a.TwoFactorAuthentication,{loading:e.loading,error:e.error,type:e.type,additionalButtons:this.props.children,onOTPEntered:this.onOTPEntered})}render(){const e=this.props.signInState,t=this.props.signInState.kind;switch(e.kind){case d.SignInStep.EndpointEntry:return this.renderEndpointEntryStep(e);case d.SignInStep.Authentication:return this.renderAuthenticationStep(e);case d.SignInStep.TwoFactorAuthentication:return this.renderTwoFactorAuthenticationStep(e);case d.SignInStep.Success:return null;default:return i.assertNever(e,`Unknown sign-in step: ${t}`);}}}t.SignIn=l},function(e,t,n){'use strict';function o(e){return e===u.getDotComAPIEndpoint()?r.createElement(r.Fragment,null,r.createElement('p',null,'GitHub now requires you to sign in with your browser.'),r.createElement('p',null,t.BrowserRedirectMessage)):r.createElement('p',null,'Your GitHub Enterprise Server instance requires you to sign in with your browser.')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(13),a=n(4),s=n(51),d=n(89),l=n(12),c=n(29),p=n(142),u=n(10);t.BrowserRedirectMessage='Your browser will redirect you back to GitHub Desktop once you\'ve signed in. If your browser asks for your permission to launch GitHub Desktop please allow it to.';class m extends r.Component{constructor(e){super(e),this.onUsernameChange=(e)=>{this.setState({username:e})},this.onPasswordChange=(e)=>{this.setState({password:e})},this.signInWithBrowser=(e)=>{e&&e.preventDefault(),this.props.onBrowserSignInRequested()},this.signIn=()=>{this.props.onSubmit(this.state.username,this.state.password)},this.state={username:'',password:''}}render(){const e=this.props.supportsBasicAuth?this.renderSignInForm():this.renderEndpointRequiresWebFlow();return r.createElement(d.Form,{className:'sign-in-form',onSubmit:this.signIn},e)}renderUsernamePassword(){const e=this.props.loading;return r.createElement(r.Fragment,null,r.createElement(c.TextBox,{label:'Username or email address',disabled:e,autoFocus:!0,onValueChanged:this.onUsernameChange}),r.createElement(c.TextBox,{label:'Password',type:'password',disabled:e,onValueChanged:this.onPasswordChange}),this.renderError(),r.createElement('div',{className:'sign-in-footer'},this.renderActions()))}renderActions(){const e=!(this.state.username.length&&this.state.password.length&&!this.props.loading);return r.createElement('div',{className:'actions'},this.props.supportsBasicAuth?r.createElement(l.Button,{type:'submit',disabled:e},this.props.loading?r.createElement(s.Loading,null):null,' Sign in'):null,this.props.additionalButtons,this.props.supportsBasicAuth?r.createElement(i.LinkButton,{className:'forgot-password-link',uri:this.props.forgotPasswordUrl},'Forgot password?'):null)}renderSignInWithBrowser(){return r.createElement(r.Fragment,null,this.renderSignInWithBrowserButton(),this.props.additionalButtons)}renderSignInForm(){return this.props.endpoint===u.getDotComAPIEndpoint()?this.renderUsernamePassword():r.createElement(r.Fragment,null,this.renderSignInWithBrowser(),this.renderUsernamePassword())}renderEndpointRequiresWebFlow(){return r.createElement(r.Fragment,null,o(this.props.endpoint),this.renderSignInWithBrowserButton(),this.props.additionalButtons)}renderSignInWithBrowserButton(){return r.createElement(l.Button,{type:'submit',className:'button-with-icon',onClick:this.signInWithBrowser},'Sign in using your browser',r.createElement(a.Octicon,{symbol:a.OcticonSymbol.linkExternal}))}renderError(){const e=this.props.error;return e?r.createElement(p.Errors,null,e.message):null}}t.AuthenticationForm=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(2),a=n(113),s=n(481),d=n(5);class l extends o.Component{constructor(e){super(e),this.innerButton=null,this.onClick=(e)=>{const t='open'===this.props.dropdownState?'closed':'open',n=e.clientX||e.clientY?'pointer':'keyboard';this.props.onDropdownStateChanged(t,n)},this.handleOverlayClick=()=>{this.props.onDropdownStateChanged('closed','pointer')},this.onFoldoutKeyDown=(e)=>{!e.defaultPrevented&&this.isOpen&&'Escape'===e.key&&(e.preventDefault(),this.props.onDropdownStateChanged('closed','keyboard'))},this.renderDropdownContents=()=>'open'===this.props.dropdownState?o.createElement('div',{id:'foldout-container',style:this.getFoldoutContainerStyle()},o.createElement('div',{className:'overlay',tabIndex:-1,onClick:this.handleOverlayClick}),o.createElement('div',{className:'foldout',style:this.getFoldoutStyle(),tabIndex:-1,onKeyDown:this.onFoldoutKeyDown},this.props.dropdownContentRenderer())):null,this.onRef=(e)=>{this.innerButton=e},this.focusButton=()=>{this.innerButton&&this.innerButton.focusButton()},this.state={clientRect:null}}get isOpen(){return'open'===this.props.dropdownState}dropdownIcon(e){return'open'===e?r.OcticonSymbol.triangleUp:'closed'===e?r.OcticonSymbol.triangleDown:i.assertNever(e,`Unknown dropdown state ${e}`)}renderDropdownArrow(){if(!1===this.props.showDisclosureArrow)return null;const e=this.props.dropdownState;return o.createElement(r.Octicon,{symbol:this.dropdownIcon(e),className:'dropdownArrow'})}updateClientRectIfNecessary(){if('open'===this.props.dropdownState&&this.innerButton){const e=this.innerButton.getButtonBoundingClientRect();if(e){const t=this.state.clientRect;t&&s.rectEquals(t,e)||this.setState({clientRect:e})}}}componentDidMount(){this.updateClientRectIfNecessary()}componentWillUnmount(){this.innerButton=null}componentDidUpdate(){this.updateClientRectIfNecessary()}getFoldoutContainerStyle(){const e=this.state.clientRect;return e?{position:'absolute',top:e.bottom,left:0,width:'100%',height:`calc(100% - ${e.bottom}px)`}:void 0}getFoldoutStyle(){if(this.props.foldoutStyle)return this.props.foldoutStyle;const e=this.state.clientRect;return e?{position:'absolute',marginLeft:e.left,minWidth:e.width,height:'100%',top:0}:void 0}render(){const e=d('toolbar-dropdown',this.props.dropdownState,this.props.className),t='open'===this.props.dropdownState?'true':'false';return o.createElement('div',{className:e,onKeyDown:this.props.onKeyDown,role:this.props.role,"aria-expanded":t},this.renderDropdownContents(),o.createElement(a.ToolbarButton,{className:this.props.buttonClassName,ref:this.onRef,icon:this.props.icon,title:this.props.title,description:this.props.description,tooltip:this.props.tooltip,onClick:this.onClick,onMouseEnter:this.props.onMouseEnter,style:this.props.style,iconClassName:this.props.iconClassName,disabled:this.props.disabled,tabIndex:this.props.tabIndex,progressValue:this.props.progressValue,role:this.props.buttonRole},this.props.children,this.renderDropdownArrow()))}}t.ToolbarDropdown=l},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(482)),o(n(113)),o(n(198)),o(n(480)),o(n(479));var r=n(478);t.RevertProgress=r.RevertProgress},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(46),i=n(18),a=n(4),s=n(21);t.renderBranchNameWarning=function(e,t){return 0<e.length&&/^\s*$/.test(t)?o.createElement(i.Row,{className:'warning-helper-text'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert}),o.createElement('p',null,o.createElement(s.Ref,null,e),' is not a valid branch name.')):e===t?null:o.createElement(i.Row,{className:'warning-helper-text'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert}),o.createElement('p',null,'Will be created as ',o.createElement(s.Ref,null,t),'.'))},t.renderBranchHasRemoteWarning=function(e){return null==e.upstream?null:o.createElement(i.Row,{className:'warning-helper-text'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert}),o.createElement('p',null,'This branch is tracking ',o.createElement(s.Ref,null,e.upstream),' and renaming this branch will not change the branch name on the remote.'))},t.renderBranchNameExistsOnRemoteWarning=function(e,t){const n=-1<t.findIndex((t)=>t.nameWithoutRemote===e&&t.type===r.BranchType.Remote);return!1==n?null:o.createElement(i.Row,{className:'warning-helper-text'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert}),o.createElement('p',null,'A branch named ',o.createElement(s.Ref,null,e),' already exists on the remote.'))},t.renderStashWillBeLostWarning=function(e){return null===e?null:o.createElement(i.Row,{className:'warning-helper-text'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert}),o.createElement('p',null,'Your current stashed changes on this branch will no longer be visible in GitHub Desktop if the branch is renamed.'))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(491);t.TutorialPanel=o.TutorialPanel;var r=n(490);t.TutorialWelcome=r.TutorialWelcome;var i=n(489);t.TutorialDone=i.TutorialDone;var a=n(488);t.ConfirmExitTutorial=a.ConfirmExitTutorial},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(57),i=n(4),a=n(96);class s extends o.Component{render(){const e=this.props.lastCommitDate,t=this.props.isCurrentBranch,n=this.props.name,s=e?r(e).fromNow():'',d=t?i.OcticonSymbol.check:i.OcticonSymbol.gitBranch,l=t?'Current branch':e?e.toString():'';return o.createElement('div',{className:'branches-list-item'},o.createElement(i.Octicon,{className:'icon',symbol:d}),o.createElement('div',{className:'name',title:n},o.createElement(a.HighlightText,{text:n,highlight:this.props.matches.title})),o.createElement('div',{className:'description',title:l},s))}}t.BranchListItem=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(202);t.renderDefaultBranch=function(e,t,n){const i=e.branch,a=i.tip,s=n?n.name:null;return o.createElement(r.BranchListItem,{name:i.name,isCurrentBranch:i.name===s,lastCommitDate:a?a.author.date:null,matches:t})}},function(e,t,n){'use strict';function o(e){return'pending'===e?i.OcticonSymbol.primitiveDot:'failure'===e?i.OcticonSymbol.x:'success'===e?i.OcticonSymbol.check:a.assertNever(e,`Unknown state: ${e}`)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(4),a=n(2),s=n(5),d=n(501);class l extends r.PureComponent{constructor(e){super(e),this.statusSubscription=null,this.onStatus=(e)=>{this.setState({status:e})},this.state={status:e.dispatcher.tryGetCommitStatus(this.props.repository,this.props.commitRef)}}subscribe(){this.unsubscribe(),this.statusSubscription=this.props.dispatcher.subscribeToCommitStatus(this.props.repository,this.props.commitRef,this.onStatus)}unsubscribe(){this.statusSubscription&&(this.statusSubscription.dispose(),this.statusSubscription=null)}componentDidUpdate(e){(this.props.repository!==e.repository||this.props.commitRef!==e.commitRef)&&(this.setState({status:this.props.dispatcher.tryGetCommitStatus(this.props.repository,this.props.commitRef)}),this.subscribe())}componentDidMount(){this.subscribe()}componentWillUnmount(){this.unsubscribe()}render(){const{status:e}=this.state;if(null===e||0===e.total_count)return null;const t=d.getRefStatusSummary(e),n=e.state;return r.createElement(i.Octicon,{className:s('ci-status',`ci-status-${n}`,this.props.className),symbol:o(n),title:t})}}t.CIStatus=l},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.groupBranches=function(e,t,n,o){const r=[];e&&r.push({identifier:'default',items:[{text:[e.name],id:e.name,branch:e}]});const i=new Set,a=e?e.name:null,s=o.filter((e)=>e.name!==a);if(0<s.length){const e=[];for(const t of s)e.push({text:[t.name],id:t.name,branch:t}),i.add(t.name);r.push({identifier:'recent',items:e})}const d=n.filter((e)=>e.name!==a&&!i.has(e.name)),l=d.map((e)=>({text:[e.name],id:e.name,branch:e}));return r.push({identifier:'other',items:l}),r}},function(e,t,n){'use strict';function o(e){const t=d.groupBranches(e.defaultBranch,e.currentBranch,e.allBranches,e.recentBranches);let n=null;const o=e.selectedBranch;if(o)for(const e of t)if(n=e.items.find((e)=>{const t=e.branch;return t.name===o.name})||null,n)break;return{groups:t,selectedItem:n}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(2),a=n(120),s=n(12),d=n(205),l=n(505);class c extends r.Component{constructor(e){super(e),this.branchFilterList=null,this.onBranchesFilterListRef=(e)=>{this.branchFilterList=e},this.renderItem=(e,t)=>this.props.renderBranch(e,t),this.renderGroupHeader=(e)=>{const t=this.parseHeader(e);return null===t?null:r.createElement('div',{className:'branches-list-content filter-list-group-header'},this.getGroupLabel(t))},this.onRenderNoItems=()=>r.createElement(l.NoBranches,{onCreateNewBranch:this.onCreateNewBranch,canCreateNewBranch:this.props.canCreateNewBranch}),this.onRenderNewButton=()=>this.props.canCreateNewBranch?r.createElement(s.Button,{className:'new-branch-button',onClick:this.onCreateNewBranch},'New branch'):null,this.onItemClick=(e)=>{this.props.onItemClick&&this.props.onItemClick(e.branch)},this.onSelectionChanged=(e,t)=>{this.props.onSelectionChanged&&this.props.onSelectionChanged(e?e.branch:null,t)},this.onCreateNewBranch=()=>{this.props.onCreateNewBranch&&this.props.onCreateNewBranch(this.props.filterText)},this.state=o(e)}componentWillReceiveProps(e){this.setState(o(e))}selectNextItem(e=!1,t){null!==this.branchFilterList&&this.branchFilterList.selectNextItem(e,t)}render(){return r.createElement(a.FilterList,{ref:this.onBranchesFilterListRef,className:'branches-list',rowHeight:30,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,onFilterKeyDown:this.props.onFilterKeyDown,selectedItem:this.state.selectedItem,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onItemClick:this.onItemClick,onSelectionChanged:this.onSelectionChanged,groups:this.state.groups,invalidationProps:this.props.allBranches,renderPostFilter:this.onRenderNewButton,renderNoItems:this.onRenderNoItems,filterTextBox:this.props.textbox,onFilterListResultsChanged:this.props.onFilterListResultsChanged})}parseHeader(e){return'default'===e||'recent'===e||'other'===e?e:null}getGroupLabel(e){return'default'===e?'Default branch':'recent'===e?'Recent branches':'other'===e?'Other branches':i.assertNever(e,`Unknown identifier: ${e}`)}}t.BranchList=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{render(){return o.createElement('div',{className:'dialog-footer'},this.props.children)}}t.DialogFooter=r},function(e,t,n){'use strict';function o(e){return i.createElement(i.Fragment,null,` • `,i.createElement(d.RelativeTime,{date:e,abbreviate:!0}))}function r(e){if(0===e.length)return null;const[t]=e;return i.createElement('span',{className:'tag-indicator'},i.createElement('span',{className:'tag-name',key:t},t),1<e.length&&i.createElement('span',{key:e.length,className:'tag-indicator-more'}))}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(213),s=n(91),d=n(116),l=n(10),c=n(22),p=n(27),u=n(210),m=n(211),h=n(4),f=n(25);class g extends i.PureComponent{constructor(e){super(e),this.onCopySHA=()=>{c.clipboard.writeText(this.props.commit.sha)},this.onViewOnGitHub=()=>{this.props.onViewCommitOnGitHub&&this.props.onViewCommitOnGitHub(this.props.commit.sha)},this.onCreateTag=()=>{this.props.onCreateTag&&this.props.onCreateTag(this.props.commit.sha)},this.onContextMenu=(e)=>{e.preventDefault();let t='View on GitHub';const n=this.props.gitHubRepository;n&&n.endpoint!==l.getDotComAPIEndpoint()&&(t='View on GitHub Enterprise');const o=[{label:'Revert this commit',action:()=>{this.props.onRevertCommit&&this.props.onRevertCommit(this.props.commit)},enabled:this.props.onRevertCommit!==void 0}];if(f.enableGitTagsCreation()){o.push({label:'Create Tag\u2026',action:this.onCreateTag,enabled:this.props.onCreateTag!==void 0});const e=this.getDeleteTagsMenuItem();null!==e&&o.push({type:'separator'},e)}o.push({type:'separator'},{label:'Copy SHA',action:this.onCopySHA},{label:t,action:this.onViewOnGitHub,enabled:!this.props.isLocal&&!!n}),p.showContextualMenu(o)},this.state={avatarUsers:a.getAvatarUsersForCommit(e.gitHubRepository,e.gitHubUsers,e.commit)}}componentWillReceiveProps(e){e.commit!==this.props.commit&&this.setState({avatarUsers:a.getAvatarUsersForCommit(e.gitHubRepository,e.gitHubUsers,e.commit)})}render(){const e=this.props.commit,{author:{date:t}}=e;return i.createElement('div',{className:'commit',onContextMenu:this.onContextMenu},i.createElement('div',{className:'info'},i.createElement(s.RichText,{className:'summary',emoji:this.props.emoji,text:e.summary,renderUrlsAsLinks:!1}),i.createElement('div',{className:'description'},i.createElement(m.AvatarStack,{users:this.state.avatarUsers}),i.createElement('div',{className:'byline'},i.createElement(u.CommitAttribution,{gitHubRepository:this.props.gitHubRepository,commit:e}),o(t)))),this.renderCommitIndicators())}renderCommitIndicators(){const e=f.enableGitTagsDisplay()?r(this.props.commit.tags):null,t=this.renderUnpushedIndicator();return e||t?i.createElement('div',{className:'commit-indicators'},e,t):null}renderUnpushedIndicator(){return this.props.showUnpushedIndicator?i.createElement('div',{className:'unpushed-indicator',title:this.props.unpushedIndicatorTitle},i.createElement(h.Octicon,{symbol:h.OcticonSymbol.arrowUp})):null}getDeleteTagsMenuItem(){const{unpushedTags:e,onDeleteTag:t,commit:n}=this.props;if(t===void 0||e===void 0||0===n.tags.length)return null;if(1===n.tags.length){const o=n.tags[0];return{label:`Delete tag ${o}`,action:()=>t(o),enabled:e.includes(o)}}const o=new Set(e);return{label:'Delete tag\u2026',submenu:n.tags.map((e)=>({label:e,action:()=>t(e),enabled:o.has(e)}))}}}t.CommitListItem=g},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(148),i=n(77),a=n(4),s=n(38);class d extends o.Component{constructor(){super(...arguments),this.onSelectedRowChanged=(e)=>{const t=this.props.files[e];this.props.onSelectedFileChanged(t)},this.renderFile=(e)=>{const t=this.props.files[e],n=t.status,i=s.mapStatus(n),d=this.props.availableWidth-20-5-16;return o.createElement('div',{className:'file',onContextMenu:this.props.onContextMenu},o.createElement(r.PathLabel,{path:t.path,status:t.status,availableWidth:d}),o.createElement(a.Octicon,{symbol:a.iconForStatus(n),className:'status status-'+i.toLowerCase(),title:i}))}}rowForFile(e){return e?this.props.files.findIndex((t)=>t.path===e.path):-1}render(){return o.createElement('div',{className:'file-list'},o.createElement(i.List,{rowRenderer:this.renderFile,rowCount:this.props.files.length,rowHeight:29,selectedRows:[this.rowForFile(this.props.selectedFile)],onSelectedRowChanged:this.onSelectedRowChanged}))}}t.FileList=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(212);class i extends o.Component{renderAuthorInline(e){return o.createElement('span',{className:'author'},e.name)}renderAuthors(e){if(1===e.length)return o.createElement('span',{className:'authors'},this.renderAuthorInline(e[0]));if(2===e.length){const t=e.map((e)=>e.name).join(', ');return o.createElement('span',{className:'authors',title:t},this.renderAuthorInline(e[0]),`, `,this.renderAuthorInline(e[1]))}else{const t=e.map((e)=>e.name).join(', ');return o.createElement('span',{className:'authors',title:t},e.length,' people')}}render(){const e=this.props.commit,{author:t,committer:n,coAuthors:i}=e,a=!e.authoredByCommitter&&!(null!==this.props.gitHubRepository&&r.isWebFlowCommitter(e,this.props.gitHubRepository)),s=a?[t,n,...i]:[t,...i];return o.createElement('span',{className:'commit-attribution-component'},this.renderAuthors(s))}}t.CommitAttribution=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),a=n(149),s=3;class i extends o.Component{render(){const e=[],t=this.props.users;for(let n=0;n<this.props.users.length;n++){const r=t[n];t.length>s&&n===s-1&&e.push(o.createElement('div',{key:'more',className:'avatar-more avatar'})),e.push(o.createElement(a.Avatar,{key:`${n}${r.avatarURL}`,user:r,title:null}))}const n=r('AvatarStack',{"AvatarStack--small":!0,"AvatarStack--two":2===t.length,"AvatarStack--three-plus":t.length>=s});return o.createElement('div',{className:n},o.createElement('div',{className:'AvatarStack-body'},e))}}t.AvatarStack=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(10);t.isWebFlowCommitter=function(e,t){if(!t)return!1;const n=t.owner.endpoint,{name:r,email:i}=e.committer;if(n===o.getDotComAPIEndpoint()&&'GitHub'===r&&'noreply@github.com'===i)return!0;if('GitHub Enterprise'===r){const e=new URL(n).host.toLowerCase();return i.endsWith(`@${e}`)}return!1}},function(e,t,n){'use strict';function o(e,t){return e&&e.endpoint===a.getDotComAPIEndpoint()?`https://avatars.githubusercontent.com/u/e?email=${encodeURIComponent(t.email)}&s=60`:i.generateGravatarUrl(t.email)}function r(e,t,n){const r=null===t?null:t.get(n.email.toLowerCase())||null,i=r?r.avatarURL:o(e,n);return{email:n.email,name:n.name,avatarURL:i}}Object.defineProperty(t,'__esModule',{value:!0});const i=n(105),a=n(10),s=n(212);t.getAvatarUsersForCommit=function(e,t,n){const o=[r(e,t,n.author),...n.coAuthors.map((n)=>r(e,t,n))],i=n.coAuthors.some((e)=>e.name===n.committer.name&&e.email===n.committer.email),a=null!==e&&s.isWebFlowCommitter(n,e);return n.authoredByCommitter||a||i||o.push(r(e,t,n.committer)),o}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.nameShape=void 0,t.transitionTimeout=function(e){var t='transition'+e+'Timeout';return function(n){if(n['transition'+e]){if(null==n[t])return new Error(t+' wasn\'t supplied to CSSTransitionGroup: this can cause unreliable animations and won\'t be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.');if('number'!=typeof n[t])return new Error(t+' must be a number (in milliseconds)')}return null}};var o=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string,height:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string,height:r.default.string,heightActive:r.default.string})])},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(12);class a extends o.Component{render(){const e='primary'===this.props.type,t=r('suggested-action',{primary:e}),n=this.props.description===void 0?void 0:o.createElement('p',{className:'description'},this.props.description);return o.createElement('div',{className:t},this.props.image&&o.createElement('div',{className:'image-wrapper'},this.props.image),o.createElement('div',{className:'text-wrapper'},o.createElement('h2',null,this.props.title),n,this.props.discoverabilityContent&&o.createElement('p',{className:'discoverability'},this.props.discoverabilityContent)),o.createElement(i.Button,{type:e?'submit':void 0,onClick:this.props.onClick,disabled:this.props.disabled},this.props.buttonText))}}t.SuggestedAction=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.getPlatformSpecificNameOrSymbolForModifier=function(e){switch(e.toLowerCase()){case'cmdorctrl':case'commandorcontrol':return'Ctrl';case'ctrl':case'control':return'Ctrl';case'shift':return'Shift';case'alt':return'Alt';case'cmd':case'command':return'\u2318';case'option':return'\u2325';case' ':return'Space';}return e}},function(e,t,n){'use strict';function o(e,t){const n=e.find((e)=>t>=e.unifiedDiffStart&&t<=e.unifiedDiffEnd);return n||null}function r(e,t){return t.type!==i.DiffLineType.Add&&t.type!==i.DiffLineType.Delete?e:null===e?t.type===i.DiffLineType.Add?a.Additions:a.Deletions:e===a.Mixed?e:t.type===i.DiffLineType.Add&&e!==a.Additions||t.type===i.DiffLineType.Delete&&e!==a.Deletions?a.Mixed:e}Object.defineProperty(t,'__esModule',{value:!0});const i=n(30);var a;(function(e){e[e.Additions=0]='Additions',e[e.Deletions=1]='Deletions',e[e.Mixed=2]='Mixed'})(a=t.DiffRangeType||(t.DiffRangeType={})),t.diffHunkForIndex=o,t.diffLineForIndex=function(e,t){const n=o(e,t);return n?n.lines[t-n.unifiedDiffStart]||null:null},t.lineNumberForDiffLine=function(e,t){let n=0;for(const o of t){const t=o.lines.indexOf(e);if(-1<t)return t+n;n+=o.lines.length}return-1},t.findInteractiveDiffRange=function(e,t){const n=o(e,t);if(!n)return null;const a=t-n.unifiedDiffStart;let s=r(null,n.lines[a]),d=null;for(let o=a-1;0<=o;o--){const e=n.lines[o];if(!e.isIncludeableLine()){const e=o+1;d=n.unifiedDiffStart+e;break}s=r(s,e)}const i=null===d?n.unifiedDiffStart+1:d;let l=null;for(let o=a+1;o<n.lines.length;o++){const e=n.lines[o];if(!e.isIncludeableLine()){const e=o-1;l=n.unifiedDiffStart+e;break}s=r(s,e)}const c=null===l?n.unifiedDiffEnd:l;return{from:i,to:c,type:s}}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(564)),o(n(561)),o(n(560)),o(n(559))},function(e,t,n){(function(){var t,o,r,i,a,s,d,l;l=n(151),r=l.countDir,a=l.getExtension,e.exports=t=function(){function e(e,t){var n,s,l;return l=null==t?{}:t,n=l.optCharRegEx,s=l.pathSeparator,e&&e.length?void(this.query=e,this.query_lw=e.toLowerCase(),this.core=o(e,n),this.core_lw=this.core.toLowerCase(),this.core_up=d(this.core),this.depth=r(e,e.length,s),this.ext=a(this.query_lw),this.charCodes=i(this.query_lw)):null}return e}(),s=/[ _\-:\/\\]/g,o=function(e,t){return null==t&&(t=s),e.replace(t,'')},d=function(e){var t,n,o,r;for(n='',o=0,r=e.length;o<r;o++)t=e[o],n+=t.toUpperCase()[0];return n},i=function(e){var t,n,o;for(o=e.length,n=-1,t=[];++n<o;)t[e.charCodeAt(n)]=!0;return t}}).call(this)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.findNextSelectableRow=function(e,t,n=()=>!0){if(0===e)return null;const{direction:o,row:r}=t,i=!(t.wrap!==void 0)||t.wrap;let a=0>r||r>=e?'up'===o?e-1:0:r;'down'===o&&-1===r&&(a=-1);const s='up'===o?-1:1;for(let o=0;o<e;o++){if(a+=s,a>=e){if(i)a=0;else break;}else if(0>a)if(i)a=e-1;else break;if(r!==a&&n(a))return a}return null}},function(e,t,n){var o=n(154),r=n(60)('toStringTag'),i='Arguments'==o(function(){return arguments}());e.exports=function(e){var t,n,a;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(n=(t=Object(e))[r])?n:i?o(t):'Object'==(a=o(t))&&'function'==typeof t.callee?'Arguments':a}},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e,t,n){var o=n(154);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==o(e)?e.split(''):Object(e)}},function(e){var t=0,n=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+n).toString(36))}},function(e,t,n){var o=n(119),r='__core-js_shared__',i=o[r]||(o[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){e.exports=!n(118)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(159)},function(e){e.exports=!0},function(e,t,n){'use strict';var o=n(228),r=n(95),i=n(227),a=n(159),s=n(157),d=n(94),l=n(609),c=n(156),p=n(37).getProto,u=n(60)('iterator'),m=!([].keys&&'next'in[].keys()),h='@@iterator',f='keys',g='values',y=function(){return this};e.exports=function(e,t,n,S,C,b,v){l(n,t,S);var E=function(e){return!m&&e in _?_[e]:e===f?function(){return new n(this,e)}:e===g?function(){return new n(this,e)}:function(){return new n(this,e)}},w=t+' Iterator',k=C==g,T=!1,_=e.prototype,R=_[u]||_[h]||C&&_[C],x=R||E(C),P,D;if(R){var M=p(x.call(new e));c(M,w,!0),!o&&s(_,h)&&a(M,u,y),k&&R.name!==g&&(T=!0,x=function(){return R.call(this)})}if((!o||v)&&(m||T||!_[u])&&a(_,u,x),d[t]=x,d[w]=y,C)if(P={values:k?x:E(g),keys:b?x:E(f),entries:k?E('entries'):x},v)for(D in P)D in _||i(_,D,P[D]);else r(r.P+r.F*(m||T),t,P);return P}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(613),i=o(r),a=n(605),s=o(a),d='function'==typeof s.default&&'symbol'==typeof i.default?function(e){return typeof e}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':typeof e};t.default='function'==typeof s.default&&'symbol'===d(i.default)?function(e){return'undefined'==typeof e?'undefined':d(e)}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':'undefined'==typeof e?'undefined':d(e)}},function(e,t,n){e.exports={default:n(614),__esModule:!0}},function(e,t,n){var o=n(615);e.exports=function(e,t,n){return(o(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,o){return e.call(t,n,o)}:3===n?function(n,o,r){return e.call(t,n,o,r)}:function(){return e.apply(t,arguments)}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{constructor(e,t,n){this.w=e,this.h=t,this.d=n}static get alert(){return new n(16,16,'M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z')}static get archive(){return new n(14,16,'M13 2H1v2h12V2zM0 4a1 1 0 0 0 1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v2zm2 1h10v9H2V5zm2 3h6V7H4v1z')}static get arrowBoth(){return new n(20,16,'M0 8l6-5v3h8V3l6 5-6 5v-3H6v3L0 8z')}static get arrowDown(){return new n(10,16,'M7 7V3H3v4H0l5 6 5-6H7z')}static get arrowLeft(){return new n(10,16,'M6 3L0 8l6 5v-3h4V6H6V3z')}static get arrowRight(){return new n(10,16,'M10 8L4 3v3H0v4h4v3l6-5z')}static get arrowSmallDown(){return new n(6,16,'M4 7V5H2v2H0l3 4 3-4H4z')}static get arrowSmallLeft(){return new n(6,16,'M4 7V5L0 8l4 3V9h2V7H4z')}static get arrowSmallRight(){return new n(6,16,'M6 8L2 5v2H0v2h2v2l4-3z')}static get arrowSmallUp(){return new n(6,16,'M3 5L0 9h2v2h2V9h2L3 5z')}static get arrowUp(){return new n(10,16,'M5 3L0 9h3v4h4V9h3L5 3z')}static get beaker(){return new n(16,16,'M14.38 14.59L11 7V3h1V2H3v1h1v4L.63 14.59A1 1 0 0 0 1.54 16h11.94c.72 0 1.2-.75.91-1.41h-.01zM3.75 10L5 7V3h5v4l1.25 3h-7.5zM8 8h1v1H8V8zM7 7H6V6h1v1zm0-3h1v1H7V4zm0-3H6V0h1v1z')}static get bell(){return new n(14,16,'M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z')}static get bold(){return new n(10,16,'M1 2h3.83c2.48 0 4.3.75 4.3 2.95 0 1.14-.63 2.23-1.67 2.61v.06c1.33.3 2.3 1.23 2.3 2.86 0 2.39-1.97 3.52-4.61 3.52H1V2zm3.66 4.95c1.67 0 2.38-.66 2.38-1.69 0-1.17-.78-1.61-2.34-1.61H3.13v3.3h1.53zm.27 5.39c1.77 0 2.75-.64 2.75-1.98 0-1.27-.95-1.81-2.75-1.81h-1.8v3.8h1.8v-.01z')}static get book(){return new n(16,16,'M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z')}static get bookmark(){return new n(10,16,'M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z')}static get briefcase(){return new n(14,16,'M9 4V3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H1c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1H9zM6 3h2v1H6V3zm7 6H8v1H6V9H1V5h1v3h10V5h1v4z')}static get broadcast(){return new n(16,16,'M9 9H8c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1H6c-.55 0-1 .45-1 1v2h1v3c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-3h1v-2c0-.55-.45-1-1-1zM7 7h1v1H7V7zm2 4H8v4H7v-4H6v-1h3v1zm2.09-3.5c0-1.98-1.61-3.59-3.59-3.59A3.593 3.593 0 0 0 4 8.31v1.98c-.61-.77-1-1.73-1-2.8 0-2.48 2.02-4.5 4.5-4.5S12 5.01 12 7.49c0 1.06-.39 2.03-1 2.8V8.31c.06-.27.09-.53.09-.81zm3.91 0c0 2.88-1.63 5.38-4 6.63v-1.05a6.553 6.553 0 0 0 3.09-5.58A6.59 6.59 0 0 0 7.5.91 6.59 6.59 0 0 0 .91 7.5c0 2.36 1.23 4.42 3.09 5.58v1.05A7.497 7.497 0 0 1 7.5 0C11.64 0 15 3.36 15 7.5z')}static get browser(){return new n(14,16,'M5 3h1v1H5V3zM3 3h1v1H3V3zM1 3h1v1H1V3zm12 10H1V5h12v8zm0-9H7V3h6v1zm1-1c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3z')}static get bug(){return new n(16,16,'M11 10h3V9h-3V8l3.17-1.03-.34-.94L11 7V6c0-.55-.45-1-1-1V4c0-.48-.36-.88-.83-.97L10.2 2H12V1H9.8l-2 2h-.59L5.2 1H3v1h1.8l1.03 1.03C5.36 3.12 5 3.51 5 4v1c-.55 0-1 .45-1 1v1l-2.83-.97-.34.94L4 8v1H1v1h3v1L.83 12.03l.34.94L4 12v1c0 .55.45 1 1 1h1l1-1V6h1v7l1 1h1c.55 0 1-.45 1-1v-1l2.83.97.34-.94L11 11v-1zM9 5H6V4h3v1z')}static get calendar(){return new n(14,16,'M13 2h-1v1.5c0 .28-.22.5-.5.5h-2c-.28 0-.5-.22-.5-.5V2H6v1.5c0 .28-.22.5-.5.5h-2c-.28 0-.5-.22-.5-.5V2H2c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 12H2V5h11v9zM5 3H4V1h1v2zm6 0h-1V1h1v2zM6 7H5V6h1v1zm2 0H7V6h1v1zm2 0H9V6h1v1zm2 0h-1V6h1v1zM4 9H3V8h1v1zm2 0H5V8h1v1zm2 0H7V8h1v1zm2 0H9V8h1v1zm2 0h-1V8h1v1zm-8 2H3v-1h1v1zm2 0H5v-1h1v1zm2 0H7v-1h1v1zm2 0H9v-1h1v1zm2 0h-1v-1h1v1zm-8 2H3v-1h1v1zm2 0H5v-1h1v1zm2 0H7v-1h1v1zm2 0H9v-1h1v1z')}static get check(){return new n(12,16,'M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z')}static get checklist(){return new n(16,16,'M16 8.5l-6 6-3-3L8.5 10l1.5 1.5L14.5 7 16 8.5zM5.7 12.2l.8.8H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v6.5l-.8-.8c-.39-.39-1.03-.39-1.42 0L5.7 10.8a.996.996 0 0 0 0 1.41v-.01zM4 4h5V3H4v1zm0 2h5V5H4v1zm0 2h3V7H4v1zM3 9H2v1h1V9zm0-2H2v1h1V7zm0-2H2v1h1V5zm0-2H2v1h1V3z')}static get chevronDown(){return new n(10,16,'M5 11L0 6l1.5-1.5L5 8.25 8.5 4.5 10 6l-5 5z')}static get chevronLeft(){return new n(8,16,'M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z')}static get chevronRight(){return new n(8,16,'M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z')}static get chevronUp(){return new n(10,16,'M10 10l-1.5 1.5L5 7.75 1.5 11.5 0 10l5-5 5 5z')}static get circleSlash(){return new n(14,16,'M7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm0 1.3c1.3 0 2.5.44 3.47 1.17l-8 8A5.755 5.755 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zm0 11.41c-1.3 0-2.5-.44-3.47-1.17l8-8c.73.97 1.17 2.17 1.17 3.47 0 3.14-2.56 5.7-5.7 5.7z')}static get circuitBoard(){return new n(14,16,'M3 5c0-.55.45-1 1-1s1 .45 1 1-.45 1-1 1-1-.45-1-1zm8 0c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zm0 6c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zm2-10H5v2.17c.36.19.64.47.83.83h2.34c.42-.78 1.33-1.28 2.34-1.05.75.19 1.36.8 1.53 1.55.31 1.38-.72 2.59-2.05 2.59-.8 0-1.48-.44-1.83-1.09H5.83c-.42.8-1.33 1.28-2.34 1.03-.73-.17-1.34-.78-1.52-1.52C1.72 4.49 2.2 3.59 3 3.17V1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1l5-5h2.17c.42-.78 1.33-1.28 2.34-1.05.75.19 1.36.8 1.53 1.55.31 1.38-.72 2.59-2.05 2.59-.8 0-1.48-.44-1.83-1.09H6.99L4 15h9c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1z')}static get clippy(){return new n(14,16,'M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z')}static get clock(){return new n(14,16,'M8 8h3v2H7c-.55 0-1-.45-1-1V4h2v4zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z')}static get cloudDownload(){return new n(16,16,'M9 12h2l-3 3-3-3h2V7h2v5zm3-8c0-.44-.91-3-4.5-3C5.08 1 3 2.92 3 5 1.02 5 0 6.52 0 8c0 1.53 1 3 3 3h3V9.7H3C1.38 9.7 1.3 8.28 1.3 8c0-.17.05-1.7 1.7-1.7h1.3V5c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V11h2c2.08 0 4-1.16 4-3.5C16 5.06 14.08 4 12 4z')}static get cloudUpload(){return new n(16,16,'M7 9H5l3-3 3 3H9v5H7V9zm5-4c0-.44-.91-3-4.5-3C5.08 2 3 3.92 3 6 1.02 6 0 7.52 0 9c0 1.53 1 3 3 3h3v-1.3H3c-1.62 0-1.7-1.42-1.7-1.7 0-.17.05-1.7 1.7-1.7h1.3V6c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V12h2c2.08 0 4-1.16 4-3.5C16 6.06 14.08 5 12 5z')}static get code(){return new n(14,16,'M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z')}static get comment(){return new n(16,16,'M14 1H2c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h2v3.5L7.5 11H14c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 9H7l-2 2v-2H2V2h12v8z')}static get commentDiscussion(){return new n(16,16,'M15 1H6c-.55 0-1 .45-1 1v2H1c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h1v3l3-3h4c.55 0 1-.45 1-1V9h1l3 3V9h1c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zM9 11H4.5L3 12.5V11H1V5h4v3c0 .55.45 1 1 1h3v2zm6-3h-2v1.5L11.5 8H6V2h9v6z')}static get creditCard(){return new n(16,16,'M12 9H2V8h10v1zm4-6v9c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h14c.55 0 1 .45 1 1zm-1 3H1v6h14V6zm0-3H1v1h14V3zm-9 7H2v1h4v-1z')}static get dash(){return new n(8,16,'M0 7v2h8V7H0z')}static get dashboard(){return new n(16,16,'M9 5H8V4h1v1zm4 3h-1v1h1V8zM6 5H5v1h1V5zM5 8H4v1h1V8zm11-5.5l-.5-.5L9 7c-.06-.02-1 0-1 0-.55 0-1 .45-1 1v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-.92l6-5.58zm-1.59 4.09c.19.61.3 1.25.3 1.91 0 3.42-2.78 6.2-6.2 6.2-3.42 0-6.21-2.78-6.21-6.2 0-3.42 2.78-6.2 6.2-6.2 1.2 0 2.31.34 3.27.94l.94-.94A7.459 7.459 0 0 0 8.51 1C4.36 1 1 4.36 1 8.5 1 12.64 4.36 16 8.5 16c4.14 0 7.5-3.36 7.5-7.5 0-1.03-.2-2.02-.59-2.91l-1 1z')}static get database(){return new n(12,16,'M6 15c-3.31 0-6-.9-6-2v-2c0-.17.09-.34.21-.5.67.86 3 1.5 5.79 1.5s5.12-.64 5.79-1.5c.13.16.21.33.21.5v2c0 1.1-2.69 2-6 2zm0-4c-3.31 0-6-.9-6-2V7c0-.11.04-.21.09-.31.03-.06.07-.13.12-.19C.88 7.36 3.21 8 6 8s5.12-.64 5.79-1.5c.05.06.09.13.12.19.05.1.09.21.09.31v2c0 1.1-2.69 2-6 2zm0-4c-3.31 0-6-.9-6-2V3c0-1.1 2.69-2 6-2s6 .9 6 2v2c0 1.1-2.69 2-6 2zm0-5c-2.21 0-4 .45-4 1s1.79 1 4 1 4-.45 4-1-1.79-1-4-1z')}static get dependent(){return new n(16,16,'M1 1h7.5l2 2H9L8 2H1v12h10v-1h1v1c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1zm9 6h3v1h-3V7zm2 2h-2v1h2V9zM8.583 4h4.375L15 6v5.429a.58.58 0 0 1-.583.571H8.583A.58.58 0 0 1 8 11.429V10h1v1h5V6.5L12.5 5H9v1H8V4.571A.58.58 0 0 1 8.583 4zM9.5 7H6.667V5l-4 3 4 3V9H9.5V7z')}static get desktopDownload(){return new n(16,16,'M4 6h3V0h2v6h3l-4 4-4-4zm11-4h-4v1h4v8H1V3h4V2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1z')}static get deviceCamera(){return new n(16,16,'M15 3H7c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h14c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM6 5H2V4h4v1zm4.5 7C8.56 12 7 10.44 7 8.5S8.56 5 10.5 5 14 6.56 14 8.5 12.44 12 10.5 12zM13 8.5c0 1.38-1.13 2.5-2.5 2.5S8 9.87 8 8.5 9.13 6 10.5 6 13 7.13 13 8.5z')}static get deviceCameraVideo(){return new n(16,16,'M15.2 2.09L10 5.72V3c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h8c.55 0 1-.45 1-1V9.28l5.2 3.63c.33.23.8 0 .8-.41v-10c0-.41-.47-.64-.8-.41z')}static get deviceDesktop(){return new n(16,16,'M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z')}static get deviceMobile(){return new n(10,16,'M9 0H1C.45 0 0 .45 0 1v14c0 .55.45 1 1 1h8c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1zM5 15.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zM9 12H1V2h8v10z')}static get diff(){return new n(13,16,'M6 7h2v1H6v2H5V8H3V7h2V5h1v2zm-3 6h5v-1H3v1zM7.5 2L11 5.5V15c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h6.5zM10 6L7 3H1v12h9V6zM8.5 0H3v1h5l4 4v8h1V4.5L8.5 0z')}static get diffAdded(){return new n(14,16,'M13 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z')}static get diffIgnored(){return new n(14,16,'M13 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 13H1V2h12v12zm-8.5-2H3v-1.5L9.5 4H11v1.5L4.5 12z')}static get diffModified(){return new n(14,16,'M13 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z')}static get diffRemoved(){return new n(14,16,'M13 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zm0 13H1V2h12v12zm-2-5H3V7h8v2z')}static get diffRenamed(){return new n(14,16,'M6 9H3V7h3V4l5 4-5 4V9zm8-7v12c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h12c.55 0 1 .45 1 1zm-1 0H1v12h12V2z')}static get ellipsis(){return new n(12,16,'M11 5H1c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM4 9H2V7h2v2zm3 0H5V7h2v2zm3 0H8V7h2v2z')}static get eye(){return new n(16,16,'M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z')}static get eyeClosed(){return new n(16,13,'M14.822.854a.5.5 0 1 0-.707-.708l-2.11 2.11C10.89 1.483 9.565.926 8.06.926c-5.06 0-8.06 6-8.06 6s1.162 2.323 3.258 4.078l-2.064 2.065a.5.5 0 1 0 .707.707L14.822.854zM4.86 9.403L6.292 7.97A1.999 1.999 0 0 1 6 6.925c0-1.11.89-2 2-2 .384 0 .741.106 1.045.292l1.433-1.433A3.98 3.98 0 0 0 8 2.925c-2.2 0-4 1.8-4 4 0 .938.321 1.798.859 2.478zm7.005-3.514l1.993-1.992A14.873 14.873 0 0 1 16 6.925s-3 6-7.94 6a6.609 6.609 0 0 1-2.661-.57l1.565-1.566c.33.089.678.136 1.036.136 2.22 0 4-1.78 4-4 0-.358-.047-.705-.136-1.036zM9.338 8.415l.152-.151a1.996 1.996 0 0 1-.152.151z')}static get file(){return new n(12,16,'M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z')}static get fileBinary(){return new n(12,16,'M4 12h1v1H2v-1h1v-2H2V9h2v3zm8-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5zM8 4H6v1h1v2H6v1h3V7H8V4zM2 4h3v4H2V4zm1 3h1V5H3v2zm3 2h3v4H6V9zm1 3h1v-2H7v2z')}static get fileCode(){return new n(12,16,'M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z')}static get fileDirectory(){return new n(14,16,'M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z')}static get fileMedia(){return new n(12,16,'M6 5h2v2H6V5zm6-.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v11l3-5 2 4 2-2 3 3V5z')}static get filePdf(){return new n(12,16,'M8.5 1H1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4.5L8.5 1zM1 2h4a.68.68 0 0 0-.31.2 1.08 1.08 0 0 0-.23.47 4.22 4.22 0 0 0-.09 1.47c.06.609.173 1.211.34 1.8A21.78 21.78 0 0 1 3.6 8.6c-.5 1-.8 1.66-.91 1.84a7.156 7.156 0 0 0-.69.3c-.362.165-.699.38-1 .64V2zm4.42 4.8a5.65 5.65 0 0 0 1.17 2.09c.275.237.595.417.94.53-.64.09-1.23.2-1.81.33-.618.15-1.223.347-1.81.59s.22-.44.61-1.25c.365-.74.67-1.51.91-2.3l-.01.01zM11 14H1.5a.743.743 0 0 1-.17 0 2.12 2.12 0 0 0 .73-.44 10.14 10.14 0 0 0 1.78-2.38c.31-.13.58-.23.81-.31l.42-.14c.45-.13.94-.23 1.44-.33s1-.16 1.48-.2c.447.216.912.394 1.39.53.403.11.814.188 1.23.23h.38V14H11zm0-4.86a3.743 3.743 0 0 0-.64-.28 4.221 4.221 0 0 0-.75-.11c-.411.003-.822.03-1.23.08a3 3 0 0 1-1-.64 6.07 6.07 0 0 1-1.29-2.33c.111-.661.178-1.33.2-2 .02-.25.02-.5 0-.75a1.05 1.05 0 0 0-.2-.88.82.82 0 0 0-.61-.23H8l3 3v4.14z')}static get fileSubmodule(){return new n(14,16,'M10 7H4v7h9c.55 0 1-.45 1-1V8h-4V7zM9 9H5V8h4v1zm4-5H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h2V7c0-.55.45-1 1-1h6c.55 0 1 .45 1 1h3V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z')}static get fileSymlinkDirectory(){return new n(14,16,'M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM1 3h5v1H1V3zm6 9v-2c-.98-.02-1.84.22-2.55.7-.71.48-1.19 1.25-1.45 2.3.02-1.64.39-2.88 1.13-3.73C4.86 8.43 5.82 8 7.01 8V6l4 3-4 3H7z')}static get fileSymlinkFile(){return new n(12,16,'M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM6 4.5l4 3-4 3v-2c-.98-.02-1.84.22-2.55.7-.71.48-1.19 1.25-1.45 2.3.02-1.64.39-2.88 1.13-3.73.73-.84 1.69-1.27 2.88-1.27v-2H6z')}static get fileZip(){return new n(12,16,'M8.5 1H1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4.5L8.5 1zM11 14H1V2h3v1h1V2h3l3 3v9zM5 4V3h1v1H5zM4 4h1v1H4V4zm1 2V5h1v1H5zM4 6h1v1H4V6zm1 2V7h1v1H5zM4 9.28A2 2 0 0 0 3 11v1h4v-1a2 2 0 0 0-2-2V8H4v1.28zM6 10v1H4v-1h2z')}static get flame(){return new n(12,16,'M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z')}static get fold(){return new n(14,16,'M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z')}static get foldDown(){return new n(14,16,'M4 11l3 3 3-3H8V5H6v6H4zm-4 0c0 .55.45 1 1 1h2.5l-1-1h-1l2-2H5V8H3.5l-2-2H5V5H1c-.55 0-1 .45-1 1l2.5 2.5L0 11zm10.5-2H9V8h1.5l2-2H9V5h4c.55 0 1 .45 1 1l-2.5 2.5L14 11c0 .55-.45 1-1 1h-2.5l1-1h1l-2-2z')}static get foldUp(){return new n(14,16,'M10 6L7 3 4 6h2v6h2V6h2zm4 0c0-.55-.45-1-1-1h-2.5l1 1h1l-2 2H9v1h1.5l2 2H9v1h4c.55 0 1-.45 1-1l-2.5-2.5L14 6zM3.5 8H5v1H3.5l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 6c0-.55.45-1 1-1h2.5l-1 1h-1l2 2z')}static get gear(){return new n(14,16,'M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z')}static get gift(){return new n(14,16,'M13 4h-1.38c.19-.33.33-.67.36-.91.06-.67-.11-1.22-.52-1.61C11.1 1.1 10.65 1 10.1 1h-.11c-.53.02-1.11.25-1.53.58-.42.33-.73.72-.97 1.2-.23-.48-.55-.88-.97-1.2-.42-.32-1-.58-1.53-.58h-.03c-.56 0-1.06.09-1.44.48-.41.39-.58.94-.52 1.61.03.23.17.58.36.91H1.98c-.55 0-1 .45-1 1v3h1v5c0 .55.45 1 1 1h9c.55 0 1-.45 1-1V8h1V5c0-.55-.45-1-1-1H13zm-4.78-.88c.17-.36.42-.67.75-.92.3-.23.72-.39 1.05-.41h.09c.45 0 .66.11.8.25s.33.39.3.95c-.05.19-.25.61-.5 1h-2.9l.41-.88v.01zM4.09 2.04c.13-.13.31-.25.91-.25.31 0 .72.17 1.03.41.33.25.58.55.75.92L7.2 4H4.3c-.25-.39-.45-.81-.5-1-.03-.56.16-.81.3-.95l-.01-.01zM7 12.99H3V8h4v5-.01zm0-6H2V5h5v2-.01zm5 6H8V8h4v5-.01zm1-6H8V5h5v2-.01z')}static get gist(){return new n(12,16,'M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z')}static get gistSecret(){return new n(14,16,'M8 10.5L9 14H5l1-3.5L5.25 9h3.5L8 10.5zM10 6H4L2 7h10l-2-1zM9 2L7 3 5 2 4 5h6L9 2zm4.03 7.75L10 9l1 2-2 3h3.22c.45 0 .86-.31.97-.75l.56-2.28c.14-.53-.19-1.08-.72-1.22zM4 9l-3.03.75c-.53.14-.86.69-.72 1.22l.56 2.28c.11.44.52.75.97.75H5l-2-3 1-2z')}static get gitBranch(){return new n(10,16,'M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z')}static get gitCommit(){return new n(14,16,'M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z')}static get gitCompare(){return new n(14,16,'M5 12H4c-.27-.02-.48-.11-.69-.31-.21-.2-.3-.42-.31-.69V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V11c.03.78.34 1.47.94 2.06.6.59 1.28.91 2.06.94h1v2l3-3-3-3v2zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm11 9.48V5c-.03-.78-.34-1.47-.94-2.06-.6-.59-1.28-.91-2.06-.94H9V0L6 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 12 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z')}static get gitMerge(){return new n(12,16,'M10 7c-.73 0-1.38.41-1.73 1.02V8C7.22 7.98 6 7.64 5.14 6.98c-.75-.58-1.5-1.61-1.89-2.44A1.993 1.993 0 0 0 2 .99C.89.99 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2a1.993 1.993 0 0 0 1-3.72V7.67c.67.7 1.44 1.27 2.3 1.69.86.42 2.03.63 2.97.64v-.02c.36.61 1 1.02 1.73 1.02 1.11 0 2-.89 2-2 0-1.11-.89-2-2-2zm-6.8 6c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm8 6c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z')}static get gitPullRequest(){return new n(12,16,'M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z')}static get githubAction(){return new n(16,16,'M9 2h6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1H9a1 1 0 1 1-2 0H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h6a1 1 0 1 1 2 0zm6 1v10H1V3h14zm-2.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z')}static get globe(){return new n(14,16,'M7 1C3.14 1 0 4.14 0 8s3.14 7 7 7c.48 0 .94-.05 1.38-.14-.17-.08-.2-.73-.02-1.09.19-.41.81-1.45.2-1.8-.61-.35-.44-.5-.81-.91-.37-.41-.22-.47-.25-.58-.08-.34.36-.89.39-.94.02-.06.02-.27 0-.33 0-.08-.27-.22-.34-.23-.06 0-.11.11-.2.13-.09.02-.5-.25-.59-.33-.09-.08-.14-.23-.27-.34-.13-.13-.14-.03-.33-.11s-.8-.31-1.28-.48c-.48-.19-.52-.47-.52-.66-.02-.2-.3-.47-.42-.67-.14-.2-.16-.47-.2-.41-.04.06.25.78.2.81-.05.02-.16-.2-.3-.38-.14-.19.14-.09-.3-.95s.14-1.3.17-1.75c.03-.45.38.17.19-.13-.19-.3 0-.89-.14-1.11-.13-.22-.88.25-.88.25.02-.22.69-.58 1.16-.92.47-.34.78-.06 1.16.05.39.13.41.09.28-.05-.13-.13.06-.17.36-.13.28.05.38.41.83.36.47-.03.05.09.11.22s-.06.11-.38.3c-.3.2.02.22.55.61s.38-.25.31-.55c-.07-.3.39-.06.39-.06.33.22.27.02.5.08.23.06.91.64.91.64-.83.44-.31.48-.17.59.14.11-.28.3-.28.3-.17-.17-.19.02-.3.08-.11.06-.02.22-.02.22-.56.09-.44.69-.42.83 0 .14-.38.36-.47.58-.09.2.25.64.06.66-.19.03-.34-.66-1.31-.41-.3.08-.94.41-.59 1.08.36.69.92-.19 1.11-.09.19.1-.06.53-.02.55.04.02.53.02.56.61.03.59.77.53.92.55.17 0 .7-.44.77-.45.06-.03.38-.28 1.03.09.66.36.98.31 1.2.47.22.16.08.47.28.58.2.11 1.06-.03 1.28.31.22.34-.88 2.09-1.22 2.28-.34.19-.48.64-.84.92s-.81.64-1.27.91c-.41.23-.47.66-.66.8 3.14-.7 5.48-3.5 5.48-6.84 0-3.86-3.14-7-7-7L7 1zm1.64 6.56c-.09.03-.28.22-.78-.08-.48-.3-.81-.23-.86-.28 0 0-.05-.11.17-.14.44-.05.98.41 1.11.41.13 0 .19-.13.41-.05.22.08.05.13-.05.14zM6.34 1.7c-.05-.03.03-.08.09-.14.03-.03.02-.11.05-.14.11-.11.61-.25.52.03-.11.27-.58.3-.66.25zm1.23.89c-.19-.02-.58-.05-.52-.14.3-.28-.09-.38-.34-.38-.25-.02-.34-.16-.22-.19.12-.03.61.02.7.08.08.06.52.25.55.38.02.13 0 .25-.17.25zm1.47-.05c-.14.09-.83-.41-.95-.52-.56-.48-.89-.31-1-.41-.11-.1-.08-.19.11-.34.19-.15.69.06 1 .09.3.03.66.27.66.55.02.25.33.5.19.63h-.01z')}static get grabber(){return new n(8,16,'M8 4v1H0V4h8zM0 8h8V7H0v1zm0 3h8v-1H0v1z')}static get graph(){return new n(16,16,'M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z')}static get heart(){return new n(12,16,'M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z')}static get history(){return new n(14,16,'M8 13H6V6h5v2H8v5zM7 1C4.81 1 2.87 2.02 1.59 3.59L0 2v4h4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7s7-3.14 7-7-3.14-7-7-7z')}static get home(){return new n(16,16,'M16 9l-3-3V2h-2v2L8 1 0 9h2l1 5c0 .55.45 1 1 1h8c.55 0 1-.45 1-1l1-5h2zm-4 5H9v-4H7v4H4L2.81 7.69 8 2.5l5.19 5.19L12 14z')}static get horizontalRule(){return new n(10,16,'M1 7h2v2h1V3H3v3H1V3H0v6h1V7zm9 2V7H9v2h1zm0-3V4H9v2h1zM7 6V4h2V3H6v6h1V7h2V6H7zm-7 7h10v-2H0v2z')}static get hubot(){return new n(14,16,'M3 6c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h8c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1H3zm8 1.75L9.75 9h-1.5L7 7.75 5.75 9h-1.5L3 7.75V7h.75L5 8.25 6.25 7h1.5L9 8.25 10.25 7H11v.75zM5 11h4v1H5v-1zm2-9C3.14 2 0 4.91 0 8.5V13c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V8.5C14 4.91 10.86 2 7 2zm6 11H1V8.5c0-3.09 2.64-5.59 6-5.59s6 2.5 6 5.59V13z')}static get inbox(){return new n(14,16,'M14 9l-1.13-7.14c-.08-.48-.5-.86-1-.86H2.13c-.5 0-.92.38-1 .86L0 9v5c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V9zm-3.28.55l-.44.89c-.17.34-.52.56-.91.56H4.61c-.38 0-.72-.22-.89-.55l-.44-.91c-.17-.33-.52-.55-.89-.55H1l1-7h10l1 7h-1.38c-.39 0-.73.22-.91.55l.01.01z')}static get info(){return new n(14,16,'M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z')}static get issueClosed(){return new n(16,16,'M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z')}static get issueOpened(){return new n(14,16,'M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z')}static get issueReopened(){return new n(14,16,'M8 9H6V4h2v5zm-2 3h2v-2H6v2zm6.33-2H10l1.5 1.5c-1.05 1.33-2.67 2.2-4.5 2.2A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7 2.19 0 4.13-1.02 5.41-2.59L14 14v-4h-1.67zM1.67 6H4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7 0 .34-.03.67-.09 1h1.31c.05-.33.08-.66.08-1 0-3.86-3.14-7-7-7-2.19 0-4.13 1.02-5.41 2.59L0 2v4h1.67z')}static get italic(){return new n(6,16,'M2.81 5h1.98L3 14H1l1.81-9zm.36-2.7c0-.7.58-1.3 1.33-1.3.56 0 1.13.38 1.13 1.03 0 .75-.59 1.3-1.33 1.3-.58 0-1.13-.38-1.13-1.03z')}static get jersey(){return new n(14,16,'M4.5 6l-.5.5v5l.5.5h2l.5-.5v-5L6.5 6h-2zM6 11H5V7h1v4zm6.27-7.25C12.05 2.37 11.96 1.12 12 0H9.02c0 .27-.13.48-.39.69-.25.2-.63.3-1.13.3-.5 0-.88-.09-1.13-.3-.23-.2-.36-.42-.36-.69H3c.05 1.13-.03 2.38-.25 3.75C2.55 5.13 1.95 5.88 1 6v9c.02.27.11.48.31.69.2.21.42.3.69.31h11c.27-.02.48-.11.69-.31.21-.2.3-.42.31-.69V6c-.95-.13-1.53-.88-1.75-2.25h.02zM13 15H2V7c.89-.5 1.48-1.25 1.72-2.25S4.03 2.5 4 1h1c-.02.78.16 1.47.52 2.06.36.58 1.02.89 2 .94.98-.02 1.64-.33 2-.94.36-.59.5-1.28.48-2.06h1c.02 1.42.13 2.55.33 3.38.2.81.69 2 1.67 2.63v8V15zM8.5 6l-.5.5v5l.5.5h2l.5-.5v-5l-.5-.5h-2zm1.5 5H9V7h1v4z')}static get kebabHorizontal(){return new n(13,16,'M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z')}static get kebabVertical(){return new n(3,16,'M0 2.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zm0 5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0zM1.5 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z')}static get key(){return new n(14,16,'M12.83 2.17C12.08 1.42 11.14 1.03 10 1c-1.13.03-2.08.42-2.83 1.17S6.04 3.86 6.01 5c0 .3.03.59.09.89L0 12v1l1 1h2l1-1v-1h1v-1h1v-1h2l1.09-1.11c.3.08.59.11.91.11 1.14-.03 2.08-.42 2.83-1.17S13.97 6.14 14 5c-.03-1.14-.42-2.08-1.17-2.83zM11 5.38c-.77 0-1.38-.61-1.38-1.38 0-.77.61-1.38 1.38-1.38.77 0 1.38.61 1.38 1.38 0 .77-.61 1.38-1.38 1.38z')}static get keyboard(){return new n(16,16,'M10 5H9V4h1v1zM3 6H2v1h1V6zm5-2H7v1h1V4zM4 4H2v1h2V4zm8 7h2v-1h-2v1zM8 7h1V6H8v1zm-4 3H2v1h2v-1zm8-6h-1v1h1V4zm2 0h-1v1h1V4zm-2 5h2V6h-2v3zm4-6v9c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h14c.55 0 1 .45 1 1zm-1 0H1v9h14V3zM6 7h1V6H6v1zm0-3H5v1h1V4zM4 7h1V6H4v1zm1 4h6v-1H5v1zm5-4h1V6h-1v1zM3 8H2v1h1V8zm5 0v1h1V8H8zM6 8v1h1V8H6zM5 8H4v1h1V8zm5 1h1V8h-1v1z')}static get law(){return new n(14,16,'M7 4c-.83 0-1.5-.67-1.5-1.5S6.17 1 7 1s1.5.67 1.5 1.5S7.83 4 7 4zm7 6c0 1.11-.89 2-2 2h-1c-1.11 0-2-.89-2-2l2-4h-1c-.55 0-1-.45-1-1H8v8c.42 0 1 .45 1 1h1c.42 0 1 .45 1 1H3c0-.55.58-1 1-1h1c0-.55.58-1 1-1h.03L6 5H5c0 .55-.45 1-1 1H3l2 4c0 1.11-.89 2-2 2H2c-1.11 0-2-.89-2-2l2-4H1V5h3c0-.55.45-1 1-1h4c.55 0 1 .45 1 1h3v1h-1l2 4zM2.5 7L1 10h3L2.5 7zM13 10l-1.5-3-1.5 3h3z')}static get lightBulb(){return new n(12,16,'M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z')}static get link(){return new n(16,16,'M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z')}static get linkExternal(){return new n(12,16,'M11 10h1v3c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h3v1H1v10h10v-3zM6 2l2.25 2.25L5 7.5 6.5 9l3.25-3.25L12 8V2H6z')}static get listOrdered(){return new n(12,16,'M12.01 13c0 .59 0 1-.59 1H4.6c-.59 0-.59-.41-.59-1 0-.59 0-1 .59-1h6.81c.59 0 .59.41.59 1h.01zM4.6 4h6.81C12 4 12 3.59 12 3c0-.59 0-1-.59-1H4.6c-.59 0-.59.41-.59 1 0 .59 0 1 .59 1zm6.81 3H4.6c-.59 0-.59.41-.59 1 0 .59 0 1 .59 1h6.81C12 9 12 8.59 12 8c0-.59 0-1-.59-1zm-9.4-6h-.72c-.3.19-.58.25-1.03.34V2h.75v2.14H.17V5h2.84v-.86h-1V1zm.392 8.12c-.129 0-.592.04-.802.07.53-.56 1.14-1.25 1.14-1.89C2.72 6.52 2.18 6 1.38 6c-.59 0-.97.2-1.38.64l.58.58c.19-.19.38-.38.64-.38.28 0 .48.16.48.52 0 .53-.77 1.2-1.7 2.06V10h3v-.88h-.598zm-.222 3.79v-.03c.44-.19.64-.47.64-.86 0-.7-.56-1.11-1.44-1.11-.48 0-.89.19-1.28.52l.55.64c.25-.2.44-.31.69-.31.27 0 .42.13.42.36 0 .27-.2.44-.86.44v.75c.83 0 .98.17.98.47 0 .25-.23.38-.58.38-.28 0-.56-.14-.81-.38l-.48.66c.3.36.77.56 1.41.56.83 0 1.53-.41 1.53-1.16 0-.5-.31-.81-.77-.94v.01z')}static get listUnordered(){return new n(12,16,'M2 13c0 .59 0 1-.59 1H.59C0 14 0 13.59 0 13c0-.59 0-1 .59-1h.81c.59 0 .59.41.59 1H2zm2.59-9h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zM1.41 7H.59C0 7 0 7.41 0 8c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0-5H.59C0 2 0 2.41 0 3c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm10 5H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0 5H4.59C4 12 4 12.41 4 13c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01z')}static get location(){return new n(12,16,'M6 0C2.69 0 0 2.5 0 5.5 0 10.02 6 16 6 16s6-5.98 6-10.5C12 2.5 9.31 0 6 0zm0 14.55C4.14 12.52 1 8.44 1 5.5 1 3.02 3.25 1 6 1c1.34 0 2.61.48 3.56 1.36.92.86 1.44 1.97 1.44 3.14 0 2.94-3.14 7.02-5 9.05zM8 5.5c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z')}static get lock(){return new n(12,16,'M4 13H3v-1h1v1zm8-6v7c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h1V4c0-2.2 1.8-4 4-4s4 1.8 4 4v2h1c.55 0 1 .45 1 1zM3.8 6h4.41V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v2H3.8zM11 7H2v7h9V7zM4 8H3v1h1V8zm0 2H3v1h1v-1z')}static get logoGist(){return new n(25,16,'M4.7 8.73h2.45v4.02c-.55.27-1.64.34-2.53.34-2.56 0-3.47-2.2-3.47-5.05 0-2.85.91-5.06 3.48-5.06 1.28 0 2.06.23 3.28.73V2.66C7.27 2.33 6.25 2 4.63 2 1.13 2 0 4.69 0 8.03c0 3.34 1.11 6.03 4.63 6.03 1.64 0 2.81-.27 3.59-.64V7.73H4.7v1zm6.39 3.72V6.06h-1.05v6.28c0 1.25.58 1.72 1.72 1.72v-.89c-.48 0-.67-.16-.67-.7v-.02zm.25-8.72c0-.44-.33-.78-.78-.78s-.77.34-.77.78.33.78.77.78.78-.34.78-.78zm4.34 5.69c-1.5-.13-1.78-.48-1.78-1.17 0-.77.33-1.34 1.88-1.34 1.05 0 1.66.16 2.27.36v-.94c-.69-.3-1.52-.39-2.25-.39-2.2 0-2.92 1.2-2.92 2.31 0 1.08.47 1.88 2.73 2.08 1.55.13 1.77.63 1.77 1.34 0 .73-.44 1.42-2.06 1.42-1.11 0-1.86-.19-2.33-.36v.94c.5.2 1.58.39 2.33.39 2.38 0 3.14-1.2 3.14-2.41 0-1.28-.53-2.03-2.75-2.23h-.03zm8.58-2.47v-.86h-2.42v-2.5l-1.08.31v2.11l-1.56.44v.48h1.56v5c0 1.53 1.19 2.13 2.5 2.13.19 0 .52-.02.69-.05v-.89c-.19.03-.41.03-.61.03-.97 0-1.5-.39-1.5-1.34V6.94h2.42v.02-.01z')}static get logoGithub(){return new n(45,16,'M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 0 0-.146-.18zM42.23 9.84c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61h-2.1c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z')}static get mail(){return new n(14,16,'M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z')}static get mailRead(){return new n(14,16,'M6 5H4V4h2v1zm3 1H4v1h5V6zm5-.48V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V5.52c0-.33.16-.63.42-.81L2 3.58V3c0-.55.45-1 1-1h1.2L7 0l2.8 2H11c.55 0 1 .45 1 1v.58l1.58 1.13c.27.19.42.48.42.81zM3 7.5L7 10l4-2.5V3H3v4.5zm-2 6l4.5-3-4.5-3v6zm11 .5l-5-3-5 3h10zm1-6.5l-4.5 3 4.5 3v-6z')}static get markGithub(){return new n(16,16,'M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z')}static get markdown(){return new n(16,16,'M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z')}static get megaphone(){return new n(16,16,'M10 1c-.17 0-.36.05-.52.14C8.04 2.02 4.5 4.58 3 5c-1.38 0-3 .67-3 2.5S1.63 10 3 10c.3.08.64.23 1 .41V15h2v-3.45c1.34.86 2.69 1.83 3.48 2.31.16.09.34.14.52.14.52 0 1-.42 1-1V2c0-.58-.48-1-1-1zm0 12c-.38-.23-.89-.58-1.5-1-.16-.11-.33-.22-.5-.34V3.31c.16-.11.31-.2.47-.31.61-.41 1.16-.77 1.53-1v11zm2-6h4v1h-4V7zm0 2l4 2v1l-4-2V9zm4-6v1l-4 2V5l4-2z')}static get mention(){return new n(14,16,'M6.58 15c1.25 0 2.52-.31 3.56-.94l-.42-.94c-.84.52-1.89.83-3.03.83-3.23 0-5.64-2.08-5.64-5.72 0-4.37 3.23-7.18 6.58-7.18 3.45 0 5.22 2.19 5.22 5.2 0 2.39-1.34 3.86-2.5 3.86-1.05 0-1.36-.73-1.05-2.19l.73-3.75H8.98l-.11.72c-.41-.63-.94-.83-1.56-.83-2.19 0-3.66 2.39-3.66 4.38 0 1.67.94 2.61 2.3 2.61.84 0 1.67-.53 2.3-1.25.11.94.94 1.45 1.98 1.45 1.67 0 3.77-1.67 3.77-5C14 2.61 11.59 0 7.83 0 3.66 0 0 3.33 0 8.33 0 12.71 2.92 15 6.58 15zm-.31-5c-.73 0-1.36-.52-1.36-1.67 0-1.45.94-3.22 2.41-3.22.52 0 .84.2 1.25.83l-.52 3.02c-.63.73-1.25 1.05-1.78 1.05V10z')}static get milestone(){return new n(14,16,'M8 2H6V0h2v2zm4 5H2c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h10l2 2-2 2zM8 4H6v2h2V4zM6 16h2V8H6v8z')}static get mirror(){return new n(16,16,'M15.5 4.7L8.5 0l-7 4.7c-.3.19-.5.45-.5.8V16l7.5-4 7.5 4V5.5c0-.34-.2-.61-.5-.8zm-.5 9.8l-6-3.25V10H8v1.25L2 14.5v-9l6-4V6h1V1.5l6 4v9zM6 7h5V5l3 3-3 3V9H6v2L3 8l3-3v2z')}static get mortarBoard(){return new n(16,16,'M8.11 2.8a.34.34 0 0 0-.2 0L.27 5.18a.35.35 0 0 0 0 .67L2 6.4v1.77c-.3.17-.5.5-.5.86 0 .19.05.36.14.5-.08.14-.14.31-.14.5v2.58c0 .55 2 .55 2 0v-2.58c0-.19-.05-.36-.14-.5.08-.14.14-.31.14-.5 0-.38-.2-.69-.5-.86V6.72l4.89 1.53c.06.02.14.02.2 0l7.64-2.38a.35.35 0 0 0 0-.67L8.1 2.81l.01-.01zM4 8l3.83 1.19h-.02c.13.03.25.03.36 0L12 8v2.5c0 1-1.8 1.5-4 1.5s-4-.5-4-1.5V8zm3.02-2.5c0 .28.45.5 1 .5s1-.22 1-.5-.45-.5-1-.5-1 .22-1 .5z')}static get mute(){return new n(16,16,'M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z')}static get noNewline(){return new n(16,16,'M16 5v3c0 .55-.45 1-1 1h-3v2L9 8l3-3v2h2V5h2zM8 8c0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4 4 1.8 4 4zM1.5 9.66L5.66 5.5C5.18 5.19 4.61 5 4 5 2.34 5 1 6.34 1 8c0 .61.19 1.17.5 1.66zM7 8c0-.61-.19-1.17-.5-1.66L2.34 10.5c.48.31 1.05.5 1.66.5 1.66 0 3-1.34 3-3z')}static get note(){return new n(14,16,'M3 10h4V9H3v1zm0-2h6V7H3v1zm0-2h8V5H3v1zm10 6H1V3h12v9zM1 2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1H1z')}static get octoface(){return new n(16,16,'M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z')}static get organization(){return new n(16,16,'M16 12.999c0 .439-.45 1-1 1H7.995c-.539 0-.994-.447-.995-.999H1c-.54 0-1-.561-1-1 0-2.634 3-4 3-4s.229-.409 0-1c-.841-.621-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.442.58 2.5 3c.058 2.41-.159 2.379-1 3-.229.59 0 1 0 1s1.549.711 2.42 2.088C9.196 9.369 10 8.999 10 8.999s.229-.409 0-1c-.841-.62-1.058-.59-1-3 .058-2.419 1.367-3 2.5-3s2.437.581 2.495 3c.059 2.41-.158 2.38-1 3-.229.59 0 1 0 1s3.005 1.366 3.005 4z')}static get package(){return new n(16,16,'M1 4.27v7.47c0 .45.3.84.75.97l6.5 1.73c.16.05.34.05.5 0l6.5-1.73c.45-.13.75-.52.75-.97V4.27c0-.45-.3-.84-.75-.97l-6.5-1.74a1.4 1.4 0 0 0-.5 0L1.75 3.3c-.45.13-.75.52-.75.97zm7 9.09l-6-1.59V5l6 1.61v6.75zM2 4l2.5-.67L11 5.06l-2.5.67L2 4zm13 7.77l-6 1.59V6.61l2-.55V8.5l2-.53V5.53L15 5v6.77zm-2-7.24L6.5 2.8l2-.53L15 4l-2 .53z')}static get paintcan(){return new n(12,16,'M6 0C2.69 0 0 2.69 0 6v1c0 .55.45 1 1 1v5c0 1.1 2.24 2 5 2s5-.9 5-2V8c.55 0 1-.45 1-1V6c0-3.31-2.69-6-6-6zm3 10v.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5V10c0-.28-.22-.5-.5-.5s-.5.22-.5.5v2.5c0 .28-.22.5-.5.5s-.5-.22-.5-.5v-2c0-.28-.22-.5-.5-.5s-.5.22-.5.5v.5c0 .55-.45 1-1 1s-1-.45-1-1v-1c-.55 0-1-.45-1-1V7.2c.91.49 2.36.8 4 .8 1.64 0 3.09-.31 4-.8V9c0 .55-.45 1-1 1zM6 7c-1.68 0-3.12-.41-3.71-1C2.88 5.41 4.32 5 6 5c1.68 0 3.12.41 3.71 1-.59.59-2.03 1-3.71 1zm0-3c-2.76 0-5 .89-5 2 0-2.76 2.24-5 5-5s5 2.24 5 5c0-1.1-2.24-2-5-2z')}static get pencil(){return new n(14,16,'M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z')}static get person(){return new n(12,16,'M12 14.002a.998.998 0 0 1-.998.998H1.001A1 1 0 0 1 0 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z')}static get pin(){return new n(16,16,'M10 1.2V2l.5 1L6 6H2.2c-.44 0-.67.53-.34.86L5 10l-4 5 5-4 3.14 3.14a.5.5 0 0 0 .86-.34V10l3-4.5 1 .5h.8c.44 0 .67-.53.34-.86L10.86.86a.5.5 0 0 0-.86.34z')}static get play(){return new n(14,16,'M14 8A7 7 0 1 1 0 8a7 7 0 0 1 14 0zm-8.223 3.482l4.599-3.066a.5.5 0 0 0 0-.832L5.777 4.518A.5.5 0 0 0 5 4.934v6.132a.5.5 0 0 0 .777.416z')}static get plug(){return new n(14,16,'M14 6V5h-4V3H8v1H6c-1.03 0-1.77.81-2 2L3 7c-1.66 0-3 1.34-3 3v2h1v-2c0-1.11.89-2 2-2l1 1c.25 1.16.98 2 2 2h2v1h2v-2h4V9h-4V6h4z')}static get plus(){return new n(12,16,'M12 9H7v5H5V9H0V7h5V2h2v5h5v2z')}static get plusSmall(){return new n(7,16,'M4 4H3v3H0v1h3v3h1V8h3V7H4V4z')}static get primitiveDot(){return new n(8,16,'M0 8c0-2.2 1.8-4 4-4s4 1.8 4 4-1.8 4-4 4-4-1.8-4-4z')}static get primitiveSquare(){return new n(8,16,'M8 12H0V4h8v8z')}static get project(){return new n(15,16,'M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z')}static get pulse(){return new n(14,16,'M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0v2h3.6l.9-1.8.9 5.4L9 8.5l1.6 1.5H14V8h-2.5z')}static get question(){return new n(14,16,'M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z')}static get quote(){return new n(14,16,'M6.16 3.5C3.73 5.06 2.55 6.67 2.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L6.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z')}static get radioTower(){return new n(16,16,'M4.79 6.11c.25-.25.25-.67 0-.92-.32-.33-.48-.76-.48-1.19 0-.43.16-.86.48-1.19.25-.26.25-.67 0-.92a.613.613 0 0 0-.45-.19c-.16 0-.33.06-.45.19-.57.58-.85 1.35-.85 2.11 0 .76.29 1.53.85 2.11.25.25.66.25.9 0zM2.33.52a.651.651 0 0 0-.92 0C.48 1.48.01 2.74.01 3.99c0 1.26.47 2.52 1.4 3.48.25.26.66.26.91 0s.25-.68 0-.94c-.68-.7-1.02-1.62-1.02-2.54 0-.92.34-1.84 1.02-2.54a.66.66 0 0 0 .01-.93zm5.69 5.1A1.62 1.62 0 1 0 6.4 4c-.01.89.72 1.62 1.62 1.62zM14.59.53a.628.628 0 0 0-.91 0c-.25.26-.25.68 0 .94.68.7 1.02 1.62 1.02 2.54 0 .92-.34 1.83-1.02 2.54-.25.26-.25.68 0 .94a.651.651 0 0 0 .92 0c.93-.96 1.4-2.22 1.4-3.48A5.048 5.048 0 0 0 14.59.53zM8.02 6.92c-.41 0-.83-.1-1.2-.3l-3.15 8.37h1.49l.86-1h4l.84 1h1.49L9.21 6.62c-.38.2-.78.3-1.19.3zm-.01.48L9.02 11h-2l.99-3.6zm-1.99 5.59l1-1h2l1 1h-4zm5.19-11.1c-.25.25-.25.67 0 .92.32.33.48.76.48 1.19 0 .43-.16.86-.48 1.19-.25.26-.25.67 0 .92a.63.63 0 0 0 .9 0c.57-.58.85-1.35.85-2.11 0-.76-.28-1.53-.85-2.11a.634.634 0 0 0-.9 0z')}static get reply(){return new n(14,16,'M6 3.5c3.92.44 8 3.125 8 10-2.312-5.062-4.75-6-8-6V11L.5 5.5 6 0v3.5z')}static get repo(){return new n(12,16,'M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z')}static get repoClone(){return new n(16,16,'M15 0H9v7c0 .55.45 1 1 1h1v1h1V8h3c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1zm-4 7h-1V6h1v1zm4 0h-3V6h3v1zm0-2h-4V1h4v4zM4 5H3V4h1v1zm0-2H3V2h1v1zM2 1h6V0H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h2v2l1.5-1.5L6 16v-2h5c.55 0 1-.45 1-1v-3H2V1zm9 10v2H6v-1H3v1H1v-2h10zM3 8h1v1H3V8zm1-1H3V6h1v1z')}static get repoForcePush(){return new n(12,16,'M10 9H8v7H6V9H4l2.25-3H4l3-4 3 4H7.75L10 9zm1-9H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9v9H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z')}static get repoForked(){return new n(10,16,'M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z')}static get repoPull(){return new n(16,16,'M13 8V6H7V4h6V2l3 3-3 3zM4 2H3v1h1V2zm7 5h1v6c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v2h-1V1H2v9h9V7zm0 4H1v2h2v-1h3v1h5v-2zM4 6H3v1h1V6zm0-2H3v1h1V4zM3 9h1V8H3v1z')}static get repoPush(){return new n(12,16,'M4 3H3V2h1v1zM3 5h1V4H3v1zm4 0L4 9h2v7h2V9h2L7 5zm4-5H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h4v-1H1v-2h4v-1H2V1h9.02L11 10H9v1h2v2H9v1h2c.55 0 1-.45 1-1V1c0-.55-.45-1-1-1z')}static get repoTemplate(){return new n(14,16,'M12 8V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v12c0 .55.45 1 1 1h2v2l1.5-1.5L6 16v-4H3v1H1v-2h7v-1H2V1h9v7h1zM4 2H3v1h1V2zM3 4h1v1H3V4zm1 2H3v1h1V6zm0 3H3V8h1v1zm6 3H8v2h2v2h2v-2h2v-2h-2v-2h-2v2z')}static get repoTemplatePrivate(){return new n(14,16,'M12 6c0-.55-.45-1-1-1h-1V4c0-2.2-1.8-4-4-4S2 1.8 2 4v1H1c-.55 0-1 .45-1 1v7c0 .55.45 1 1 1h5v-1H2V6h9v2h1V6zM8.21 5V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v1h4.4zM12 12h2v2h-2v2h-2v-2H8v-2h2v-2h2v2zm-9 0h1v-1H3v1zm0-5h1v1H3V7zm1 2H3v1h1V9z')}static get report(){return new n(16,16,'M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H7l-4 4v-4H1a1 1 0 0 1-1-1V2zm1 0h14v9H6.5L4 13.5V11H1V2zm6 6h2v2H7V8zm0-5h2v4H7V3z')}static get requestChanges(){return new n(16,15,'M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7.5L4 15.5V12H1a1 1 0 0 1-1-1V1zm1 0v10h4v2l2-2h8V1H1zm7.5 3h2v1h-2v2h-1V5h-2V4h2V2h1v2zm2 5h-5V8h5v1z')}static get rocket(){return new n(16,16,'M12.17 3.83c-.27-.27-.47-.55-.63-.88-.16-.31-.27-.66-.34-1.02-.58.33-1.16.7-1.73 1.13-.58.44-1.14.94-1.69 1.48-.7.7-1.33 1.81-1.78 2.45H3L0 10h3l2-2c-.34.77-1.02 2.98-1 3l1 1c.02.02 2.23-.64 3-1l-2 2v3l3-3v-3c.64-.45 1.75-1.09 2.45-1.78.55-.55 1.05-1.13 1.47-1.7.44-.58.81-1.16 1.14-1.72-.36-.08-.7-.19-1.03-.34a3.39 3.39 0 0 1-.86-.63zM16 0s-.09.38-.3 1.06c-.2.7-.55 1.58-1.06 2.66-.7-.08-1.27-.33-1.66-.72-.39-.39-.63-.94-.7-1.64C13.36.84 14.23.48 14.92.28 15.62.08 16 0 16 0z')}static get rss(){return new n(10,16,'M2 13H0v-2c1.11 0 2 .89 2 2zM0 3v1a9 9 0 0 1 9 9h1C10 7.48 5.52 3 0 3zm0 4v1c2.75 0 5 2.25 5 5h1c0-3.31-2.69-6-6-6z')}static get ruby(){return new n(16,16,'M13 6l-5 5V4h3l2 2zm3 0l-8 8-8-8 4-4h8l4 4zm-8 6.5L14.5 6l-3-3h-7l-3 3L8 12.5z')}static get screenFull(){return new n(14,16,'M13 10h1v3c0 .547-.453 1-1 1h-3v-1h3v-3zM1 10H0v3c0 .547.453 1 1 1h3v-1H1v-3zm0-7h3V2H1c-.547 0-1 .453-1 1v3h1V3zm1 1h10v8H2V4zm2 6h6V6H4v4zm6-8v1h3v3h1V3c0-.547-.453-1-1-1h-3z')}static get screenNormal(){return new n(14,16,'M2 4H0V3h2V1h1v2c0 .547-.453 1-1 1zm0 8H0v1h2v2h1v-2c0-.547-.453-1-1-1zm9-2c0 .547-.453 1-1 1H4c-.547 0-1-.453-1-1V6c0-.547.453-1 1-1h6c.547 0 1 .453 1 1v4zM9 7H5v2h4V7zm2 6v2h1v-2h2v-1h-2c-.547 0-1 .453-1 1zm1-10V1h-1v2c0 .547.453 1 1 1h2V3h-2z')}static get search(){return new n(16,16,'M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z')}static get server(){return new n(12,16,'M11 6H1c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM2 9H1V7h1v2zm2 0H3V7h1v2zm2 0H5V7h1v2zm2 0H7V7h1v2zm3-8H1c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V2c0-.55-.45-1-1-1zM2 4H1V2h1v2zm2 0H3V2h1v2zm2 0H5V2h1v2zm2 0H7V2h1v2zm3-1h-1V2h1v1zm0 8H1c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h10c.55 0 1-.45 1-1v-2c0-.55-.45-1-1-1zm-9 3H1v-2h1v2zm2 0H3v-2h1v2zm2 0H5v-2h1v2zm2 0H7v-2h1v2z')}static get settings(){return new n(16,16,'M4 7H3V2h1v5zm-1 7h1v-3H3v3zm5 0h1V8H8v6zm5 0h1v-2h-1v2zm1-12h-1v6h1V2zM9 2H8v2h1V2zM5 8H2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5-3H7c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1zm5 4h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z')}static get shield(){return new n(14,16,'M0 2l7-2 7 2v6.02C14 12.69 8.69 16 7 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L7 1l6 1.75v5.268C13 12.104 8.449 15 7 15c-1.449 0-6-2.896-6-6.982V2.75zm1 .75L7 2v12c-1.207 0-5-2.482-5-5.985V3.5z')}static get shieldCheck(){return new n(16,16,'M6.5 0L0 1.875v5.644C0 11.897 4.93 15 6.5 15c.741 0 2.232-.692 3.6-1.884l-.713-.61C8.275 13.453 7.099 14 6.5 14 5.172 14 1 11.31 1 7.516V2.625L6.5 1 12 2.625v4.891c0 .128-.005.255-.014.38L13 6.713V1.875L6.5 0zm5 10l-2-1.5L8 10l3.5 3L16 8l-1.5-1.5-3 3.5zM2 3.375L6.5 2v11C5.414 13 2 10.724 2 7.514V3.375z')}static get shieldLock(){return new n(14,16,'M7 0L0 2v6.02C0 12.69 5.31 16 7 16c1.69 0 7-3.31 7-7.98V2L7 0zM5 11l1.14-2.8a.568.568 0 0 0-.25-.59C5.33 7.25 5 6.66 5 6c0-1.09.89-2 1.98-2C8.06 4 9 4.91 9 6c0 .66-.33 1.25-.89 1.61-.19.13-.3.36-.25.59L9 11H5z')}static get shieldX(){return new n(16,16,'M6.5 0L0 1.875v5.644C0 11.897 4.93 15 6.5 15c.63 0 1.8-.5 2.976-1.38l-.663-.663C7.889 13.625 6.996 14 6.5 14 5.172 14 1 11.31 1 7.516V2.625L6.5 1 12 2.625v4.23l.48.48.52-.52v-4.94L6.5 0zm5.98 8.75L10.73 7 9.25 8.48 11 10.23l-1.75 1.75 1.48 1.48 1.75-1.75 1.75 1.75 1.48-1.48-1.75-1.75 1.75-1.75L14.23 7l-1.75 1.75zM2 3.375L6.5 2v11C5.414 13 2 10.724 2 7.514V3.375z')}static get signIn(){return new n(14,16,'M7 6.75V12h4V8h1v4c0 .55-.45 1-1 1H7v3l-5.45-2.72c-.33-.17-.55-.52-.55-.91V1c0-.55.45-1 1-1h9c.55 0 1 .45 1 1v3h-1V1H3l4 2v2.25L10 3v2h4v2h-4v2L7 6.75z')}static get signOut(){return new n(16,16,'M12 9V7H8V5h4V3l4 3-4 3zm-2 3H6V3L2 1h8v3h1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v11.38c0 .39.22.73.55.91L6 16.01V13h4c.55 0 1-.45 1-1V8h-1v4z')}static get skip(){return new n(16,16,'M5.79 11.624l-1.326-.088-.088-1.326 5.834-5.834 1.326.088.088 1.326-5.834 5.834zM8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm5.5-7a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z')}static get smiley(){return new n(16,16,'M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.81 12.81a6.72 6.72 0 0 1-2.17 1.45c-.83.36-1.72.53-2.64.53-.92 0-1.81-.17-2.64-.53-.81-.34-1.55-.83-2.17-1.45a6.773 6.773 0 0 1-1.45-2.17A6.59 6.59 0 0 1 1.21 8c0-.92.17-1.81.53-2.64.34-.81.83-1.55 1.45-2.17.62-.62 1.36-1.11 2.17-1.45A6.59 6.59 0 0 1 8 1.21c.92 0 1.81.17 2.64.53.81.34 1.55.83 2.17 1.45.62.62 1.11 1.36 1.45 2.17.36.83.53 1.72.53 2.64 0 .92-.17 1.81-.53 2.64-.34.81-.83 1.55-1.45 2.17zM4 6.8v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2H5.2C4.53 8 4 7.47 4 6.8zm5 0v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2h-.59C9.53 8 9 7.47 9 6.8zm4 3.2c-.72 1.88-2.91 3-5 3s-4.28-1.13-5-3c-.14-.39.23-1 .66-1h8.59c.41 0 .89.61.75 1z')}static get squirrel(){return new n(16,16,'M12 1C9.79 1 8 2.31 8 3.92c0 1.94.5 3.03 0 6.08 0-4.5-2.77-6.34-4-6.34.05-.5-.48-.66-.48-.66s-.22.11-.3.34c-.27-.31-.56-.27-.56-.27l-.13.58S.7 4.29.68 6.87c.2.33 1.53.6 2.47.43.89.05.67.79.47.99C2.78 9.13 2 8 1 8S0 9 1 9s1 1 3 1c-3.09 1.2 0 4 0 4H3c-1 0-1 1-1 1h6c3 0 5-1 5-3.47 0-.85-.43-1.79-1-2.53-1.11-1.46.23-2.68 1-2 .77.68 3 1 3-2 0-2.21-1.79-4-4-4zM2.5 6c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5z')}static get star(){return new n(14,16,'M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z')}static get stop(){return new n(14,16,'M10 1H4L0 5v6l4 4h6l4-4V5l-4-4zm3 9.5L9.5 14h-5L1 10.5v-5L4.5 2h5L13 5.5v5zM6 4h2v5H6V4zm0 6h2v2H6v-2z')}static get sync(){return new n(12,16,'M10.24 7.4a4.15 4.15 0 0 1-1.2 3.6 4.346 4.346 0 0 1-5.41.54L4.8 10.4.5 9.8l.6 4.2 1.31-1.26c2.36 1.74 5.7 1.57 7.84-.54a5.876 5.876 0 0 0 1.74-4.46l-1.75-.34zM2.96 5a4.346 4.346 0 0 1 5.41-.54L7.2 5.6l4.3.6-.6-4.2-1.31 1.26c-2.36-1.74-5.7-1.57-7.85.54C.5 5.03-.06 6.65.01 8.26l1.75.35A4.17 4.17 0 0 1 2.96 5z')}static get tag(){return new n(14,16,'M7.73 1.73C7.26 1.26 6.62 1 5.96 1H3.5C2.13 1 1 2.13 1 3.5v2.47c0 .66.27 1.3.73 1.77l6.06 6.06c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41L7.73 1.73zM2.38 7.09c-.31-.3-.47-.7-.47-1.13V3.5c0-.88.72-1.59 1.59-1.59h2.47c.42 0 .83.16 1.13.47l6.14 6.13-4.73 4.73-6.13-6.15zM3.01 3h2v2H3V3h.01z')}static get tasklist(){return new n(16,16,'M15.41 9H7.59C7 9 7 8.59 7 8c0-.59 0-1 .59-1h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM9.59 4C9 4 9 3.59 9 3c0-.59 0-1 .59-1h5.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H9.59zM0 3.91l1.41-1.3L3 4.2 7.09 0 8.5 1.41 3 6.91l-3-3zM7.59 12h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H7.59C7 14 7 13.59 7 13c0-.59 0-1 .59-1z')}static get telescope(){return new n(14,16,'M8 9l3 6h-1l-2-4v5H7v-6l-2 5H4l2-5 2-1zM7 0H6v1h1V0zM5 3H4v1h1V3zM2 1H1v1h1V1zM.63 9a.52.52 0 0 0-.16.67l.55.92c.13.23.41.31.64.2l1.39-.66-1.16-2-1.27.86.01.01zm7.89-5.39l-5.8 3.95L3.95 9.7l6.33-3.03-1.77-3.06h.01zm4.22 1.28l-1.47-2.52a.51.51 0 0 0-.72-.17l-1.2.83 1.84 3.2 1.33-.64c.27-.13.36-.44.22-.7z')}static get terminal(){return new n(14,16,'M7 10h4v1H7v-1zm-3 1l3-3-3-3-.75.75L5.5 8l-2.25 2.25L4 11zm10-8v10c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h12c.55 0 1 .45 1 1zm-1 0H1v10h12V3z')}static get textSize(){return new n(18,16,'M13.62 9.08L12.1 3.66h-.06l-1.5 5.42h3.08zM5.7 10.13S4.68 6.52 4.53 6.02h-.08l-1.13 4.11H5.7zM17.31 14h-2.25l-.95-3.25h-4.07L9.09 14H6.84l-.69-2.33H2.87L2.17 14H0l3.3-9.59h2.5l2.17 6.34L10.86 2h2.52l3.94 12h-.01z')}static get threeBars(){return new n(12,16,'M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z')}static get thumbsdown(){return new n(16,16,'M15.98 7.83l-.97-5.95C14.84.5 13.13 0 12 0H5.69c-.2 0-.38.05-.53.14L3.72 1H2C.94 1 0 1.94 0 3v4c0 1.06.94 2.02 2 2h2c.91 0 1.39.45 2.39 1.55.91 1 .88 1.8.63 3.27-.08.5.06 1 .42 1.42.39.47.98.76 1.56.76 1.83 0 3-3.71 3-5.01l-.02-.98h2.04c1.16 0 1.95-.8 1.98-1.97 0-.11-.02-.21-.02-.21zm-1.97 1.19h-1.99c-.7 0-1.03.28-1.03.97l.03 1.03c0 1.27-1.17 4-2 4-.5 0-1.08-.5-1-1 .25-1.58.34-2.78-.89-4.14C6.11 8.75 5.36 8 4 8V2l1.67-1H12c.73 0 1.95.31 2 1l.02.02 1 6c-.03.64-.38 1-1 1h-.01z')}static get thumbsup(){return new n(16,16,'M15.98 8.17l-.97 5.95C14.84 15.5 13.13 16 12 16H5.69c-.2 0-.38-.05-.53-.14L3.72 15H2c-1.06 0-2-.94-2-2V9c0-1.06.94-2.02 2-2h2c.91 0 1.39-.45 2.39-1.55.91-1 .88-1.8.63-3.27-.08-.5.06-1 .42-1.42C7.83.29 8.42 0 9 0c1.83 0 3 3.71 3 5.01l-.02.98h2.04c1.16 0 1.95.8 1.98 1.97 0 .11-.02.21-.02.21zm-1.97-1.19h-1.99c-.7 0-1.03-.28-1.03-.97l.03-1.03c0-1.27-1.17-4-2-4-.5 0-1.08.5-1 1 .25 1.58.34 2.78-.89 4.14C6.11 7.25 5.36 8 4 8v6l1.67 1H12c.73 0 1.95-.31 2-1l.02-.02 1-6c-.03-.64-.38-1-1-1h-.01z')}static get tools(){return new n(16,16,'M4.48 7.27c.26.26 1.28 1.33 1.28 1.33l.56-.58-.88-.91 1.69-1.8s-.76-.74-.43-.45c.32-1.19.03-2.51-.87-3.44C4.93.5 3.66.2 2.52.51l1.93 2-.51 1.96-1.89.52-1.93-2C-.19 4.17.1 5.48 1 6.4c.94.98 2.29 1.26 3.48.87zm6.44 1.94l-2.33 2.3 3.84 3.98c.31.33.73.49 1.14.49.41 0 .82-.16 1.14-.49.63-.65.63-1.7 0-2.35l-3.79-3.93zM16 2.53L13.55 0 6.33 7.46l.88.91-4.31 4.46-.99.53-1.39 2.27.35.37 2.2-1.44.51-1.02L7.9 9.08l.88.91L16 2.53z')}static get trashcan(){return new n(12,16,'M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z')}static get triangleDown(){return new n(12,16,'M0 5l6 6 6-6H0z')}static get triangleLeft(){return new n(6,16,'M6 2L0 8l6 6V2z')}static get triangleRight(){return new n(6,16,'M0 14l6-6-6-6v12z')}static get triangleUp(){return new n(12,16,'M12 11L6 5l-6 6h12z')}static get unfold(){return new n(14,16,'M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z')}static get unmute(){return new n(16,16,'M12 8.02c0 1.09-.45 2.09-1.17 2.83l-.67-.67c.55-.56.89-1.31.89-2.16 0-.85-.34-1.61-.89-2.16l.67-.67A3.99 3.99 0 0 1 12 8.02zM7.72 2.28L4 6H2c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h2l3.72 3.72c.47.47 1.28.14 1.28-.53V2.81c0-.67-.81-1-1.28-.53zm5.94.08l-.67.67a6.996 6.996 0 0 1 2.06 4.98c0 1.94-.78 3.7-2.06 4.98l.67.67A7.973 7.973 0 0 0 16 8c0-2.22-.89-4.22-2.34-5.66v.02zm-1.41 1.41l-.69.67a5.05 5.05 0 0 1 1.48 3.58c0 1.39-.56 2.66-1.48 3.56l.69.67A5.971 5.971 0 0 0 14 8.02c0-1.65-.67-3.16-1.75-4.25z')}static get unverified(){return new n(16,16,'M15.67 7.066l-1.08-1.34a1.5 1.5 0 0 1-.309-.77l-.19-1.698a1.51 1.51 0 0 0-1.329-1.33l-1.699-.19c-.3-.03-.56-.159-.78-.329L8.945.33a1.504 1.504 0 0 0-1.878 0l-1.34 1.08a1.5 1.5 0 0 1-.77.31l-1.698.19c-.7.08-1.25.63-1.33 1.329l-.19 1.699c-.03.3-.159.56-.329.78L.33 7.055a1.504 1.504 0 0 0 0 1.878l1.08 1.34c.17.22.28.48.31.77l.19 1.698c.08.7.63 1.25 1.329 1.33l1.699.19c.3.03.56.159.78.329l1.339 1.08c.55.439 1.329.439 1.878 0l1.34-1.08c.22-.17.48-.28.77-.31l1.698-.19c.7-.08 1.25-.63 1.33-1.329l.19-1.699c.03-.3.159-.56.329-.78l1.08-1.339a1.504 1.504 0 0 0 0-1.878zM9 11.5c0 .28-.22.5-.5.5h-1c-.27 0-.5-.22-.5-.5v-1c0-.28.23-.5.5-.5h1c.28 0 .5.22.5.5v1zm1.56-4.89c-.06.17-.17.33-.3.47-.13.16-.14.19-.33.38-.16.17-.31.3-.52.45-.11.09-.2.19-.28.27-.08.08-.14.17-.19.27-.05.1-.08.19-.11.3-.03.11-.03.13-.03.25H7.13c0-.22 0-.31.03-.48.03-.19.08-.36.14-.52.06-.14.14-.28.25-.42.11-.13.23-.25.41-.38.27-.19.36-.3.48-.52.12-.22.2-.38.2-.59 0-.27-.06-.45-.2-.58-.13-.13-.31-.19-.58-.19-.09 0-.19.02-.3.05-.11.03-.17.09-.25.16-.08.07-.14.11-.2.2a.41.41 0 0 0-.09.28h-2c0-.38.13-.56.27-.83.16-.27.36-.5.61-.67.25-.17.55-.3.88-.38.33-.08.7-.13 1.09-.13.44 0 .83.05 1.17.13.34.09.63.22.88.39.23.17.41.38.55.63.13.25.19.55.19.88 0 .22 0 .42-.08.59l-.02-.01z')}static get verified(){return new n(16,16,'M15.67 7.066l-1.08-1.34a1.5 1.5 0 0 1-.309-.77l-.19-1.698a1.51 1.51 0 0 0-1.329-1.33l-1.699-.19c-.3-.03-.56-.159-.78-.329L8.945.33a1.504 1.504 0 0 0-1.878 0l-1.34 1.08a1.5 1.5 0 0 1-.77.31l-1.698.19c-.7.08-1.25.63-1.33 1.329l-.19 1.699c-.03.3-.159.56-.329.78L.33 7.055a1.504 1.504 0 0 0 0 1.878l1.08 1.34c.17.22.28.48.31.77l.19 1.698c.08.7.63 1.25 1.329 1.33l1.699.19c.3.03.56.159.78.329l1.339 1.08c.55.439 1.329.439 1.878 0l1.34-1.08c.22-.17.48-.28.77-.31l1.698-.19c.7-.08 1.25-.63 1.33-1.329l.19-1.699c.03-.3.159-.56.329-.78l1.08-1.339a1.504 1.504 0 0 0 0-1.878zM6.5 12.01L3 8.51l1.5-1.5 2 2 5-5L13 5.56l-6.5 6.45z')}static get versions(){return new n(14,16,'M13 3H7c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zm-1 8H8V5h4v6zM4 4h1v1H4v6h1v1H4c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1zM1 5h1v1H1v4h1v1H1c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1z')}static get watch(){return new n(12,16,'M6 8h2v1H5V5h1v3zm6 0c0 2.22-1.2 4.16-3 5.19V15c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1v-1.81C1.2 12.16 0 10.22 0 8s1.2-4.16 3-5.19V1c0-.55.45-1 1-1h4c.55 0 1 .45 1 1v1.81c1.8 1.03 3 2.97 3 5.19zm-1 0c0-2.77-2.23-5-5-5S1 5.23 1 8s2.23 5 5 5 5-2.23 5-5z')}static get x(){return new n(12,16,'M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z')}static get zap(){return new n(10,16,'M10 7H6l3-7-9 9h4l-3 7 9-9z')}}t.OcticonSymbol=n},function(e,t,n){'use strict';function o(e,t){const{dbID:n}=e;return t.filter((e)=>r.getNonForkGitHubRepository(e).dbID===n)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(26),i=n(632),a=n(49);t.PullRequestCoordinator=class{constructor(e,t){this.pullRequestStore=e,this.repositoriesStore=t,this.currentPullRequestUpdater=null,this.repositories=[],this.prCache=new Map,this.emitter=new a.Emitter,this.repositoriesStore.onDidUpdate((e)=>{this.repositories=e.filter(r.isRepositoryWithGitHubRepository)})}onPullRequestsChanged(e){return this.pullRequestStore.onPullRequestsChanged((t,n)=>{null!==t.dbID&&this.prCache.set(t.dbID,n);const r=o(t,this.repositories);for(const o of r)e(o,n)})}onIsLoadingPullRequests(e){return this.emitter.on('onIsLoadingPullRequest',(t)=>{const{repository:n,isLoadingPullRequests:o}=t;e(n,o)})}async refreshPullRequests(e,t){const n=r.getNonForkGitHubRepository(e),i=o(n,this.repositories);for(const n of i)this.emitIsLoadingPullRequests(n,!0);await this.pullRequestStore.refreshPullRequests(n,t);for(const n of i)this.emitIsLoadingPullRequests(n,!1)}getLastRefreshed(e){const t=r.getNonForkGitHubRepository(e);return this.pullRequestStore.getLastRefreshed(t)}async getAllPullRequests(e){return this.getPullRequestsFor(r.getNonForkGitHubRepository(e))}startPullRequestUpdater(e,t){null!==this.currentPullRequestUpdater&&this.stopPullRequestUpdater(),this.currentPullRequestUpdater=new i.PullRequestUpdater(e,t,this),this.currentPullRequestUpdater.start()}stopPullRequestUpdater(){null!==this.currentPullRequestUpdater&&(this.currentPullRequestUpdater.stop(),this.currentPullRequestUpdater=null)}emitIsLoadingPullRequests(e,t){this.emitter.emit('onIsLoadingPullRequest',{repository:e,isLoadingPullRequests:t})}async getPullRequestsFor(e){const{dbID:t}=e;return null===t?[]:(this.prCache.has(t)||this.prCache.set(t,(await this.pullRequestStore.getAll(e))),this.prCache.get(t)||[])}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(121),r=n(2);class i extends o.BaseDatabase{constructor(e,t){super(e,t),this.conditionalVersion(1,{pullRequests:'id++, base.repoId'}),this.conditionalVersion(2,{pullRequestStatus:'id++, &[sha+pullRequestId]'}),this.conditionalVersion(3,{pullRequestStatus:'id++, &[sha+pullRequestId], pullRequestId'}),this.conditionalVersion(4,{}),this.conditionalVersion(5,{pullRequestStatus:null}),this.conditionalVersion(6,{pullRequests:null}),this.conditionalVersion(7,{pullRequests:'[base.repoId+number]',pullRequestsLastUpdated:'repoId'})}async deleteAllPullRequestsInRepository(e){const t=r.forceUnwrap('Can\'t delete PRs for repository, no dbId',e.dbID);await this.transaction('rw',this.pullRequests,this.pullRequestsLastUpdated,async()=>{await this.clearLastUpdated(e),await this.pullRequests.where('[base.repoId+number]').between([t],[t+1]).delete()})}async deletePullRequests(e){await this.pullRequests.bulkDelete(e)}async putPullRequests(e){await this.pullRequests.bulkPut(e)}getAllPullRequestsInRepository(e){return null===e.dbID?r.fatalError('Can\'t retrieve PRs for repository, no dbId'):this.pullRequests.where('[base.repoId+number]').between([e.dbID],[e.dbID+1]).toArray()}getPullRequest(e,t){return null===e.dbID?r.fatalError('Can\'t retrieve PRs for repository with a null dbID'):this.pullRequests.get([e.dbID,t])}async getLastUpdated(e){if(null===e.dbID)return r.fatalError('Can\'t retrieve PRs for repository with a null dbID');const t=await this.pullRequestsLastUpdated.get(e.dbID);return t?new Date(t.lastUpdated):null}async clearLastUpdated(e){if(null===e.dbID)throw new Error('Can\'t clear last updated PR for repository with a null dbID');await this.pullRequestsLastUpdated.delete(e.dbID)}async setLastUpdated(e,t){if(null===e.dbID)throw new Error('Can\'t set last updated for PR with a null dbID');await this.pullRequestsLastUpdated.put({repoId:e.dbID,lastUpdated:t.getTime()})}}t.PullRequestDatabase=i,t.getPullRequestKey=function(e,t){const n=r.forceUnwrap(`Can get key for PR, repository not inserted in database.`,e.dbID);return[n,t]}},function(e,t,n){'use strict';async function o(e,t){if(!c||t!==c.state)return void log.warn('requestAuthenticatedUser was not called with valid OAuth state. This is likely due to a browser reloading the callback URL. Contact GitHub Support if you believe this is an error');const n=await d.requestOAuthToken(c.endpoint,e);return n?d.fetchUser(c.endpoint,n):null}function r(e){return c?void(c.resolve(e),c=null):void s.fatalError('`askUserToOAuth` must be called before resolving an auth request.')}function i(e){return c?void(c.reject(e),c=null):void s.fatalError('`askUserToOAuth` must be called before rejecting an auth request.')}Object.defineProperty(t,'__esModule',{value:!0});const a=n(40),s=n(2),d=n(10),l=n(106);let c=null;t.askUserToOAuth=function(e){return new Promise((t,n)=>{c={state:l.uuid(),endpoint:e,resolve:t,reject:n};const o=d.getOAuthAuthorizationURL(e,c.state);a.shell.openExternal(o)})},t.requestAuthenticatedUser=o,t.resolveOAuthRequest=r,t.rejectOAuthRequest=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(42),r=n(10);t.friendlyEndpointName=function(e){return e.endpoint===r.getDotComAPIEndpoint()?'GitHub.com':o.parse(e.endpoint).hostname||e.endpoint}},function(e,t,n){'use strict';function o(e){localStorage.removeItem(r(e))}function r(e){return`tags-to-push-${e.id}`}Object.defineProperty(t,'__esModule',{value:!0});const i=n(56);t.storeTagsToPush=function(e,t){0===t.length?o(e):i.setStringArray(r(e),t)},t.getTagsToPush=function(e){return i.getStringArray(r(e))},t.clearTagsToPush=o},function(e,t,n){'use strict';async function o(e){const t='1F',n=String.fromCharCode(parseInt(t,16)),o=['%gD','%H','%gs'].join(`%x${t}`),r=await c.git(['log','-g','-z',`--pretty=${o}`,'refs/stash'],e.path,'getStashEntries',{successExitCodes:new Set([0,128])});if(128===r.exitCode)return{desktopEntries:[],stashEntryCount:0};const i=[],a={kind:p.StashedChangesLoadStates.NotLoaded},d=r.stdout.split('\0').filter((e)=>''!==e);for(const t of d){const e=t.split(n);if(3===e.length){const[t,n,o]=e,r=s(o);null!==r&&i.push({name:t,branchName:r,stashSha:n,files:a})}}return{desktopEntries:i,stashEntryCount:d.length-1}}function r(e){return`${t.DesktopStashEntryMarker}<${e}>`}async function i(e,t){const n=await o(e);return n.desktopEntries.find((n)=>n.stashSha===t)||null}async function a(e,t){const n=await i(e,t);if(null!==n){const t=['stash','drop',n.name];await c.git(t,e.path,'dropStashEntry')}}function s(e){const t=h.exec(e);return null===t||0===t[1].length?null:t[1]}async function d(e,t){const n=await c.git(['log',t,'-C','-M','-m','-1','--no-show-signature','--first-parent','--name-status','--format=format:','-z','--'],e.path,'getChangedFilesForStash',{successExitCodes:new Set([0,128])});return 0===n.exitCode&&0<n.stdout.length?u.parseChangedFiles(n.stdout,t):[]}Object.defineProperty(t,'__esModule',{value:!0});const l=n(35),c=n(11),p=n(79),u=n(254),m=n(169);t.DesktopStashEntryMarker='!!GitHub_Desktop';const h=/!!GitHub_Desktop<(.+)>$/;t.getStashes=o,t.getLastDesktopStashEntryForBranch=async function(e,t){const n=await o(e);return n.desktopEntries.find((e)=>e.branchName===t)||null},t.createDesktopStashMessage=r,t.createDesktopStashEntry=async function(e,t,n){const o=n.map((e)=>e.withIncludeAll(!0));await m.stageFiles(e,o);const i=r(t),a=['stash','push','-m',i],s=await c.git(a,e.path,'createStashEntry',{successExitCodes:new Set([0,1])});if(1===s.exitCode){const e=/^error: /m,t=e.exec(s.stderr);if(null!==t&&0<t.length)throw new c.GitError(s,a);log.info(`[createDesktopStashEntry] a stash was created successfully but exit code ${s.exitCode} reported. stderr: ${s.stderr}`)}return!0},t.dropDesktopStashEntry=a,t.popStashEntry=async function(e,t){const n=new Set([l.GitError.MergeConflicts]),o=new Set([0,1]),r=await i(e,t);if(null!==r){const i=['stash','pop','--quiet',`${r.name}`],s=await c.git(i,e.path,'popStashEntry',{expectedErrors:n,successExitCodes:o});if(1===s.exitCode){if(0<s.stderr.length)throw new c.GitError(s,i);log.info(`[popStashEntry] a stash was popped successfully but exit code ${s.exitCode} reported.`),await a(e,t)}}},t.getStashedFiles=async function(e,t){const[n,o]=await Promise.all([d(e,t),d(e,`${t}^3`)]),r=new Map;return n.forEach((e)=>r.set(e.path,e)),o.forEach((e)=>r.set(e.path,e)),[...r.values()].sort((e,t)=>e.path.localeCompare(t.path))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(55);t.UpstreamRemoteName='upstream',t.findUpstreamRemote=function(e,n){const r=n.find((e)=>e.name===t.UpstreamRemoteName);return r?o.repositoryMatchesRemote(e,r)?r:null:null}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n extends Error{constructor(e,t){super(`The remote '${t.name}' already exists`),this.repository=e,this.existingRemote=t}}t.UpstreamAlreadyExistsError=n},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(33),r=n(1),i=n(23),a=n(46),s=n(31),d=n(174),l=n(99),c=n(28),p=n(107),u=n(47),m=n(655),h=n(20),f=n(20),g=n(35),y=n(80),S=n(241),C=n(2),b=n(240),v=n(654),E=n(272),w=n(252),k=n(62),T=n(239),_=n(79),R=n(238),x=100,P='history';class D extends k.BaseStore{constructor(e,t,n){super(),this.repository=e,this.shell=t,this.statsStore=n,this.commitLookup=new Map,this._history=[],this.requestsInFight=new Set,this._tip={kind:s.TipState.Unknown},this._defaultBranch=null,this._localTags=null,this._allBranches=[],this._recentBranches=[],this._localCommitSHAs=[],this._commitMessage=l.DefaultCommitMessage,this._showCoAuthoredBy=!1,this._coAuthors=[],this._aheadBehind=null,this._tagsToPush=[],this._defaultRemote=null,this._currentRemote=null,this._upstreamRemote=null,this._lastFetched=null,this._desktopStashEntries=new Map,this._stashEntryCount=0,this._tagsToPush=R.getTagsToPush(e)}emitNewCommitsLoaded(e){this.emitter.emit('did-load-new-commits',e)}onDidLoadNewCommits(e){return this.emitter.on('did-load-new-commits',e)}async reconcileHistory(e){if(0===this._history.length)return;if(this.requestsInFight.has(P))return;this.requestsInFight.add(P);const t=h.revRange('HEAD',e),n=await this.performFailableOperation(()=>h.getCommits(this.repository,t,x));if(null!=n){const t=this._history,o=t.findIndex((t)=>t===e);if(-1<o){log.debug(`reconciling history - adding ${n.length} commits before merge base ${e.substr(0,8)}`);const r=t.slice(o);this._history=[...n.map((e)=>e.sha),...r]}this.storeCommits(n,!0),this.requestsInFight.delete(P),this.emitUpdate()}}async loadNextHistoryBatch(){if(this.requestsInFight.has(P))return;if(!this.history.length)return;const e=this.history[this.history.length-1],t=`history/${e}`;if(!this.requestsInFight.has(t)){this.requestsInFight.add(t);const n=await this.performFailableOperation(()=>h.getCommits(this.repository,`${e}^`,x));n&&(this._history=this._history.concat(n.map((e)=>e.sha)),this.storeCommits(n,!0),this.requestsInFight.delete(t),this.emitUpdate())}}async loadCommitBatch(e){if(this.requestsInFight.has(P))return null;const t=`history/compare/${e}`;if(this.requestsInFight.has(t))return null;this.requestsInFight.add(t);const n=await this.performFailableOperation(()=>h.getCommits(this.repository,e,x));return(this.requestsInFight.delete(t),!n)?null:(this.storeCommits(n,!1),n.map((e)=>e.sha))}async refreshTags(){const e=this._localTags,t=await this.performFailableOperation(()=>h.getAllTags(this.repository));if(void 0!==t){this._localTags=t;for(const e of this._tagsToPush)this._localTags.has(e)||this.removeTagToPush(e);null!==e&&this.emitUpdatesForChangedTags(e,this._localTags)}}async emitUpdatesForChangedTags(e,t){const n=new Set;let o=0;for(const[o,r]of e){const e=t.get(o);e?e!==r&&(n.add(r),n.add(e)):n.add(r)}for(const[r,i]of t)e.has(r)||(n.add(i),o++);0<o&&this.statsStore.recordTagCreated(o);const r=[];for(const o of n){const e=await h.getCommit(this.repository,o);null!==e&&r.push(e)}this.storeCommits(r,!0)}async createTag(e,t){const n=await this.performFailableOperation(async()=>(await h.createTag(this.repository,e,t),!0));void 0===n||(await this.refreshTags(),this.addTagToPush(e),this.statsStore.recordTagCreatedInDesktop())}async deleteTag(e){const t=await this.performFailableOperation(async()=>(await h.deleteTag(this.repository,e),!0));void 0===t||(await this.refreshTags(),this.removeTagToPush(e),this.statsStore.recordTagDeleted())}get history(){return this._history}get tagsToPush(){return this._tagsToPush}get localTags(){return this._localTags}async loadBranches(){const[e,t]=await Promise.all([this.performFailableOperation(()=>h.getBranches(this.repository))||[],this.performFailableOperation(()=>h.getRecentBranches(this.repository,5))]);e&&(this._allBranches=this.mergeRemoteAndLocalBranches(e),this.refreshDefaultBranch(),this.refreshRecentBranches(t),this.checkPullWithRebase(),this.emitUpdate())}mergeRemoteAndLocalBranches(e){const t=[],n=[];for(const o of e)o.type===a.BranchType.Local?t.push(o):o.type===a.BranchType.Remote&&n.push(o);const o=new Set,r=[];for(const n of t)r.push(n),n.upstream&&o.add(n.upstream);for(const t of n)o.has(t.name)||r.push(t);return r}async checkPullWithRebase(){const e=await h.getConfigValue(this.repository,'pull.rebase');null===e||''===e?this.pullWithRebase=void 0:'true'===e?this.pullWithRebase=!0:'false'===e?this.pullWithRebase=!1:(log.warn(`Unexpected value found for pull.rebase in config: '${e}'`),this.pullWithRebase=void 0)}async refreshDefaultBranch(){const e=await this.resolveDefaultBranch();this._defaultBranch=this._allBranches.filter((t)=>t.name===e).sort((e,t)=>u.compare(e.type,t.type)).shift()||null}addTagToPush(e){this._tagsToPush=[...this._tagsToPush,e],R.storeTagsToPush(this.repository,this._tagsToPush),this.emitUpdate()}removeTagToPush(e){this._tagsToPush=this._tagsToPush.filter((t)=>t!==e),R.storeTagsToPush(this.repository,this._tagsToPush),this.emitUpdate()}clearTagsToPush(){this._tagsToPush=[],R.storeTagsToPush(this.repository,this._tagsToPush),this.emitUpdate()}async resolveDefaultBranch(){const{gitHubRepository:e}=this.repository;if(e&&null!=e.defaultBranch)return e.defaultBranch;if(null!==this.currentRemote){const e=`refs/remotes/${this.currentRemote.name}/`,t=await h.getSymbolicRef(this.repository,`${e}HEAD`);if(null!=t&&t.length>e.length&&t.startsWith(e))return t.substr(e.length)}return'master'}refreshRecentBranches(e){if(!e||!e.length)return void(this._recentBranches=[]);const t=this._allBranches.reduce((e,t)=>e.set(t.name,t),new Map),n=[];for(const o of e){const e=t.get(o);e&&n.push(e)}this._recentBranches=n}get tip(){return this._tip}get defaultBranch(){return this._defaultBranch}get allBranches(){return this._allBranches}get recentBranches(){return this._recentBranches}async loadLocalCommits(e){if(null===e)return void(this._localCommitSHAs=[]);let t;if(e.upstream){const n=h.revRange(e.upstream,e.name);t=await this.performFailableOperation(()=>h.getCommits(this.repository,n,x))}else t=await this.performFailableOperation(()=>h.getCommits(this.repository,'HEAD',x,['--not','--remotes']));t&&(this.storeCommits(t),this._localCommitSHAs=t.map((e)=>e.sha),this.emitUpdate())}get localCommitSHAs(){return this._localCommitSHAs}storeCommits(e,t=!1){for(const n of e)this.commitLookup.set(n.sha,n);t&&this.emitNewCommitsLoaded(e)}async undoFirstCommit(e){const t=await this.performFailableOperation(()=>h.getStatus(this.repository));if(null==t)throw new Error(`Unable to undo commit because there are too many files in your repository's working directory.`);const n=t.workingDirectory.files,o=n.filter((e)=>e.status.kind===i.AppFileStatusKind.Deleted),r=o.map((e)=>e.path);return await h.checkoutPaths(e,r),await h.deleteRef(e,'HEAD','Reverting first commit'),await h.unstageAllFiles(e),!0}async undoCommit(e){const t=await this.performFailableOperation(()=>0===e.parentSHAs.length?this.undoFirstCommit(this.repository):h.reset(this.repository,2,e.parentSHAs[0]));if(void 0!==t){if(this.repository.gitHubRepository)try{return await this.loadCommitAndCoAuthors(e),void this.emitUpdate()}catch(t){log.error('Failed to restore commit and co-authors, falling back',t)}this._commitMessage={summary:e.summary,description:e.body},this.emitUpdate()}}async loadCommitAndCoAuthors(e){const t=this.repository,n=await E.formatCommitMessage(t,{summary:e.summary,description:e.body}),o=await h.parseTrailers(t,n),r=o.filter(h.isCoAuthoredByTrailer);if(0===r.length)return void(this._commitMessage={summary:e.summary,description:e.body});const i=await h.mergeTrailers(t,n,[],!0),a=i.split('\n'),s=await h.getTrailerSeparatorCharacters(this.repository),d=/^co-authored-by(.)\s(.*)/i,l=[];for(let t=a.length-1;0<=t;t--){const e=a[t],n=d.exec(e);if(!n||-1===s.indexOf(n[1]))continue;const o=h.parseSingleUnfoldedTrailer(e,n[1]);if(!o)continue;const i=r.findIndex((e)=>e.value===o.value);-1!==i&&(l.unshift(r[i]),r.splice(i,1),a.splice(t,1))}a.splice(0,2);const c=a.join('\n').trim();this._commitMessage={summary:e.summary,description:c};const p=l.map((e)=>w.GitAuthor.parse(e.value)),u=[];for(let t=0;t<p.length;t++){const e=p[t];if(null===e)continue;const{name:n,email:o}=e,r=this.coAuthors.find((e)=>e.name===n&&e.email===o&&null!==e.username);u.push(r||{name:n,email:o,username:null})}this._coAuthors=u,0<this._coAuthors.length&&!1===this._showCoAuthoredBy&&(this._showCoAuthoredBy=!0)}async performFailableOperation(e,t){try{const t=await e();return t}catch(n){return n=new p.ErrorWithMetadata(n,Object.assign({repository:this.repository},t)),void this.emitError(n)}}get commitMessage(){return this._commitMessage}get showCoAuthoredBy(){return this._showCoAuthoredBy}get coAuthors(){return this._coAuthors}async fetch(e,t,n){const o=new Map;if(null!==this.currentRemote&&o.set(this.currentRemote.name,this.currentRemote),null!==this.defaultRemote&&o.set(this.defaultRemote.name,this.defaultRemote),null!==this.upstreamRemote&&o.set(this.upstreamRemote.name,this.upstreamRemote),0<o.size&&(await this.fetchRemotes(e,[...o.values()],t,n)),this.tip.kind===s.TipState.Valid){const e=this.tip.branch;if(null!==e.remote&&null!==e.upstream){const t=h.revSymmetricDifference(e.name,e.upstream);this._aheadBehind=await h.getAheadBehind(this.repository,t),this.emitUpdate()}}}async fetchRemotes(e,t,n,o){if(!t.length)return;const r=1/t.length;for(let a=0;a<t.length;a++){const i=t[a],s=a*r;await this.fetchRemote(e,i,n,(e)=>{e&&o&&o(Object.assign({},e,{value:s+e.value*r}))})}}async fetchRemote(e,t,n,o){const r={type:y.RetryActionType.Fetch,repository:this.repository};await this.performFailableOperation(()=>h.fetch(this.repository,e,t,o),{backgroundTask:n,retryAction:r})}async fetchRefspec(e,t){const n=await h.getRemotes(this.repository);for(const o of n)await this.performFailableOperation(()=>h.fetchRefspec(this.repository,e,o,t))}async loadStatus(){const e=await this.performFailableOperation(()=>h.getStatus(this.repository));if(!e)return null;this._aheadBehind=e.branchAheadBehind||null;const{currentBranch:t,currentTip:n}=e;if(!(t||n))this._tip={kind:s.TipState.Unknown};else if(n&&t){const o=await this.lookupCommit(n),r=new a.Branch(t,e.currentUpstreamBranch||null,o,a.BranchType.Local);this._tip={kind:s.TipState.Valid,branch:r}}else n?this._tip={kind:s.TipState.Detached,currentSha:n}:t&&(this._tip={kind:s.TipState.Unborn,ref:t});return this.emitUpdate(),e}async lookupCommit(e){const t=this.commitLookup.get(e);if(null!=t)return Promise.resolve(t);const n=await this.performFailableOperation(()=>h.getCommit(this.repository,e));if(null!=n)return this.commitLookup.set(e,n),n;throw new Error(`Could not load commit: '${e}'`)}async loadStashEntries(){const e=new Map,t=await T.getStashes(this.repository);for(const n of t.desktopEntries)if(!e.has(n.branchName)){const t=this._desktopStashEntries.get(n.branchName);t!==void 0&&t.stashSha===n.stashSha?e.set(n.branchName,Object.assign({},n,{files:t.files})):e.set(n.branchName,n)}this._desktopStashEntries=e,this._stashEntryCount=t.stashEntryCount,this.emitUpdate(),this.loadFilesForCurrentStashEntry()}get currentBranchStashEntry(){return this._tip&&this._tip.kind===s.TipState.Valid?this._desktopStashEntries.get(this._tip.branch.name)||null:null}get stashEntryCount(){return this._stashEntryCount}get desktopStashEntryCount(){return this._desktopStashEntries.size}async loadFilesForCurrentStashEntry(){const e=this.currentBranchStashEntry;if(e&&e.files.kind===_.StashedChangesLoadStates.NotLoaded){const{branchName:t}=e;this._desktopStashEntries.set(t,Object.assign({},e,{files:{kind:_.StashedChangesLoadStates.Loading}})),this.emitUpdate();const n=await T.getStashedFiles(this.repository,e.stashSha),o=this._desktopStashEntries.get(t);o&&o.stashSha===e.stashSha&&(this._desktopStashEntries.set(t,Object.assign({},o,{files:{kind:_.StashedChangesLoadStates.Loaded,files:n}})),this.emitUpdate())}}async loadRemotes(){const e=await h.getRemotes(this.repository);this._defaultRemote=v.findDefaultRemote(e);const t=this.tip.kind===s.TipState.Valid&&null!==this.tip.branch.remote?this.tip.branch.remote:null;this._currentRemote=null===t?this._defaultRemote:e.find((e)=>e.name===t)||this._defaultRemote;const n=this.repository.gitHubRepository&&this.repository.gitHubRepository.parent;this._upstreamRemote=n?b.findUpstreamRemote(n,e):null,this.emitUpdate()}async addUpstreamRemoteIfNeeded(){const e=this.repository.gitHubRepository&&this.repository.gitHubRepository.parent;if(!e)return;const t=await h.getRemotes(this.repository),n=b.findUpstreamRemote(e,t);if(n)return;const o=t.find((e)=>e.name===b.UpstreamRemoteName);if(o){const e=new S.UpstreamAlreadyExistsError(this.repository,o);return void this.emitError(e)}const r=C.forceUnwrap('Parent repositories are fully loaded',e.cloneURL);await this.performFailableOperation(()=>h.addRemote(this.repository,b.UpstreamRemoteName,r)),this._upstreamRemote={name:b.UpstreamRemoteName,url:r}}async ensureUpstreamRemoteURL(t){await this.performFailableOperation(async()=>{try{await h.addRemote(this.repository,b.UpstreamRemoteName,t)}catch(n){if(n instanceof f.GitError&&n.result.gitError===g.GitError.RemoteAlreadyExists)await h.setRemoteURL(this.repository,b.UpstreamRemoteName,t);else throw n}})}get aheadBehind(){return this._aheadBehind}get defaultRemote(){return this._defaultRemote}get currentRemote(){return this._currentRemote}get upstreamRemote(){return this._upstreamRemote}setShowCoAuthoredBy(e){this._showCoAuthoredBy=e,e||(this._coAuthors=[]),this.emitUpdate()}setCoAuthors(e){this._coAuthors=e,this.emitUpdate()}setCommitMessage(e){return this._commitMessage=e,this.emitUpdate(),Promise.resolve()}get lastFetched(){return this._lastFetched}updateLastFetched(){const e=r.join(this.repository.path,'.git','FETCH_HEAD');return new Promise((t)=>{o.stat(e,(e,n)=>{e?this._lastFetched=null:0<n.size&&(this._lastFetched=n.mtime),t(),this.emitUpdate()})})}merge(e){if(this.tip.kind!==s.TipState.Valid)throw new Error(`unable to merge as tip state is '${this.tip.kind}' and the application expects the repository to be on a branch currently`);const t=this.tip.branch.name;return this.performFailableOperation(()=>h.merge(this.repository,e),{gitContext:{kind:'merge',currentBranch:t,theirBranch:e}})}async setRemoteURL(e,t){const n=!0===(await this.performFailableOperation(()=>h.setRemoteURL(this.repository,e,t)));return await this.loadRemotes(),this.emitUpdate(),n}async discardChanges(e){const t=[],n=[],o=await h.listSubmodules(this.repository);await m.queueWorkHigh(e,async(e)=>{const a=o.some((t)=>t.path===e.path);e.status.kind===i.AppFileStatusKind.Deleted||a||this.shell.moveItemToTrash(r.resolve(this.repository.path,e.path)),e.status.kind===i.AppFileStatusKind.Copied||e.status.kind===i.AppFileStatusKind.Renamed?(n.push(e.path),t.push(e.status.oldPath),n.push(e.status.oldPath)):(t.push(e.path),n.push(e.path))});const a=await h.getIndexChanges(this.repository),s=n.filter((e)=>a.has(e)),d=t.filter((e)=>o.find((t)=>t.path===e)),l=t.filter((e)=>-1===d.indexOf(e)||a.get(e)!==h.IndexStatus.Added);await this.performFailableOperation(async()=>{await h.resetSubmodulePaths(this.repository,d),await h.resetPaths(this.repository,2,'HEAD',s),await h.checkoutIndex(this.repository,l)})}async discardChangesFromSelection(e,t,n){await this.performFailableOperation(()=>h.discardChangesFromSelection(this.repository,e,t,n))}async revertCommit(e,t,n,o){await this.performFailableOperation(()=>h.revertCommit(e,t,n,o)),this.emitUpdate()}async updateExistingUpstreamRemote(){const e=C.forceUnwrap('To update an upstream remote, the repository must be a GitHub repository',this.repository.gitHubRepository),t=C.forceUnwrap('To update an upstream remote, the repository must have a parent',e.parent),n=C.forceUnwrap('Parent repositories are always fully loaded',t.cloneURL);await this.performFailableOperation(()=>h.setRemoteURL(this.repository,b.UpstreamRemoteName,n))}async getCompareCommits(e,t){if(this.tip.kind!==s.TipState.Valid)return null;const n=this.tip.branch,o=await h.getAheadBehind(this.repository,h.revSymmetricDifference(n.name,e.name));if(null==o)return null;const r=t===c.ComparisonMode.Ahead?h.revRange(e.name,n.name):h.revRange(n.name,e.name),i=t===c.ComparisonMode.Ahead?o.ahead:o.behind,a=await h.getCommits(this.repository,r,i);return 0<a.length&&this.storeCommits(a,!0),{commits:a,ahead:o.ahead,behind:o.behind}}async pruneForkedRemotes(e){const t=await h.getRemotes(this.repository),n=new Set;for(const t of e)null!==t.head.gitHubRepository.cloneURL&&n.add(t.head.gitHubRepository.cloneURL);for(const o of t)o.name.startsWith(d.ForkedRemotePrefix)&&!n.has(o.url)&&(await h.removeRemote(this.repository,o.name))}}t.GitStore=D},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(20);class r{constructor(){this.backingStore=new Map}set(e,t,n){const r=o.revSymmetricDifference(e,t);this.backingStore.set(r,n)}get(e,t){const n=o.revSymmetricDifference(e,t);return this.backingStore.get(n)||null}has(e,t){const n=o.revSymmetricDifference(e,t);return this.backingStore.has(n)}get size(){return this.backingStore.size}clear(){this.backingStore.clear()}}t.ComparisonCache=r},function(e){e.exports=require('events')},function(e,t){'use strict';function n(e){return e.isFullScreen()?'full-screen':e.isMaximized()?'maximized':e.isMinimized()?'minimized':e.isVisible()?'normal':'hidden'}function o(e,n){e.webContents.send(t.windowStateChannelName,n)}Object.defineProperty(t,'__esModule',{value:!0}),t.windowStateChannelName='window-state-changed',t.getWindowState=n,t.registerWindowStateChangedEvents=function(e){e.on('enter-full-screen',()=>o(e,'full-screen')),e.on('leave-full-screen',()=>o(e,'normal')),e.on('maximize',()=>o(e,'maximized')),e.on('minimize',()=>o(e,'minimized')),e.on('unmaximize',()=>o(e,'normal')),e.on('restore',()=>o(e,'normal')),e.on('hide',()=>o(e,'hidden')),e.on('show',()=>{o(e,n(e))})}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n extends Error{}t.ShellError=n},function(e,t,n){'use strict';function o(e,t,n={}){return new Promise((o)=>{const r=i.spawn(e,t,n);r.on('error',(t)=>{log.warn(`Unable to spawn ${e}`,t),o(void 0)});const a=[];let s=0;r.stdout.on('data',(e)=>{a.push(e),s+=e.length}),r.on('close',function(e){0===e?o(Buffer.concat(a,s).toString().replace(/\r?\n[^]*/m,'')):o(void 0)})})}function r(){{const e=process.env.SystemRoot||'C:\\Windows',t=a.join(e,'System32','where.exe');return log.info(`calling captureCommandOutput(where git)`),o(t,['git'],{cwd:e})}return!1,Promise.resolve(void 0)}Object.defineProperty(t,'__esModule',{value:!0});const i=n(48),a=n(1);t.findGitOnPath=r,t.isGitOnPath=async function(){return!1,void 0!==(await r())}},function(e,t,n){'use strict';async function o(e,t){const{stdout:n}=await r.git(['check-attr','filter',t],e.path,'checkAttrForLFS'),o=/: filter: lfs/,i=o.exec(n);return null!==i}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11);t.installGlobalLFSFilters=async function(e){const t=['lfs','install','--skip-repo'];e&&t.push('--force'),await r.git(t,__dirname,'installGlobalLFSFilter')},t.installLFSHooks=async function(e,t){const n=['lfs','install'];t&&n.push('--force'),await r.git(n,e.path,'installLFSHooks')},t.isUsingLFS=async function(e){const t=await r.git(['lfs','track'],e.path,'isUsingLFS',{env:{GIT_LFS_TRACK_NO_INSTALL_HOOKS:'1'}});return 0<t.stdout.length},t.isTrackedByLFS=o,t.filesNotTrackedByLFS=async function(e,t){const n=[];for(const r of t){const t=await o(e,r);t||n.push(r)}return n}},function(e,t,n){'use strict';function o(e){const t=c.join(e.path,'.git','REBASE_HEAD');return p.pathExists(t)}async function r(e){const t=await o(e);if(!t)return null;let n=-1,r=-1,i=null,a=null;try{const t=await p.readFile(c.join(e.path,'.git','rebase-apply','next'),'utf8');n=parseInt(t,10),isNaN(n)&&(log.warn(`[getCurrentProgress] found '${t}' in .git/rebase-apply/next which could not be parsed to a valid number`),n=-1);const o=await p.readFile(c.join(e.path,'.git','rebase-apply','last'),'utf8');r=parseInt(o,10),isNaN(r)&&(log.warn(`[getCurrentProgress] found '${o}' in .git/rebase-apply/last which could not be parsed to a valid number`),r=-1),i=await p.readFile(c.join(e.path,'.git','rebase-apply','orig-head'),'utf8'),i=i.trim(),a=await p.readFile(c.join(e.path,'.git','rebase-apply','onto'),'utf8'),a=a.trim()}catch(e){}if(0<n&&0<r&&null!==i&&null!==a){const t=n/r,o=g.formatRebaseValue(t),s=await v.getCommitsInRange(e,a,i);if(null===s||0===s.length)return null;const d=n-1,l=0<s.length&&0<=d&&d<=s.length,c=l?s[d].summary:null;return{progress:{value:o,rebasedCommitCount:n,totalCommitCount:r,currentCommitSummary:c},commits:s}}return null}async function i(e){try{const t=c.join(e.path,'.git','REBASE_HEAD'),n=await p.readFile(t,'utf8');return n.trim()}catch(e){return log.warn('[rebase] a problem was encountered reading .git/REBASE_HEAD, so it is unsafe to continue rebasing',e),null}}function a(e,t){if(t===void 0)return e;const{rebasedCommitCount:n,totalCommitCount:o,progressCallback:r}=t;return f.merge(e,{processCallback:(e)=>{if(!e.stdout)return;const t=new k(n,o);m(e.stdout).on('data',(e)=>{const n=t.parse(e);null!=n&&r(n)})}})}async function s(e,t,n,o){const r={expectedErrors:new Set([u.GitError.RebaseConflicts])};let i=r;if(o!==void 0){const s=await v.getCommitsInRange(e,t.tip.sha,n.tip.sha);if(null===s)return E.Error;const d=s.length;i=a(r,{rebasedCommitCount:0,totalCommitCount:d,progressCallback:o})}const s=await y.git(['rebase',t.name,n.name],e.path,'rebase',i);return d(s)}function d(e){if(0===e.exitCode)return E.CompletedWithoutError;if(e.gitError===u.GitError.RebaseConflicts)return E.ConflictsEncountered;if(e.gitError===u.GitError.UnresolvedConflicts)return E.OutstandingFilesNotStaged;throw new Error(`Unhandled result found: '${JSON.stringify(e)}'`)}async function l(e,t,n=new Map,o){const s=t.filter((e)=>e.status.kind!==h.AppFileStatusKind.Untracked);for(const[r,i]of n){const n=t.find((e)=>e.path===r);n===void 0?log.error(`[continueRebase] couldn't find file ${r} even though there's a manual resolution for it`):await S.stageManualConflictResolution(e,n,i)}const l=s.filter((e)=>!n.has(e.path));await C.stageFiles(e,l);const c=await b.getStatus(e);if(null==c)return log.warn(`[continueRebase] unable to get status after staging changes, skipping any other steps`),E.Aborted;const p=await i(e);if(null===p)return E.Aborted;const m=c.workingDirectory.files.filter((e)=>e.status.kind!==h.AppFileStatusKind.Untracked),f={expectedErrors:new Set([u.GitError.RebaseConflicts,u.GitError.UnresolvedConflicts])};let g=f;if(o!==void 0){const t=await r(e);if(null===t)return log.warn(`[continueRebase] unable to get rebase status, skipping any other steps`),E.Aborted;const{progress:n}=t,{rebasedCommitCount:i,totalCommitCount:s}=n;g=a(f,{rebasedCommitCount:i,totalCommitCount:s,progressCallback:o})}if(0===m.length){log.warn(`[rebase] no tracked changes to commit for ${p}, continuing rebase but skipping this commit`);const t=await y.git(['rebase','--skip'],e.path,'continueRebaseSkipCurrentCommit',g);return d(t)}const v=await y.git(['rebase','--continue'],e.path,'continueRebase',g);return d(v)}Object.defineProperty(t,'__esModule',{value:!0});const c=n(1),p=n(19),u=n(35),m=n(170),h=n(23),f=n(54),g=n(81),y=n(11),S=n(257),C=n(169),b=n(251),v=n(168);var E;(function(e){e.CompletedWithoutError='CompletedWithoutError',e.ConflictsEncountered='ConflictsEncountered',e.OutstandingFilesNotStaged='OutstandingFilesNotStaged',e.Aborted='Aborted',e.Error='Error'})(E=t.RebaseResult||(t.RebaseResult={})),t.getRebaseInternalState=async function(e){const t=await o(e);if(!t)return null;let n=null,r=null,i=null;try{n=await p.readFile(c.join(e.path,'.git','rebase-apply','orig-head'),'utf8'),n=n.trim(),r=await p.readFile(c.join(e.path,'.git','rebase-apply','head-name'),'utf8'),r.startsWith('refs/heads/')&&(r=r.substr(11).trim()),i=await p.readFile(c.join(e.path,'.git','rebase-apply','onto'),'utf8'),i=i.trim()}catch(e){}return null!=n&&null!=r&&null!=i?{originalBranchTip:n,targetBranch:r,baseBranchTip:i}:null},t.getRebaseSnapshot=r;const w=/^Applying: (.*)/;class k{constructor(e,t){this.rebasedCommitCount=e,this.totalCommitCount=t}parse(e){const t=w.exec(e);if(null===t||2!==t.length)return null;const n=t[1];this.rebasedCommitCount++;const o=this.rebasedCommitCount/this.totalCommitCount,r=g.formatRebaseValue(o);return this.rebasedCommitCount>this.totalCommitCount&&(this.rebasedCommitCount=this.totalCommitCount),{kind:'rebase',title:`Rebasing commit ${this.rebasedCommitCount} of ${this.totalCommitCount} commits`,value:r,rebasedCommitCount:this.rebasedCommitCount,totalCommitCount:this.totalCommitCount,currentCommitSummary:n}}}t.rebase=s,t.abortRebase=async function(e){await y.git(['rebase','--abort'],e.path,'abortRebase')},t.continueRebase=l},function(e,t,n){'use strict';async function o(e,t,n){const o=await a.git(['merge-base',t,n],e.path,'merge-base',{successExitCodes:new Set([0,1,128])});return 1===o.exitCode||128===o.exitCode?null:o.stdout.trim()}Object.defineProperty(t,'__esModule',{value:!0});const r=n(19),i=n(1),a=n(11),s=n(35),d=n(70),l=n(684),c=n(83);t.merge=async function(e,t){const{exitCode:n,stdout:o}=await a.git(['merge',t],e.path,'merge',{expectedErrors:new Set([s.GitError.MergeConflicts])});return!(0!==n||o===p)};const p='Already up to date.\n';t.getMergeBase=o,t.mergeTree=async function(e,t,n){const r=await o(e,t.tip.sha,n.tip.sha);if(null===r)return{kind:d.ComputedAction.Invalid};if(r===t.tip.sha||r===n.tip.sha)return{kind:d.ComputedAction.Clean,entries:[]};const i=await c.spawnAndComplete(['merge-tree',r,t.tip.sha,n.tip.sha],e.path,'mergeTree'),a=i.output.toString();return 0===a.length?{kind:d.ComputedAction.Clean,entries:[]}:l.parseMergeResult(a)},t.abortMerge=async function(e){await a.git(['merge','--abort'],e.path,'abortMerge')},t.isMergeHeadSet=async function(e){const t=i.join(e.path,'.git','MERGE_HEAD');return r.pathExists(t)}},function(e,t,n){'use strict';function o(e,t,n){switch(e.action){case m.UnmergedEntrySummary.BothAdded:{const o=n.binaryFilePaths.includes(t);return o?{kind:m.AppFileStatusKind.Conflicted,entry:e}:{kind:m.AppFileStatusKind.Conflicted,entry:e,conflictMarkerCount:n.conflictCountsByPath.get(t)||0}}case m.UnmergedEntrySummary.BothModified:{const o=n.binaryFilePaths.includes(t);return o?{kind:m.AppFileStatusKind.Conflicted,entry:e}:{kind:m.AppFileStatusKind.Conflicted,entry:e,conflictMarkerCount:n.conflictCountsByPath.get(t)||0}}default:return{kind:m.AppFileStatusKind.Conflicted,entry:e};}}function r(e,t,n,r){if('ordinary'===t.kind)switch(t.type){case'added':return{kind:m.AppFileStatusKind.New};case'modified':return{kind:m.AppFileStatusKind.Modified};case'deleted':return{kind:m.AppFileStatusKind.Deleted};}else{if('copied'===t.kind&&null!=r)return{kind:m.AppFileStatusKind.Copied,oldPath:r};if('renamed'===t.kind&&null!=r)return{kind:m.AppFileStatusKind.Renamed,oldPath:r};if('untracked'===t.kind)return{kind:m.AppFileStatusKind.Untracked};if('conflicted'===t.kind)return o(t,e,n)}return g.fatalError(`Unknown file status ${status}`)}function i(e,t,n){const o=h.mapStatus(t.statusCode);if('ordinary'===o.kind&&o.index===m.GitStatusEntry.Added&&o.workingTree===m.GitStatusEntry.Deleted)return e;'untracked'===o.kind&&e.delete(t.path);const i=r(t.path,o,n,t.oldPath),a=f.DiffSelection.fromInitialSelection(f.DiffSelectionType.All);return e.set(t.path,new m.WorkingDirectoryFileChange(t.path,i,a)),e}function a(e,t){let{currentBranch:n,currentUpstreamBranch:o,currentTip:r,branchAheadBehind:i,match:a}=e;const s=t.value;if(a=s.match(/^branch\.oid ([a-f0-9]+)$/))r=a[1];else if(a=s.match(/^branch.head (.*)/))'(detached)'!==a[1]&&(n=a[1]);else if(a=s.match(/^branch.upstream (.*)/))o=a[1];else if(a=s.match(/^branch.ab \+(\d+) -(\d+)$/)){const e=parseInt(a[1],10),t=parseInt(a[2],10);isNaN(e)||isNaN(t)||(i={ahead:e,behind:t})}return{currentBranch:n,currentUpstreamBranch:o,currentTip:r,branchAheadBehind:i,match:a}}async function s(e){const t=await u.getFilesWithConflictMarkers(e.path),n=await S.getBinaryPaths(e,'MERGE_HEAD');return{conflictCountsByPath:t,binaryFilePaths:n}}async function d(e){const t=await u.getFilesWithConflictMarkers(e.path),n=await S.getBinaryPaths(e,'REBASE_HEAD');return{conflictCountsByPath:t,binaryFilePaths:n}}async function l(e){const t=await u.getFilesWithConflictMarkers(e.path);let n=[];try{n=await S.getBinaryPaths(e,'HEAD')}catch(e){}return{conflictCountsByPath:t,binaryFilePaths:n}}async function c(e,t,n,o){try{if(t)return await s(e);if(null!==o)return await d(e);if(n)return await l(e)}catch(e){log.error('Unexpected error from git operations in getConflictDetails',e)}return{conflictCountsByPath:new Map,binaryFilePaths:[]}}Object.defineProperty(t,'__esModule',{value:!0});const p=n(83),u=n(687),m=n(23),h=n(686),f=n(30),g=n(2),y=n(250),S=n(171),C=n(249),b=2e7,v=['DD','AU','UD','UA','DU','AA','UU'];t.getStatus=async function(e){const t=await p.spawnAndComplete(['--no-optional-locks','status','--untracked-files=all','--branch','--porcelain=2','-z'],e.path,'getStatus',new Set([0,128]));if(128===t.exitCode)return log.debug(`'git status' returned 128 for '${e.path}' and is likely missing its .git directory`),null;if(t.output.length>b)return log.error(`'git status' emitted ${t.output.length} bytes, which is beyond the supported threshold of ${b} bytes`),null;const n=t.output.toString('utf8'),o=h.parsePorcelainStatus(n),r=o.filter(h.isStatusHeader),s=o.filter(h.isStatusEntry),d=await y.isMergeHeadSet(e),l=s.some((t)=>-1<v.indexOf(t.statusCode)),u=await C.getRebaseInternalState(e),f=await c(e,d,l,u),g=s.reduce((e,t)=>i(e,t,f),new Map),{currentBranch:S,currentUpstreamBranch:E,currentTip:w,branchAheadBehind:k}=r.reduce(a,{currentBranch:void 0,currentUpstreamBranch:void 0,currentTip:void 0,branchAheadBehind:void 0,match:null}),T=m.WorkingDirectoryStatus.fromFiles([...g.values()]);return{currentBranch:S,currentTip:w,currentUpstreamBranch:E,branchAheadBehind:k,exists:!0,mergeHeadFound:d,rebaseInternalState:u,workingDirectory:T}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{constructor(e,t){this.name=e,this.email=t}static parse(e){const t=e.match(/^(.*?)\s+<(.*?)>/);return null===t?null:new n(t[1],t[2])}toString(){return`${this.name} <${this.email}>`}}t.GitAuthor=n},function(e,t,n){'use strict';function o(e){const t=[];for(const n of e)if(r.isCoAuthoredByTrailer(n)){const e=i.GitAuthor.parse(n.value);e&&t.push(e)}return t}Object.defineProperty(t,'__esModule',{value:!0});const r=n(128),i=n(252);t.Commit=class{constructor(e,t,n,r,i,a,s,d,l){this.sha=e,this.shortSha=t,this.summary=n,this.body=r,this.author=i,this.committer=a,this.parentSHAs=s,this.trailers=d,this.tags=l,this.coAuthors=o(d),this.authoredByCommitter=this.author.name===this.committer.name&&this.author.email===this.committer.email}}},function(e,t,n){'use strict';function o(e,t){const n=e.trim();return'M'===n?{kind:s.AppFileStatusKind.Modified}:'A'===n?{kind:s.AppFileStatusKind.New}:'?'===n?{kind:s.AppFileStatusKind.Untracked}:'D'===n?{kind:s.AppFileStatusKind.Deleted}:'R'===n&&null!=t?{kind:s.AppFileStatusKind.Renamed,oldPath:t}:'C'===n&&null!=t?{kind:s.AppFileStatusKind.Copied,oldPath:t}:n.match(/R[0-9]+/)&&null!=t?{kind:s.AppFileStatusKind.Renamed,oldPath:t}:n.match(/C[0-9]+/)&&null!=t?{kind:s.AppFileStatusKind.Copied,oldPath:t}:{kind:s.AppFileStatusKind.Modified}}async function r(e,t,n,o=[]){const r='1F',i=String.fromCharCode(parseInt(r,16)),s=['%H','%h','%s','%b','%an <%ae> %ad','%cn <%ce> %cd','%P','%(trailers:unfold,only)','%D'].join(`%x${r}`),u=await a.git(['log',t,`--date=raw`,`--max-count=${n}`,`--pretty=${s}`,'-z','--no-show-signature','--no-color',...o,'--'],e.path,'getCommits',{successExitCodes:new Set([0,128])});if(128===u.exitCode)return[];const m=u.stdout,h=m.split('\0');if(h.splice(-1,1),0===h.length)return[];const f=await c.getTrailerSeparatorCharacters(e),g=h.map((e)=>{const t=e.split(i),n=t[0],o=t[1],r=t[2],a=t[3],s=t[4],u=t[5],m=t[6],h=m.length?m.split(' '):[],g=c.parseRawUnfoldedTrailers(t[7],f),y=p.getCaptures(t[8],/tag: ([^\s,]+)/g).filter((e)=>void 0!==e[0]).map((e)=>e[0]),S=l.CommitIdentity.parseIdentity(s);if(!S)throw new Error(`Couldn't parse author identity for '${o}'`);const C=l.CommitIdentity.parseIdentity(u);if(!C)throw new Error(`Couldn't parse committer identity for '${o}'`);return new d.Commit(n,o,r,a,S,C,h,g,y)});return g}function i(e,t){const n=e.split('\0');n.splice(-1,1);const r=[];for(let a=0;a<n.length;a++){const e=n[a];let i;0<e.length&&('R'===e[0]||'C'===e[0])&&(i=n[++a]);const d=o(e,i),l=n[++a];r.push(new s.CommittedFileChange(l,d,t))}return r}Object.defineProperty(t,'__esModule',{value:!0});const a=n(11),s=n(23),d=n(253),l=n(125),c=n(128),p=n(126);t.getCommits=r,t.getChangedFiles=async function(e,t){const n=await a.git(['log',t,'-C','-M','-m','-1','--no-show-signature','--first-parent','--name-status','--format=format:','-z','--'],e.path,'getChangedFiles');return i(n.stdout,t)},t.parseChangedFiles=i,t.getCommit=async function(e,t){const n=await r(e,t,1);return 1>n.length?null:n[0]}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(19),i='.git/description';t.getGitDescription=async function(e){const t=o.join(e,i);try{const e=await r.readFile(t,'utf8');return e==='Unnamed repository; edit this file \'description\' to name the repository.\n'?'':e}catch(e){return''}},t.writeGitDescription=async function(e,t){const n=o.join(e,i);await r.writeFile(n,t)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e.theirs='theirs',e.ours='ours'})(n=t.ManualConflictResolutionKind||(t.ManualConflictResolutionKind={}))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(23),r=n(256),i=n(20),a=n(2);t.stageManualConflictResolution=async function(e,t,n){const{status:s}=t;if(!o.isConflictedFileStatus(s))return void log.error(`tried to manually resolve unconflicted file (${t.path})`);if(!(o.isConflictWithMarkers(s)&&0===s.conflictMarkerCount)){const d=n===r.ManualConflictResolutionKind.theirs?s.entry.them:s.entry.us;switch(d){case o.GitStatusEntry.Deleted:{await i.git(['rm',t.path],e.path,'removeConflictedFile');break}case o.GitStatusEntry.Added:{await i.git(['add',t.path],e.path,'addConflictedFile');break}case o.GitStatusEntry.UpdatedButUnmerged:{const o=n===r.ManualConflictResolutionKind.theirs?'theirs':'ours';await i.git(['checkout',`--${o}`,'--',t.path],e.path,'checkoutConflictedFile'),await i.git(['add',t.path],e.path,'addConflictedFile');break}default:a.assertNever(d,'unnacounted for git status entry possibility');}}}},function(e,t,n){'use strict';function o(e,t){return 0===e?['reset','--hard',t]:2===e?['reset',t]:1===e?['reset','--soft',t]:i.assertNever(e,`Unknown reset mode: ${e}`)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(2);t.reset=async function(e,t,n){const i=o(t,n);return await r.git(i,e.path,'reset'),!0},t.resetPaths=async function(e,t,n,i){if(i.length){const a=o(t,n);if(2===t){const t=[...a,'--stdin','-z','--'];await r.git(t,e.path,'resetPaths',{stdin:i.join('\0')})}else{const t=[...a,'--',...i];await r.git(t,e.path,'resetPaths')}}},t.unstageAll=async function(e){return await r.git(['reset','--','.'],e.path,'unstageAll'),!0}},function(e,t,n){'use strict';function o(e,t,n){return(o)=>{if(t){const e=new d.GitLFSProgressParser,a=l.tailByLine(t,(t)=>{const o=e.parse(t);n(o)});o.on('close',()=>{a.dispose(),r.unlink(t,(e)=>{if(null==e){const e=i.dirname(t);r.rmdir(e,()=>{})}})})}o.stderr&&a(o.stderr).on('data',(t)=>{n(e.parse(t))})}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(33),i=n(1),a=n(170),s=n(54),d=n(696),l=n(127);t.executionOptionsWithProgress=async function(e,t,n){let r=null,i={};if(e.trackLFSProgress)try{r=await d.createLFSProgressFile(),i={GIT_LFS_PROGRESS:r}}catch(t){log.error('Error writing LFS progress file',t),i={GIT_LFS_PROGRESS:null}}return s.merge(e,{processCallback:o(t,r,n),env:s.merge(e.env,i)})}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(35);t.getRemotes=async function(e){const t=await o.git(['remote','-v'],e.path,'getRemotes',{expectedErrors:new Set([r.GitError.NotAGitRepository])});if(t.gitError===r.GitError.NotAGitRepository)return[];const n=t.stdout,i=n.split('\n'),a=i.filter((e)=>e.endsWith('(fetch)')).map((e)=>e.split(/\s+/)).map((e)=>({name:e[0],url:e[1]}));return a},t.addRemote=async function(e,t,n){return await o.git(['remote','add',t,n],e.path,'addRemote'),{url:n,name:t}},t.removeRemote=async function(e,t){const n={successExitCodes:new Set([0,128])};await o.git(['remote','remove',t],e.path,'removeRemote',n)},t.setRemoteURL=async function(e,t,n){return await o.git(['remote','set-url',t,n],e.path,'setRemoteURL'),!0},t.getRemoteURL=async function(e,t){const n=await o.git(['remote','get-url',t],e.path,'getRemoteURL',{successExitCodes:new Set([0,128])});return 0===n.exitCode?n.stdout:null}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.updateRef=async function(e,t,n,r,i){await o.git(['update-ref',t,r,n,'-m',i],e.path,'updateRef')},t.deleteRef=async function(e,t,n){const r=['update-ref','-d',t];n!==void 0&&r.push('-m',n),await o.git(r,e.path,'deleteRef')}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.formatAsLocalRef=function(e){return e.startsWith('heads/')?`refs/${e}`:e.startsWith('refs/heads/')?e:`refs/heads/${e}`},t.getSymbolicRef=async function(e,t){const n=await o.git(['symbolic-ref','-q',t],e.path,'getSymbolicRef',{successExitCodes:new Set([0,1,128])});return 1===n.exitCode||128===n.exitCode?null:n.stdout.trim()}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(35),i=n(46),a=n(125),s=n(174),d=`refs/remotes/${s.ForkedRemotePrefix}`;t.getBranches=async function(e,...t){const n=String.fromCharCode(parseInt('1F',16));t&&t.length||(t=['refs/heads','refs/remotes']);const s=await o.git(['for-each-ref',`--format=${'%(refname)%00%(refname:short)%00%(upstream:short)%00%(objectname)%00%(objectname:short)%00%(author)%00%(committer)%00%(symref)%00%1F'}`,...t],e.path,'getBranches',{expectedErrors:new Set([r.GitError.NotAGitRepository])});if(s.gitError===r.GitError.NotAGitRepository)return[];const l=s.stdout,c=l.split(n);if(c.splice(-1,1),0===c.length)return[];const p=[];for(const[n,o]of c.entries()){const e=(0<n?o.substr(1):o).split('\0'),t=e[0],r=e[1],s=e[2],l=e[3],c=e[4],u=e[5],m=a.CommitIdentity.parseIdentity(u);if(!m)throw new Error(`Couldn't parse author identity for '${c}'`);const h=e[6],f=a.CommitIdentity.parseIdentity(h);if(!f)throw new Error(`Couldn't parse committer identity for '${c}'`);const g=e[7],y=t.startsWith('refs/head')?i.BranchType.Local:i.BranchType.Remote;0<g.length||t.startsWith(d)||p.push(new i.Branch(r,0<s.length?s:null,{sha:l,author:m},y))}return p}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(23);t.getOldPathOrDefault=function(e){return e.status.kind===o.AppFileStatusKind.Renamed||e.status.kind===o.AppFileStatusKind.Copied?e.status.oldPath:e.path}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(83);t.getBlobContents=async function(e,t,n){const r=new Set([0,1]),i=['show',`${t}:${n}`],a=await o.git(i,e.path,'getBlobContents',{successExitCodes:r,processCallback:(e)=>{e.stdout&&e.stdout.setEncoding('binary')}});return Buffer.from(a.stdout,'binary')},t.getPartialBlobContents=async function(e,t,n,o){const i=new Set([0,1]),a=['show',`${t}:${n}`],{output:s}=await r.spawnAndComplete(a,e.path,'getPartialBlobContents',i,o);return s}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(35),r=n(11),i=n(23),a=n(30),s=n(171),d=n(707);t.applyPatchToIndex=async function(e,t){if(t.status.kind===i.AppFileStatusKind.Renamed){await r.git(['add','--u','--',t.status.oldPath],e.path,'applyPatchToIndex');const n=await r.git(['ls-tree','HEAD','--',t.status.oldPath],e.path,'applyPatchToIndex'),[o]=n.stdout.split('\t',1),[i,,a]=o.split(' ',3);await r.git(['update-index','--add','--cacheinfo',i,a,t.path],e.path,'applyPatchToIndex')}const n=await s.getWorkingDirectoryDiff(e,t);if(n.kind!==a.DiffType.Text)throw new Error(`Unexpected diff result returned: '${n.kind}'`);const o=await d.formatPatch(t,n);return await r.git(['apply','--cached','--unidiff-zero','--whitespace=nowarn','-'],e.path,'applyPatchToIndex',{stdin:o}),Promise.resolve()},t.checkPatch=async function(e,t){const n=await r.git(['apply','--check','-'],e.path,'checkPatch',{stdin:t,stdinEncoding:'utf8',expectedErrors:new Set([o.GitError.PatchDoesNotApply])});return n.gitError!==o.GitError.PatchDoesNotApply},t.discardChangesFromSelection=async function(e,t,n,o){const i=d.formatPatchToDiscardChanges(t,n,o);if(null!==i){await r.git(['apply','--unidiff-zero','--whitespace=nowarn','-'],e.path,'discardChangesFromSelection',{stdin:i})}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(10);t.getAccountForRepository=function(e,t){const n=t.gitHubRepository;return n?o.getAccountForEndpoint(e,n.endpoint):null}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(712);t.TokenStore={setItem:function(e,t,n){return o.setPassword(e,t,n)},getItem:function(e,t){return o.getPassword(e,t)},deleteItem:function(e,t){return o.deletePassword(e,t)}}},function(e,t,n){'use strict';function o(e){return`genericGitAuth/username/${e}`}Object.defineProperty(t,'__esModule',{value:!0});const r=n(42),i=n(104),a=n(291),s=n(268);t.getGenericHostname=function(e){const t=i.parseRemote(e);if(t)return t.hostname;const n=r.parse(e).hostname;return n?n:e},t.getGenericUsername=function(e){const t=o(e);return localStorage.getItem(t)},t.setGenericUsername=function(e,t){const n=o(e);return localStorage.setItem(n,t)},t.setGenericPassword=function(e,t,n){const o=a.getKeyForEndpoint(e);return s.TokenStore.setItem(o,t,n)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isErrnoException=function(e){return e instanceof Error&&'string'==typeof e.code&&'string'==typeof e.syscall}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.SSHKeyAuditUnverified=0]='SSHKeyAuditUnverified',e[e.SSHAuthenticationFailed=1]='SSHAuthenticationFailed',e[e.SSHPermissionDenied=2]='SSHPermissionDenied',e[e.HTTPSAuthenticationFailed=3]='HTTPSAuthenticationFailed',e[e.RemoteDisconnection=4]='RemoteDisconnection',e[e.HostDown=5]='HostDown',e[e.RebaseConflicts=6]='RebaseConflicts',e[e.MergeConflicts=7]='MergeConflicts',e[e.HTTPSRepositoryNotFound=8]='HTTPSRepositoryNotFound',e[e.SSHRepositoryNotFound=9]='SSHRepositoryNotFound',e[e.PushNotFastForward=10]='PushNotFastForward',e[e.BranchDeletionFailed=11]='BranchDeletionFailed',e[e.DefaultBranchDeletionFailed=12]='DefaultBranchDeletionFailed',e[e.RevertConflicts=13]='RevertConflicts',e[e.EmptyRebasePatch=14]='EmptyRebasePatch',e[e.NoMatchingRemoteBranch=15]='NoMatchingRemoteBranch',e[e.NoExistingRemoteBranch=16]='NoExistingRemoteBranch',e[e.NothingToCommit=17]='NothingToCommit',e[e.NoSubmoduleMapping=18]='NoSubmoduleMapping',e[e.SubmoduleRepositoryDoesNotExist=19]='SubmoduleRepositoryDoesNotExist',e[e.InvalidSubmoduleSHA=20]='InvalidSubmoduleSHA',e[e.LocalPermissionDenied=21]='LocalPermissionDenied',e[e.InvalidMerge=22]='InvalidMerge',e[e.InvalidRebase=23]='InvalidRebase',e[e.NonFastForwardMergeIntoEmptyHead=24]='NonFastForwardMergeIntoEmptyHead',e[e.PatchDoesNotApply=25]='PatchDoesNotApply',e[e.BranchAlreadyExists=26]='BranchAlreadyExists',e[e.BadRevision=27]='BadRevision',e[e.NotAGitRepository=28]='NotAGitRepository',e[e.CannotMergeUnrelatedHistories=29]='CannotMergeUnrelatedHistories',e[e.LFSAttributeDoesNotMatch=30]='LFSAttributeDoesNotMatch',e[e.BranchRenameFailed=31]='BranchRenameFailed',e[e.PathDoesNotExist=32]='PathDoesNotExist',e[e.InvalidObjectName=33]='InvalidObjectName',e[e.OutsideRepository=34]='OutsideRepository',e[e.LockFileAlreadyExists=35]='LockFileAlreadyExists',e[e.NoMergeToAbort=36]='NoMergeToAbort',e[e.LocalChangesOverwritten=37]='LocalChangesOverwritten',e[e.UnresolvedConflicts=38]='UnresolvedConflicts',e[e.PushWithFileSizeExceedingLimit=39]='PushWithFileSizeExceedingLimit',e[e.HexBranchNameRejected=40]='HexBranchNameRejected',e[e.ForcePushRejected=41]='ForcePushRejected',e[e.InvalidRefLength=42]='InvalidRefLength',e[e.ProtectedBranchRequiresReview=43]='ProtectedBranchRequiresReview',e[e.ProtectedBranchForcePush=44]='ProtectedBranchForcePush',e[e.ProtectedBranchDeleteRejected=45]='ProtectedBranchDeleteRejected',e[e.ProtectedBranchRequiredStatus=46]='ProtectedBranchRequiredStatus',e[e.PushWithPrivateEmail=47]='PushWithPrivateEmail',e[e.ConfigLockFileAlreadyExists=48]='ConfigLockFileAlreadyExists',e[e.RemoteAlreadyExists=49]='RemoteAlreadyExists',e[e.TagAlreadyExists=50]='TagAlreadyExists'})(n=t.GitError||(t.GitError={})),t.GitErrorRegexes={"ERROR: ([\\s\\S]+?)\\n+\\[EPOLICYKEYAGE\\]\\n+fatal: Could not read from remote repository.":n.SSHKeyAuditUnverified,"fatal: Authentication failed for 'https://":n.HTTPSAuthenticationFailed,"fatal: Authentication failed":n.SSHAuthenticationFailed,"fatal: Could not read from remote repository.":n.SSHPermissionDenied,"The requested URL returned error: 403":n.HTTPSAuthenticationFailed,"fatal: The remote end hung up unexpectedly":n.RemoteDisconnection,"fatal: unable to access '(.+)': Failed to connect to (.+): Host is down":n.HostDown,"Cloning into '(.+)'...\nfatal: unable to access '(.+)': Could not resolve host: (.+)":n.HostDown,"Failed to merge in the changes.":n.RebaseConflicts,"(Merge conflict|Automatic merge failed; fix conflicts and then commit the result)":n.MergeConflicts,"fatal: repository '(.+)' not found":n.HTTPSRepositoryNotFound,"ERROR: Repository not found":n.SSHRepositoryNotFound,"\\((non-fast-forward|fetch first)\\)\nerror: failed to push some refs to '.*'":n.PushNotFastForward,"error: unable to delete '(.+)': remote ref does not exist":n.BranchDeletionFailed,"\\[remote rejected\\] (.+) \\(deletion of the current branch prohibited\\)":n.DefaultBranchDeletionFailed,"error: could not revert .*\nhint: after resolving the conflicts, mark the corrected paths\nhint: with 'git add <paths>' or 'git rm <paths>'\nhint: and commit the result with 'git commit'":n.RevertConflicts,"Applying: .*\nNo changes - did you forget to use 'git add'\\?\nIf there is nothing left to stage, chances are that something else\n.*":n.EmptyRebasePatch,"There are no candidates for (rebasing|merging) among the refs that you just fetched.\nGenerally this means that you provided a wildcard refspec which had no\nmatches on the remote end.":n.NoMatchingRemoteBranch,"Your configuration specifies to merge with the ref '(.+)'\nfrom the remote, but no such ref was fetched.":n.NoExistingRemoteBranch,"nothing to commit":n.NothingToCommit,"No submodule mapping found in .gitmodules for path '(.+)'":n.NoSubmoduleMapping,"fatal: repository '(.+)' does not exist\nfatal: clone of '.+' into submodule path '(.+)' failed":n.SubmoduleRepositoryDoesNotExist,"Fetched in submodule path '(.+)', but it did not contain (.+). Direct fetching of that commit failed.":n.InvalidSubmoduleSHA,"fatal: could not create work tree dir '(.+)'.*: Permission denied":n.LocalPermissionDenied,"merge: (.+) - not something we can merge":n.InvalidMerge,"invalid upstream (.+)":n.InvalidRebase,"fatal: Non-fast-forward commit does not make sense into an empty head":n.NonFastForwardMergeIntoEmptyHead,"error: (.+): (patch does not apply|already exists in working directory)":n.PatchDoesNotApply,"fatal: A branch named '(.+)' already exists.":n.BranchAlreadyExists,"fatal: bad revision '(.*)'":n.BadRevision,"fatal: [Nn]ot a git repository \\(or any of the parent directories\\): (.*)":n.NotAGitRepository,"fatal: refusing to merge unrelated histories":n.CannotMergeUnrelatedHistories,"The .+ attribute should be .+ but is .+":n.LFSAttributeDoesNotMatch,"fatal: Branch rename failed":n.BranchRenameFailed,"fatal: Path '(.+)' does not exist .+":n.PathDoesNotExist,"fatal: Invalid object name '(.+)'.":n.InvalidObjectName,"fatal: .+: '(.+)' is outside repository":n.OutsideRepository,"Another git process seems to be running in this repository, e.g.":n.LockFileAlreadyExists,"fatal: There is no merge to abort":n.NoMergeToAbort,"error: (?:Your local changes to the following|The following untracked working tree) files would be overwritten by checkout:":n.LocalChangesOverwritten,"You must edit all merge conflicts and then\nmark them as resolved using git add":n.UnresolvedConflicts,"error: GH001: ":n.PushWithFileSizeExceedingLimit,"error: GH002: ":n.HexBranchNameRejected,"error: GH003: Sorry, force-pushing to (.+) is not allowed.":n.ForcePushRejected,"error: GH005: Sorry, refs longer than (.+) bytes are not allowed":n.InvalidRefLength,"error: GH006: Protected branch update failed for (.+)\nremote: error: At least one approved review is required":n.ProtectedBranchRequiresReview,"error: GH006: Protected branch update failed for (.+)\nremote: error: Cannot force-push to a protected branch":n.ProtectedBranchForcePush,"error: GH006: Protected branch update failed for (.+)\nremote: error: Cannot delete a protected branch":n.ProtectedBranchDeleteRejected,'error: GH006: Protected branch update failed for (.+).\nremote: error: Required status check "(.+)" is expected':n.ProtectedBranchRequiredStatus,"error: GH007: Your push would publish a private email address.":n.PushWithPrivateEmail,"error: could not lock config file (.+): File exists":n.ConfigLockFileAlreadyExists,"fatal: remote (.+) already exists.":n.RemoteAlreadyExists,"fatal: tag '(.+)' already exists":n.TagAlreadyExists},t.GitNotFoundErrorCode='git-not-found-error',t.RepositoryDoesNotExistErrorCode='repository-does-not-exist-error'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(128);t.formatCommitMessage=async function(e,t){const{summary:n,description:r,trailers:i}=t,a=`${n}\n\n${r||''}\n`.replace(/\s+$/,'\n');return i!==void 0&&0<i.length?o.mergeTrailers(e,a,i):a}},function(e,t,n){'use strict';async function o(e,t,n){const o=i.API.fromAccount(e),r=await o.fetchRepository(t,n);return!!r}Object.defineProperty(t,'__esModule',{value:!0});const r=n(42),i=n(10),a=n(104),s=n(136);t.findAccountForRemoteURL=async function(e,t,n=o){const d=[...t,s.Account.anonymous()],l=a.parseRemote(e);if(l){const e=d.find((e)=>{const t=i.getHTMLURL(e.endpoint),n=r.parse(t);return l.hostname===n.hostname})||null;if(e)return e}const c=a.parseRepositoryIdentifier(e);if(c){const{owner:e,name:t,hostname:o}=c,a=Array.from(d).sort((e,t)=>e.endpoint===i.getDotComAPIEndpoint()?e.token.length?-1:1:t.endpoint===i.getDotComAPIEndpoint()?t.token.length?1:-1:0);for(const s of a){if(null!=o){const e=r.parse(i.getHTMLURL(s.endpoint)),t=e.hostname;if(t!==o)continue}const a=await n(s,e,t);if(a)return s}}return null}},function(e,t,n){'use strict';function o(e){return e===l.Atom?l.Atom:e===l.VSCode?l.VSCode:e===l.VSCodeInsiders?l.VSCode:e===l.VSCodium?l.VSCodium:e===l.SublimeText?l.SublimeText:e===l.Typora?l.Typora:e===l.SlickEdit?l.SlickEdit:null}async function r(e){return(await s.pathExists(e))?e:null}async function i(e){switch(e){case l.Atom:return r('/usr/bin/atom');case l.VSCode:return r('/usr/bin/code');case l.VSCodeInsiders:return r('/usr/bin/code-insiders');case l.VSCodium:return r('/usr/bin/codium');case l.SublimeText:return r('/usr/bin/subl');case l.Typora:return r('/usr/bin/typora');case l.SlickEdit:const t=['/opt/slickedit-pro2018/bin/vs','/opt/slickedit-pro2017/bin/vs','/opt/slickedit-pro2016/bin/vs','/opt/slickedit-pro2015/bin/vs'];for(const e of t){const t=await r(e);if(t)return t}return null;default:return d.assertNever(e,`Unknown editor: ${e}`);}}async function a(){const e=[],[t,n,o,r,a,s,d]=await Promise.all([i(l.Atom),i(l.VSCode),i(l.VSCodeInsiders),i(l.VSCodium),i(l.SublimeText),i(l.Typora),i(l.SlickEdit)]);return t&&e.push({editor:l.Atom,path:t}),n&&e.push({editor:l.VSCode,path:n}),o&&e.push({editor:l.VSCode,path:o}),r&&e.push({editor:l.VSCodium,path:r}),a&&e.push({editor:l.SublimeText,path:a}),s&&e.push({editor:l.Typora,path:s}),d&&e.push({editor:l.SlickEdit,path:d}),e}Object.defineProperty(t,'__esModule',{value:!0});const s=n(19),d=n(2);var l;(function(e){e.Atom='Atom',e.VSCode='Visual Studio Code',e.VSCodeInsiders='Visual Studio Code (Insiders)',e.VSCodium='VSCodium',e.SublimeText='Sublime Text',e.Typora='Typora',e.SlickEdit='SlickEdit'})(l=t.ExternalEditor||(t.ExternalEditor={})),t.parse=o,t.getAvailableEditors=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(717))},function(e,t,n){'use strict';function o(e){return e===f.Atom?f.Atom:e===f.AtomBeta?f.AtomBeta:e===f.AtomNightly?f.AtomNightly:e===f.VSCode?f.VSCode:e===f.VSCodeInsiders?f.VSCodeInsiders:e===f.VSCodium?f.VSCodium:e===f.SublimeText?f.SublimeText:e===f.CFBuilder?f.CFBuilder:e===f.Typora?f.Typora:e===f.SlickEdit?f.SlickEdit:e===f.Webstorm?f.Webstorm:e===f.Phpstorm?f.Phpstorm:e===f.NotepadPlusPlus?f.NotepadPlusPlus:e===f.Rider?f.Rider:null}function r(e){return e===f.Atom?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\atom'}]:e===f.AtomBeta?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\atom-beta'}]:e===f.AtomNightly?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\atom-nightly'}]:e===f.VSCode?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{771FD6B0-FA20-440A-A002-3B3BAC16DC50}_is1'},{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{D628A17A-9713-46BF-8D57-E671B46A741E}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{EA457B21-F73E-494C-ACAB-524FDE069978}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{F8A2A208-72B3-4D61-95FC-8A65D340689B}_is1'}]:e===f.VSCodeInsiders?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{217B4C08-948D-4276-BFBB-BEE930AE5A2C}_is1'},{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{26F4A15E-E392-4887-8C09-7BC55712FD5B}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{1287CAD5-7C8D-410D-88B9-0D1EE4A83FF2}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{C26E74D1-022E-4238-8B9D-1E7564A36CC9}_is1'}]:e===f.VSCodium?[{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{2E1F05D1-C245-4562-81EE-28188DB6FD17}_is1'},{key:u.HKEY.HKEY_CURRENT_USER,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{C6065F05-9603-4FC4-8101-B9781A25D88E}}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{D77B7E06-80BA-4137-BCF4-654B95CCEBC5}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{E34003BB-9E10-4501-8C11-BE3FAA83F23F}_is1'}]:e===f.SublimeText?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Sublime Text 3_is1'}]:e===f.CFBuilder?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Adobe ColdFusion Builder 3_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Adobe ColdFusion Builder 2016'}]:e===f.Typora?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{37771A20-7167-44C0-B322-FD3E54C56156}_is1'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{37771A20-7167-44C0-B322-FD3E54C56156}_is1'}]:e===f.SlickEdit?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{18406187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{18006187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{18606187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{18206187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{15406187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{15006187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{10C06187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{10406187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{0DC06187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{0D406187-F49E-4822-CAF2-1D25C0C83BA2}'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\{7CC0E567-ACD6-41E8-95DA-154CEEDB0A18}'}]:e===f.Webstorm?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\WebStorm 2018.3'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\WebStorm 2019.2'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\WebStorm 2019.2.4'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\WebStorm 2019.3'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\WebStorm 2020.1'}]:e===f.Phpstorm?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\PhpStorm 2019.2'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\PhpStorm 2019.2.4'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\PhpStorm 2019.3'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\PhpStorm 2020.1'}]:e===f.NotepadPlusPlus?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Notepad++'},{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\Notepad++'}]:e===f.Rider?[{key:u.HKEY.HKEY_LOCAL_MACHINE,subKey:'SOFTWARE\\WOW6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall\\JetBrains Rider 2019.3.4'}]:h.assertNever(e,`Unknown external editor: ${e}`)}function i(e,t){return e===f.Atom?p.join(t,'bin','atom.cmd'):e===f.AtomBeta?p.join(t,'bin','atom-beta.cmd'):e===f.AtomNightly?p.join(t,'bin','atom-nightly.cmd'):e===f.VSCode?p.join(t,'bin','code.cmd'):e===f.VSCodeInsiders?p.join(t,'bin','code-insiders.cmd'):e===f.VSCodium?p.join(t,'bin','codium.cmd'):e===f.SublimeText?p.join(t,'subl.exe'):e===f.CFBuilder?p.join(t,'CFBuilder.exe'):e===f.Typora?p.join(t,'typora.exe'):e===f.SlickEdit?p.join(t,'win','vs.exe'):e===f.Webstorm?p.join(t,'bin','webstorm.exe'):e===f.Phpstorm?p.join(t,'bin','phpstorm.exe'):e===f.NotepadPlusPlus?p.join(t):e===f.Rider?p.join(t,'bin','rider64.exe'):h.assertNever(e,`Unknown external editor: ${e}`)}function a(e,t,n){return e===f.Atom?'Atom'===t&&'GitHub Inc.'===n:e===f.AtomBeta?'Atom Beta'===t&&'GitHub Inc.'===n:e===f.AtomNightly?'Atom Nightly'===t&&'GitHub Inc.'===n:e===f.VSCode?t.startsWith('Microsoft Visual Studio Code')&&'Microsoft Corporation'===n:e===f.VSCodeInsiders?t.startsWith('Microsoft Visual Studio Code Insiders')&&'Microsoft Corporation'===n:e===f.VSCodium?'Visual Source Codium'===t&&'VSCodium'===n:e===f.SublimeText?'Sublime Text'===t&&'Sublime HQ Pty Ltd'===n:e===f.CFBuilder?('Adobe ColdFusion Builder 3'===t||'Adobe ColdFusion Builder 2016'===t)&&'Adobe Systems Incorporated'===n:e===f.Typora?t.startsWith('Typora')&&'typora.io'===n:e===f.SlickEdit?t.startsWith('SlickEdit')&&'SlickEdit Inc.'===n:e===f.Webstorm?t.startsWith('WebStorm')&&'JetBrains s.r.o.'===n:e===f.Phpstorm?t.startsWith('PhpStorm')&&'JetBrains s.r.o.'===n:e===f.NotepadPlusPlus?t.startsWith('Notepad++')&&'Notepad++ Team'===n:e===f.Rider?t.startsWith('JetBrains Rider')&&'JetBrains s.r.o.'===n:h.assertNever(e,`Unknown external editor: ${e}`)}function s(e,t){const n=e.find((e)=>e.name===t);return n&&n.type===u.RegistryValueType.REG_SZ?n.data:''}function d(e,t){if(e===f.Atom||e===f.AtomBeta||e===f.AtomNightly){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.VSCode||e===f.VSCodeInsiders){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.VSCodium){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.SublimeText){let e='',n='',o='';for(const r of t)'DisplayName'===r.name&&r.type===u.RegistryValueType.REG_SZ&&r.data.startsWith('Sublime Text')?e='Sublime Text':'Publisher'===r.name&&r.type===u.RegistryValueType.REG_SZ?n=r.data:'InstallLocation'===r.name&&r.type===u.RegistryValueType.REG_SZ&&(o=r.data);return{displayName:e,publisher:n,installLocation:o}}if(e===f.CFBuilder){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.Typora){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.SlickEdit){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'InstallLocation');return{displayName:e,publisher:n,installLocation:o}}if(e===f.Webstorm){let e='',n='',o='';for(const r of t)'DisplayName'===r.name&&r.type===u.RegistryValueType.REG_SZ&&r.data.startsWith('WebStorm ')?e='WebStorm':'Publisher'===r.name&&r.type===u.RegistryValueType.REG_SZ?n=r.data:'InstallLocation'===r.name&&r.type===u.RegistryValueType.REG_SZ&&(o=r.data);return{displayName:e,publisher:n,installLocation:o}}if(e===f.Phpstorm){let e='',n='',o='';for(const r of t)'DisplayName'===r.name&&r.type===u.RegistryValueType.REG_SZ&&r.data.startsWith('PhpStorm ')?e='PhpStorm':'Publisher'===r.name&&r.type===u.RegistryValueType.REG_SZ?n=r.data:'InstallLocation'===r.name&&r.type===u.RegistryValueType.REG_SZ&&(o=r.data);return{displayName:e,publisher:n,installLocation:o}}if(e===f.NotepadPlusPlus){const e=s(t,'DisplayName'),n=s(t,'Publisher'),o=s(t,'DisplayIcon');return{displayName:e,publisher:n,installLocation:o}}if(e===f.Rider){let e='',n='',o='';for(const r of t)'DisplayName'===r.name&&r.type===u.RegistryValueType.REG_SZ&&r.data.startsWith('JetBrains Rider ')?e='JetBrains Rider':'Publisher'===r.name&&r.type===u.RegistryValueType.REG_SZ?n=r.data:'InstallLocation'===r.name&&r.type===u.RegistryValueType.REG_SZ&&(o=r.data);return{displayName:e,publisher:n,installLocation:o}}return h.assertNever(e,`Unknown external editor: ${e}`)}async function l(e){const t=r(e);let n=[];for(const{key:o,subKey:r}of t)if(n=u.enumerateValues(o,r),0<n.length)break;if(0===n.length)return null;const{displayName:o,publisher:s,installLocation:l}=d(e,n);if(!a(e,o,s))return log.debug(`Registry entry for ${e} did not match expected publisher settings`),null;const c=i(e,l),p=await m.pathExists(c);return p?c:(log.debug(`Command line interface for ${e} not found at '${c}'`),null)}async function c(){const e=[],[t,n,o,r,i,a,s,d,c,p,u,m,h,g]=await Promise.all([l(f.Atom),l(f.AtomBeta),l(f.AtomNightly),l(f.VSCode),l(f.VSCodeInsiders),l(f.VSCodium),l(f.SublimeText),l(f.CFBuilder),l(f.Typora),l(f.SlickEdit),l(f.Webstorm),l(f.Phpstorm),l(f.NotepadPlusPlus),l(f.Rider)]);return t&&e.push({editor:f.Atom,path:t,usesShell:!0}),n&&e.push({editor:f.AtomBeta,path:n,usesShell:!0}),o&&e.push({editor:f.AtomNightly,path:o,usesShell:!0}),r&&e.push({editor:f.VSCode,path:r,usesShell:!0}),i&&e.push({editor:f.VSCodeInsiders,path:i,usesShell:!0}),a&&e.push({editor:f.VSCodium,path:a,usesShell:!0}),s&&e.push({editor:f.SublimeText,path:s,usesShell:!1}),d&&e.push({editor:f.CFBuilder,path:d,usesShell:!1}),c&&e.push({editor:f.Typora,path:c,usesShell:!1}),p&&e.push({editor:f.SlickEdit,path:p}),u&&e.push({editor:f.Webstorm,path:u}),m&&e.push({editor:f.Phpstorm,path:m}),h&&e.push({editor:f.NotepadPlusPlus,path:h}),g&&e.push({editor:f.Rider,path:g}),e}Object.defineProperty(t,'__esModule',{value:!0});const p=n(1),u=n(275),m=n(19),h=n(2);var f;(function(e){e.Atom='Atom',e.AtomBeta='Atom Beta',e.AtomNightly='Atom Nightly',e.VSCode='Visual Studio Code',e.VSCodeInsiders='Visual Studio Code (Insiders)',e.VSCodium='Visual Studio Codium',e.SublimeText='Sublime Text',e.CFBuilder='ColdFusion Builder',e.Typora='Typora',e.SlickEdit='SlickEdit',e.Webstorm='JetBrains Webstorm',e.Phpstorm='JetBrains Phpstorm',e.NotepadPlusPlus='Notepad++',e.Rider='JetBrains Rider'})(f=t.ExternalEditor||(t.ExternalEditor={})),t.parse=o,t.getAvailableEditors=c},function(e,t,n){'use strict';function o(e){throw 2===e.code&&(e.message='Couldn\'t find the app'),e}const r=n(299);e.exports=(e)=>{return Promise.reject(new Error('macOS only'))},e.exports.sync=(e)=>{throw new Error('macOS only')}},function(e,t,n){'use strict';function o(e){return e===p.Atom?p.Atom:e===p.MacVim?p.MacVim:e===p.VSCode?p.VSCode:e===p.VSCodeInsiders?p.VSCodeInsiders:e===p.VSCodium?p.VSCodium:e===p.SublimeText?p.SublimeText:e===p.BBEdit?p.BBEdit:e===p.PhpStorm?p.PhpStorm:e===p.PyCharm?p.PyCharm:e===p.RubyMine?p.RubyMine:e===p.TextMate?p.TextMate:e===p.Brackets?p.Brackets:e===p.WebStorm?p.WebStorm:e===p.Typora?p.Typora:e===p.CodeRunner?p.CodeRunner:e===p.SlickEdit?p.SlickEdit:e===p.IntelliJ?p.IntelliJ:e===p.Xcode?p.Xcode:e===p.GoLand?p.GoLand:e===p.AndroidStudio?p.AndroidStudio:e===p.Rider?p.Rider:null}function r(e){return e===p.Atom?['com.github.atom']:e===p.MacVim?['org.vim.MacVim']:e===p.VSCode?['com.microsoft.VSCode']:e===p.VSCodeInsiders?['com.microsoft.VSCodeInsiders']:e===p.VSCodium?['com.visualstudio.code.oss']:e===p.SublimeText?['com.sublimetext.3']:e===p.BBEdit?['com.barebones.bbedit']:e===p.PhpStorm?['com.jetbrains.PhpStorm']:e===p.PyCharm?['com.jetbrains.PyCharm']:e===p.RubyMine?['com.jetbrains.RubyMine']:e===p.IntelliJ?['com.jetbrains.intellij']:e===p.TextMate?['com.macromates.TextMate']:e===p.Brackets?['io.brackets.appshell']:e===p.WebStorm?['com.jetbrains.WebStorm']:e===p.Typora?['abnerworks.Typora']:e===p.CodeRunner?['com.krill.CodeRunner']:e===p.SlickEdit?['com.slickedit.SlickEditPro2018','com.slickedit.SlickEditPro2017','com.slickedit.SlickEditPro2016','com.slickedit.SlickEditPro2015']:e===p.Xcode?['com.apple.dt.Xcode']:e===p.GoLand?['com.jetbrains.goland']:e===p.AndroidStudio?['com.google.android.studio']:e===p.Rider?['com.jetbrains.rider']:c.assertNever(e,`Unknown external editor: ${e}`)}function i(e,t){return e===p.Atom?d.join(t,'Contents','Resources','app','atom.sh'):e===p.VSCode||e===p.VSCodeInsiders?d.join(t,'Contents','Resources','app','bin','code'):e===p.VSCodium?d.join(t,'Contents','Resources','app','bin','code'):e===p.MacVim?d.join(t,'Contents','MacOS','MacVim'):e===p.SublimeText?d.join(t,'Contents','SharedSupport','bin','subl'):e===p.BBEdit?d.join(t,'Contents','Helpers','bbedit_tool'):e===p.PhpStorm?d.join(t,'Contents','MacOS','phpstorm'):e===p.PyCharm?d.join(t,'Contents','MacOS','pycharm'):e===p.RubyMine?d.join(t,'Contents','MacOS','rubymine'):e===p.TextMate?d.join(t,'Contents','Resources','mate'):e===p.Brackets?d.join(t,'Contents','MacOS','Brackets'):e===p.WebStorm?d.join(t,'Contents','MacOS','WebStorm'):e===p.IntelliJ?d.join(t,'Contents','MacOS','idea'):e===p.Typora?d.join(t,'Contents','MacOS','Typora'):e===p.CodeRunner?d.join(t,'Contents','MacOS','CodeRunner'):e===p.SlickEdit?d.join(t,'Contents','MacOS','vs'):e===p.Xcode?'/usr/bin/xed':e===p.GoLand?d.join(t,'Contents','MacOS','goland'):e===p.AndroidStudio?d.join(t,'Contents','MacOS','studio'):e===p.Rider?d.join(t,'Contents','MacOS','rider'):c.assertNever(e,`Unknown external editor: ${e}`)}async function a(e){const t=r(e);for(const n of t)try{const t=await u(n),o=i(e,t),r=await l.pathExists(o);if(r)return o;log.debug(`Command line interface for ${e} not found at '${o}'`)}catch(t){log.debug(`Unable to locate ${e} installation`,t)}return null}async function s(){const e=[],[t,n,o,r,i,s,d,l,c,u,m,h,f,g,y,S,C,b,v,E,w]=await Promise.all([a(p.Atom),a(p.MacVim),a(p.VSCode),a(p.VSCodeInsiders),a(p.VSCodium),a(p.SublimeText),a(p.BBEdit),a(p.PhpStorm),a(p.PyCharm),a(p.RubyMine),a(p.TextMate),a(p.Brackets),a(p.WebStorm),a(p.Typora),a(p.CodeRunner),a(p.SlickEdit),a(p.IntelliJ),a(p.Xcode),a(p.GoLand),a(p.AndroidStudio),a(p.Rider)]);return t&&e.push({editor:p.Atom,path:t}),n&&e.push({editor:p.MacVim,path:n}),o&&e.push({editor:p.VSCode,path:o}),r&&e.push({editor:p.VSCodeInsiders,path:r}),i&&e.push({editor:p.VSCodium,path:i}),s&&e.push({editor:p.SublimeText,path:s}),d&&e.push({editor:p.BBEdit,path:d}),l&&e.push({editor:p.PhpStorm,path:l}),c&&e.push({editor:p.PyCharm,path:c}),u&&e.push({editor:p.RubyMine,path:u}),m&&e.push({editor:p.TextMate,path:m}),h&&e.push({editor:p.Brackets,path:h}),f&&e.push({editor:p.WebStorm,path:f}),g&&e.push({editor:p.Typora,path:g}),y&&e.push({editor:p.CodeRunner,path:y}),S&&e.push({editor:p.SlickEdit,path:S}),C&&e.push({editor:p.IntelliJ,path:C}),b&&e.push({editor:p.Xcode,path:b}),v&&e.push({editor:p.GoLand,path:v}),E&&e.push({editor:p.AndroidStudio,path:E}),w&&e.push({editor:p.Rider,path:w}),e}Object.defineProperty(t,'__esModule',{value:!0});const d=n(1),l=n(19),c=n(2);var p;(function(e){e.Atom='Atom',e.MacVim='MacVim',e.VSCode='Visual Studio Code',e.VSCodeInsiders='Visual Studio Code (Insiders)',e.VSCodium='VSCodium',e.SublimeText='Sublime Text',e.BBEdit='BBEdit',e.PhpStorm='PhpStorm',e.PyCharm='PyCharm',e.RubyMine='RubyMine',e.TextMate='TextMate',e.Brackets='Brackets',e.WebStorm='WebStorm',e.Typora='Typora',e.CodeRunner='CodeRunner',e.SlickEdit='SlickEdit',e.IntelliJ='IntelliJ',e.Xcode='Xcode',e.GoLand='GoLand',e.AndroidStudio='Android Studio',e.Rider='Rider'})(p=t.ExternalEditor||(t.ExternalEditor={})),t.parse=o;const u=n(277);t.getAvailableEditors=s},function(e,t,n){'use strict';async function o(){return d&&0<d.length?d:(!1,d=await a.getAvailableEditors(),d)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(101),i=n(278),a=n(276),s=n(274);let d=null;t.getAvailableEditors=o,t.findEditorOrDefault=async function(e){const t=await o();if(0===t.length)return null;if(e){const n=t.find((t)=>t.editor===e)||null;if(!n){const t='Options',n=`The editor '${e}' could not be found. Please open ${t} and choose an available editor.`;throw new r.ExternalEditorError(n,{openPreferences:!0})}return n}return t[0]}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(279)),o(n(715));var r=n(101);t.parse=r.parse},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});class n{constructor(e,t,n){this.login=e,this.endpoint=t,this.id=n}get hash(){return`${this.login}+${this.endpoint}+${this.id}`}}t.Owner=n},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.Branches=0]='Branches',e[e.PullRequests=1]='PullRequests'})(n=t.BranchesTab||(t.BranchesTab={}))},function(e,t,n){'use strict';const o=n(39).fromCallback;e.exports={copy:o(n(741))}},function(e){'use strict';e.exports=function(e){if('function'==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){'use strict';var o=Math.floor;const r=n(32),i=n(63),a=n(1);e.exports={hasMillisRes:function(e){let t=a.join('millis-test'+Date.now().toString()+Math.random().toString().slice(2));t=a.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,'https://github.com/jprichardson/node-fs-extra/pull/141',(o)=>o?e(o):void r.open(t,'r+',(o,i)=>o?e(o):void r.futimes(i,n,n,(n)=>n?e(n):void r.close(i,(n)=>n?e(n):void r.stat(t,(t,n)=>t?e(t):void e(null,1435410243e3<n.mtime))))))},hasMillisResSync:function(){let e=a.join('millis-test-sync'+Date.now().toString()+Math.random().toString().slice(2));e=a.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,'https://github.com/jprichardson/node-fs-extra/pull/141');const n=r.openSync(e,'r+');return r.futimesSync(n,t,t),r.closeSync(n),1435410243e3<r.statSync(e).mtime},timeRemoveMillis:function(e){if('number'==typeof e)return 1e3*o(e/1e3);if(e instanceof Date)return new Date(1e3*o(e.getTime()/1e3));throw new Error('fs-extra: timeRemoveMillis() unknown parameter type')},utimesMillis:function(e,t,n,o){r.open(e,'r+',(e,i)=>e?o(e):void r.futimes(i,t,n,(e)=>{r.close(i,(t)=>{o&&o(e||t)})}))},utimesMillisSync:function(e,t,n){const o=r.openSync(e,'r+');return r.futimesSync(o,t,n),r.closeSync(o)}}},function(e,t,n){'use strict';function o(e){return e=r.normalize(r.resolve(e)).split(r.sep),0<e.length?e[0]:null}const r=n(1),i=/[<>:"|?*]/;e.exports={getRootPath:o,invalidWin32Path:function(e){const t=o(e);return e=e.replace(t,''),i.test(e)}}},function(e,t,n){'use strict';e.exports={copySync:n(744)}},function(e){e.exports=require('assert')},function(e){e.exports=require('stream')},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(32),i=['access','appendFile','chmod','chown','close','copyFile','fchmod','fchown','fdatasync','fstat','fsync','ftruncate','futimes','lchown','lchmod','link','lstat','mkdir','mkdtemp','open','readFile','readdir','readlink','realpath','rename','rmdir','stat','symlink','truncate','unlink','utimes','writeFile'].filter((e)=>'function'==typeof r[e]);Object.keys(r).forEach((e)=>{'promises'===e||(t[e]=r[e])}),i.forEach((e)=>{t[e]=o(r[e])}),t.exists=function(e,t){return'function'==typeof t?r.exists(e,t):new Promise((t)=>r.exists(e,t))},t.read=function(e,t,n,o,i,a){return'function'==typeof a?r.read(e,t,n,o,i,a):new Promise((a,s)=>{r.read(e,t,n,o,i,(e,t,n)=>e?s(e):void a({bytesRead:t,buffer:n}))})},t.write=function(e,t,...n){return'function'==typeof n[n.length-1]?r.write(e,t,...n):new Promise((o,i)=>{r.write(e,t,...n,(e,t,n)=>e?i(e):void o({bytesWritten:t,buffer:n}))})}},function(e,t){'use strict';function n(e){const t='GitHub';return`${t} - ${e}`}Object.defineProperty(t,'__esModule',{value:!0}),t.getKeyForAccount=function(e){return n(e.endpoint)},t.getKeyForEndpoint=n},function(e,t,n){'use strict';function o(){if(!a){let e=localStorage.getItem(i);e||(e=r.uuid(),localStorage.setItem(i,e)),a=e}return a}Object.defineProperty(t,'__esModule',{value:!0});const r=n(106),i='stats-guid';let a=null;t.getGUID=o},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(56),r='has-shown-welcome-flow';t.hasShownWelcomeFlow=function(){return o.getBoolean(r,!1)},t.markWelcomeFlowComplete=function(){o.setBoolean(r,!0)}},function(e,t,n){'use strict';function o(e,t){return'object'==typeof t?(Le(t).forEach(function(n){e[n]=t[n]}),e):e}function r(e,t){return Oe.call(e,t)}function i(e,t){'function'==typeof t&&(t=t(Ne(e))),Le(t).forEach(function(n){a(e,n,t[n])})}function a(e,t,n,i){He(e,t,o(n&&r(n,'get')&&'function'==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function s(e){return{from:function(t){return e.prototype=Object.create(t.prototype),a(e.prototype,'constructor',e),{extend:i.bind(null,e.prototype)}}}}function d(e,t){var n=ze(e,t),o;return n||(o=Ne(e))&&d(o,t)}function l(e,t,n){return Ue.call(e,t,n)}function c(e,t){return t(e)}function p(e){if(!e)throw new Error('Assertion Failed')}function u(e){Be.setImmediate?setImmediate(e):setTimeout(e,0)}function m(e,t){return e.reduce(function(e,n,o){var r=t(n,o);return r&&(e[r[0]]=r[1]),e},{})}function h(e,t){return function(){try{e.apply(this,arguments)}catch(n){t(n)}}}function f(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function g(e,t){if(r(e,t))return e[t];if(!t)return e;if('string'!=typeof t){for(var n=[],o=0,i=t.length,a;o<i;++o)a=g(e,t[o]),n.push(a);return n}var s=t.indexOf('.');if(-1!==s){var d=e[t.substr(0,s)];return d===void 0?void 0:g(d,t.substr(s+1))}}function y(e,t,n){if(e&&void 0!==t&&!('isFrozen'in Object&&Object.isFrozen(e)))if('string'!=typeof t&&'length'in t){p('string'!=typeof n&&'length'in n);for(var o=0,r=t.length;o<r;++o)y(e,t[o],n[o])}else{var i=t.indexOf('.');if(-1!==i){var a=t.substr(0,i),s=t.substr(i+1);if(''===s)void 0===n?delete e[a]:e[a]=n;else{var d=e[a];d||(d=e[a]={}),y(d,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function S(e,t){'string'==typeof t?y(e,t,void 0):'length'in t&&[].map.call(t,function(t){y(e,t,void 0)})}function C(e){var t={};for(var n in e)r(e,n)&&(t[n]=e[n]);return t}function b(e){return We.apply([],e)}function v(e){if(!e||'object'!=typeof e)return e;var t;if(Fe(e)){t=[];for(var n=0,o=e.length;n<o;++n)t.push(v(e[n]))}else if(0<=Ve.indexOf(e.constructor))t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)r(e,i)&&(t[i]=v(e[i]));return t}function E(e,t,n,o){return n=n||{},o=o||'',Le(e).forEach(function(i){if(!r(t,i))n[o+i]=void 0;else{var a=e[i],s=t[i];'object'==typeof a&&'object'==typeof s&&a&&s&&''+a.constructor==''+s.constructor?E(a,s,n,o+i+'.'):a!==s&&(n[o+i]=t[i])}}),Le(t).forEach(function(i){r(e,i)||(n[o+i]=t[i])}),n}function w(e){var t,n,o,r;if(1===arguments.length){if(Fe(e))return e.slice();if(this===je&&'string'==typeof e)return[e];if(r=Ke(e)){for(n=[];o=r.next(),!o.done;)n.push(o.value);return n}if(null==e)return[e];if(t=e.length,'number'==typeof t){for(n=Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=Array(t);t--;)n[t]=arguments[t];return n}function k(e,t){qe=e,Ye=t}function T(){if(Xe)try{throw T.arguments,new Error}catch(t){return t}return new Error}function _(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split('\n').length),n.split('\n').slice(t).filter(Ye).map(function(e){return'\n'+e}).join('')):''}function R(e,t){return function(){return console.warn(e+' is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. '+_(T(),1)),t.apply(this,arguments)}}function x(e,t){this._e=T(),this.name=e,this.message=t}function P(e,t){return e+'. Errors: '+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join('\n')}function D(e,t,n,o){this._e=T(),this.failures=t,this.failedKeys=o,this.successCount=n}function M(e,t){this._e=T(),this.name='BulkError',this.failures=t,this.message=P(e,t)}function A(e,t){if(!e||e instanceof x||e instanceof TypeError||e instanceof SyntaxError||!e.name||!nt[e.name])return e;var n=new nt[e.name](t||e.message,e);return'stack'in e&&a(n,'stack',{get:function(){return this.inner.stack}}),n}function I(){}function L(e){return e}function F(e,t){return null==e||e===L?t:function(n){return t(e(n))}}function B(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function N(e,t){return e===I?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var o=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?B(o,this.onsuccess):o),r&&(this.onerror=this.onerror?B(r,this.onerror):r),void 0===i?n:i}}function O(e,t){return e===I?t:function(){e.apply(this,arguments);var n=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?B(n,this.onsuccess):n),o&&(this.onerror=this.onerror?B(o,this.onerror):o)}}function H(e,t){return e===I?t:function(n){var r=e.apply(this,arguments);o(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?B(i,this.onsuccess):i),a&&(this.onerror=this.onerror?B(a,this.onerror):a),void 0===r?void 0===s?void 0:s:o(r,s)}}function z(e,t){return e===I?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function U(e,t){return e===I?t:function(){var n=e.apply(this,arguments);if(n&&'function'==typeof n.then){for(var o=this,r=arguments.length,i=Array(r);r--;)i[r]=arguments[r];return n.then(function(){return t.apply(o,i)})}return t.apply(this,arguments)}}function W(e){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');this._listeners=[],this.onuncatched=I,this._lib=!1;var t=this._PSD=Tt;if(qe&&(this._stackHolder=T(),this._prev=null,this._numPrev=0),'function'!=typeof e){if(e!==rt)throw new TypeError('Not a function');return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&K(this,this._value))}this._state=null,this._value=null,++t.ref,G(this,e)}function V(e,t,n,o,r){this.onFulfilled='function'==typeof e?e:null,this.onRejected='function'==typeof t?t:null,this.resolve=n,this.reject=o,this.psd=r}function G(e,t){try{t(function(t){if(null===e._state){if(t===e)throw new TypeError('A promise cannot be resolved with itself.');var n=e._lib&&Z();t&&'function'==typeof t.then?G(e,function(e,n){t instanceof W?t._then(e,n):t.then(e,n)}):(e._state=!0,e._value=t,j(e)),n&&J()}},K.bind(null,e))}catch(t){K(e,t)}}function K(e,t){if(vt.push(t),null===e._state){var n=e._lib&&Z();t=wt(t),e._state=!1,e._value=t,qe&&null!==t&&'object'==typeof t&&!t._promise&&f(function(){var n=d(t,'stack');t._promise=e,a(t,'stack',{get:function(){return ft?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),ne(e),j(e),n&&J()}}function j(e){var t=e._listeners;e._listeners=[];for(var n=0,o=t.length;n<o;++n)q(e,t[n]);var r=e._PSD;--r.ref||r.finalize(),0===Rt&&(++Rt,yt(function(){0==--Rt&&ee()},[]))}function q(e,t){if(null===e._state)return void e._listeners.push(t);var n=e._state?t.onFulfilled:t.onRejected;return null===n?(e._state?t.resolve:t.reject)(e._value):void(++t.psd.ref,++Rt,yt(Y,[n,e,t]))}function Y(e,t,n){try{Et=t;var o=t._value,r;t._state?r=e(o):(vt.length&&(vt=[]),r=e(o),-1===vt.indexOf(o)&&oe(t)),n.resolve(r)}catch(t){n.reject(t)}finally{Et=null,0==--Rt&&ee(),--n.psd.ref||n.psd.finalize()}}function X(e,t,n){if(t.length===n)return t;var o='';if(!1===e._state){var r=e._value,i,a;null==r?(i=r,a=''):(i=r.name||'Error',a=r.message||r,o=_(r,0)),t.push(i+(a?': '+a:'')+o)}return qe&&(o=_(e._stackHolder,2),o&&-1===t.indexOf(o)&&t.push(o),e._prev&&X(e._prev,t,n)),t}function Q(e,t){var n=t?t._numPrev+1:0;n<it&&(e._prev=t,e._numPrev=n)}function $(){Z()&&J()}function Z(){var e=St;return St=!1,Ct=!1,e}function J(){var e,t,n;do for(;0<_t.length;)for(e=_t,_t=[],n=e.length,t=0;t<n;++t){var o=e[t];o[0].apply(null,o[1])}while(0<_t.length);St=!0,Ct=!0}function ee(){var e=bt;bt=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=xt.slice(0),n=t.length;n;)t[--n]()}function te(e){function t(){e(),xt.splice(xt.indexOf(t),1)}xt.push(t),++Rt,yt(function(){0==--Rt&&ee()},[])}function ne(e){bt.some(function(t){return t._value===e._value})||bt.push(e)}function oe(e){for(var t=bt.length;t;)if(bt[--t]._value===e._value)return void bt.splice(t,1)}function re(e){return new W(rt,!1,e)}function ie(e,t){var n=Tt;return function(){var o=Z(),r=Tt;try{return ue(n,!0),e.apply(this,arguments)}catch(n){t&&t(n)}finally{ue(r,!1),o&&J()}}}function ae(e,t,n,r){var i=Tt,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++Ft;var s=kt.env;a.env=ht?{Promise:W,PromiseProp:{value:W,configurable:!0,writable:!0},all:W.all,race:W.race,resolve:W.resolve,reject:W.reject,nthen:ye(s.nthen,a),gthen:ye(s.gthen,a)}:{},t&&o(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=he(a,e,n,r);return 0===a.ref&&a.finalize(),d}function se(){return Dt.id||(Dt.id=++Mt),++Dt.awaits,Dt.echoes+=at,Dt.id}function de(e){!Dt.awaits||e&&e!==Dt.id||(0==--Dt.awaits&&(Dt.id=0),Dt.echoes=Dt.awaits*at)}function le(e){return Dt.echoes&&e&&e.constructor===ut?(se(),e.then(function(e){return de(),e},function(t){return de(),Nt(t)})):e}function ce(e){++Lt,Dt.echoes&&0!=--Dt.echoes||(Dt.echoes=Dt.id=0),At.push(Tt),ue(e,!0)}function pe(){var e=At[At.length-1];At.pop(),ue(e,!1)}function ue(e,t){var n=Tt;if(((t?Dt.echoes&&(!It++||e!==Tt):It&&(! --It||e!==Tt))&&fe(t?ce.bind(null,e):pe),e!==Tt)&&(Tt=e,n===kt&&(kt.env=me()),ht)){var o=kt.env.Promise,r=e.env;lt.then=r.nthen,o.prototype.then=r.gthen,(n.global||e.global)&&(Object.defineProperty(Be,'Promise',r.PromiseProp),o.all=r.all,o.race=r.race,o.resolve=r.resolve,o.reject=r.reject)}}function me(){var e=Be.Promise;return ht?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Be,'Promise'),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:lt.then,gthen:e.prototype.then}:{}}function he(e,t,n,o,r){var i=Tt;try{return ue(e,!0),t(n,o,r)}finally{ue(i,!1)}}function fe(e){pt.call(dt,e)}function ge(e,t,n){return'function'==typeof e?function(){var o=Tt;n&&se(),ue(t,!0);try{return e.apply(this,arguments)}finally{ue(o,!1)}}:e}function ye(e,t){return function(n,o){return e.call(this,ge(n,t,!1),ge(o,t,!1))}}function Se(e,t){var n;try{n=t.onuncatched(e)}catch(t){}if(!1!==n)try{var r={promise:t,reason:e},i;if(Be.document&&document.createEvent?(i=document.createEvent('Event'),i.initEvent(Bt,!0,!0),o(i,r)):Be.CustomEvent&&(i=new CustomEvent(Bt,{detail:r}),o(i,r)),i&&Be.dispatchEvent&&(dispatchEvent(i),!Be.PromiseRejectionEvent&&Be.onunhandledrejection))try{Be.onunhandledrejection(i)}catch(e){}i.defaultPrevented||console.warn('Unhandled rejection: '+(e.stack||e))}catch(t){}}function Ce(e){function t(e,t,i){if('object'==typeof e)return n(e);t||(t=z),i||(i=I);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=t(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter(function(t){return t!==e}),a.fire=a.subscribers.reduce(t,i)}};return o[e]=r[e]=a,a}function n(e){Le(e).forEach(function(n){var o=e[n];if(Fe(o))t(n,e[n][0],e[n][1]);else if('asap'===o)var r=t(n,L,function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach(function(e){u(function(){e.apply(null,t)})})});else throw new tt.InvalidArgument('Invalid event config')})}var o={},r=function(t,n){if(n){for(var r=arguments.length,i=Array(r-1);--r;)i[r-1]=arguments[r];return o[t].subscribe.apply(null,i),e}return'string'==typeof t?o[t]:void 0};r.addEventType=t;for(var a=1,i=arguments.length;a<i;++a)t(arguments[a]);return r}function be(e,t){function n(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function s(e,t,n){var o=$e._createTransaction(Qe,ze,Oe);o.create(t),o._completion.catch(n);var r=o._reject.bind(o);ae(function(){Tt.trans=o,0===e?(Le(Oe).forEach(function(e){S(t,e,Oe[e].primKey,Oe[e].indexes)}),W.follow(function(){return $e.on.populate.fire(o)}).catch(r)):d(e,o,t).catch(r)})}function d(e,t,n){function o(){return r.length?W.resolve(r.shift()(t.idbtrans)).then(o):W.resolve()}var r=[],i=He.filter(function(t){return t._cfg.version===e})[0];if(!i)throw new tt.Upgrade('Dexie specification of currently installed DB version is missing');Oe=$e._dbSchema=i._cfg.dbschema;var a=!1,s=He.filter(function(t){return t._cfg.version>e});return s.forEach(function(e){r.push(function(){var o=Oe,r=e._cfg.dbschema;ue(o,n),ue(r,n),Oe=$e._dbSchema=r;var i=u(o,r);if(i.add.forEach(function(e){S(n,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new tt.Upgrade('Not yet support for changing primary key');else{var t=n.objectStore(e.name);e.add.forEach(function(e){x(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),x(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}}),e._cfg.contentUpgrade)return a=!0,W.follow(function(){e._cfg.contentUpgrade(t)})}),r.push(function(t){if(!a||!jt){var n=e._cfg.dbschema;_(n,t)}})}),o().then(function(){k(Oe,n)})}function u(e,t){var n={del:[],add:[],change:[]};for(var o in e)t[o]||n.del.push(o);for(o in t){var r=e[o],i=t[o];if(!r)n.add.push([o,i]);else{var a={name:o,def:i,recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==i.primKey.src)a.recreate=!0,n.change.push(a);else{var s=r.idxByName,d=i.idxByName;for(var l in s)d[l]||a.del.push(l);for(l in d){var c=s[l],p=d[l];c?c.src!==p.src&&a.change.push(p):a.add.push(p)}(0<a.del.length||0<a.add.length||0<a.change.length)&&n.change.push(a)}}}return n}function S(e,t,n,o){var r=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return o.forEach(function(e){x(r,e)}),r}function k(e,t){Le(e).forEach(function(n){t.db.objectStoreNames.contains(n)||S(t,n,e[n].primKey,e[n].indexes)})}function _(e,t){for(var n=0,o;n<t.db.objectStoreNames.length;++n)o=t.db.objectStoreNames[n],null==e[o]&&t.db.deleteObjectStore(o)}function x(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function P(e,t,n){if(!Ye&&!Tt.letThrough){if(!Ge){if(!Se)return Nt(new tt.DatabaseClosed);$e.open().catch(I)}return Ze.then(function(){return P(e,t,n)})}var o=$e._createTransaction(e,t,Oe);try{o.create()}catch(e){return Nt(e)}return o._promise(e,function(e,t){return ae(function(){return Tt.trans=o,n(e,t,o)})}).then(function(e){return o._completion.then(function(){return e})})}function A(e,t,n){var o=arguments.length;if(2>o)throw new tt.InvalidArgument('Too few arguments');for(var r=Array(o-1);--o;)r[o-1]=arguments[o];n=r.pop();var i=b(r);return[e,i,n]}function B(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=Ue[e]?Ue[e].hook:Ce(null,{creating:[N,I],reading:[F,L],updating:[H,I],deleting:[O,I]})}function z(t,n,e){return(e?_e:ke)(function(o){t.push(o),n&&n()})}function V(e,t,n,o,r){return new W(function(a,s){var d=n.length,l=d-1;if(0===d)return a();if(!o)for(var c=0,i;c<d;++c)i=e.delete(n[c]),i.onerror=ke(s),c===l&&(i.onsuccess=ie(function(){return a()}));else{var p=_e(s),u=we(null),m;f(function(){for(var o=0;o<d;++o){m={onsuccess:null,onerror:null};var i=n[o];r.call(m,i[0],i[1],t);var s=e.delete(i[0]);s._hookCtx=m,s.onerror=p,s.onsuccess=o===l?we(a):u}},function(e){throw m.onerror&&m.onerror(e),e})}})}function G(e,t,n,o){var r=this;this.db=$e,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Ce(this,'complete','error','abort'),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new W(function(e,t){r._resolve=e,r._reject=t}),this._completion.then(function(){r.active=!1,r.on.complete.fire()},function(t){var e=r.active;return r.active=!1,r.on.error.fire(t),r.parent?r.parent._reject(t):e&&r.idbtrans&&r.idbtrans.abort(),Nt(t)})}function K(e,t,n){this._ctx={table:e,index:':id'===t?null:t,or:n}}function j(e,t){var n=null,o=null;if(t)try{n=t()}catch(e){o=e}var r=e._ctx,i=r.table;this._ctx={table:i,index:r.index,isPrimKey:!r.index||i.schema.primKey.keyPath&&r.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:'next',unique:'',algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:o,or:r.or,valueMapper:i.hook.reading.fire}}function q(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Y(e,t){return e._cfg.version-t._cfg.version}function X(e,t,n){t.forEach(function(t){var o=n[t];e.forEach(function(e){t in e||(e===G.prototype||e instanceof G?a(e,t,{get:function(){return this.table(t)}}):e[t]=new B(t,o))})})}function Q(e){e.forEach(function(e){for(var t in e)e[t]instanceof B&&delete e[t]})}function $(e,t,n,o,r,i){var a=i?function(e,t,o){return n(i(e),t,o)}:n,s=ie(a,r);e.onerror||(e.onerror=ke(r)),e.onsuccess=t?h(function(){var n=e.result;if(n){var i=function(){n.continue()};t(n,function(e){i=e},o,r)&&s(n.value,n,function(e){i=e}),i()}else o()},r):h(function(){var t=e.result;if(t){var n=function(){t.continue()};s(t.value,t,function(e){n=e}),n()}else o()},r)}function Z(e){var t=[];return e.split(',').forEach(function(e){e=e.trim();var n=e.replace(/([&*]|\+\+)/g,''),o=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split('+'):n;t.push(new Pe(n,o||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Fe(o),/\./.test(e)))}),t}function J(e,t){return ve.cmp(e,t)}function ee(e,t){return 0>J(e,t)?e:t}function te(e,t){return 0<J(e,t)?e:t}function ne(e,t){return ve.cmp(e,t)}function oe(e,t){return ve.cmp(t,e)}function re(e,t){return e<t?-1:e===t?0:1}function le(e,t){return e>t?-1:e===t?0:1}function ce(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function pe(){if($e.verno=We.version/10,$e._dbSchema=Oe={},ze=l(We.objectStoreNames,0),0!==ze.length){var e=We.transaction(Me(ze),'readonly');ze.forEach(function(t){for(var n=e.objectStore(t),o=n.keyPath,r=o&&'string'==typeof o&&-1!==o.indexOf('.'),i=new Pe(o,o||'',!1,!1,!!n.autoIncrement,o&&'string'!=typeof o,r),a=[],s=0,d;s<n.indexNames.length;++s){d=n.index(n.indexNames[s]),o=d.keyPath,r=o&&'string'==typeof o&&-1!==o.indexOf('.');var l=new Pe(d.name,o,!!d.unique,!!d.multiEntry,!1,o&&'string'!=typeof o,r);a.push(l)}Oe[t]=new De(t,i,a,{})}),X([Ue],Le(Oe),Oe)}}function ue(e,t){for(var n=t.db.objectStoreNames,o=0;o<n.length;++o){var r=n[o],i=t.objectStore(r);it='getAll'in i;for(var a=0;a<i.indexNames.length;++a){var s=i.indexNames[a],d=i.index(s).keyPath,c='string'==typeof d?d:'['+l(d).join('+')+']';if(e[r]){var p=e[r].idxByName[c];p&&(p.name=s)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Be.WorkerGlobalScope&&Be instanceof Be.WorkerGlobalScope&&604>[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]&&(it=!1)}function me(e){$e.on('blocked').fire(e),Gt.filter(function(e){return e.name===$e.name&&e!==$e&&!e._vcFired}).map(function(t){return t.on('versionchange').fire(e)})}var fe=be.dependencies,ge=o({addons:be.addons,autoOpen:!0,indexedDB:fe.indexedDB,IDBKeyRange:fe.IDBKeyRange},t),ye=ge.addons,Se=ge.autoOpen,ve=ge.indexedDB,Ne=ge.IDBKeyRange,Oe=this._dbSchema={},He=[],ze=[],Ue={},We=null,Ve=null,Ge=!1,Ke=null,Ye=!1,Xe='readonly',Qe='readwrite',$e=this,Ze=new W(function(e){ot=e}),Je=new W(function(e,t){rt=t}),et=!0,nt=!!Ae(ve),ot,rt,it;this.version=function(e){if(We||Ge)throw new tt.Schema('Cannot add version when database is open');this.verno=Math.max(this.verno,e);var t=He.filter(function(t){return t._cfg.version===e})[0];return t?t:(t=new n(e),He.push(t),He.sort(Y),et=!1,t)},o(n.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?o(this._cfg.storesSource,e):e;var t={};He.forEach(function(e){o(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),Oe=$e._dbSchema=n,Q([Ue,$e,G.prototype]),X([Ue,$e,G.prototype,this._cfg.tables],Le(n),n),ze=Le(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){Le(e).forEach(function(n){if(null!==e[n]){var o={},r=Z(e[n]),i=r.shift();if(i.multi)throw new tt.Schema('Primary key cannot be multi-valued');i.keyPath&&y(o,i.keyPath,i.auto?0:i.keyPath),r.forEach(function(e){if(e.auto)throw new tt.Schema('Only primary key can be marked as autoIncrement (++)');if(!e.keyPath)throw new tt.Schema('Index must have a name and cannot be an empty string');y(o,e.keyPath,e.compound?e.keyPath.map(function(){return''}):'')}),t[n]=new De(n,i,r,o)}})}}),this._allTables=Ue,this._createTransaction=function(e,t,n,o){return new G(e,t,n,o)},this._whenReady=function(e){return Ye||Tt.letThrough?e():new W(function(e,t){if(!Ge){if(!Se)return void t(new tt.DatabaseClosed);$e.open().catch(I)}Ze.then(e,t)}).then(e)},this.verno=0,this.open=function(){if(Ge||We)return Ze.then(function(){return Ve?Nt(Ve):$e});qe&&(Je._stackHolder=T()),Ge=!0,Ve=null,Ye=!1;var t=ot,n=null;return W.race([Je,new W(function(t,o){if(!ve)throw new tt.MissingAPI('indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.');var r=et?ve.open(e):ve.open(e,Math.round(10*$e.verno));if(!r)throw new tt.MissingAPI('IndexedDB API not available');r.onerror=ke(o),r.onblocked=ie(me),r.onupgradeneeded=ie(function(t){if(n=r.transaction,et&&!$e._allowEmptyDB){r.onerror=Re,n.abort(),r.result.close();var i=ve.deleteDatabase(e);i.onsuccess=i.onerror=ie(function(){o(new tt.NoSuchDatabase('Database '+e+' doesnt exist'))})}else{n.onerror=ke(o);var a=4611686018427388000<t.oldVersion?0:t.oldVersion;s(a/10,n,o,r)}},o),r.onsuccess=ie(function(){if(n=null,We=r.result,Gt.push($e),et)pe();else if(0<We.objectStoreNames.length)try{ue(Oe,We.transaction(Me(We.objectStoreNames),Xe))}catch(t){}We.onversionchange=ie(function(e){$e._vcFired=!0,$e.on('versionchange').fire(e)}),nt||'__dbnames'===e||Xt.dbnames.put({name:e}).catch(I),t()},o)})]).then(function(){return Ke=[],W.resolve(be.vip($e.on.ready.fire)).then(function e(){if(0<Ke.length){var t=Ke.reduce(U,I);return Ke=[],W.resolve(be.vip(t)).then(e)}})}).finally(function(){Ke=null}).then(function(){return Ge=!1,$e}).catch(function(e){try{n&&n.abort()}catch(t){}return Ge=!1,$e.close(),Ve=e,Nt(Ve)}).finally(function(){Ye=!0,t()})},this.close=function(){var e=Gt.indexOf($e);if(0<=e&&Gt.splice(e,1),We){try{We.close()}catch(t){}We=null}Se=!1,Ve=new tt.DatabaseClosed,Ge&&rt(Ve),Ze=new W(function(e){ot=e}),Je=new W(function(e,t){rt=t})},this.delete=function(){var t=0<arguments.length;return new W(function(n,o){function r(){$e.close();var t=ve.deleteDatabase(e);t.onsuccess=ie(function(){nt||Xt.dbnames.delete(e).catch(I),n()}),t.onerror=ke(o),t.onblocked=me}if(t)throw new tt.InvalidArgument('Arguments not allowed in db.delete()');Ge?Ze.then(r):r()})},this.backendDB=function(){return We},this.isOpen=function(){return null!==We},this.hasBeenClosed=function(){return Ve&&Ve instanceof tt.DatabaseClosed},this.hasFailed=function(){return null!==Ve},this.dynamicallyOpened=function(){return et},this.name=e,i(this,{tables:{get:function(){return Le(Ue).map(function(e){return Ue[e]})}}}),this.on=Ce(this,'populate','blocked','versionchange',{ready:[U,I]}),this.on.ready.subscribe=c(this.on.ready.subscribe,function(e){return function(t,n){be.vip(function(){Ye?(!Ve&&W.resolve().then(t),n&&e(t)):Ke?(Ke.push(t),n&&e(t)):(e(t),!n&&e(function e(){$e.on.ready.unsubscribe(t),$e.on.ready.unsubscribe(e)}))})}}),this.transaction=function(){var e=A.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){function o(){return W.resolve().then(function(){var t=Tt.transless||Tt,o=$e._createTransaction(e,a,Oe,r);r?o.idbtrans=r.idbtrans:o.create(),n.constructor===mt&&se();var i=W.follow(function(){if(s=n.call(o,o),s)if(s.constructor===ut){var e=de.bind(null,null);s.then(e,e)}else'function'==typeof s.next&&'function'==typeof s.throw&&(s=xe(s))},{trans:o,transless:t}),s;return(s&&'function'==typeof s.then?W.resolve(s).then(function(e){return o.active?e:Nt(new tt.PrematureCommit('Transaction committed too early. See http://bit.ly/2kdckMn'))}):i.then(function(){return s})).then(function(e){return r&&o._resolve(),o._completion.then(function(){return e})}).catch(function(t){return o._reject(t),Nt(t)})})}var r=Tt.trans;r&&r.db===$e&&-1===e.indexOf('!')||(r=null);var i=-1!==e.indexOf('?');e=e.replace('!','').replace('?','');try{var a=t.map(function(e){var t=e instanceof B?e.name:e;if('string'!=typeof t)throw new TypeError('Invalid table argument to Dexie.transaction(). Only Table or String are allowed');return t});if('r'==e||e==Xe)e=Xe;else if('rw'==e||e==Qe)e=Qe;else throw new tt.InvalidArgument('Invalid transaction mode: '+e);if(r){if(r.mode===Xe&&e===Qe)if(i)r=null;else throw new tt.SubTransaction('Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY');r&&a.forEach(function(e){if(r&&-1===r.storeNames.indexOf(e))if(i)r=null;else throw new tt.SubTransaction('Table '+e+' not included in parent transaction.')}),i&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,function(e,n){n(t)}):Nt(t)}return r?r._promise(e,o,'lock'):Tt.trans?he(Tt.transless,function(){return $e._whenReady(o)}):$e._whenReady(o)},this.table=function(e){if(!r(Ue,e))throw new tt.InvalidTable('Table '+e+' does not exist');return Ue[e]},i(B.prototype,{_trans:function(e,t,n){var o=this._tx||Tt.trans;return o&&o.db===$e?o===Tt.trans?o._promise(e,t,n):ae(function(){return o._promise(e,t,n)},{trans:o,transless:Tt.transless||Tt}):P(e,[this.name],t)},_idbstore:function(e,t,n){var o=this.name;return this._trans(e,function(e,n,r){if(-1===r.storeNames.indexOf(o))throw new tt.NotFound('Table'+o+' not part of transaction');return t(e,n,r.idbtrans.objectStore(o),r)},n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore(Xe,function(t,o,r){var i=r.get(e);i.onerror=ke(o),i.onsuccess=ie(function(){t(n.hook.reading.fire(i.result))},o)}).then(t)},where:function(e){if('string'==typeof e)return new K(this,e);if(Fe(e))return new K(this,'['+e.join('+')+']');var t=Le(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})&&e.keyPath.every(function(e){return 0<=t.indexOf(e)})})[0];if(n&&zt!==Ht)return this.where(n.name).equals(n.keyPath.map(function(t){return e[t]}));n||console.warn('The query '+JSON.stringify(e)+' on '+this.name+' would benefit of a '+('compound index ['+t.join('+')+']'));var o=this.schema.idxByName,r=t.reduce(function(t,n){return[t[0]||o[n],t[0]||!o[n]?ce(t[1],function(t){return''+g(t,n)==''+e[n]}):t[1]]},[null,null]),i=r[0];return i?this.where(i.name).equals(e[i.keyPath]).filter(r[1]):n?this.filter(r[1]):this.where(t).equals('')},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new j(new K(this,Fe(e)?'['+e.join('+')+']':e))},toCollection:function(){return new j(new K(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Ee(n,t),this.schema.instanceTemplate=n;var o=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var o in t)if(r(t,o))try{n[o]=t[o]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=o,this.hook('reading',o),e},defineClass:function(e){return this.mapToClass(be.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===I?this._idbstore(Qe,function(t,n,o,r){t(V(o,r,e,!1,I))}):this.where(':id').anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var n=this;return this._idbstore(Qe,function(o,r,a){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new tt.InvalidArgument('bulkPut() with non-inbound keys requires keys array in second argument');if(a.keyPath&&t)throw new tt.InvalidArgument('bulkPut(): keys argument invalid on tables with inbound keys');if(t&&t.length!==e.length)throw new tt.InvalidArgument('Arguments objects and keys must have the same length');if(0===e.length)return o();var s=function(e){0===d.length?o(e):r(new M(n.name+'.bulkPut(): '+d.length+' of '+c+' operations failed',d))},d=[],c=e.length,p=n,u,h;if(n.hook.creating.fire===I&&n.hook.updating.fire===I){h=z(d);for(var f=0,i=e.length;f<i;++f)u=t?a.put(e[f],t[f]):a.put(e[f]),u.onerror=h;u.onerror=z(d,s),u.onsuccess=Te(s)}else{var l=t||a.keyPath&&e.map(function(e){return g(e,a.keyPath)}),y=l&&m(l,function(t,n){return null!=t&&[t,e[n]]}),S=l?p.where(':id').anyOf(l.filter(function(e){return null!=e})).modify(function(){this.value=y[this.primKey],y[this.primKey]=null}).catch(D,function(t){d=t.failures}).then(function(){for(var n=[],o=t&&[],r=l.length-1,i;0<=r;--r)i=l[r],(null==i||y[i])&&(n.push(e[r]),t&&o.push(i),null!=i&&(y[i]=null));return n.reverse(),t&&o.reverse(),p.bulkAdd(n,o)}).then(function(e){var t=l[l.length-1];return null==t?e:t}):p.bulkAdd(e);S.then(s).catch(M,function(t){d=d.concat(t.failures),s()}).catch(r)}},'locked')},bulkAdd:function(e,t){var n=this,o=this.hook.creating.fire;return this._idbstore(Qe,function(r,a,s,d){function c(e){0===p.length?r(e):a(new M(n.name+'.bulkAdd(): '+p.length+' of '+u+' operations failed',p))}if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new tt.InvalidArgument('bulkAdd() with non-inbound keys requires keys array in second argument');if(s.keyPath&&t)throw new tt.InvalidArgument('bulkAdd(): keys argument invalid on tables with inbound keys');if(t&&t.length!==e.length)throw new tt.InvalidArgument('Arguments objects and keys must have the same length');if(0===e.length)return r();var p=[],u=e.length,m,h,S;if(o!==I){var C=s.keyPath,b;h=z(p,null,!0),S=we(null),f(function(){for(var n=0,r=e.length;n<r;++n){b={onerror:null,onsuccess:null};var i=t&&t[n],a=e[n],l=t?i:C?g(a,C):void 0,c=o.call(b,l,a,d);null==l&&null!=c&&(C?(a=v(a),y(a,C,c)):i=c),m=null==i?s.add(a):s.add(a,i),m._hookCtx=b,n<r-1&&(m.onerror=h,b.onsuccess&&(m.onsuccess=S))}},function(e){throw b.onerror&&b.onerror(e),e}),m.onerror=z(p,c,!0),m.onsuccess=we(c)}else{h=z(p);for(var E=0,i=e.length;E<i;++E)m=t?s.add(e[E],t[E]):s.add(e[E]),m.onerror=h;m.onerror=z(p,c),m.onsuccess=Te(c)}})},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(Qe,function(o,r,i,a){var s={onsuccess:null,onerror:null};if(n!==I){var d=null==t?i.keyPath?g(e,i.keyPath):void 0:t,l=n.call(s,d,e,a);null==d&&null!=l&&(i.keyPath?y(e,i.keyPath,l):t=l)}try{var c=null==t?i.add(e):i.add(e,t);c._hookCtx=s,c.onerror=_e(r),c.onsuccess=we(function(t){var n=i.keyPath;n&&y(e,n,t),o(t)})}catch(t){throw s.onerror&&s.onerror(t),t}})},put:function(e,t){var n=this,o=this.hook.creating.fire,r=this.hook.updating.fire;if(o!==I||r!==I){var i=this.schema.primKey.keyPath,a=void 0===t?i&&g(e,i):t;return null==a?this.add(e):(e=v(e),this._trans(Qe,function(){return n.where(':id').equals(a).modify(function(){this.value=e}).then(function(o){return 0===o?n.add(e,t):a})},'locked'))}return this._idbstore(Qe,function(n,o,r){var i=void 0===t?r.put(e):r.put(e,t);i.onerror=ke(o),i.onsuccess=ie(function(t){var o=r.keyPath;o&&y(e,o,t.target.result),n(i.result)})})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(':id').equals(e).delete():this._idbstore(Qe,function(t,n,o){var r=o.delete(e);r.onerror=ke(n),r.onsuccess=ie(function(){t(r.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Qe,function(e,t,n){var o=n.clear();o.onerror=ke(t),o.onsuccess=ie(function(){e(o.result)})})},update:function(e,t){if('object'!=typeof t||Fe(t))throw new tt.InvalidArgument('Modifications must be an object.');if('object'==typeof e&&!Fe(e)){Le(t).forEach(function(n){y(e,n,t[n])});var n=g(e,this.schema.primKey.keyPath);return void 0===n?Nt(new tt.InvalidArgument('Given object does not contain its primary key')):this.where(':id').equals(n).modify(t)}return this.where(':id').equals(e).modify(t)}}),i(G.prototype,{_lock:function(){return p(!Tt.global),++this._reculock,1!==this._reculock||Tt.global||(Tt.lockOwnerFor=this),this},_unlock:function(){if(p(!Tt.global),0==--this._reculock)for(Tt.global||(Tt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{he(e[1],e[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Tt.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(p(!this.idbtrans),!e&&!We)switch(Ve&&Ve.name){case'DatabaseClosedError':throw new tt.DatabaseClosed(Ve);case'MissingAPIError':throw new tt.MissingAPI(Ve.message,Ve);default:throw new tt.OpenFailed(Ve);}if(!this.active)throw new tt.TransactionInactive;return p(null===this._completion._state),e=this.idbtrans=e||We.transaction(Me(this.storeNames),this.mode),e.onerror=ie(function(n){Re(n),t._reject(e.error)}),e.onabort=ie(function(n){Re(n),t.active&&t._reject(new tt.Abort(e.error)),t.active=!1,t.on('abort').fire(n)}),e.oncomplete=ie(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,n){var o=this;if(e===Qe&&this.mode!==Qe)return Nt(new tt.ReadOnly('Transaction is readonly'));if(!this.active)return Nt(new tt.TransactionInactive);if(this._locked())return new W(function(r,i){o._blockedFuncs.push([function(){o._promise(e,t,n).then(r,i)},Tt])});if(n)return ae(function(){var e=new W(function(e,n){o._lock();var r=t(e,n,o);r&&r.then&&r.then(e,n)});return e.finally(function(){return o._unlock()}),e._lib=!0,e});var r=new W(function(e,n){var r=t(e,n,o);r&&r.then&&r.then(e,n)});return r._lib=!0,r},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=W.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return e});else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);(function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-Infinity).onsuccess=e)})()}var o=t._waitingFor;return new W(function(n,r){e.then(function(e){return t._waitingQueue.push(ie(n.bind(null,e)))},function(e){return t._waitingQueue.push(ie(r.bind(null,e)))}).finally(function(){t._waitingFor===o&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new tt.Abort),this.active=!1},tables:{get:R('Transaction.tables',function(){return Ue})},table:function(e){var t=$e.table(e);return new B(e,t.schema,this)}}),i(K.prototype,function(){function e(e,t,n){var o=e instanceof K?new j(e):e;return o._ctx.error=n?new n(t):new TypeError(t),o}function t(e){return new j(e,function(){return Ne.only('')}).limit(0)}function n(e){return'next'===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function o(e){return'next'===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function r(e,t,n,o,r,a){for(var s=Ie(e.length,o.length),d=-1,l=0,i;l<s;++l){if(i=t[l],i!==o[l])return 0>r(e[l],n[l])?e.substr(0,l)+n[l]+n.substr(l+1):0>r(e[l],o[l])?e.substr(0,l)+o[l]+n.substr(l+1):0<=d?e.substr(0,d)+t[d]+n.substr(d+1):null;0>r(e[l],i)&&(d=l)}return s<o.length&&'next'===a?e+n.substr(e.length):s<e.length&&'prev'===a?e.substr(0,n.length):0>d?null:e.substr(0,d)+o[d]+n.substr(d+1)}function i(t,a,i,s){function d(e){p=n(e),u=o(e),m='next'===e?re:le;var t=i.map(function(e){return{lower:u(e),upper:p(e)}}).sort(function(e,t){return m(e.lower,t.lower)});h=t.map(function(e){return e.upper}),f=t.map(function(e){return e.lower}),g=e,y='next'===e?'':s}var l=i.length,p,u,m,h,f,g,y;if(!i.every(function(e){return'string'==typeof e}))return e(t,Vt);d('next');var S=new j(t,function(){return Ne.bound(h[0],f[l-1]+s)});S._ondirectionchange=function(e){d(e)};var c=0;return S._addAlgorithm(function(e,t,n){var o=e.key;if('string'!=typeof o)return!1;var s=u(o);if(a(s,f,c))return!0;for(var d=null,p=c,i;p<l;++p)i=r(o,s,h[p],f[p],m,g),null===i&&null===d?c=p+1:(null===d||0<m(d,i))&&(d=i);return null===d?t(n):t(function(){e.continue(d+y)}),!1}),S}return{between:function(n,o,r,i){r=!1!==r,i=!0===i;try{return 0<J(n,o)||0===J(n,o)&&(r||i)&&!(r&&i)?t(this):new j(this,function(){return Ne.bound(n,o,!r,!i)})}catch(t){return e(this,Wt)}},equals:function(e){return new j(this,function(){return Ne.only(e)})},above:function(e){return new j(this,function(){return Ne.lowerBound(e,!0)})},aboveOrEqual:function(e){return new j(this,function(){return Ne.lowerBound(e)})},below:function(e){return new j(this,function(){return Ne.upperBound(e,!0)})},belowOrEqual:function(e){return new j(this,function(){return Ne.upperBound(e)})},startsWith:function(t){return'string'==typeof t?this.between(t,t+Ht,!0,!0):e(this,Vt)},startsWithIgnoreCase:function(e){return''===e?this.startsWith(e):i(this,function(e,t){return 0===e.indexOf(t[0])},[e],Ht)},equalsIgnoreCase:function(e){return i(this,function(e,t){return e===t[0]},[e],'')},anyOfIgnoreCase:function(){var e=w.apply(je,arguments);return 0===e.length?t(this):i(this,function(e,t){return-1!==t.indexOf(e)},e,'')},startsWithAnyOfIgnoreCase:function(){var e=w.apply(je,arguments);return 0===e.length?t(this):i(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Ht)},anyOf:function(){var n=w.apply(je,arguments),o=ne;try{n.sort(o)}catch(t){return e(this,Wt)}if(0===n.length)return t(this);var r=new j(this,function(){return Ne.bound(n[0],n[n.length-1])});r._ondirectionchange=function(e){o='next'===e?ne:oe,n.sort(o)};var a=0;return r._addAlgorithm(function(e,t,r){for(var i=e.key;0<o(i,n[a]);)if(++a,a===n.length)return t(r),!1;return 0===o(i,n[a])||(t(function(){e.continue(n[a])}),!1)}),r},notEqual:function(e){return this.inAnyRange([[Ut,e],[e,zt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=w.apply(je,arguments);if(0===t.length)return new j(this);try{t.sort(ne)}catch(t){return e(this,Wt)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[Ut,t]]},null);return n.push([t[t.length-1],zt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,o){function r(e,t){for(var n=0,o=e.length,r;n<o;++n)if(r=e[n],0>J(t[0],r[1])&&0<J(t[1],r[0])){r[0]=ee(r[0],t[0]),r[1]=te(r[1],t[1]);break}return n===o&&e.push(t),e}function a(e,t){return p(e[0],t[0])}function s(e){return!i(e)&&!h(e)}if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&0>=ne(e[0],e[1])}))return e(this,'First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower',tt.InvalidArgument);var d=!o||!1!==o.includeLowers,l=o&&!0===o.includeUppers,p=ne,u;try{u=n.reduce(r,[]),u.sort(a)}catch(t){return e(this,Wt)}var m=0,i=l?function(e){return 0<ne(e,u[m][1])}:function(e){return 0<=ne(e,u[m][1])},h=d?function(e){return 0<oe(e,u[m][0])}:function(e){return 0<=oe(e,u[m][0])},f=i,g=new j(this,function(){return Ne.bound(u[0][0],u[u.length-1][1],!d,!l)});return g._ondirectionchange=function(e){'next'===e?(f=i,p=ne):(f=h,p=oe),u.sort(a)},g._addAlgorithm(function(e,t,n){for(var o=e.key;f(o);)if(++m,m===u.length)return t(n),!1;return!!s(o)||0!==J(o,u[m][1])&&0!==J(o,u[m][0])&&(t(function(){p===ne?e.continue(u[m][0]):e.continue(u[m][1])}),!1)}),g},startsWithAnyOf:function(){var n=w.apply(je,arguments);return n.every(function(e){return'string'==typeof e})?0===n.length?t(this):this.inAnyRange(n.map(function(e){return[e,e+Ht]})):e(this,'startsWithAnyOf() only works with strings')}}}),i(j.prototype,function(){function e(e,t){e.filter=ce(e.filter,t)}function t(e,t,n){var o=e.replayFilter;e.replayFilter=o?function(){return ce(o(),t())}:t,e.justLimit=n&&!o}function n(e,t){e.isMatch=ce(e.isMatch,t)}function i(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new tt.Schema('KeyPath '+e.index+' on object store '+t.name+' is not indexed');return t.index(n.name)}function a(e,t){var n=i(e,t);return e.keysOnly&&'openKeyCursor'in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function s(e,t,n,o,i){var s=e.replayFilter?ce(e.filter,e.replayFilter()):e.filter;e.or?function(){function d(){2==++p&&n()}function l(e,n,i){if(!s||s(n,i,d,o)){var a=n.primaryKey,l=''+a;'[object ArrayBuffer]'==l&&(l=''+new Uint8Array(a)),r(c,l)||(c[l]=!0,t(e,n,i))}}var c={},p=0;e.or._iterate(l,d,o,i),$(a(e,i),e.algorithm,l,d,o,!e.keysOnly&&e.valueMapper)}():$(a(e,i),ce(e.algorithm,s),t,n,o,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Nt.bind(null,n.error)):n.table._idbstore(Xe,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,Nt.bind(null,t.error)):t.table._idbstore(Qe,e,'locked')},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=ce(t.algorithm,e)},_iterate:function(e,t,n,o){return s(this._ctx,e,t,n,o)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&o(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read(function(n,o,r){s(t,e,n,o,r)})},count:function(e){var t=this._ctx;if(q(t,!0))return this._read(function(n,e,o){var r=i(t,o),a=t.range?r.count(t.range):r.count();a.onerror=ke(e),a.onsuccess=function(o){n(Ie(o.target.result,t.limit))}},e);var n=0;return this._read(function(e,o,r){s(t,function(){return++n,!1},function(){e(n)},o,r)},e)},sortBy:function(e,t){function n(e,t){return t?n(e[r[t]],t-1):e[a]}function o(e,t){var o=n(e,i),r=n(t,i);return o<r?-s:o>r?s:0}var r=e.split('.').reverse(),a=r[0],i=r.length-1,s='next'===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(o)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,o){if(it&&'next'===t.dir&&q(t,!0)&&0<t.limit){var r=t.table.hook.reading.fire,d=i(t,o),l=t.limit<Infinity?d.getAll(t.range,t.limit):d.getAll(t.range);l.onerror=ke(n),l.onsuccess=r===L?Te(e):Te(function(t){try{e(t.map(r))}catch(t){n(t)}})}else{var c=[];s(t,function(e){c.push(e)},function(){e(c)},n,o)}},e)},offset:function(e){var n=this._ctx;return 0>=e?this:(n.offset+=e,q(n)?t(n,function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1))}}):t(n,function(){var t=e;return function(){return 0>--t}}),this)},limit:function(e){return this._ctx.limit=Ie(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,o){return 0>=--t&&n(o),0<=t}},!0),this},until:function(t,n){return e(this._ctx,function(e,o,r){return!t(e.value)||(o(r),n)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,function(e){return t(e.value)}),n(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new K(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir='prev'===this._ctx.dir?'next':'prev',this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique='unique',this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},primaryKeys:function(e){var t=this._ctx;if(it&&'next'===t.dir&&q(t,!0)&&0<t.limit)return this._read(function(e,n,o){var r=i(t,o),a=t.limit<Infinity?r.getAllKeys(t.range,t.limit):r.getAllKeys(t.range);a.onerror=ke(n),a.onsuccess=Te(e)}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique='unique',this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var o={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=r(o,t);return o[t]=!0,!n}),this},modify:function(e){var t=this,n=this._ctx,i=n.table.hook,a=i.updating.fire,s=i.deleting.fire;return this._write(function(n,i,d,l){function c(e,t){function n(t){return _.push(t),R.push(o.primKey),u(),!0}x=t.primaryKey;var o={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(!1!==m.call(o,e,o)){var i=!r(o,'value');++w,f(function(){var e=i?t.delete():t.update(o.value);e._hookCtx=o,e.onerror=_e(n),e.onsuccess=we(function(){++k,u()})},n)}else o.onsuccess&&o.onsuccess(o.value)}function p(t){return t&&(_.push(t),R.push(x)),i(new D('Error modifying one or more objects',_,k,R))}function u(){T&&k+_.length===w&&(0<_.length?p():n(k))}var m;if('function'==typeof e)m=a===I&&s===I?e:function(t){var n=v(t);if(!1===e.call(this,t,this))return!1;if(!r(this,'value'))s.call(this,this.primKey,t,l);else{var o=E(n,this.value),i=a.call(this,o,this.primKey,n,l);i&&(t=this.value,Le(i).forEach(function(e){y(t,e,i[e])}))}};else if(a===I){var h=Le(e),S=h.length;m=function(t){for(var n=!1,o=0;o<S;++o){var r=h[o],i=e[r];g(t,r)!==i&&(y(t,r,i),n=!0)}return n}}else{var b=e;e=C(b),m=function(t){var n=!1,r=a.call(this,e,this.primKey,v(t),l);return r&&o(e,r),Le(e).forEach(function(o){var r=e[o];g(t,o)!==r&&(y(t,o,r),n=!0)}),r&&(e=C(b)),n}}var w=0,k=0,T=!1,_=[],R=[],x=null;t.clone().raw()._iterate(c,function(){T=!0,u()},p,d)})},delete:function(){var e=this,t=this._ctx,n=t.range,o=t.table.hook.deleting.fire,r=o!==I;if(!r&&q(t)&&(t.isPrimKey&&!qt||!n))return this._write(function(e,t,o){var r=ke(t),i=n?o.count(n):o.count();i.onerror=r,i.onsuccess=function(){var a=i.result;f(function(){var t=n?o.delete(n):o.clear();t.onerror=r,t.onsuccess=function(){return e(a)}},function(e){return t(e)})}});var i=r?2e3:1e4;return this._write(function(n,a,s,d){var l=0,c=e.clone({keysOnly:!t.isMatch&&!r}).distinct().limit(i).raw(),p=[],u=function(){return c.each(r?function(e,t){p.push([t.primaryKey,t.value])}:function(e,t){p.push(t.primaryKey)}).then(function(){return r?p.sort(function(e,t){return ne(e[0],t[0])}):p.sort(ne),V(s,d,p,r,o)}).then(function(){var e=p.length;return l+=e,p=[],e<i?l:u()})};n(u())})}}}),o(this,{Collection:j,Table:B,Transaction:G,Version:n,WhereClause:K}),function(){$e.on('versionchange',function(e){0<e.newVersion?console.warn('Another connection wants to upgrade database \''+$e.name+'\'. Closing db now to resume the upgrade.'):console.warn('Another connection wants to delete database \''+$e.name+'\'. Closing db now to resume the delete request.'),$e.close()}),$e.on('blocked',function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn('Dexie.delete(\''+$e.name+'\') was blocked'):console.warn('Upgrade \''+$e.name+'\' blocked by other connection holding version '+e.oldVersion/10)})}(),ye.forEach(function(e){e($e)})}function ve(e){if('function'==typeof e)return new e;if(Fe(e))return[ve(e[0])];if(e&&'object'==typeof e){var t={};return Ee(t,e),t}return e}function Ee(e,t){return Le(t).forEach(function(n){var o=ve(t[n]);e[n]=o}),e}function we(e){return ie(function(t){var n=t.target,o=n._hookCtx,r=o.value||n.result,i=o&&o.onsuccess;i&&i(r),e&&e(r)},e)}function ke(e){return ie(function(t){return Re(t),e(t.target.error),!1})}function Te(e){return ie(function(t){e(t.target.result)})}function _e(e){return ie(function(t){var n=t.target,o=n.error,r=n._hookCtx,i=r&&r.onerror;return i&&i(o),Re(t),e(o),!1})}function Re(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function xe(e){function t(e){return function(t){var n=e(t),i=n.value;return n.done?i:i&&'function'==typeof i.then?i.then(o,r):Fe(i)?W.all(i).then(o,r):o(i)}}var n=function(t){return e.next(t)},o=t(n),r=t(function(t){return e.throw(t)});return t(n)()}function Pe(e,t,n,o,r,i,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=o,this.auto=r,this.compound=i,this.dotted=a;var s='string'==typeof t?t:t&&'['+[].join.call(t,'+')+']';this.src=(n?'&':'')+(o?'*':'')+(r?'++':'')+s}function De(e,t,n,o){this.name=e,this.primKey=t||new Pe,this.indexes=n||[new Pe],this.instanceTemplate=o,this.mappedClass=null,this.idxByName=m(n,function(e){return[e.name,e]})}function Me(e){return 1===e.length?e[0]:e}function Ae(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}var Ie=Math.min;n.r(t);var Le=Object.keys,Fe=Array.isArray,Be='undefined'==typeof self?'undefined'==typeof window?global:window:self,Ne=Object.getPrototypeOf,Oe={}.hasOwnProperty,He=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,Ue=[].slice,We=[].concat,Ve=['Boolean','String','Date','RegExp','Blob','File','FileList','ArrayBuffer','DataView','Uint8ClampedArray','ImageData','Map','Set'].concat(b([8,16,32,64].map(function(e){return['Int','Uint','Float'].map(function(n){return n+e+'Array'})}))).filter(function(e){return Be[e]}).map(function(e){return Be[e]}),Ge='undefined'!=typeof Symbol&&Symbol.iterator,Ke=Ge?function(e){var t;return null!=e&&(t=e[Ge])&&t.apply(e)}:function(){return null},je={},qe='undefined'!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Ye=function(){return!0},Xe=!new Error('').stack,Qe=['Unknown','Constraint','Data','TransactionInactive','ReadOnly','Version','NotFound','InvalidState','InvalidAccess','Abort','Timeout','QuotaExceeded','Syntax','DataClone'],$e=['Modify','Bulk','OpenFailed','VersionChange','Schema','Upgrade','InvalidTable','MissingAPI','NoSuchDatabase','InvalidArgument','SubTransaction','Unsupported','Internal','DatabaseClosed','PrematureCommit','ForeignAwait'].concat(Qe),Ze={VersionChanged:'Database version changed by other database connection',DatabaseClosed:'Database has been closed',Abort:'Transaction aborted',TransactionInactive:'Transaction has already completed or failed'};s(x).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+': '+this.message+_(this._e,2))}},toString:function(){return this.name+': '+this.message}}),s(D).from(x),s(M).from(x);var Je=$e.reduce(function(e,t){return e[t]=t+'Error',e},{}),et=x,tt=$e.reduce(function(e,t){function n(e,n){this._e=T(),this.name=o,e?'string'==typeof e?(this.message=e,this.inner=n||null):'object'==typeof e&&(this.message=e.name+' '+e.message,this.inner=e):(this.message=Ze[t]||o,this.inner=null)}var o=t+'Error';return s(n).from(et),e[t]=n,e},{});tt.Syntax=SyntaxError,tt.Type=TypeError,tt.Range=RangeError;var nt=Qe.reduce(function(e,t){return e[t+'Error']=tt[t],e},{}),ot=$e.reduce(function(e,t){return-1===['Syntax','Type','Range'].indexOf(t)&&(e[t+'Error']=tt[t]),e},{});ot.ModifyError=D,ot.DexieError=x,ot.BulkError=M;var rt={},it=100,at=7,st=function(){try{return new Function('let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];')()}catch(t){var e=Be.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),dt=st[0],lt=st[1],ct=st[2],pt=lt&&lt.then,ut=dt&&dt.constructor,mt=st[3],ht=!!ct,ft=!1,gt=ct?function(){ct.then($)}:Be.setImmediate?setImmediate.bind(null,$):Be.MutationObserver?function(){var e=document.createElement('div');new MutationObserver(function(){$(),e=null}).observe(e,{attributes:!0}),e.setAttribute('i','1')}:function(){setTimeout($,0)},yt=function(e,t){_t.push([e,t]),Ct&&(gt(),Ct=!1)},St=!0,Ct=!0,bt=[],vt=[],Et=null,wt=L,kt={id:'global',global:!0,ref:0,unhandleds:[],onunhandled:Se,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Se(e[0],e[1])}catch(t){}})}},Tt=kt,_t=[],Rt=0,xt=[],Pt={get:function(){function e(e,o){var r=this,i=!t.global&&(t!==Tt||n!==Lt);i&&de();var a=new W(function(n,a){q(r,new V(ge(e,t,i),ge(o,t,i),n,a,t))});return qe&&Q(a,this),a}var t=Tt,n=Lt;return e.prototype=rt,e},set:function(e){a(this,'then',e&&e.prototype===rt?Pt:{get:function(){return e},set:Pt.set})}};i(W.prototype,{then:Pt,_then:function(e,t){q(this,new V(null,null,e,t,Tt))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return'function'==typeof t?this.then(null,function(e){return e instanceof t?n(e):re(e)}):this.then(null,function(e){return e&&e.name===t?n(e):re(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),re(t)})},stack:{get:function(){if(this._stack)return this._stack;try{ft=!0;var e=X(this,[],20),t=e.join('\nFrom previous: ');return null!==this._state&&(this._stack=t),t}finally{ft=!1}}},timeout:function(e,t){var n=this;return e<Infinity?new W(function(o,r){var i=setTimeout(function(){return r(new tt.Timeout(t))},e);n.then(o,r).finally(clearTimeout.bind(null,i))}):this}}),'undefined'!=typeof Symbol&&Symbol.toStringTag&&a(W.prototype,Symbol.toStringTag,'Promise'),kt.env=me(),i(W,{all:function(){var e=w.apply(null,arguments).map(le);return new W(function(t,n){0===e.length&&t([]);var o=e.length;e.forEach(function(r,a){return W.resolve(r).then(function(n){e[a]=n,--o||t(e)},n)})})},resolve:function(e){if(e instanceof W)return e;if(e&&'function'==typeof e.then)return new W(function(t,n){e.then(t,n)});var t=new W(rt,!0,e);return Q(t,Et),t},reject:re,race:function(){var e=w.apply(null,arguments).map(le);return new W(function(t,n){e.map(function(e){return W.resolve(e).then(t,n)})})},PSD:{get:function(){return Tt},set:function(e){return Tt=e}},newPSD:ae,usePSD:he,scheduler:{get:function(){return yt},set:function(e){yt=e}},rejectionMapper:{get:function(){return wt},set:function(e){wt=e}},follow:function(e,t){return new W(function(n,o){return ae(function(t,n){var o=Tt;o.unhandleds=[],o.onunhandled=n,o.finalize=B(function(){var e=this;te(function(){0===e.unhandleds.length?t():n(e.unhandleds[0])})},o.finalize),e()},t,n,o)})}});var Dt={awaits:0,echoes:0,id:0},Mt=0,At=[],It=0,Lt=0,Ft=0,Bt='unhandledrejection',Nt=W.reject,Ot='{version}',Ht='\uFFFF',zt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Ht}}(),Ut=-Infinity,Wt='Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.',Vt='String expected.',Gt=[],Kt='undefined'!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),jt=Kt,qt=Kt,Yt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Xt;k(qe,Yt),i(be,ot),i(be,{delete:function(e){var t=new be(e),n=t.delete();return n.onblocked=function(e){return t.on('blocked',e),this},n},exists:function(e){return new be(e).open().then(function(e){return e.close(),!0}).catch(be.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){var t=Ae(be.dependencies.indexedDB);return t?new W(function(e,n){var o=t();o.onsuccess=function(t){e(l(t.target.result,0))},o.onerror=ke(n)}).then(e):Xt.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&o(this,e)}},applyStructure:Ee,ignoreTransaction:function(e){return Tt.trans?he(Tt.transless,e):e()},vip:function(e){return ae(function(){return Tt.letThrough=!0,e()})},async:function(e){return function(){try{var t=xe(e.apply(this,arguments));return t&&'function'==typeof t.then?t:W.resolve(t)}catch(t){return Nt(t)}}},spawn:function(e,t,n){try{var o=xe(e.apply(n,t||[]));return o&&'function'==typeof o.then?o:W.resolve(o)}catch(t){return Nt(t)}},currentTransaction:{get:function(){return Tt.trans||null}},waitFor:function(e,t){var n=W.resolve('function'==typeof e?be.ignoreTransaction(e):e).timeout(t||6e4);return Tt.trans?Tt.trans.waitFor(n):n},Promise:W,debug:{get:function(){return qe},set:function(e){k(e,'dexie'===e?function(){return!0}:Yt)}},derive:s,extend:o,props:i,override:c,Events:Ce,getByKeyPath:g,setByKeyPath:y,delByKeyPath:S,shallowClone:C,deepClone:v,getObjectDiff:E,asap:u,maxKey:zt,minKey:Ut,addons:[],connections:Gt,MultiModifyError:tt.Modify,errnames:Je,IndexSpec:Pe,TableSchema:De,dependencies:function(){try{return{indexedDB:Be.indexedDB||Be.mozIndexedDB||Be.webkitIndexedDB||Be.msIndexedDB,IDBKeyRange:Be.IDBKeyRange||Be.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:Ot,version:Ot.split('.').map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),default:be,Dexie:be}),W.rejectionMapper=A,Xt=new be('__dbnames'),Xt.version(1).stores({dbnames:'name'}),function(){var e='Dexie.DatabaseNames';try{typeof localStorage!==void 0&&Be.document!==void 0&&(JSON.parse(localStorage.getItem(e)||'[]').forEach(function(e){return Xt.dbnames.put({name:e}).catch(I)}),localStorage.removeItem(e))}catch(e){}}(),t['default']=be},function(e,t,n){'use strict';const o=n(759),r=n(758),i=n(757),a=new WeakMap,s=(...e)=>{if(0===e.length)return'__defaultKey';if(1===e.length){const[t]=e;if(null===t||void 0===t||'function'!=typeof t&&'object'!=typeof t)return t}return JSON.stringify(e)},d=(e,t)=>{t=Object.assign({cacheKey:s,cache:new Map,cachePromiseRejection:!1},t),'number'==typeof t.maxAge&&i(t.cache);const{cache:n}=t;t.maxAge=t.maxAge||0;const d=(e,o)=>{n.set(e,{data:o,maxAge:Date.now()+t.maxAge})},l=function(...o){const i=t.cacheKey(...o);if(n.has(i))return n.get(i).data;const a=e.call(this,...o);return d(i,a),r(a)&&!1===t.cachePromiseRejection&&a.catch(()=>n.delete(i)),a};try{o(l,e)}catch(e){}return a.set(l,t.cache),l};e.exports=d,e.exports.default=d,e.exports.clear=(e)=>{const t=a.get(e);t&&'function'==typeof t.clear&&t.clear()}},function(e){'use strict';e.exports=function(e){e=e||{};var t=e.env||process.env,n=e.platform||'win32';return'win32'===n?Object.keys(t).filter(function(e){return'PATH'===e.toUpperCase()})[0]||'Path':'PATH'}},function(e,t,n){'use strict';function o(e){var t=this;if(t instanceof o||(t=new o),t.tail=null,t.head=null,t.length=0,e&&'function'==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t){e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function i(e,t,n,o){return this instanceof i?void(this.list=o,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null):new i(e,t,n,o)}e.exports=o,o.Node=i,o.create=o,o.prototype.removeNode=function(e){if(e.list!==this)throw new Error('removing node which does not belong to this list');var t=e.next,n=e.prev;t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null},o.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},o.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},o.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},o.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},o.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,o=0;null!==n;o++)e.call(t,n.value,o,this),n=n.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,o=this.length-1;null!==n;o--)e.call(t,n.value,o,this),n=n.prev},o.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},o.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},o.prototype.map=function(e,t){t=t||this;for(var n=new o,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},o.prototype.mapReverse=function(e,t){t=t||this;for(var n=new o,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},o.prototype.reduce=function(e,t){var n=this.head,o;if(1<arguments.length)o=t;else if(this.head)n=this.head.next,o=this.head.value;else throw new TypeError('Reduce of empty list with no initial value');for(var r=0;null!==n;r++)o=e(o,n.value,r),n=n.next;return o},o.prototype.reduceReverse=function(e,t){var n=this.tail,o;if(1<arguments.length)o=t;else if(this.tail)n=this.tail.prev,o=this.tail.value;else throw new TypeError('Reduce of empty list with no initial value');for(var r=this.length-1;null!==n;r--)o=e(o,n.value,r),n=n.prev;return o},o.prototype.toArray=function(){for(var e=Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},o.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},o.prototype.slice=function(e,t){t=t||this.length,0>t&&(t+=this.length),e=e||0,0>e&&(e+=this.length);var n=new o;if(t<e||0>t)return n;0>e&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(;null!==i&&r<t;r++,i=i.next)n.push(i.value);return n},o.prototype.sliceReverse=function(e,t){t=t||this.length,0>t&&(t+=this.length),e=e||0,0>e&&(e+=this.length);var n=new o;if(t<e||0>t)return n;0>e&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;null!==i&&r>t;r--)i=i.prev;for(;null!==i&&r>e;r--,i=i.prev)n.push(i.value);return n},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e,o;null!==n;n=n.prev)o=n.prev,n.prev=n.next,n.next=o;return this.head=t,this.tail=e,this};try{n(768)}catch(e){}},function(e,t,n){'use strict';function o(){return 1}function r(e){if(!(this instanceof r))return new r(e);'number'==typeof e&&(e={max:e}),e||(e={});var t=this[g]=e.max;t&&'number'==typeof t&&!(0>=t)||(this[g]=Infinity);var n=e.length||o;'function'!=typeof n&&(n=o),this[S]=n,this[C]=e.stale||!1,this[b]=e.maxAge||0,this[v]=e.dispose,this[E]=e.noDisposeOnSet||!1,this.reset()}function i(e,t,n,o){var r=n.value;s(e,r)&&(l(e,n),!e[C]&&(r=void 0)),r&&t.call(o,r.value,r.key,e)}function a(e,t,n){var o=e[k].get(t);if(o){var r=o.value;s(e,r)?(l(e,o),!e[C]&&(r=void 0)):n&&e[w].unshiftNode(o),r&&(r=r.value)}return r}function s(e,t){if(!t||!t.maxAge&&!e[b])return!1;var n=!1,o=Date.now()-t.now;return n=t.maxAge?o>t.maxAge:e[b]&&o>e[b],n}function d(e){if(e[y]>e[g])for(var t=e[w].tail,n;e[y]>e[g]&&null!==t;)n=t.prev,l(e,t),t=n}function l(e,t){if(t){var n=t.value;e[v]&&e[v](n.key,n.value),e[y]-=n.length,e[k].delete(n.key),e[w].removeNode(t)}}function c(e,t,n,o,r){this.key=e,this.value=t,this.length=n,this.now=o,this.maxAge=r||0}e.exports=r;var p=n(770),u=n(176),m=n(297),h='function'==typeof Symbol,f;f=h?function(e){return Symbol.for(e)}:function(e){return'_'+e};var g=f('max'),y=f('length'),S=f('lengthCalculator'),C=f('allowStale'),b=f('maxAge'),v=f('dispose'),E=f('noDisposeOnSet'),w=f('lruList'),k=f('cache');Object.defineProperty(r.prototype,'max',{set:function(e){e&&'number'==typeof e&&!(0>=e)||(e=Infinity),this[g]=e,d(this)},get:function(){return this[g]},enumerable:!0}),Object.defineProperty(r.prototype,'allowStale',{set:function(e){this[C]=!!e},get:function(){return this[C]},enumerable:!0}),Object.defineProperty(r.prototype,'maxAge',{set:function(e){e&&'number'==typeof e&&!(0>e)||(e=0),this[b]=e,d(this)},get:function(){return this[b]},enumerable:!0}),Object.defineProperty(r.prototype,'lengthCalculator',{set:function(e){'function'!=typeof e&&(e=o),e!==this[S]&&(this[S]=e,this[y]=0,this[w].forEach(function(e){e.length=this[S](e.value,e.key),this[y]+=e.length},this)),d(this)},get:function(){return this[S]},enumerable:!0}),Object.defineProperty(r.prototype,'length',{get:function(){return this[y]},enumerable:!0}),Object.defineProperty(r.prototype,'itemCount',{get:function(){return this[w].length},enumerable:!0}),r.prototype.rforEach=function(e,t){t=t||this;for(var n=this[w].tail,o;null!==n;)o=n.prev,i(this,e,n,t),n=o},r.prototype.forEach=function(e,t){t=t||this;for(var n=this[w].head,o;null!==n;)o=n.next,i(this,e,n,t),n=o},r.prototype.keys=function(){return this[w].toArray().map(function(e){return e.key},this)},r.prototype.values=function(){return this[w].toArray().map(function(e){return e.value},this)},r.prototype.reset=function(){this[v]&&this[w]&&this[w].length&&this[w].forEach(function(e){this[v](e.key,e.value)},this),this[k]=new p,this[w]=new m,this[y]=0},r.prototype.dump=function(){return this[w].map(function(e){if(!s(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},r.prototype.dumpLru=function(){return this[w]},r.prototype.inspect=function(e,t){var n='LRUCache {',r=!1,i=this[C];i&&(n+='\n  allowStale: true',r=!0);var a=this[g];a&&a!==Infinity&&(r&&(n+=','),n+='\n  max: '+u.inspect(a,t),r=!0);var d=this[b];d&&(r&&(n+=','),n+='\n  maxAge: '+u.inspect(d,t),r=!0);var l=this[S];l&&l!==o&&(r&&(n+=','),n+='\n  length: '+u.inspect(this[y],t),r=!0);var c=!1;return this[w].forEach(function(e){c?n+=',\n  ':(r&&(n+=',\n'),c=!0,n+='\n  ');var i=u.inspect(e.key).split('\n').join('\n  '),a={value:e.value};e.maxAge!==d&&(a.maxAge=e.maxAge),l!==o&&(a.length=e.length),s(this,e)&&(a.stale=!0),a=u.inspect(a,t).split('\n').join('\n  '),n+=i+' => '+a}),(c||r)&&(n+='\n'),n+='}',n},r.prototype.set=function(e,t,n){n=n||this[b];var o=n?Date.now():0,r=this[S](t,e);if(this[k].has(e)){if(r>this[g])return l(this,this[k].get(e)),!1;var i=this[k].get(e),a=i.value;return this[v]&&!this[E]&&this[v](e,a.value),a.now=o,a.maxAge=n,a.value=t,this[y]+=r-a.length,a.length=r,this.get(e),d(this),!0}var s=new c(e,t,r,o,n);return s.length>this[g]?(this[v]&&this[v](e,t),!1):(this[y]+=s.length,this[w].unshift(s),this[k].set(e,this[w].head),d(this),!0)},r.prototype.has=function(e){if(!this[k].has(e))return!1;var t=this[k].get(e).value;return!s(this,t)},r.prototype.get=function(e){return a(this,e,!0)},r.prototype.peek=function(e){return a(this,e,!1)},r.prototype.pop=function(){var e=this[w].tail;return e?(l(this,e),e.value):null},r.prototype.del=function(e){l(this,this[k].get(e))},r.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;0<=n;n--){var o=e[n],r=o.e||0;if(0===r)this.set(o.k,o.v);else{var i=r-t;0<i&&this.set(o.k,o.v,i)}}},r.prototype.prune=function(){var e=this;this[k].forEach(function(t,n){a(e,n,!1)})}},function(e,t,n){'use strict';function o(e,t,n){var o;return n&&!0===n.__winShell?(delete n.__winShell,o={command:e,args:t,options:n,file:e,original:e}):o=d._parse(e,t,n),n=c({maxBuffer:h,stripEof:!0,preferLocal:!0,encoding:'utf8'},o.options),n.preferLocal&&(n.env=c({},n.env||process.env),n.env[m]=p({cwd:n.cwd,path:n.env[m]})),{cmd:o.command,args:o.args,opts:n}}function r(e,t){var n=t.input;null===n||void 0===n||(u(n)?n.pipe(e.stdin):e.stdin.end(n))}function i(e,t){return e.stripEof&&(t=l(t)),t}function a(e,t,n){var o,r;return n=c({},n),n.__winShell=!0,o=process.env.comspec||'cmd.exe',r=['/s','/c','"'+t+'"'],n.windowsVerbatimArguments=!0,n.shell&&(o=n.shell),e(o,r,n)}var s=n(48),d=n(772),l=n(762),c=n(183),p=n(761),u=n(760),m=n(296)(),h=10485760;e.exports=function(e,t,n){var a=new Promise(function(a,c){var p=o(e,t,n);l=s.execFile(p.cmd,p.args,p.opts,function(e,t,n){return e?(e.stdout=t,e.stderr=n,e.message+=t,void c(e)):void a({stdout:i(p.opts,t),stderr:i(p.opts,n)})}),d._enoent.hookChildProcess(l,p),r(l,p.opts)}),l;return l.then=a.then.bind(a),l.catch=a.catch.bind(a),l},e.exports.stdout=function(){return e.exports.apply(null,arguments).then(function(e){return e.stdout})},e.exports.stderr=function(){return e.exports.apply(null,arguments).then(function(e){return e.stderr})},e.exports.shell=function(t,n){return a(e.exports,t,n)},e.exports.spawn=function(e,t,n){var r=o(e,t,n),i=s.spawn(r.cmd,r.args,r.opts);return d._enoent.hookChildProcess(i,r),i},e.exports.sync=function(e,t,n){var r=o(e,t,n);if(u(r.opts.input))throw new TypeError('The `input` option cannot be a stream in sync mode');var i=s.spawnSync(r.cmd,r.args,r.opts);return r.opts.stripEof&&(i.stdout=l(i.stdout),i.stderr=l(i.stderr)),i},e.exports.shellSync=function(t,n){return a(e.exports.sync,t,n)}},function(e){function t(e,t){var o=t||0,r=n;return r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+'-'+r[e[o++]]+r[e[o++]]+'-'+r[e[o++]]+r[e[o++]]+'-'+r[e[o++]]+r[e[o++]]+'-'+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]+r[e[o++]]}for(var n=[],o=0;256>o;++o)n[o]=(o+256).toString(16).substr(1);e.exports=t},function(e,t,n){var o=n(177).randomBytes;e.exports=function(){return o(16)}},function(e,t,n){var o=n(301),r=n(300);e.exports=function(e,t,n){var a=t&&n||0;'string'==typeof e&&(t='binary'==e?Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||o)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],t)for(var s=0;16>s;++s)t[a+s]=i[s];return t||r(i)}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t='transition'+e+'Timeout';return function(n){if(n['transition'+e]){if(null==n[t])return new Error(t+' wasn\'t supplied to CSSTransitionGroup: this can cause unreliable animations and won\'t be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.');if('number'!=typeof n[t])return new Error(t+' must be a number (in milliseconds)')}return null}};var r=n(0),i=o(r),a=n(15),s=o(a),d=t.nameShape=s.default.oneOfType([s.default.string,s.default.shape({enter:s.default.string,leave:s.default.string,active:s.default.string}),s.default.shape({enter:s.default.string,enterActive:s.default.string,leave:s.default.string,leaveActive:s.default.string,appear:s.default.string,appearActive:s.default.string})])},function(e,t,n){'use strict';function o(){for(var e=document.createElement('div').style,t={O:function(t){return'o'+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return'webkit'+t},ms:function(t){return'MS'+t}},n=Object.keys(t),o=void 0,r=void 0,a='',s=0,i;s<n.length;s++)if(i=n[s],i+'TransitionProperty'in e){a='-'+i.toLowerCase(),o=t[i]('TransitionEnd'),r=t[i]('AnimationEnd');break}return!o&&'transitionProperty'in e&&(o='transitionend'),!r&&'animationName'in e&&(r='animationend'),e=null,{animationEnd:r,transitionEnd:o,prefix:a}}Object.defineProperty(t,'__esModule',{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r=n(181),i=function(e){return e&&e.__esModule?e:{default:e}}(r),a='transform',s=void 0,d=void 0,l=void 0,c=void 0,p=void 0,u=void 0,m=void 0,h=void 0,f=void 0,g=void 0,y=void 0;if(i.default){var S=o();s=S.prefix,t.transitionEnd=d=S.transitionEnd,t.animationEnd=l=S.animationEnd,t.transform=a=s+'-'+a,t.transitionProperty=c=s+'-transition-property',t.transitionDuration=p=s+'-transition-duration',t.transitionDelay=m=s+'-transition-delay',t.transitionTiming=u=s+'-transition-timing-function',t.animationName=h=s+'-animation-name',t.animationDuration=f=s+'-animation-duration',t.animationTiming=g=s+'-animation-delay',t.animationDelay=y=s+'-animation-timing-function'}t.transform=a,t.transitionProperty=c,t.transitionTiming=u,t.transitionDelay=m,t.transitionDuration=p,t.transitionEnd=d,t.animationName=h,t.animationDuration=f,t.animationTiming=g,t.animationDelay=y,t.animationEnd=l,t.default={transform:a,end:d,property:c,timing:u,delay:m,duration:p}},function(e){'use strict';e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp('(^|\\s)'+t+'(?:\\s|$)','g'),'$1').replace(/\s+/g,' ').replace(/^\s*|\s*$/g,'')}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):!(0,r.default)(e)&&(e.className=e.className+' '+t)};var o=n(779),r=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=t['default']},function(e){'use strict';!1,e.exports=function(){}},function(e){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];return t=t.filter(function(e){return null!=e}),0===t.length?void 0:1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},d=n(308),l=o(d),c=n(0),p=o(c),u=n(15),m=o(u),h=n(307),f=o(h),g=n(781),y={component:m.default.any,childFactory:m.default.func,children:m.default.node},S=function(e){function t(n,o){r(this,t);var a=i(this,e.call(this,n,o));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,g.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=s({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,g.getChildMapping)(n.children)},a}return a(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,g.getChildMapping)(e.children),n=this.state.children;for(var o in this.setState({children:(0,g.mergeChildMappings)(n,t)}),t){var r=n&&n.hasOwnProperty(o);!t[o]||r||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var o=e.state.children[n];if(o){var r='string'!=typeof o.ref,i=e.props.childFactory(o),a=function(t){e.childRefs[n]=t};!1,i===o&&r&&(a=(0,l.default)(o.ref,a)),t.push(p.default.cloneElement(i,{key:n,ref:a}))}};for(var o in this.state.children)n(o);var r=s({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,p.default.createElement(this.props.component,r,t)},t}(p.default.Component);S.displayName='TransitionGroup',S.propTypes={},S.defaultProps={component:'span',childFactory:function(e){return e}},t.default=S,e.exports=t['default']},function(e,t,n){'use strict';function o(){return r.createElement('div',{className:'panel blankslate'},'No repository selected')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(22),a=n(88),s=n(28),d=n(2),l=n(40),c=n(137),p=n(774),u=n(55),m=n(10),h=n(86),f=n(87),g=n(134),y=n(167),S=n(26),C=n(164),b=n(132),v=n(31),E=n(131),w=n(103),k=n(630),T=n(622),_=n(569),R=n(487),x=n(485),P=n(483),D=n(199),M=n(4),A=n(27),I=n(477),L=n(475),F=n(466),B=n(462),N=n(455),O=n(445),H=n(443),z=n(436),U=n(434),W=n(433),V=n(425),G=n(420),K=n(417),j=n(415),q=n(413),Y=n(411),X=n(409),Q=n(405),$=n(403),Z=n(401),J=n(399),ee=n(397),te=n(90),ne=n(395),oe=n(390),re=n(388),ie=n(386),ae=n(383),se=n(381),de=n(379),le=n(378),ce=n(374),pe=n(85),ue=n(373),me=n(38),he=n(24),fe=n(371),ge=n(370),ye=n(368),Se=n(366),Ce=n(81),be=n(98),ve=n(358),Ee=n(357),we=n(356),ke=n(355),Te=n(25),_e=n(201),Re=n(97),xe=n(354),Pe=n(61),De=n(353),Me=n(352),Ae=n(351),Ie=n(350),Le=n(349),Fe=n(347),Be=n(345),Ne=n(343),Oe=60000,He=60*Oe;t.dialogTransitionEnterTimeout=250,t.dialogTransitionLeaveTimeout=100;class ze extends r.Component{constructor(e){super(e),this.loading=!0,this.lastKeyPressed=null,this.showAddLocalRepo=()=>this.props.dispatcher.showPopup({type:he.PopupType.AddRepository}),this.showCreateRepository=()=>{this.props.dispatcher.showPopup({type:he.PopupType.CreateRepository})},this.showCloneRepo=(e)=>{let t=null;return void 0!==e&&(this.props.dispatcher.changeCloneRepositoriesTab(E.CloneRepositoryTab.Generic),t=e),this.props.dispatcher.showPopup({type:he.PopupType.CloneRepository,initialURL:t})},this.showCreateTutorialRepositoryPopup=()=>{const e=this.getDotComAccount()||this.getEnterpriseAccount();null===e||this.props.dispatcher.showPopup({type:he.PopupType.CreateTutorialRepository,account:e})},this.onResumeTutorialRepository=()=>{const e=this.getSelectedTutorialRepository();e&&this.props.dispatcher.resumeTutorial(e)},this.onWindowKeyDown=(e)=>{if(!e.defaultPrevented&&!this.isShowingModal){if(p.shouldRenderApplicationMenu())if('Shift'===e.key&&e.altKey)this.props.dispatcher.setAccessKeyHighlightState(!1);else if('Alt'===e.key){if(e.shiftKey)return;this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.AppMenu&&1<this.state.appMenuState.length&&(this.props.dispatcher.setAppMenuState((e)=>e.withReset()),this.props.dispatcher.closeFoldout(s.FoldoutType.AppMenu)),this.props.dispatcher.setAccessKeyHighlightState(!0)}else if(!e.altKey||e.ctrlKey||e.metaKey)e.altKey||this.props.dispatcher.setAccessKeyHighlightState(!1);else if(this.state.appMenuState.length){const t=this.state.appMenuState[0].items,n=b.findItemByAccessKey(e.key,t);n&&b.itemIsSelectable(n)&&('submenuItem'===n.type?(this.props.dispatcher.setAppMenuState((e)=>e.withReset().withSelectedItem(n).withOpenedMenu(n,!0)),this.props.dispatcher.showFoldout({type:s.FoldoutType.AppMenu,enableAccessKeyNavigation:!0,openedWithAccessKey:!0})):this.props.dispatcher.executeMenuItem(n),e.preventDefault())}this.lastKeyPressed=e.key}},this.onWindowKeyUp=(e)=>{e.defaultPrevented||p.shouldRenderApplicationMenu()&&'Alt'===e.key&&(this.props.dispatcher.setAccessKeyHighlightState(!1),'Alt'===this.lastKeyPressed&&(this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.AppMenu?(this.props.dispatcher.setAppMenuState((e)=>e.withReset()),this.props.dispatcher.closeFoldout(s.FoldoutType.AppMenu)):this.props.dispatcher.showFoldout({type:s.FoldoutType.AppMenu,enableAccessKeyNavigation:!0,openedWithAccessKey:!1})))},this.removeRepository=(e)=>e?e instanceof w.CloningRepository||e.missing?void this.props.dispatcher.removeRepositories([e],!1):void(this.state.askForConfirmationOnRepositoryRemoval?this.props.dispatcher.showPopup({type:he.PopupType.RemoveRepository,repository:e}):this.props.dispatcher.removeRepositories([e],!1)):void 0,this.onConfirmRepoRemoval=(e,t)=>{this.props.dispatcher.removeRepositories([e],t)},this.openCurrentRepositoryInShell=()=>{const e=this.getRepository();e&&this.openInShell(e)},this.onMenuBarLostFocus=()=>{this.props.dispatcher.closeFoldout(s.FoldoutType.AppMenu),this.props.dispatcher.setAppMenuState((e)=>e.withReset())},this.onPopupDismissed=()=>this.props.dispatcher.closePopup(),this.onSignInDialogDismissed=()=>{this.props.dispatcher.resetSignInState(),this.onPopupDismissed()},this.onContinueWithUntrustedCertificate=(e)=>{this.props.dispatcher.closePopup(),A.showCertificateTrustDialog(e,'Could not securely connect to the server, because its certificate is not trusted. Attackers might be trying to steal your information.\n\nTo connect unsafely, which may put your data at risk, you can \u201CAlways trust\u201D the certificate and try again.')},this.onUpdateAvailableDismissed=()=>this.props.dispatcher.setUpdateBannerVisibility(!1),this.onExitTutorialToHomeScreen=()=>{const e=this.getSelectedTutorialRepository();e&&(this.props.dispatcher.pauseTutorial(e),this.props.dispatcher.closePopup())},this.onCreateTutorialRepository=(e)=>{this.props.dispatcher.createTutorialRepository(e)},this.onShowRebaseConflictsBanner=(e,t)=>{this.props.dispatcher.setBanner({type:be.BannerType.RebaseConflictsFound,targetBranch:t,onOpenDialog:async()=>{const{changesState:t}=this.props.repositoryStateManager.get(e),{conflictState:n}=t;if(null===n||'merge'===n.kind)return void log.debug(`[App.onShowRebasConflictsBanner] no conflict state found, ignoring...`);await this.props.dispatcher.setRebaseProgressFromState(e);const o=Ce.initializeRebaseFlowForConflictedRepository(n);this.props.dispatcher.setRebaseFlowStep(e,o),this.props.dispatcher.showPopup({type:he.PopupType.RebaseFlow,repository:e})}})},this.onRebaseFlowEnded=(e)=>{this.props.dispatcher.closePopup(),this.props.dispatcher.endRebaseFlow(e)},this.onUsageReportingDismissed=(e)=>{this.props.appStore.setStatsOptOut(e,!0),this.props.appStore.markUsageStatsNoteSeen(),this.onPopupDismissed(),this.props.appStore._reportStats()},this.openUsageDataUrl=()=>{this.props.dispatcher.openInBrowser(h.SamplesURL)},this.onUpdateExistingUpstreamRemote=(e)=>{this.props.dispatcher.updateExistingUpstreamRemote(e)},this.onIgnoreExistingUpstreamRemote=(e)=>{this.props.dispatcher.ignoreExistingUpstreamRemote(e)},this.updateExistingLFSFilters=()=>{this.props.dispatcher.installGlobalLFSFilters(!0),this.onPopupDismissed()},this.initializeLFS=(e)=>{this.props.dispatcher.installLFSHooks(e),this.onPopupDismissed()},this.onCloneRepositoriesTabSelected=(e)=>{this.props.dispatcher.changeCloneRepositoriesTab(e)},this.onRefreshRepositories=(e)=>{this.props.dispatcher.refreshApiRepositories(e)},this.onShowAdvancedPreferences=()=>{this.props.dispatcher.showPopup({type:he.PopupType.Preferences,initialSelectedTab:C.PreferencesTab.Advanced})},this.onOpenShellIgnoreWarning=(e)=>{this.props.dispatcher.openShell(e,!0),this.onPopupDismissed()},this.onSaveCredentials=async(e,t,n,o)=>{this.onPopupDismissed(),await this.props.dispatcher.saveGenericGitCredentials(e,t,n),this.props.dispatcher.performRetry(o)},this.onCheckForUpdates=()=>this.checkForUpdates(!1),this.showAcknowledgements=()=>{this.props.dispatcher.showPopup({type:he.PopupType.Acknowledgements})},this.showTermsAndConditions=()=>{this.props.dispatcher.showPopup({type:he.PopupType.TermsAndConditions})},this.clearError=(e)=>this.props.dispatcher.clearError(e),this.onConfirmDiscardChangesChanged=(e)=>{this.props.dispatcher.setConfirmDiscardChangesSetting(e)},this.onRetryAction=(e)=>{this.props.dispatcher.performRetry(e)},this.showPopup=(e)=>{this.props.dispatcher.showPopup(e)},this.renderRepositoryList=()=>{const e=this.state.selectedState?this.state.selectedState.repository:null,t=this.state.selectedExternalEditor?this.state.selectedExternalEditor:void 0,n=this.state.selectedShell,o=this.state.repositoryFilterText;return r.createElement(T.RepositoriesList,{filterText:o,onFilterTextChanged:this.onRepositoryFilterTextChanged,selectedRepository:e,onSelectionChanged:this.onSelectionChanged,repositories:this.state.repositories,recentRepositories:this.state.recentRepositories,localRepositoryStateLookup:this.state.localRepositoryStateLookup,askForConfirmationOnRemoveRepository:this.state.askForConfirmationOnRepositoryRemoval,onRemoveRepository:this.removeRepository,onOpenInShell:this.openInShell,onShowRepository:this.showRepository,onOpenInExternalEditor:this.openInExternalEditor,externalEditorLabel:t,shellLabel:n,dispatcher:this.props.dispatcher})},this.openInShell=(e)=>{e instanceof S.Repository&&this.props.dispatcher.openShell(e.path)},this.openFileInExternalEditor=(e)=>{this.props.dispatcher.openInExternalEditor(e)},this.openInExternalEditor=(e)=>{e instanceof S.Repository&&this.props.dispatcher.openInExternalEditor(e.path)},this.showRepository=(e)=>{e instanceof S.Repository&&l.shell.showItemInFolder(e.path)},this.onRepositoryDropdownStateChanged=(e)=>{'open'===e?this.props.dispatcher.showFoldout({type:s.FoldoutType.Repository}):this.props.dispatcher.closeFoldout(s.FoldoutType.Repository)},this.onExitTutorial=()=>{1===this.state.repositories.length&&Re.isValidTutorialStep(this.state.currentOnboardingTutorialStep)?this.props.dispatcher.showPopup({type:he.PopupType.ConfirmExitTutorial}):this.onRepositoryDropdownStateChanged('open')},this.showCreateBranch=()=>{const e=this.state.selectedState;if(e&&e.type===s.SelectionType.Repository&&e.state.branchesState.tip.kind!==v.TipState.Unknown){const t=e.repository,n=this.props.repositoryStateManager.get(t),o=n.changesState.currentBranchProtected;return this.props.dispatcher.showPopup({type:he.PopupType.CreateBranch,repository:t,currentBranchProtected:o})}},this.openPullRequest=()=>{const e=this.state.selectedState;if(null!=e&&e.type===s.SelectionType.Repository){const t=e.state.branchesState.currentPullRequest,n=this.props.dispatcher;null==t?(n.createPullRequest(e.repository),n.recordCreatePullRequest()):n.showPullRequest(e.repository)}},this.openCreatePullRequestInBrowser=(e,t)=>{this.props.dispatcher.openCreatePullRequestInBrowser(e,t)},this.onBranchDropdownStateChanged=(e)=>{'open'===e?this.props.dispatcher.showFoldout({type:s.FoldoutType.Branch}):this.props.dispatcher.closeFoldout(s.FoldoutType.Branch)},this.onBannerDismissed=()=>{this.props.dispatcher.clearBanner()},this.onRepositoryFilterTextChanged=(e)=>{this.props.dispatcher.setRepositoryFilterText(e)},this.onSelectionChanged=(e)=>{this.props.dispatcher.selectRepository(e),this.props.dispatcher.closeFoldout(s.FoldoutType.Repository)},this.onViewCommitOnGitHub=async(e)=>{const t=this.getRepository();if(t&&!(t instanceof w.CloningRepository)&&t.gitHubRepository){const n=t.gitHubRepository.htmlURL;n&&this.props.dispatcher.openInBrowser(`${n}/commit/${e}`)}},this.onBranchDeleted=(e)=>{this.props.dispatcher.executeCompare(e,{kind:s.HistoryTabMode.History})},A.registerContextualMenuActionDispatcher(),e.dispatcher.loadInitialState().then(()=>{this.loading=!1,this.forceUpdate(),requestIdleCallback(()=>{const t=performance.now();A.sendReady(t-e.startTime),requestIdleCallback(()=>{this.performDeferredLaunchActions()})},{timeout:100});const t=window.setTimeout(async()=>{window.clearTimeout(t),await this.props.appStore.refreshAllSidebarIndicators(),this.updateIntervalHandle=window.setInterval(()=>{this.props.appStore.refreshAllSidebarIndicators()},15*Oe)},2*Oe)}),this.state=e.appStore.getState(),e.appStore.onDidUpdate((e)=>{this.setState(e)}),e.appStore.onDidError((t)=>{e.dispatcher.postError(t)}),i.ipcRenderer.on('menu-event',(e,{name:t})=>{this.onMenuEvent(t)}),c.updateStore.onDidChange((e)=>{const t=e.status;t!==c.UpdateStatus.UpdateReady||this.props.dispatcher.setUpdateBannerVisibility(!0)}),c.updateStore.onError((e)=>{log.error(`Error checking for updates`,e),this.props.dispatcher.postError(e)}),i.ipcRenderer.on('launch-timing-stats',(e,{stats:t})=>{console.info(`App ready time: ${t.mainReadyTime}ms`),console.info(`Load time: ${t.loadTime}ms`),console.info(`Renderer ready time: ${t.rendererReadyTime}ms`),this.props.dispatcher.recordLaunchStats(t)}),i.ipcRenderer.on('certificate-error',(e,{certificate:t,error:n,url:o})=>{this.props.dispatcher.showPopup({type:he.PopupType.UntrustedCertificate,certificate:t,url:o})})}get isShowingModal(){return null!==this.state.currentPopup||0<this.state.errors.length}componentWillUnmount(){window.clearInterval(this.updateIntervalHandle)}performDeferredLaunchActions(){this.props.appStore.loadEmoji(),this.props.dispatcher.reportStats(),setInterval(()=>this.props.dispatcher.reportStats(),4*He),this.props.dispatcher.installGlobalLFSFilters(!1),setInterval(()=>this.checkForUpdates(!0),4*He),this.checkForUpdates(!0),log.info(`launching: ${f.getVersion()} (${g.getOS()})`),log.info(`execPath: '${process.execPath}'`)}onMenuEvent(e){if(!this.state.errors.length)return'push'===e?this.push():'force-push'===e?this.push({forceWithLease:!0}):'pull'===e?this.pull():'show-changes'===e?this.showChanges():'show-history'===e?this.showHistory():'choose-repository'===e?this.chooseRepository():'add-local-repository'===e?this.showAddLocalRepo():'create-branch'===e?this.showCreateBranch():'show-branches'===e?this.showBranches():'remove-repository'===e?this.removeRepository(this.getRepository()):'create-repository'===e?this.showCreateRepository():'rename-branch'===e?this.renameBranch():'delete-branch'===e?this.deleteBranch():'discard-all-changes'===e?this.discardAllChanges():'stash-all-changes'===e?this.stashAllChanges():'show-preferences'===e?this.props.dispatcher.showPopup({type:he.PopupType.Preferences}):'open-working-directory'===e?this.openCurrentRepositoryWorkingDirectory():'update-branch'===e?(this.props.dispatcher.recordMenuInitiatedUpdate(),this.updateBranch()):'compare-to-branch'===e?this.showHistory(!0):'merge-branch'===e?(this.props.dispatcher.recordMenuInitiatedMerge(),this.mergeBranch()):'rebase-branch'===e?(this.props.dispatcher.recordMenuInitiatedRebase(),this.showRebaseDialog()):'show-repository-settings'===e?this.showRepositorySettings():'view-repository-on-github'===e?this.viewRepositoryOnGitHub():'compare-on-github'===e?this.compareBranchOnDotcom():'create-issue-in-repository-on-github'===e?this.openIssueCreationOnGitHub():'open-in-shell'===e?this.openCurrentRepositoryInShell():'clone-repository'===e?this.showCloneRepo():'show-about'===e?this.showAbout():'boomtown'===e?this.boomtown():'go-to-commit-message'===e?this.goToCommitMessage():'open-pull-request'===e?this.openPullRequest():'install-cli'===e?this.props.dispatcher.installCLI():'open-external-editor'===e?this.openCurrentRepositoryInExternalEditor():'select-all'===e?this.selectAll():'show-release-notes-popup'===e?this.showFakeReleaseNotesPopup():'show-stashed-changes'===e?this.showStashedChanges():'hide-stashed-changes'===e?this.hideStashedChanges():'test-prune-branches'===e?this.testPruneBranches():'find-text'===e?this.findText():d.assertNever(e,`Unknown menu event name: ${e}`)}showFakeReleaseNotesPopup(){}testPruneBranches(){}selectAll(){const e=new CustomEvent('select-all',{bubbles:!0,cancelable:!0});null!=document.activeElement&&document.activeElement.dispatchEvent(e)&&i.remote.getCurrentWebContents().selectAll()}findText(){const e=new CustomEvent('find-text',{bubbles:!0,cancelable:!0});null==document.activeElement?document.dispatchEvent(e):document.activeElement.dispatchEvent(e)}boomtown(){setImmediate(()=>{throw new Error('Boomtown!')})}async goToCommitMessage(){await this.showChanges(),this.props.dispatcher.setCommitMessageFocus(!0)}checkForUpdates(e){!1,!1,c.updateStore.checkForUpdates(e)}getDotComAccount(){const e=this.state.accounts.find((e)=>e.endpoint===m.getDotComAPIEndpoint());return e||null}getEnterpriseAccount(){const e=this.state.accounts.find((e)=>e.endpoint!==m.getDotComAPIEndpoint());return e||null}updateBranch(){const{selectedState:e}=this.state;if(null!=e&&e.type===s.SelectionType.Repository){const{state:t}=e,n=t.branchesState.defaultBranch;if(n){const{mergeStatus:o}=t.compareState;this.props.dispatcher.mergeBranch(e.repository,n.name,o)}}}mergeBranch(){const e=this.state.selectedState;null==e||e.type!==s.SelectionType.Repository||this.props.dispatcher.showPopup({type:he.PopupType.MergeBranch,repository:e.repository})}compareBranchOnDotcom(){const e=this.getCurrentRepositoryGitHubURL();if(e){const t=this.state.selectedState;if(null!=t&&t.type===s.SelectionType.Repository){const n=t.state.branchesState.tip;if(n.kind===v.TipState.Valid&&n.branch.upstreamWithoutRemote){const t=`${e}/compare/${n.branch.upstreamWithoutRemote}`;this.props.dispatcher.openInBrowser(t)}}}}openCurrentRepositoryWorkingDirectory(){const e=this.state.selectedState;null==e||e.type!==s.SelectionType.Repository||this.showRepository(e.repository)}renameBranch(){const e=this.state.selectedState;if(null!=e&&e.type===s.SelectionType.Repository){const t=e.state.branchesState.tip;t.kind===v.TipState.Valid&&this.props.dispatcher.showPopup({type:he.PopupType.RenameBranch,repository:e.repository,branch:t.branch})}}deleteBranch(){const e=this.state.selectedState;if(null!==e&&e.type===s.SelectionType.Repository){const t=e.state.branchesState.tip;if(t.kind===v.TipState.Valid){const n=e.state.branchesState.currentPullRequest;if(null!==n)this.props.dispatcher.showPopup({type:he.PopupType.DeletePullRequest,repository:e.repository,branch:t.branch,pullRequest:n});else{const n=null!==e.state.aheadBehind;this.props.dispatcher.showPopup({type:he.PopupType.DeleteBranch,repository:e.repository,branch:t.branch,existsOnRemote:n})}}}}discardAllChanges(){const e=this.state.selectedState;if(null!=e&&e.type===s.SelectionType.Repository){const{workingDirectory:t}=e.state.changesState;this.props.dispatcher.showPopup({type:he.PopupType.ConfirmDiscardChanges,repository:e.repository,files:t.files,showDiscardChangesSetting:!1,discardingAllChanges:!0})}}stashAllChanges(){const e=this.getRepository();null!==e&&e instanceof S.Repository&&this.props.dispatcher.createStashForCurrentBranch(e)}getSelectedTutorialRepository(){const{selectedState:e}=this.state,t=e&&e.type===s.SelectionType.Repository?e.repository:null,n=t&&t.isTutorialRepository;return n?t:null}showAbout(){this.props.dispatcher.showPopup({type:he.PopupType.About})}async showHistory(e=!1){const t=this.state.selectedState;null==t||t.type!==s.SelectionType.Repository||(await this.props.dispatcher.closeCurrentFoldout(),await this.props.dispatcher.initializeCompare(t.repository,{kind:s.HistoryTabMode.History}),await this.props.dispatcher.changeRepositorySection(t.repository,s.RepositorySectionTab.History),await this.props.dispatcher.updateCompareForm(t.repository,{filterText:'',showBranchList:e}))}showChanges(){const e=this.state.selectedState;if(null!=e&&e.type===s.SelectionType.Repository)return this.props.dispatcher.closeCurrentFoldout(),this.props.dispatcher.changeRepositorySection(e.repository,s.RepositorySectionTab.Changes)}chooseRepository(){return this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.Repository?this.props.dispatcher.closeFoldout(s.FoldoutType.Repository):this.props.dispatcher.showFoldout({type:s.FoldoutType.Repository})}showBranches(){const e=this.state.selectedState;return null==e||e.type!==s.SelectionType.Repository?void 0:this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.Branch?this.props.dispatcher.closeFoldout(s.FoldoutType.Branch):this.props.dispatcher.showFoldout({type:s.FoldoutType.Branch})}push(e){const t=this.state.selectedState;null==t||t.type!==s.SelectionType.Repository||(e&&e.forceWithLease?this.props.dispatcher.confirmOrForcePush(t.repository):this.props.dispatcher.push(t.repository))}async pull(){const e=this.state.selectedState;null==e||e.type!==s.SelectionType.Repository||this.props.dispatcher.pull(e.repository)}showStashedChanges(){const e=this.state.selectedState;null==e||e.type!==s.SelectionType.Repository||this.props.dispatcher.selectStashedFile(e.repository)}hideStashedChanges(){const e=this.state.selectedState;null==e||e.type!==s.SelectionType.Repository||this.props.dispatcher.hideStashedChanges(e.repository)}componentDidMount(){document.ondragover=(t)=>{null!=t.dataTransfer&&(this.isShowingModal?t.dataTransfer.dropEffect='none':t.dataTransfer.dropEffect='copy'),t.preventDefault()},document.ondrop=(t)=>{t.preventDefault()},document.body.ondrop=(t)=>{if(!this.isShowingModal){if(null!=t.dataTransfer){const e=t.dataTransfer.files;this.handleDragAndDrop(e)}t.preventDefault()}},p.shouldRenderApplicationMenu()&&(window.addEventListener('keydown',this.onWindowKeyDown),window.addEventListener('keyup',this.onWindowKeyUp))}async handleDragAndDrop(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push(o.path)}if(1<t.length){const e=await this.addRepositories(t);0<e.length&&this.props.dispatcher.recordAddExistingRepository()}else{const e=t[0],n=(await y.validatedRepositoryPath(e))||e,o=u.matchExistingRepository(this.state.repositories,n);o?await this.props.dispatcher.selectRepository(o):await this.showPopup({type:he.PopupType.AddRepository,path:n})}}getRepository(){const e=this.state.selectedState;return null==e?null:e.repository}async addRepositories(e){const t=await this.props.dispatcher.addRepositories(e);return 0<t.length&&this.props.dispatcher.selectRepository(t[0]),t}showRebaseDialog(){const e=this.getRepository();if(e&&!(e instanceof w.CloningRepository)){const t=this.props.repositoryStateManager.get(e),n=Ce.initializeNewRebaseFlow(t);this.props.dispatcher.setRebaseFlowStep(e,n),this.props.dispatcher.showPopup({type:he.PopupType.RebaseFlow,repository:e})}}showRepositorySettings(){const e=this.getRepository();!e||e instanceof w.CloningRepository||this.props.dispatcher.showPopup({type:he.PopupType.RepositorySettings,repository:e})}openIssueCreationOnGitHub(){const e=this.getRepository();e instanceof S.Repository&&this.props.dispatcher.openIssueCreationPage(e)}viewRepositoryOnGitHub(){const e=this.getRepository();if(e instanceof S.Repository){const t=S.getGitHubHtmlUrl(e);t&&this.props.dispatcher.openInBrowser(t)}}getCurrentRepositoryGitHubURL(){const e=this.getRepository();return e&&!(e instanceof w.CloningRepository)&&e.gitHubRepository?e.gitHubRepository.htmlURL:null}openCurrentRepositoryInExternalEditor(){const e=this.getRepository();e&&this.openInExternalEditor(e)}renderAppMenuBar(){if(!1,!this.state.appMenuState.length)return null;if(this.state.showWelcomeFlow)return null;const e=this.state.currentFoldout,t=e&&e.type===s.FoldoutType.AppMenu?e:null;return r.createElement(F.AppMenuBar,{appMenu:this.state.appMenuState,dispatcher:this.props.dispatcher,highlightAppMenuAccessKeys:this.state.highlightAccessKeys,foldoutState:t,onLostFocus:this.onMenuBarLostFocus})}renderTitlebar(){const e='full-screen'===this.state.windowState,t=this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.AppMenu;if(e&&!t)return null;const n=!this.state.showWelcomeFlow,o=this.state.showWelcomeFlow,i=this.inNoRepositoriesViewState(),a=o||!1?'light':'dark';return r.createElement(k.TitleBar,{showAppIcon:n,titleBarStyle:a,windowState:this.state.windowState,windowZoomFactor:this.state.windowZoomFactor},this.renderAppMenuBar())}currentPopupContent(){if(this.state.errors.length)return null;const e=this.state.currentPopup;if(!e)return null;switch(e.type){case he.PopupType.RenameBranch:const t=null!==this.state.selectedState&&this.state.selectedState.type===s.SelectionType.Repository?this.state.selectedState.state.changesState.stashEntry:null;return r.createElement(R.RenameBranch,{key:'rename-branch',dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,stash:t,onDismissed:this.onPopupDismissed});case he.PopupType.DeleteBranch:return r.createElement(x.DeleteBranch,{key:'delete-branch',dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,existsOnRemote:e.existsOnRemote,onDismissed:this.onPopupDismissed,onDeleted:this.onBranchDeleted});case he.PopupType.ConfirmDiscardChanges:const n=!(e.showDiscardChangesSetting!==void 0)||e.showDiscardChangesSetting,o=e.discardingAllChanges!==void 0&&e.discardingAllChanges;return r.createElement(I.DiscardChanges,{key:'discard-changes',repository:e.repository,dispatcher:this.props.dispatcher,files:e.files,confirmDiscardChanges:this.state.askForConfirmationOnDiscardChanges,showDiscardChangesSetting:n,discardingAllChanges:o,onDismissed:this.onPopupDismissed,onConfirmDiscardChangesChanged:this.onConfirmDiscardChangesChanged});case he.PopupType.ConfirmDiscardSelection:return r.createElement(Ne.DiscardSelection,{key:'discard-selection',repository:e.repository,dispatcher:this.props.dispatcher,file:e.file,diff:e.diff,selection:e.selection,onDismissed:this.onPopupDismissed});case he.PopupType.Preferences:return r.createElement(N.Preferences,{key:'preferences',initialSelectedTab:e.initialSelectedTab,dispatcher:this.props.dispatcher,dotComAccount:this.getDotComAccount(),confirmRepositoryRemoval:this.state.askForConfirmationOnRepositoryRemoval,confirmDiscardChanges:this.state.askForConfirmationOnDiscardChanges,confirmForcePush:this.state.askForConfirmationOnForcePush,uncommittedChangesStrategyKind:this.state.uncommittedChangesStrategyKind,selectedExternalEditor:this.state.selectedExternalEditor,optOutOfUsageTracking:this.state.optOutOfUsageTracking,enterpriseAccount:this.getEnterpriseAccount(),onDismissed:this.onPopupDismissed,selectedShell:this.state.selectedShell,selectedTheme:this.state.selectedTheme,automaticallySwitchTheme:this.state.automaticallySwitchTheme});case he.PopupType.MergeBranch:{const{repository:t,branch:n}=e,o=this.props.repositoryStateManager.get(t),i=o.branchesState.tip;if(i.kind!==v.TipState.Valid)return null;const a=i.branch;return r.createElement(O.Merge,{key:'merge-branch',dispatcher:this.props.dispatcher,repository:t,allBranches:o.branchesState.allBranches,defaultBranch:o.branchesState.defaultBranch,recentBranches:o.branchesState.recentBranches,currentBranch:a,initialBranch:n,onDismissed:this.onPopupDismissed})}case he.PopupType.RepositorySettings:{const t=e.repository,n=this.props.repositoryStateManager.get(t);return r.createElement(H.RepositorySettings,{key:`repository-settings-${t.hash}`,remote:n.remote,dispatcher:this.props.dispatcher,repository:t,onDismissed:this.onPopupDismissed})}case he.PopupType.SignIn:return r.createElement(K.SignIn,{key:'sign-in',signInState:this.state.signInState,dispatcher:this.props.dispatcher,onDismissed:this.onSignInDialogDismissed});case he.PopupType.AddRepository:return r.createElement(W.AddExistingRepository,{key:'add-existing-repository',onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,path:e.path});case he.PopupType.CreateRepository:return r.createElement(W.CreateRepository,{key:'create-repository',onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,initialPath:e.path});case he.PopupType.CloneRepository:return r.createElement(V.CloneRepository,{key:'clone-repository',dotComAccount:this.getDotComAccount(),enterpriseAccount:this.getEnterpriseAccount(),initialURL:e.initialURL,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,selectedTab:this.state.selectedCloneRepositoryTab,onTabSelected:this.onCloneRepositoriesTabSelected,apiRepositories:this.state.apiRepositories,onRefreshRepositories:this.onRefreshRepositories});case he.PopupType.CreateBranch:{const t=this.props.repositoryStateManager.get(e.repository),n=t.branchesState,o=t.changesState.currentBranchProtected,i=e.repository;if(n.tip.kind===v.TipState.Unknown)return this.props.dispatcher.closePopup(),null;let a=null,s=null;return Te.enableForkyCreateBranchUI()&&S.isRepositoryWithGitHubRepository(i)&&(a=S.getNonForkGitHubRepository(i),s=Ie.findDefaultUpstreamBranch(i,n.allBranches)),r.createElement(G.CreateBranch,{key:'create-branch',tip:n.tip,defaultBranch:n.defaultBranch,upstreamDefaultBranch:s,allBranches:n.allBranches,repository:i,upstreamGitHubRepository:a,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,initialName:e.initialName||'',currentBranchProtected:o,selectedUncommittedChangesStrategy:Pe.getUncommittedChangesStrategy(this.state.uncommittedChangesStrategyKind)})}case he.PopupType.InstallGit:return r.createElement(j.InstallGit,{key:'install-git',onDismissed:this.onPopupDismissed,onOpenShell:this.onOpenShellIgnoreWarning,path:e.path});case he.PopupType.About:const i=f.getVersion();return r.createElement(Y.About,{key:'about',onDismissed:this.onPopupDismissed,applicationName:f.getName(),applicationVersion:i,onCheckForUpdates:this.onCheckForUpdates,onShowAcknowledgements:this.showAcknowledgements,onShowTermsAndConditions:this.showTermsAndConditions});case he.PopupType.PublishRepository:return r.createElement(X.Publish,{key:'publish',dispatcher:this.props.dispatcher,repository:e.repository,accounts:this.state.accounts,onDismissed:this.onPopupDismissed});case he.PopupType.UntrustedCertificate:return r.createElement($.UntrustedCertificate,{key:'untrusted-certificate',certificate:e.certificate,url:e.url,onDismissed:this.onPopupDismissed,onContinue:this.onContinueWithUntrustedCertificate});case he.PopupType.Acknowledgements:return r.createElement(Q.Acknowledgements,{key:'acknowledgements',onDismissed:this.onPopupDismissed,applicationVersion:f.getVersion()});case he.PopupType.RemoveRepository:return r.createElement(J.ConfirmRemoveRepository,{key:'confirm-remove-repository',repository:e.repository,onConfirmation:this.onConfirmRepoRemoval,onDismissed:this.onPopupDismissed});case he.PopupType.TermsAndConditions:return r.createElement(ee.TermsAndConditions,{key:'terms-and-conditions',onDismissed:this.onPopupDismissed});case he.PopupType.PushBranchCommits:return r.createElement(te.PushBranchCommits,{key:'push-branch-commits',dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,unPushedCommits:e.unPushedCommits,onConfirm:this.openCreatePullRequestInBrowser,onDismissed:this.onPopupDismissed});case he.PopupType.CLIInstalled:return r.createElement(ne.CLIInstalled,{key:'cli-installed',onDismissed:this.onPopupDismissed});case he.PopupType.GenericGitAuthentication:return r.createElement(oe.GenericGitAuthentication,{key:'generic-git-authentication',hostname:e.hostname,onDismiss:this.onPopupDismissed,onSave:this.onSaveCredentials,retryAction:e.retryAction});case he.PopupType.ExternalEditorFailed:const a=e.openPreferences,l=e.suggestAtom;return r.createElement(q.EditorError,{key:'editor-error',message:e.message,onDismissed:this.onPopupDismissed,showPreferencesDialog:this.onShowAdvancedPreferences,viewPreferences:a,suggestAtom:l});case he.PopupType.OpenShellFailed:return r.createElement(re.ShellError,{key:'shell-error',message:e.message,onDismissed:this.onPopupDismissed,showPreferencesDialog:this.onShowAdvancedPreferences});case he.PopupType.InitializeLFS:return r.createElement(ie.InitializeLFS,{key:'initialize-lfs',repositories:e.repositories,onDismissed:this.onPopupDismissed,onInitialize:this.initializeLFS});case he.PopupType.LFSAttributeMismatch:return r.createElement(ie.AttributeMismatch,{key:'lsf-attribute-mismatch',onDismissed:this.onPopupDismissed,onUpdateExistingFilters:this.updateExistingLFSFilters});case he.PopupType.UpstreamAlreadyExists:return r.createElement(ae.UpstreamAlreadyExists,{key:'upstream-already-exists',repository:e.repository,existingRemote:e.existingRemote,onDismissed:this.onPopupDismissed,onUpdate:this.onUpdateExistingUpstreamRemote,onIgnore:this.onIgnoreExistingUpstreamRemote});case he.PopupType.ReleaseNotes:return r.createElement(se.ReleaseNotes,{key:'release-notes',emoji:this.state.emoji,newRelease:e.newRelease,onDismissed:this.onPopupDismissed});case he.PopupType.DeletePullRequest:return r.createElement(de.DeletePullRequest,{key:'delete-pull-request',dispatcher:this.props.dispatcher,repository:e.repository,branch:e.branch,onDismissed:this.onPopupDismissed,pullRequest:e.pullRequest});case he.PopupType.MergeConflicts:{const{selectedState:t}=this.state;if(null===t||t.type!==s.SelectionType.Repository)return null;const{workingDirectory:n,conflictState:o}=t.state.changesState;return null===o||'rebase'===o.kind?null:r.createElement(le.MergeConflictsDialog,{key:'merge-conflicts-dialog',dispatcher:this.props.dispatcher,repository:e.repository,workingDirectory:n,onDismissed:this.onPopupDismissed,openFileInExternalEditor:this.openFileInExternalEditor,resolvedExternalEditor:this.state.resolvedExternalEditor,openRepositoryInShell:this.openInShell,ourBranch:e.ourBranch,theirBranch:e.theirBranch,manualResolutions:o.manualResolutions})}case he.PopupType.OversizedFiles:return r.createElement(fe.OversizedFiles,{key:'oversized-files',oversizedFiles:e.oversizedFiles,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,context:e.context,repository:e.repository});case he.PopupType.AbortMerge:{const{selectedState:t}=this.state;if(null===t||t.type!==s.SelectionType.Repository)return null;const{workingDirectory:n}=t.state.changesState,o=n.files.some((e)=>me.isConflictedFile(e.status));return o?r.createElement(ue.AbortMergeWarning,{key:'abort-merge-warning',dispatcher:this.props.dispatcher,repository:e.repository,onDismissed:this.onPopupDismissed,ourBranch:e.ourBranch,theirBranch:e.theirBranch}):null}case he.PopupType.UsageReportingChanges:return r.createElement(ge.UsageStatsChange,{key:'usage-stats-change',onOpenUsageDataUrl:this.openUsageDataUrl,onDismissed:this.onUsageReportingDismissed});case he.PopupType.CommitConflictsWarning:return r.createElement(le.CommitConflictsWarning,{key:'commit-conflicts-warning',dispatcher:this.props.dispatcher,files:e.files,repository:e.repository,context:e.context,onDismissed:this.onPopupDismissed});case he.PopupType.PushNeedsPull:return r.createElement(ye.PushNeedsPullWarning,{key:'push-needs-pull',dispatcher:this.props.dispatcher,repository:e.repository,onDismissed:this.onPopupDismissed});case he.PopupType.RebaseFlow:{const{selectedState:t,emoji:n}=this.state;if(null===t||t.type!==s.SelectionType.Repository)return null;const{changesState:o,rebaseState:i}=t.state,{workingDirectory:a,conflictState:d}=o,{progress:l,step:c,userHasResolvedConflicts:p}=i;return null!==d&&'merge'===d.kind?(log.warn('[App] invalid state encountered - rebase flow should not be used when merge conflicts found'),null):null===c?(log.warn('[App] invalid state encountered - rebase flow should not be active when step is null'),null):r.createElement(Se.RebaseFlow,{key:'rebase-flow',repository:e.repository,openFileInExternalEditor:this.openFileInExternalEditor,dispatcher:this.props.dispatcher,onFlowEnded:this.onRebaseFlowEnded,workingDirectory:a,progress:l,step:c,userHasResolvedConflicts:p,askForConfirmationOnForcePush:this.state.askForConfirmationOnForcePush,resolvedExternalEditor:this.state.resolvedExternalEditor,openRepositoryInShell:this.openCurrentRepositoryInShell,onShowRebaseConflictsBanner:this.onShowRebaseConflictsBanner,emoji:n})}case he.PopupType.ConfirmForcePush:{const{askForConfirmationOnForcePush:t}=this.state;return r.createElement(Se.ConfirmForcePush,{key:'confirm-force-push',dispatcher:this.props.dispatcher,repository:e.repository,upstreamBranch:e.upstreamBranch,askForConfirmationOnForcePush:t,onDismissed:this.onPopupDismissed})}case he.PopupType.StashAndSwitchBranch:{const{repository:t,branchToCheckout:n}=e,{branchesState:o,changesState:i}=this.props.repositoryStateManager.get(t),{tip:a}=o;if(a.kind!==v.TipState.Valid)return null;const s=a.branch,d=null!==i.stashEntry;return r.createElement(ve.StashAndSwitchBranch,{key:'stash-and-switch-branch',dispatcher:this.props.dispatcher,repository:e.repository,currentBranch:s,branchToCheckout:n,hasAssociatedStash:d,onDismissed:this.onPopupDismissed})}case he.PopupType.ConfirmOverwriteStash:{const{repository:t,branchToCheckout:n}=e;return r.createElement(Ee.OverwriteStash,{key:'overwite-stash',dispatcher:this.props.dispatcher,repository:t,branchToCheckout:n,onDismissed:this.onPopupDismissed})}case he.PopupType.ConfirmDiscardStash:{const{repository:t,stash:n}=e;return r.createElement(we.ConfirmDiscardStashDialog,{key:'confirm-discard-stash-dialog',dispatcher:this.props.dispatcher,repository:t,stash:n,onDismissed:this.onPopupDismissed})}case he.PopupType.CreateTutorialRepository:return r.createElement(ke.CreateTutorialRepositoryDialog,{key:'create-tutorial-repository-dialog',account:e.account,progress:e.progress,onDismissed:this.onPopupDismissed,onCreateTutorialRepository:this.onCreateTutorialRepository});case he.PopupType.ConfirmExitTutorial:return r.createElement(_e.ConfirmExitTutorial,{key:'confirm-exit-tutorial',onDismissed:this.onPopupDismissed,onContinue:this.onExitTutorialToHomeScreen});case he.PopupType.PushRejectedDueToMissingWorkflowScope:return r.createElement(xe.WorkflowPushRejectedDialog,{onDismissed:this.onPopupDismissed,rejectedPath:e.rejectedPath,dispatcher:this.props.dispatcher,repository:e.repository});case he.PopupType.SAMLReauthRequired:return r.createElement(De.SAMLReauthRequiredDialog,{onDismissed:this.onPopupDismissed,organizationName:e.organizationName,endpoint:e.endpoint,retryAction:e.retryAction,dispatcher:this.props.dispatcher});case he.PopupType.CreateFork:return r.createElement(Me.CreateForkDialog,{onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,repository:e.repository,account:e.account});case he.PopupType.SChannelNoRevocationCheck:return r.createElement(Ae.SChannelNoRevocationCheckDialog,{onDismissed:this.onPopupDismissed,url:e.url});case he.PopupType.CreateTag:return r.createElement(Le.CreateTag,{key:'create-tag',repository:e.repository,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,targetCommitSha:e.targetCommitSha,initialName:e.initialName,localTags:e.localTags});case he.PopupType.DeleteTag:return r.createElement(Fe.DeleteTag,{key:'delete-tag',repository:e.repository,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher,tagName:e.tagName});case he.PopupType.ChooseForkSettings:return r.createElement(Be.ChooseForkSettings,{repository:e.repository,onDismissed:this.onPopupDismissed,dispatcher:this.props.dispatcher});default:return d.assertNever(e,`Unknown popup type: ${e}`);}}renderPopup(){return r.createElement(a.CSSTransitionGroup,{transitionName:'modal',component:'div',transitionEnterTimeout:t.dialogTransitionEnterTimeout,transitionLeaveTimeout:t.dialogTransitionLeaveTimeout},this.currentPopupContent())}renderZoomInfo(){return r.createElement(k.ZoomInfo,{windowZoomFactor:this.state.windowZoomFactor})}renderFullScreenInfo(){return r.createElement(k.FullScreenInfo,{windowState:this.state.windowState})}renderAppError(){return r.createElement(z.AppError,{errors:this.state.errors,onClearError:this.clearError,onShowPopup:this.showPopup,onRetryAction:this.onRetryAction})}renderApp(){return r.createElement('div',{id:'desktop-app-contents'},this.renderToolbar(),this.renderBanner(),this.renderRepository(),this.renderPopup(),this.renderAppError())}renderRepositoryToolbarButton(){const e=this.state.selectedState,t=e?e.repository:null;let n,o;t?(n=M.iconForRepository(t),o=t.name):0<this.state.repositories.length?(n=M.OcticonSymbol.repo,o='Select a repository'):(n=M.OcticonSymbol.repo,o='No repositories');const i=this.state.currentFoldout&&this.state.currentFoldout.type===s.FoldoutType.Repository,a=i?'open':'closed',d=t&&!i?t.path:void 0,l={position:'absolute',marginLeft:0,width:this.state.sidebarWidth,minWidth:this.state.sidebarWidth,height:'100%',top:0};return r.createElement(D.ToolbarDropdown,{icon:n,title:o,description:'Current repository',tooltip:d,foldoutStyle:l,onDropdownStateChanged:this.onRepositoryDropdownStateChanged,dropdownContentRenderer:this.renderRepositoryList,dropdownState:a})}renderPushPullToolbarButton(){const e=this.state.selectedState;if(!e||e.type!==s.SelectionType.Repository)return null;const t=e.state,n=t.revertProgress;if(n)return r.createElement(D.RevertProgress,{progress:n});let o=t.remote?t.remote.name:null;const i=t.pushPullFetchProgress,{conflictState:a}=t.changesState,d=null!==a&&'rebase'===a.kind,{aheadBehind:l,branchesState:c}=t,{pullWithRebase:p,tip:u}=c;u.kind===v.TipState.Valid&&null!==u.branch.remote&&(o=u.branch.remote);const m=Ce.isCurrentBranchForcePush(c,l);return r.createElement(D.PushPullButton,{dispatcher:this.props.dispatcher,repository:e.repository,aheadBehind:t.aheadBehind,numTagsToPush:null===t.tagsToPush?0:t.tagsToPush.length,remoteName:o,lastFetched:t.lastFetched,networkActionInProgress:t.isPushPullFetchInProgress,progress:i,tipState:u.kind,pullWithRebase:p,rebaseInProgress:d,isForcePush:m,shouldNudge:this.state.currentOnboardingTutorialStep===Re.TutorialStep.PushBranch})}renderBranchToolbarButton(){const e=this.state.selectedState;if(null==e||e.type!==s.SelectionType.Repository)return null;const t=this.state.currentFoldout,n=null!==t&&t.type===s.FoldoutType.Branch,o=e.repository,{branchesState:i,changesState:a}=e.state,d=null!==a.stashEntry,l=0<a.workingDirectory.files.length;return r.createElement(D.BranchDropdown,{dispatcher:this.props.dispatcher,isOpen:n,onDropDownStateChanged:this.onBranchDropdownStateChanged,repository:o,repositoryState:e.state,selectedTab:this.state.selectedBranchesTab,pullRequests:i.openPullRequests,currentPullRequest:i.currentPullRequest,isLoadingPullRequests:i.isLoadingPullRequests,shouldNudge:this.state.currentOnboardingTutorialStep===Re.TutorialStep.CreateBranch,selectedUncommittedChangesStrategy:Pe.getUncommittedChangesStrategy(this.state.uncommittedChangesStrategyKind),couldOverwriteStash:l&&d})}renderBanner(){if(this.inNoRepositoriesViewState())return null;let e=null;return null===this.state.currentBanner?this.state.isUpdateAvailableBannerVisible&&(e=this.renderUpdateBanner()):e=B.renderBanner(this.state.currentBanner,this.props.dispatcher,this.onBannerDismissed),r.createElement(a.CSSTransitionGroup,{transitionName:'banner',component:'div',transitionEnterTimeout:500,transitionLeaveTimeout:400},e)}renderUpdateBanner(){return r.createElement(B.UpdateAvailable,{dispatcher:this.props.dispatcher,newRelease:c.updateStore.state.newRelease,onDismissed:this.onUpdateAvailableDismissed,key:'update-available'})}renderToolbar(){return this.inNoRepositoriesViewState()?null:r.createElement(D.Toolbar,{id:'desktop-app-toolbar'},r.createElement('div',{className:'sidebar-section',style:{width:this.state.sidebarWidth}},this.renderRepositoryToolbarButton()),this.renderBranchToolbarButton(),this.renderPushPullToolbarButton())}renderRepository(){const e=this.state;if(this.inNoRepositoriesViewState())return r.createElement(Z.NoRepositoriesView,{dotComAccount:this.getDotComAccount(),enterpriseAccount:this.getEnterpriseAccount(),onCreate:this.showCreateRepository,onClone:this.showCloneRepo,onAdd:this.showAddLocalRepo,onCreateTutorialRepository:this.showCreateTutorialRepositoryPopup,onResumeTutorialRepository:this.onResumeTutorialRepository,tutorialPaused:this.isTutorialPaused(),apiRepositories:e.apiRepositories,onRefreshRepositories:this.onRefreshRepositories});const t=e.selectedState;if(!t)return r.createElement(o,null);if(t.type===s.SelectionType.Repository){const n=e.selectedExternalEditor?e.selectedExternalEditor:void 0;return r.createElement(_.RepositoryView,{key:t.repository.hash,repository:t.repository,state:t.state,dispatcher:this.props.dispatcher,emoji:e.emoji,sidebarWidth:e.sidebarWidth,commitSummaryWidth:e.commitSummaryWidth,stashedFilesWidth:e.stashedFilesWidth,issuesStore:this.props.issuesStore,gitHubUserStore:this.props.gitHubUserStore,onViewCommitOnGitHub:this.onViewCommitOnGitHub,imageDiffType:e.imageDiffType,hideWhitespaceInDiff:e.hideWhitespaceInDiff,focusCommitMessage:e.focusCommitMessage,askForConfirmationOnDiscardChanges:e.askForConfirmationOnDiscardChanges,accounts:e.accounts,externalEditorLabel:n,resolvedExternalEditor:e.resolvedExternalEditor,onOpenInExternalEditor:this.openFileInExternalEditor,appMenu:e.appMenuState[0],currentTutorialStep:e.currentOnboardingTutorialStep,onExitTutorial:this.onExitTutorial,isShowingModal:this.isShowingModal,isShowingFoldout:null!==this.state.currentFoldout})}return t.type===s.SelectionType.CloningRepository?r.createElement(P.CloningRepositoryView,{repository:t.repository,progress:t.progress}):t.type===s.SelectionType.MissingRepository?r.createElement(U.MissingRepository,{repository:t.repository,dispatcher:this.props.dispatcher}):d.assertNever(t,`Unknown state: ${t}`)}renderWelcomeFlow(){return r.createElement(L.Welcome,{dispatcher:this.props.dispatcher,optOut:this.state.optOutOfUsageTracking,accounts:this.state.accounts,signInState:this.state.signInState})}render(){if(this.loading)return null;const e=this.state.appIsFocused?'focused':'blurred',t=this.state.showWelcomeFlow?pe.ApplicationTheme.Light:this.state.selectedTheme;return r.createElement('div',{id:'desktop-app-chrome',className:e},r.createElement(ce.AppTheme,{theme:t}),this.renderTitlebar(),this.state.showWelcomeFlow?this.renderWelcomeFlow():this.renderApp(),this.renderZoomInfo(),this.renderFullScreenInfo())}inNoRepositoriesViewState(){return 0===this.state.repositories.length||this.isTutorialPaused()}isTutorialPaused(){return this.state.currentOnboardingTutorialStep===Re.TutorialStep.Paused}}t.App=ze},function(e,t,n){function o(){this._array=[],this._set=a?new Map:Object.create(null)}var r=n(108),i=Object.prototype.hasOwnProperty,a='undefined'!=typeof Map;o.fromArray=function(e,t){for(var n=new o,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},o.prototype.size=function(){return a?this._set.size:Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(e,t){var n=a?e:r.toSetString(e),o=a?this.has(e):i.call(this._set,n),s=this._array.length;(!o||t)&&this._array.push(e),o||(a?this._set.set(e,s):this._set[n]=s)},o.prototype.has=function(e){if(a)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},o.prototype.indexOf=function(e){if(a){var t=this._set.get(e);if(0<=t)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},o.prototype.at=function(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error('No element indexed by '+e)},o.prototype.toArray=function(){return this._array.slice()},t.ArraySet=o},function(e,t,n){function o(e){return 0>e?(-e<<1)+1:(e<<1)+0}function r(e){var t=e>>1;return 1==(1&e)?-t:t}var i=n(797),a=5,s=1<<a,d=s-1,l=s;t.encode=function(e){var t='',n=o(e),r;do r=n&d,n>>>=a,0<n&&(r|=l),t+=i.encode(r);while(0<n);return t},t.decode=function(e,t,n){var o=e.length,s=0,c=0,p,u;do{if(t>=o)throw new Error('Expected more digits in base 64 VLQ value.');if(u=i.decode(e.charCodeAt(t++)),-1===u)throw new Error('Invalid base64 digit: '+e.charAt(t-1));p=!!(u&l),u&=d,s+=u<<c,c+=a}while(p);n.value=r(s),n.rest=t}},function(e,t,n){function o(e){e||(e={}),this._file=a.getArg(e,'file',null),this._sourceRoot=a.getArg(e,'sourceRoot',null),this._skipValidation=a.getArg(e,'skipValidation',!1),this._sources=new i,this._names=new i,this._mappings=new s,this._sourcesContents=null}var r=n(312),a=n(108),i=n(311).ArraySet,s=n(796).MappingList;o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,n=new o({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var o={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(o.source=e.source,null!=t&&(o.source=a.relative(t,o.source)),o.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(o.name=e.name)),n.addMapping(o)}),e.sources.forEach(function(t){var o=e.sourceContentFor(t);null!=o&&n.setSourceContent(t,o)}),n},o.prototype.addMapping=function(e){var t=a.getArg(e,'generated'),n=a.getArg(e,'original',null),o=a.getArg(e,'source',null),r=a.getArg(e,'name',null);this._skipValidation||this._validateMapping(t,n,o,r),null!=o&&(o=o+'',!this._sources.has(o)&&this._sources.add(o)),null!=r&&(r=r+'',!this._names.has(r)&&this._names.add(r)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:o,name:r})},o.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=a.relative(this._sourceRoot,n)),null==t?this._sourcesContents&&(delete this._sourcesContents[a.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null)):(!this._sourcesContents&&(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(n)]=t)},o.prototype.applySourceMap=function(e,t,n){var o=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=e.file}var r=this._sourceRoot;null!=r&&(o=a.relative(r,o));var s=new i,d=new i;this._mappings.unsortedForEach(function(t){if(t.source===o&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=n&&(t.source=a.join(n,t.source)),null!=r&&(t.source=a.relative(r,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var l=t.source;null==l||s.has(l)||s.add(l);var c=t.name;null==c||d.has(c)||d.add(c)},this),this._sources=s,this._names=d,e.sources.forEach(function(t){var o=e.sourceContentFor(t);null!=o&&(null!=n&&(t=a.join(n,t)),null!=r&&(t=a.relative(r,t)),this.setSourceContent(t,o))},this)},o.prototype._validateMapping=function(e,t,n,o){if(t&&'number'!=typeof t.line&&'number'!=typeof t.column)throw new Error('original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.');if(!(e&&'line'in e&&'column'in e&&0<e.line&&0<=e.column&&!t&&!n&&!o)&&!(e&&'line'in e&&'column'in e&&t&&'line'in t&&'column'in t&&0<e.line&&0<=e.column&&0<t.line&&0<=t.column&&n))throw new Error('Invalid mapping: '+JSON.stringify({generated:e,source:n,original:t,name:o}))},o.prototype._serializeMappings=function(){for(var e=0,t=1,n=0,o=0,s=0,d=0,l='',c=this._mappings.toArray(),p=0,i=c.length,u,m,h,f;p<i;p++){if(m=c[p],u='',m.generatedLine!==t)for(e=0;m.generatedLine!==t;)u+=';',t++;else if(0<p){if(!a.compareByGeneratedPositionsInflated(m,c[p-1]))continue;u+=','}u+=r.encode(m.generatedColumn-e),e=m.generatedColumn,null!=m.source&&(f=this._sources.indexOf(m.source),u+=r.encode(f-d),d=f,u+=r.encode(m.originalLine-1-o),o=m.originalLine-1,u+=r.encode(m.originalColumn-n),n=m.originalColumn,null!=m.name&&(h=this._names.indexOf(m.name),u+=r.encode(h-s),s=h)),l+=u}return l},o.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));var n=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=o},function(e,t,n){'use strict';function o(e){if(!c.some((t)=>e.endsWith(t)))return null;e.startsWith('file://')&&(e=d(e));const t=`${e}.map`;if(!1,!!s.existsSync(t))try{const e=s.readFileSync(t,'utf8');return{url:a.basename(t),map:e}}catch(e){}}function r(e,t){return p.set(e,t),e+t.map((e)=>`\n    at ${e}`).join('')}function i(e){let t=p.get(e);return t||((e.stack||'').toString(),t=p.get(e)),t?u(e,t):e.stack}Object.defineProperty(t,'__esModule',{value:!0});const a=n(1),s=n(33),d=n(800),l=n(799),c=['renderer.js','main.js'],p=new WeakMap;let u;t.enableSourceMaps=function(){l.install({environment:'node',handleUncaughtExceptions:!1,retrieveSourceMap:o});const e=Error;u=e.prepareStackTrace,e.prepareStackTrace=r},t.withSourceMappedStack=function(e){return{name:e.name,message:e.message,stack:i(e)}}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(582),a=o(r),i=n(579),s=o(i);t.default=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a=(0,s.default)(e),d;!(o=(d=a.next()).done)&&(n.push(d.value),!(t&&n.length===t));o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a['return']&&a['return']()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,a.default)(Object(t)))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}()},function(e,t,n){e.exports={default:n(585),__esModule:!0}},function(e,t,n){'use strict';function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&e!==void 0&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&n!==void 0?n:null}.bind(this))}function i(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error('Can only polyfill class components');if('function'!=typeof e.getDerivedStateFromProps&&'function'!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if('function'==typeof t.componentWillMount?n='componentWillMount':'function'==typeof t.UNSAFE_componentWillMount&&(n='UNSAFE_componentWillMount'),'function'==typeof t.componentWillReceiveProps?a='componentWillReceiveProps':'function'==typeof t.UNSAFE_componentWillReceiveProps&&(a='UNSAFE_componentWillReceiveProps'),'function'==typeof t.componentWillUpdate?s='componentWillUpdate':'function'==typeof t.UNSAFE_componentWillUpdate&&(s='UNSAFE_componentWillUpdate'),null!=n||null!=a||null!=s){var d=e.displayName||e.name,l='function'==typeof e.getDerivedStateFromProps?'getDerivedStateFromProps()':'getSnapshotBeforeUpdate()';throw Error('Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n'+d+' uses '+l+' but also contains the following legacy lifecycles:'+(null==n?'':'\n  '+n)+(null==a?'':'\n  '+a)+(null==s?'':'\n  '+s)+'\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks')}if('function'==typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=r),'function'==typeof t.getSnapshotBeforeUpdate){if('function'!=typeof t.componentDidUpdate)throw new Error('Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype');t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,o)}}return e}function s(e){var t='undefined'==typeof window?'undefined'==typeof self?global:self:window;var n='undefined'!=typeof document&&document.attachEvent;if(!n){var o=function(){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),r=function(){var e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(t){return e(t)}}(),a=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,o=t.lastElementChild,r=n.firstElementChild;o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight,r.style.width=n.offsetWidth+1+'px',r.style.height=n.offsetHeight+1+'px',n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},s=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},d=function(t){if(!(0>t.target.className.indexOf('contract-trigger')&&0>t.target.className.indexOf('expand-trigger'))){var e=this;a(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=o(function(){s(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})}},l=!1,c='',p='animationstart',u=['Webkit','Moz','O','ms'],m=['webkitAnimationStart','animationstart','oAnimationStart','MSAnimationStart'],h='';{var f=document.createElement('fakeelement');if(void 0!==f.style.animationName&&(l=!0),!1==l)for(var g=0;g<u.length;g++)if(void 0!==f.style[u[g]+'AnimationName']){h=u[g],c='-'+h.toLowerCase()+'-',p=m[g],l=!0;break}}var i='resizeanim',y='@'+c+'keyframes '+i+' { from { opacity: 0; } to { opacity: 0; } } ',S=c+'animation: 1ms '+i+'; '}var C=function(t){if(!t.getElementById('detectElementResize')){var n=(y?y:'')+'.resize-triggers { '+(S?S:'')+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=t.head||t.getElementsByTagName('head')[0],r=t.createElement('style');r.id='detectElementResize',r.type='text/css',null!=e&&r.setAttribute('nonce',e),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(t.createTextNode(n)),o.appendChild(r)}},b=function(o,e){if(n)o.attachEvent('onresize',e);else{if(!o.__resizeTriggers__){var r=o.ownerDocument,s=t.getComputedStyle(o);s&&'static'==s.position&&(o.style.position='relative'),C(r),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=r.createElement('div')).className='resize-triggers',o.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener('scroll',d,!0),p&&(o.__resizeTriggers__.__animationListener__=function(t){t.animationName==i&&a(o)},o.__resizeTriggers__.addEventListener(p,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(e)}},v=function(e,t){if(n)e.detachEvent('onresize',t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener('scroll',d,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(p,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(t){}}};return{addResizeListener:b,removeResizeListener:v}}function d(e,t){return e+'-'+t}function l(){var e=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],t={};return function(n){var o=n.callback,r=n.indices,i=Oe()(r),a=!e||i.every(function(e){var t=r[e];return Array.isArray(t)?0<t.length:0<=t}),s=i.length!==Oe()(t).length||i.some(function(e){var n=t[e],o=r[e];return Array.isArray(o)?n.join(',')!==o.join(','):n!==o});t=r,a&&s&&o(r)}}function c(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,o=e.sectionSize,r=[],i=new Ke(o),a=0,s=0,d=0,l;d<t;d++){if(l=n({index:d}),null==l.height||isNaN(l.height)||null==l.width||isNaN(l.width)||null==l.x||isNaN(l.x)||null==l.y||isNaN(l.y))throw Error('Invalid metadata returned for cell '+d+':\n        x:'+l.x+', y:'+l.y+', width:'+l.width+', height:'+l.height);a=le(a,l.y+l.height),s=le(s,l.x+l.width),r[d]=l,i.registerCell({cellMetadatum:l,index:d})}return{cellMetadata:r,height:a,sectionManager:i,width:s}}function p(e){var t=e.align,n=t===void 0?'auto':t,o=e.cellOffset,r=e.cellSize,i=e.containerSize,a=e.currentOffset,s=o,d=s-i+r;return'start'===n?s:'end'===n?d:'center'===n?s-(i-r)/2:le(d,ue(s,a))}function u(e){var t=e.cellCount,n=e.cellSize,o=e.computeMetadataCallback,r=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,d=e.scrollToIndex,l=e.updateScrollOffsetForScrollToIndex;(t!==i||('number'==typeof n||'number'==typeof a)&&n!==a)&&(o(r),0<=d&&d===s&&l())}function m(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return o===it?{overscanStartIndex:le(0,r),overscanStopIndex:ue(t-1,i+n)}:{overscanStartIndex:le(0,r-n),overscanStopIndex:ue(t-1,i)}}function h(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,o=e.previousCellsCount,r=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,d=e.scrollOffset,l=e.scrollToAlignment,c=e.scrollToIndex,p=e.size,u=e.sizeJustIncreasedFromZero,m=e.updateScrollIndexCallback,h=n.getCellCount(),f=0<=c&&c<h;f&&(p!==s||u||!r||'number'==typeof t&&t!==r||l!==i||c!==a)?m(c):!f&&0<h&&(p<s||h<o)&&d>n.getTotalSize()-p&&m(h-1)}function f(e){for(var t=e.cellCache,n=e.cellRenderer,o=e.columnSizeAndPositionManager,r=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,d=e.isScrolling,l=e.isScrollingOptOut,c=e.parent,p=e.rowSizeAndPositionManager,u=e.rowStartIndex,m=e.rowStopIndex,h=e.styleCache,f=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,y=e.visibleRowIndices,S=[],C=o.areOffsetsAdjusted()||p.areOffsetsAdjusted(),b=u,v;b<=m;b++){v=p.getSizeAndPositionOfCell(b);for(var E=r;E<=i;E++){var w=o.getSizeAndPositionOfCell(E),k=E>=g.start&&E<=g.stop&&b>=y.start&&b<=y.stop,T=b+'-'+E,_=void 0;!d&&!C&&h[T]?_=h[T]:a&&!a.has(b,E)?_={height:'auto',left:0,position:'absolute',top:0,width:'auto'}:(_={height:v.size,left:w.offset+s,position:'absolute',top:v.offset+f,width:w.size},h[T]=_);var R={columnIndex:E,isScrolling:d,isVisible:k,key:T,parent:c,rowIndex:b,style:_},x=void 0;((l||d)&&!s&&!f?(!t[T]&&(t[T]=n(R)),x=t[T]):x=n(R),null!=x&&!1!==x)&&(!1,S.push(x))}}return S}function g(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return n=le(1,n),o===gt?{overscanStartIndex:le(0,r-1),overscanStopIndex:ue(t-1,i+n)}:{overscanStartIndex:le(0,r-n),overscanStopIndex:ue(t-1,i+1)}}function y(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,o=e.startIndex,r=e.stopIndex;return!(o>n||r<t)}function S(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,o=e.rowCount,r=e.startIndex,i=e.stopIndex,a=[],s=null,d=null,l=r,c;l<=i;l++)c=t({index:l}),c?null!==d&&(a.push({startIndex:s,stopIndex:d}),s=d=null):(d=l,null===s&&(s=l));if(null!==d){for(var p=ue(le(d,s+n-1),o-1),u=d+1;u<=p&&!t({index:u});u++)d=u;a.push({startIndex:s,stopIndex:d})}if(a.length)for(var m=a[0],h;m.stopIndex-m.startIndex+1<n&&0<m.startIndex&&(h=m.startIndex-1,!t({index:h}));)m.startIndex=h;return a}function C(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n='function'==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}function b(e){function t(e){for(var t=0,n=1;n<d.length;n++)d[n]<d[t]&&(t=n);var r=t*(a+s),i=d[t]||0;return d[t]=i+o.getHeight(e)+s,{left:r,top:i}}function n(){d=[];for(var e=0;e<r;e++)d[e]=0}var o=e.cellMeasurerCache,r=e.columnCount,a=e.columnWidth,i=e.spacer,s=void 0===i?0:i,d=void 0;return n(),t.reset=function(e){r=e.columnCount,a=e.columnWidth,s=e.spacer,n()},t}function v(e,t,n,o){for(var r=n+1;t<=n;){var i=t+n>>>1,a=e[i];a>=o?(r=i,n=i-1):t=i+1}return r}function E(e,t,n,o,r){for(var a=n+1;t<=n;){var i=t+n>>>1,s=e[i];0<=r(s,o)?(a=i,n=i-1):t=i+1}return a}function w(e,t,n,o){for(var r=n+1;t<=n;){var i=t+n>>>1,a=e[i];a>o?(r=i,n=i-1):t=i+1}return r}function k(e,t,n,o,r){for(var a=n+1;t<=n;){var i=t+n>>>1,s=e[i];0<r(s,o)?(a=i,n=i-1):t=i+1}return a}function T(e,t,n,o){for(var r=t-1;t<=n;){var i=t+n>>>1,a=e[i];a<o?(r=i,t=i+1):n=i-1}return r}function _(e,t,n,o,r){for(var a=t-1;t<=n;){var i=t+n>>>1,s=e[i];0>r(s,o)?(a=i,t=i+1):n=i-1}return a}function R(e,t,n,o){for(var r=t-1;t<=n;){var i=t+n>>>1,a=e[i];a<=o?(r=i,t=i+1):n=i-1}return r}function x(e,t,n,o,r){for(var a=t-1;t<=n;){var i=t+n>>>1,s=e[i];0>=r(s,o)?(a=i,t=i+1):n=i-1}return a}function P(e,t,n,o){for(t-1;t<=n;){var r=t+n>>>1,i=e[r];if(i===o)return r;i<=o?t=r+1:n=r-1}return-1}function D(e,t,n,o,r){for(t-1;t<=n;){var i=t+n>>>1,a=e[i],s=r(a,o);if(0===s)return i;0>=s?t=i+1:n=i-1}return-1}function M(e,t,n,o,r){this.mid=e,this.left=t,this.right=n,this.leftPoints=o,this.rightPoints=r,this.count=(t?t.count:0)+(n?n.count:0)+o.length}function A(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function I(e,t){var n=W(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function L(e,t){var n=e.intervals([]);n.push(t),I(e,n)}function F(e,t){var n=e.intervals([]),o=n.indexOf(t);return 0>o?Rt:(n.splice(o,1),I(e,n),xt)}function B(e,t,n){for(var o=0,i;o<e.length&&e[o][0]<=t;++o)if(i=n(e[o]),i)return i}function N(e,t,n){for(var o=e.length-1,i;0<=o&&e[o][1]>=t;--o)if(i=n(e[o]),i)return i}function O(e,t){for(var n=0,o;n<e.length;++n)if(o=t(e[n]),o)return o}function H(e,t){return e-t}function z(e,t){var n=e[0]-t[0];return n?n:e[1]-t[1]}function U(e,t){var n=e[1]-t[1];return n?n:e[0]-t[0]}function W(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(H);for(var o=t[t.length>>1],r=[],i=[],a=[],n=0,d;n<e.length;++n)d=e[n],d[1]<o?r.push(d):o<d[0]?i.push(d):a.push(d);var s=a,l=a.slice();return s.sort(z),l.sort(U),new M(o,W(r),W(i),s,l)}function V(e){this.root=e}function G(e){return e&&0!==e.length?new V(W(e)):new V(null)}function K(){}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultSortBy,o=t.defaultSortDirection,r=void 0===o?{}:o;if(!e)throw Error('Required parameter "sortCallback" not specified');var i=n||[],a={};return i.forEach(function(e){a[e]=r.hasOwnProperty(e)?r[e]:'ASC'}),{sort:function(t){var n=t.defaultSortDirection,o=t.event,r=t.sortBy;if(o.shiftKey)a.hasOwnProperty(r)?a[r]='ASC'===a[r]?'DESC':'ASC':(a[r]=n,i.push(r));else if(o.ctrlKey||o.metaKey){var s=i.indexOf(r);0<=s&&(i.splice(s,1),delete a[r])}else i.length=0,i.push(r),a[r]=a.hasOwnProperty(r)?'ASC'===a[r]?'DESC':'ASC':n;e({sortBy:i,sortDirection:a})},sortBy:i,sortDirection:a}}function q(e){var t=e.dataKey,n=e.rowData;return'function'==typeof n.get?n.get(t):n[t]}function Y(e){var t=e.cellData;return null==t?'':t+''}function X(e){var t=e.className,n=e.columns,o=e.style;return we.createElement('div',{className:t,role:'row',style:o},n)}function Q(e){var t=e.sortDirection,n=Be()('ReactVirtualized__Table__sortableHeaderIcon',{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===Kt.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===Kt.DESC});return we.createElement('svg',{className:n,width:18,height:18,viewBox:'0 0 24 24'},t===Kt.ASC?we.createElement('path',{d:'M7 14l5-5 5 5z'}):we.createElement('path',{d:'M7 10l5 5 5-5z'}),we.createElement('path',{d:'M0 0h24v24H0z',fill:'none'}))}function $(e){var t=e.dataKey,n=e.label,o=e.sortBy,r=e.sortDirection,i=[we.createElement('span',{className:'ReactVirtualized__Table__headerTruncatedText',key:'label',title:n},n)];return o===t&&i.push(we.createElement(Q,{key:'SortIndicator',sortDirection:r})),i}function Z(e){var t=e.className,n=e.columns,o=e.index,r=e.key,i=e.onRowClick,a=e.onRowDoubleClick,s=e.onRowMouseOut,d=e.onRowMouseOver,l=e.onRowRightClick,c=e.rowData,p=e.style,u={};return(i||a||s||d||l)&&(u['aria-label']='row',u.tabIndex=0,i&&(u.onClick=function(e){return i({event:e,index:o,rowData:c})}),a&&(u.onDoubleClick=function(e){return a({event:e,index:o,rowData:c})}),s&&(u.onMouseOut=function(e){return s({event:e,index:o,rowData:c})}),d&&(u.onMouseOver=function(e){return d({event:e,index:o,rowData:c})}),l&&(u.onContextMenu=function(e){return l({event:e,index:o,rowData:c})})),we.createElement('div',Re()({},u,{className:t,key:r,role:'row',style:p}),n)}function J(){$t&&($t=null,document.body&&null!=Qt&&(document.body.style.pointerEvents=Qt),Qt=null)}function ee(){J(),Xt.forEach(function(e){return e.__resetIsScrolling()})}function te(){$t&&pt($t);var e=0;Xt.forEach(function(t){e=le(e,t.props.scrollingResetTimeInterval)}),$t=ut(ee,e)}function ne(e){e.currentTarget===window&&null==Qt&&document.body&&(Qt=document.body.style.pointerEvents,document.body.style.pointerEvents='none'),te(),Xt.forEach(function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()})}function oe(e,t){Xt.some(function(e){return e.props.scrollElement===t})||t.addEventListener('scroll',ne),Xt.push(e)}function re(e,t){Xt=Xt.filter(function(t){return t!==e}),Xt.length||(t.removeEventListener('scroll',ne),$t&&(pt($t),J()))}function ie(e,t){if(!e)return{height:t.serverHeight,width:t.serverWidth};if(Zt(e)){var n=window,o=n.innerHeight,r=n.innerWidth;return{height:'number'==typeof o?o:0,width:'number'==typeof r?r:0}}return Jt(e)}function ae(e,t){if(Zt(t)&&document.documentElement){var n=document.documentElement,o=Jt(e),r=Jt(n);return{top:o.top-r.top,left:o.left-r.left}}var i=se(t),a=Jt(e),s=Jt(t);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function se(e){return Zt(e)&&document.documentElement?{top:'scrollY'in window?window.scrollY:document.documentElement.scrollTop,left:'scrollX'in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var de=Math.round,le=Math.max,ce=Math.floor,pe=Math.ceil,ue=Math.min;n.r(t);var me=n(17),he=n.n(me),fe=n(8),ge=n.n(fe),ye=n(9),Se=n.n(ye),Ce=n(14),be=n.n(Ce),ve=n(16),Ee=n.n(ve),we=n(0);o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0;var ke=n(15),Te=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o.state={scrollToColumn:0,scrollToRow:0},o._columnStartIndex=0,o._columnStopIndex=0,o._rowStartIndex=0,o._rowStopIndex=0,o._onKeyDown=function(e){var t=o.props,n=t.columnCount,r=t.disabled,i=t.mode,a=t.rowCount;if(!r){var s=o._getScrollState(),d=s.scrollToColumn,l=s.scrollToRow,c=o._getScrollState(),p=c.scrollToColumn,u=c.scrollToRow;switch(e.key){case'ArrowDown':u='cells'===i?ue(u+1,a-1):ue(o._rowStopIndex+1,a-1);break;case'ArrowLeft':p='cells'===i?le(p-1,0):le(o._columnStartIndex-1,0);break;case'ArrowRight':p='cells'===i?ue(p+1,n-1):ue(o._columnStopIndex+1,n-1);break;case'ArrowUp':u='cells'===i?le(u-1,0):le(o._rowStartIndex-1,0);}(p!==d||u!==l)&&(e.preventDefault(),o._updateScrollState({scrollToColumn:p,scrollToRow:u}))}},o._onSectionRendered=function(e){var t=e.columnStartIndex,n=e.columnStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;o._columnStartIndex=t,o._columnStopIndex=n,o._rowStartIndex=r,o._rowStopIndex=i},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'setScrollIndexes',value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:'render',value:function(){var e=this.props,t=e.className,n=e.children,o=this._getScrollState(),r=o.scrollToColumn,i=o.scrollToRow;return we.createElement('div',{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:r,scrollToRow:i}))}},{key:'_getScrollState',value:function(){return this.props.isControlled?this.props:this.state}},{key:'_updateScrollState',value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,o=this.props,r=o.isControlled,i=o.onScrollToChange;'function'==typeof i&&i({scrollToColumn:t,scrollToRow:n}),r||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:'getDerivedStateFromProps',value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(we.PureComponent);Te.defaultProps={disabled:!1,isControlled:!1,mode:'edges',scrollToColumn:0,scrollToRow:0},Te.propTypes=null,a(Te);var _e=n(6),Re=n.n(_e),xe=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o.state={height:o.props.defaultHeight||0,width:o.props.defaultWidth||0},o._onResize=function(){var e=o.props,t=e.disableHeight,n=e.disableWidth,r=e.onResize;if(o._parentNode){var i=o._parentNode.offsetHeight||0,a=o._parentNode.offsetWidth||0,s=window.getComputedStyle(o._parentNode)||{},d=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0;(t||o.state.height===i-c-p)&&(n||o.state.width===a-d-l)||(o.setState({height:i-c-p,width:a-d-l}),r({height:i,width:a}))}},o._setRef=function(e){o._autoSizer=e},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'componentDidMount',value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=s(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:'componentWillUnmount',value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:'render',value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,r=e.disableWidth,i=e.style,a=this.state,s=a.height,d=a.width,l={overflow:'visible'},c={};return o||(l.height=0,c.height=s),r||(l.width=0,c.width=d),we.createElement('div',{className:n,ref:this._setRef,style:Re()({},l,i)},t(c))}}]),t}(we.PureComponent);xe.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},xe.propTypes=null;var Pe=n(43),De=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o._measure=function(){var e=o.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,a=e.rowIndex,s=void 0===a?o.props.index||0:a,d=o._getCellMeasurements(),l=d.height,c=d.width;(l!==t.getHeight(s,r)||c!==t.getWidth(s,r))&&(t.set(s,r,c,l),i&&'function'==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:r,rowIndex:s}))},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'componentDidMount',value:function(){this._maybeMeasureCell()}},{key:'componentDidUpdate',value:function(){this._maybeMeasureCell()}},{key:'render',value:function(){var e=this.props.children;return'function'==typeof e?e({measure:this._measure}):e}},{key:'_getCellMeasurements',value:function(){var e=this.props.cache,t=Object(Pe.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,o=t.style.height;e.hasFixedWidth()||(t.style.width='auto'),e.hasFixedHeight()||(t.style.height='auto');var r=pe(t.offsetHeight),i=pe(t.offsetWidth);return n&&(t.style.width=n),o&&(t.style.height=o),{height:r,width:i}}return{height:0,width:0}}},{key:'_maybeMeasureCell',value:function(){var e=this.props,t=e.cache,n=e.columnIndex,o=void 0===n?0:n,r=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,o)){var s=this._getCellMeasurements(),d=s.height,l=s.width;t.set(a,o,l,d),r&&'function'==typeof r.invalidateCellSizeAfterRender&&r.invalidateCellSizeAfterRender({columnIndex:o,rowIndex:a})}}}]),t}(we.PureComponent);De.__internalCellMeasurerFlag=!1,De.propTypes=null;var Me=De;var Ae=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ge()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,o=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(o)?t._columnWidthCache[o]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,o=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(o)?t._rowHeightCache[o]:t._defaultHeight};var o=n.defaultHeight,r=n.defaultWidth,i=n.fixedHeight,a=n.fixedWidth,s=n.keyMapper,l=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===a,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||d,this._defaultHeight=le(this._minHeight,'number'==typeof o?o:30),this._defaultWidth=le(this._minWidth,'number'==typeof r?r:100),!1}return Se()(e,[{key:'clear',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:'clearAll',value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:'hasFixedHeight',value:function(){return this._hasFixedHeight}},{key:'hasFixedWidth',value:function(){return this._hasFixedWidth}},{key:'getHeight',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?le(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:'getWidth',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?le(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:'has',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:'set',value:function(e,t,n,o){var r=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[r]=o,this._cellWidthCache[r]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:'_updateCachedColumnAndRowSizes',value:function(e,t){if(!this._hasFixedWidth){for(var n=0,o=0;o<this._rowCount;o++)n=le(n,this.getWidth(o,t));var r=this._keyMapper(0,t);this._columnWidthCache[r]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=le(i,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=i}}},{key:'defaultHeight',get:function(){return this._defaultHeight}},{key:'defaultWidth',get:function(){return this._defaultWidth}}]),e}(),Ie=n(58),Le=n.n(Ie),Fe=n(5),Be=n.n(Fe),Ne=n(73),Oe=n.n(Ne),He=n(109),ze=n.n(He),Ue={OBSERVED:'observed',REQUESTED:'requested'},We=function(e){function t(){var e;ge()(this,t);for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(o)));return i.state={isScrolling:!1,scrollLeft:0,scrollTop:0},i._calculateSizeAndPositionDataOnNextUpdate=!1,i._onSectionRenderedMemoizer=l(),i._onScrollMemoizer=l(!1),i._invokeOnSectionRenderedHelper=function(){var e=i.props,t=e.cellLayoutManager,n=e.onSectionRendered;i._onSectionRenderedMemoizer({callback:n,indices:{indices:t.getLastRenderedIndices()}})},i._setScrollingContainerRef=function(e){i._scrollingContainer=e},i._updateScrollPositionForScrollToCell=function(){var e=i.props,t=e.cellLayoutManager,n=e.height,o=e.scrollToAlignment,r=e.scrollToCell,a=e.width,s=i.state,d=s.scrollLeft,l=s.scrollTop;if(0<=r){var c=t.getScrollPositionForCell({align:o,cellIndex:r,height:n,scrollLeft:d,scrollTop:l,width:a});(c.scrollLeft!==d||c.scrollTop!==l)&&i._setScrollPosition(c)}},i._onScroll=function(e){if(e.target===i._scrollingContainer){i._enablePointerEventsAfterDelay();var t=i.props,n=t.cellLayoutManager,o=t.height,r=t.isScrollingChange,a=t.width,s=i._scrollbarSize,d=n.getTotalSize(),l=d.height,c=d.width,p=le(0,ue(c-a+s,e.target.scrollLeft)),u=le(0,ue(l-o+s,e.target.scrollTop));if(i.state.scrollLeft!==p||i.state.scrollTop!==u){var m=e.cancelable?Ue.OBSERVED:Ue.REQUESTED;i.state.isScrolling||r(!0),i.setState({isScrolling:!0,scrollLeft:p,scrollPositionChangeReason:m,scrollTop:u})}i._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:u,totalWidth:c,totalHeight:l})}},i._scrollbarSize=ze()(),void 0===i._scrollbarSize?(i._scrollbarSizeMeasured=!1,i._scrollbarSize=0):i._scrollbarSizeMeasured=!0,i}return Ee()(t,e),Se()(t,[{key:'recomputeCellSizesAndPositions',value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:'componentDidMount',value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,o=e.scrollToCell,r=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=ze()(),this._scrollbarSizeMeasured=!0,this.setState({})),0<=o?this._updateScrollPositionForScrollToCell():(0<=n||0<=r)&&this._setScrollPosition({scrollLeft:n,scrollTop:r}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:r||0,totalHeight:a,totalWidth:s})}},{key:'componentDidUpdate',value:function(e,t){var n=this.props,o=n.height,r=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,d=s.scrollLeft,l=s.scrollPositionChangeReason,c=s.scrollTop;l===Ue.REQUESTED&&(0<=d&&d!==t.scrollLeft&&d!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=d),0<=c&&c!==t.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),(o!==e.height||r!==e.scrollToAlignment||i!==e.scrollToCell||a!==e.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:'componentWillUnmount',value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:'render',value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,o=e.cellLayoutManager,r=e.className,i=e.height,a=e.horizontalOverscanSize,s=e.id,d=e.noContentRenderer,l=e.style,c=e.verticalOverscanSize,p=e.width,u=this.state,m=u.isScrolling,h=u.scrollLeft,f=u.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==o||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=o,this._calculateSizeAndPositionDataOnNextUpdate=!1,o.calculateSizeAndPositionData());var g=o.getTotalSize(),y=g.height,S=g.width,C=le(0,h-a),b=le(0,f-c),v=ue(S,h+p+a),E=ue(y,f+i+c),w=0<i&&0<p?o.cellRenderers({height:E-b,isScrolling:m,width:v-C,x:C,y:b}):[],k={boxSizing:'border-box',direction:'ltr',height:t?'auto':i,position:'relative',WebkitOverflowScrolling:'touch',width:p,willChange:'transform'},T=y>i?this._scrollbarSize:0,_=S>p?this._scrollbarSize:0;return k.overflowX=S+T<=p?'hidden':'auto',k.overflowY=y+_<=i?'hidden':'auto',we.createElement('div',{ref:this._setScrollingContainerRef,"aria-label":this.props['aria-label'],className:Be()('ReactVirtualized__Collection',r),id:s,onScroll:this._onScroll,role:'grid',style:Re()({},k,l),tabIndex:0},0<n&&we.createElement('div',{className:'ReactVirtualized__Collection__innerScrollContainer',style:{height:y,maxHeight:y,maxWidth:S,overflow:'hidden',pointerEvents:m?'none':'',width:S}},w),0===n&&d())}},{key:'_enablePointerEventsAfterDelay',value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var t=e.props.isScrollingChange;t(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},150)}},{key:'_invokeOnScrollMemoizer',value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,a=t.props,s=a.height,d=a.onScroll,l=a.width;d({clientHeight:s,clientWidth:l,scrollHeight:r,scrollLeft:n,scrollTop:o,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:o}})}},{key:'_setScrollPosition',value:function(e){var t=e.scrollLeft,n=e.scrollTop,o={scrollPositionChangeReason:Ue.REQUESTED};0<=t&&(o.scrollLeft=t),0<=n&&(o.scrollTop=n),(0<=t&&t!==this.state.scrollLeft||0<=n&&n!==this.state.scrollTop)&&this.setState(o)}}],[{key:'getDerivedStateFromProps',value:function(e,t){return 0===e.cellCount&&(0!==t.scrollLeft||0!==t.scrollTop)?{scrollLeft:0,scrollTop:0}:e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null==e.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null==e.scrollTop?t.scrollTop:e.scrollTop}:null}}]),t}(we.PureComponent);We.defaultProps={"aria-label":'grid',horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:'auto',scrollToCell:-1,style:{},verticalOverscanSize:0},We.propTypes={},a(We);var Ve=function(){function e(t){var n=t.height,o=t.width,r=t.x,i=t.y;ge()(this,e),this.height=n,this.width=o,this.x=r,this.y=i,this._indexMap={},this._indices=[]}return Se()(e,[{key:'addCellIndex',value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:'getCellIndices',value:function(){return this._indices}},{key:'toString',value:function(){return this.x+','+this.y+' '+this.width+'x'+this.height}}]),e}(),Ge=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;ge()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return Se()(e,[{key:'getCellIndices',value:function(e){var t=e.height,n=e.width,o=e.x,r=e.y,i={};return this.getSections({height:t,width:n,x:o,y:r}).forEach(function(e){return e.getCellIndices().forEach(function(e){i[e]=e})}),Oe()(i).map(function(e){return i[e]})}},{key:'getCellMetadata',value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:'getSections',value:function(e){for(var t=e.height,n=e.width,o=e.x,r=e.y,i=ce(o/this._sectionSize),a=ce((o+n-1)/this._sectionSize),s=ce(r/this._sectionSize),d=ce((r+t-1)/this._sectionSize),l=[],c=i;c<=a;c++)for(var p=s,u;p<=d;p++)u=c+'.'+p,this._sections[u]||(this._sections[u]=new Ve({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:p*this._sectionSize})),l.push(this._sections[u]);return l}},{key:'getTotalSectionCount',value:function(){return Oe()(this._sections).length}},{key:'toString',value:function(){var e=this;return Oe()(this._sections).map(function(t){return e._sections[t].toString()})}},{key:'registerCell',value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach(function(e){return e.addCellIndex({index:n})})}}]),e}(),Ke=Ge,je=function(e){function t(e,n){ge()(this,t);var o=be()(this,(t.__proto__||he()(t)).call(this,e,n));return o._cellMetadata=[],o._lastRenderedCellIndices=[],o._cellCache=[],o._isScrollingChange=o._isScrollingChange.bind(o),o._setCollectionViewRef=o._setCollectionViewRef.bind(o),o}return Ee()(t,e),Se()(t,[{key:'forceUpdate',value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:'recomputeCellSizesAndPositions',value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:'render',value:function(){var e=Le()(this.props,[]);return we.createElement(We,Re()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:'calculateSizeAndPositionData',value:function(){var e=this.props,t=e.cellCount,n=e.cellSizeAndPositionGetter,o=e.sectionSize,r=c({cellCount:t,cellSizeAndPositionGetter:n,sectionSize:o});this._cellMetadata=r.cellMetadata,this._sectionManager=r.sectionManager,this._height=r.height,this._width=r.width}},{key:'getLastRenderedIndices',value:function(){return this._lastRenderedCellIndices}},{key:'getScrollPositionForCell',value:function(e){var t=e.align,n=e.cellIndex,o=e.height,r=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(0<=n&&n<s){var d=this._cellMetadata[n];r=p({align:t,cellOffset:d.x,cellSize:d.width,containerSize:a,currentOffset:r,targetIndex:n}),i=p({align:t,cellOffset:d.y,cellSize:d.height,containerSize:o,currentOffset:i,targetIndex:n})}return{scrollLeft:r,scrollTop:i}}},{key:'getTotalSize',value:function(){return{height:this._height,width:this._width}}},{key:'cellRenderers',value:function(e){var t=this,n=e.height,o=e.isScrolling,r=e.width,i=e.x,a=e.y,s=this.props,d=s.cellGroupRenderer,l=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:r,x:i,y:a}),d({cellCache:this._cellCache,cellRenderer:l,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:o})}},{key:'_isScrollingChange',value:function(e){e||(this._cellCache=[])}},{key:'_setCollectionViewRef',value:function(e){this._collectionView=e}}]),t}(we.PureComponent);je.defaultProps={"aria-label":'grid',cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,o=e.cellSizeAndPositionGetter,r=e.indices,i=e.isScrolling;return r.map(function(e){var r=o({index:e}),a={index:e,isScrolling:i,key:e,style:{height:r.height,left:r.x,position:'absolute',top:r.y,width:r.width}};return i?(e in t||(t[e]=n(a)),t[e]):n(a)}).filter(function(e){return!!e})}};var qe=je;je.propTypes={};var Ye=function(e){function t(e,n){ge()(this,t);var o=be()(this,(t.__proto__||he()(t)).call(this,e,n));return o._registerChild=o._registerChild.bind(o),o}return Ee()(t,e),Se()(t,[{key:'componentDidUpdate',value:function(e){var t=this.props,n=t.columnMaxWidth,o=t.columnMinWidth,r=t.columnCount,i=t.width;(n!==e.columnMaxWidth||o!==e.columnMinWidth||r!==e.columnCount||i!==e.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:'render',value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,o=e.columnMinWidth,r=e.columnCount,i=e.width,a=n?ue(n,i):i,s=i/r;s=le(o||1,s),s=ue(a,s),s=ce(s);var d=ue(i,s*r);return t({adjustedWidth:d,columnWidth:s,getColumnWidth:function(){return s},registerChild:this._registerChild})}},{key:'_registerChild',value:function(e){if(e&&'function'!=typeof e.recomputeGridSize)throw Error('Unexpected child type registered; only Grid/MultiGrid children are supported.');this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(we.PureComponent),Xe=Ye;Ye.propTypes={};var Qe=n(139),$e=n.n(Qe),Ze=function(){function e(t){var n=t.cellCount,o=t.cellSizeGetter,r=t.estimatedCellSize;ge()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=o,this._cellCount=n,this._estimatedCellSize=r}return Se()(e,[{key:'areOffsetsAdjusted',value:function(){return!1}},{key:'configure',value:function(e){var t=e.cellCount,n=e.estimatedCellSize,o=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=o}},{key:'getCellCount',value:function(){return this._cellCount}},{key:'getEstimatedCellSize',value:function(){return this._estimatedCellSize}},{key:'getLastMeasuredIndex',value:function(){return this._lastMeasuredIndex}},{key:'getOffsetAdjustment',value:function(){return 0}},{key:'getSizeAndPositionOfCell',value:function(e){if(0>e||e>=this._cellCount)throw Error('Requested index '+e+' is outside of range 0..'+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,o=this._lastMeasuredIndex+1,r;o<=e;o++)if(r=this._cellSizeGetter({index:o}),void 0===r||isNaN(r))throw Error('Invalid size returned for cell '+o+' of value '+r);else null===r?(this._cellSizeAndPositionData[o]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[o]={offset:n,size:r},n+=r,this._lastMeasuredIndex=e);return this._cellSizeAndPositionData[e]}},{key:'getSizeAndPositionOfLastMeasuredCell',value:function(){return 0<=this._lastMeasuredIndex?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:'getTotalSize',value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell(),t=e.offset+e.size,n=this._cellCount-this._lastMeasuredIndex-1,o=n*this._estimatedCellSize;return t+o}},{key:'getUpdatedOffsetForIndex',value:function(e){var t=e.align,n=void 0===t?'auto':t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;if(0>=o)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,d=s-o+a.size,l=void 0;l='start'===n?s:'end'===n?d:'center'===n?s-(o-a.size)/2:le(d,ue(s,r));var c=this.getTotalSize();return le(0,ue(c-o,l))}},{key:'getVisibleCellRange',value:function(e){var t=e.containerSize,n=e.offset,o=this.getTotalSize();if(0===o)return{};var r=n+t,i=this._findNearestCell(n),a=this.getSizeAndPositionOfCell(i);n=a.offset+a.size;for(var s=i;n<r&&s<this._cellCount-1;)s++,n+=this.getSizeAndPositionOfCell(s).size;return{start:i,stop:s}}},{key:'resetCell',value:function(e){this._lastMeasuredIndex=ue(this._lastMeasuredIndex,e-1)}},{key:'_binarySearch',value:function(e,t,n){for(;t<=e;){var o=t+ce((e-t)/2),r=this.getSizeAndPositionOfCell(o).offset;if(r===n)return o;r<n?t=o+1:r>n&&(e=o-1)}return 0<t?t-1:0}},{key:'_exponentialSearch',value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(ue(e,this._cellCount-1),ce(e/2),t)}},{key:'_findNearestCell',value:function(e){if(isNaN(e))throw Error('Invalid offset '+e+' specified');e=le(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=le(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),Je=function(){return'undefined'!=typeof window},et=function(){return!!window.chrome&&!!window.chrome.webstore},tt=function(){return Je()&&et()?16777100:15e5},nt=function(){function e(t){var n=t.maxScrollSize,o=void 0===n?tt():n,r=Le()(t,['maxScrollSize']);ge()(this,e),this._cellSizeAndPositionManager=new Ze(r),this._maxScrollSize=o}return Se()(e,[{key:'areOffsetsAdjusted',value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:'configure',value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:'getCellCount',value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:'getEstimatedCellSize',value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:'getLastMeasuredIndex',value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:'getOffsetAdjustment',value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return de(i*(r-o))}},{key:'getSizeAndPositionOfCell',value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:'getSizeAndPositionOfLastMeasuredCell',value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:'getTotalSize',value:function(){return ue(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:'getUpdatedOffsetForIndex',value:function(e){var t=e.align,n=void 0===t?'auto':t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;r=this._safeOffsetToOffset({containerSize:o,offset:r});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:o,currentOffset:r,targetIndex:i});return this._offsetToSafeOffset({containerSize:o,offset:a})}},{key:'getVisibleCellRange',value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:'resetCell',value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:'_getOffsetPercentage',value:function(e){var t=e.containerSize,n=e.offset,o=e.totalSize;return o<=t?0:n/(o-t)}},{key:'_offsetToSafeOffset',value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return de(i*(r-t))}},{key:'_safeOffsetToOffset',value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return de(i*(o-t))}}]),e}(),ot=nt,rt=-1,it=1,at=void 0;at='undefined'==typeof window?'undefined'==typeof self?{}:self:window;var st=at.requestAnimationFrame||at.webkitRequestAnimationFrame||at.mozRequestAnimationFrame||at.oRequestAnimationFrame||at.msRequestAnimationFrame||function(e){return at.setTimeout(e,1e3/60)},dt=at.cancelAnimationFrame||at.webkitCancelAnimationFrame||at.mozCancelAnimationFrame||at.oCancelAnimationFrame||at.msCancelAnimationFrame||function(e){at.clearTimeout(e)},lt=st,ct=null,pt=function(e){return dt(e.id)},ut=function(e,t){var n=Date.now(),o={id:lt(function r(){Date.now()-n>=t?e.call():o.id=lt(r)})};return o},mt={OBSERVED:'observed',REQUESTED:'requested'},ht=function(e){function t(e){ge()(this,t);var n=be()(this,(t.__proto__||he()(t)).call(this,e));n._onGridRenderedMemoizer=l(),n._onScrollMemoizer=l(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var o=new ot({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),r=new ot({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:r,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:it,scrollDirectionVertical:it,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},0<e.scrollToRow&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),0<e.scrollToColumn&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return Ee()(t,e),Se()(t,[{key:'getOffsetForCell',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,o=e.columnIndex,r=void 0===o?this.props.scrollToColumn:o,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=Re()({},this.props,{scrollToAlignment:n,scrollToColumn:r,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:'getTotalRowsHeight',value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:'getTotalColumnsWidth',value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:'handleScrollEvent',value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,o=e.scrollTop,r=void 0===o?0:o;if(!(0>r)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,d=i.height,l=i.width,c=this.state.instanceProps,p=c.scrollbarSize,u=c.rowSizeAndPositionManager.getTotalSize(),m=c.columnSizeAndPositionManager.getTotalSize(),h=ue(le(0,m-l+p),n),f=ue(le(0,u-d+p),r);if(this.state.scrollLeft!==h||this.state.scrollTop!==f){var g=h===this.state.scrollLeft?this.state.scrollDirectionHorizontal:h>this.state.scrollLeft?it:rt,y=f===this.state.scrollTop?this.state.scrollDirectionVertical:f>this.state.scrollTop?it:rt,S={isScrolling:!0,scrollDirectionHorizontal:g,scrollDirectionVertical:y,scrollPositionChangeReason:mt.OBSERVED};a||(S.scrollTop=f),s||(S.scrollLeft=h),S.needToResetStyleCache=!1,this.setState(S)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:f,totalColumnsWidth:m,totalRowsHeight:u})}}},{key:'invalidateCellSizeAfterRender',value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex='number'==typeof this._deferredInvalidateColumnIndex?ue(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex='number'==typeof this._deferredInvalidateRowIndex?ue(this._deferredInvalidateRowIndex,n):n}},{key:'measureAllCells',value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,o=this.state.instanceProps;o.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),o.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:'recomputeGridSize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,d=this.state.instanceProps;d.columnSizeAndPositionManager.resetCell(n),d.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=0<=a&&n<=a,this._recomputeScrollTopFlag=0<=s&&r<=s,this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:'scrollToCell',value:function(e){var t=e.columnIndex,n=e.rowIndex,o=this.props.columnCount,r=this.props;1<o&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Re()({},r,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(Re()({},r,{scrollToRow:n}))}},{key:'componentDidMount',value:function(){var e=this.props,n=e.getScrollbarSize,o=e.height,r=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,d=e.width,l=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),l.scrollbarSizeMeasured||this.setState(function(e){var t=Re()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t}),'number'==typeof r&&0<=r||'number'==typeof a&&0<=a){var c=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:a});c&&(c.needToResetStyleCache=!1,this.setState(c))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=0<o&&0<d;0<=i&&p&&this._updateScrollLeftForScrollToColumn(),0<=s&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:a||0,totalColumnsWidth:l.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:l.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:'componentDidUpdate',value:function(e,t){var n=this,o=this.props,r=o.autoHeight,i=o.autoWidth,a=o.columnCount,s=o.height,d=o.rowCount,l=o.scrollToAlignment,c=o.scrollToColumn,p=o.scrollToRow,u=o.width,m=this.state,f=m.scrollLeft,g=m.scrollPositionChangeReason,y=m.scrollTop,S=m.instanceProps;this._handleInvalidatedGridSize();var C=0<a&&0===e.columnCount||0<d&&0===e.rowCount;g===mt.REQUESTED&&(!i&&0<=f&&(f!==this._scrollingContainer.scrollLeft||C)&&(this._scrollingContainer.scrollLeft=f),!r&&0<=y&&(y!==this._scrollingContainer.scrollTop||C)&&(this._scrollingContainer.scrollTop=y));var b=(0===e.width||0===e.height)&&0<s&&0<u;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):h({cellSizeAndPositionManager:S.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:l,scrollToIndex:c,size:u,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):h({cellSizeAndPositionManager:S.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:y,scrollToAlignment:l,scrollToIndex:p,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||y!==t.scrollTop){var v=S.rowSizeAndPositionManager.getTotalSize(),E=S.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:y,totalColumnsWidth:E,totalRowsHeight:v})}this._maybeCallOnScrollbarPresenceChange()}},{key:'componentWillUnmount',value:function(){this._disablePointerEventsTimeoutId&&pt(this._disablePointerEventsTimeoutId)}},{key:'render',value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,r=e.className,i=e.containerProps,a=e.containerRole,s=e.containerStyle,d=e.height,l=e.id,c=e.noContentRenderer,p=e.role,u=e.style,m=e.tabIndex,h=e.width,f=this.state,g=f.instanceProps,y=f.needToResetStyleCache,S=this._isScrolling(),C={boxSizing:'border-box',direction:'ltr',height:n?'auto':d,position:'relative',width:o?'auto':h,WebkitOverflowScrolling:'touch',willChange:'transform'};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var b=g.columnSizeAndPositionManager.getTotalSize(),v=g.rowSizeAndPositionManager.getTotalSize(),E=v>d?g.scrollbarSize:0,w=b>h?g.scrollbarSize:0;(w!==this._horizontalScrollBarSize||E!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=w,this._verticalScrollBarSize=E,this._scrollbarPresenceChanged=!0),C.overflowX=b+E<=h?'hidden':'auto',C.overflowY=v+w<=d?'hidden':'auto';var k=this._childrenToDisplay,T=0===k.length&&0<d&&0<h;return we.createElement('div',Re()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props['aria-label'],"aria-readonly":this.props['aria-readonly'],className:Be()('ReactVirtualized__Grid',r),id:l,onScroll:this._onScroll,role:p,style:Re()({},C,u),tabIndex:m}),0<k.length&&we.createElement('div',{className:'ReactVirtualized__Grid__innerScrollContainer',role:a,style:Re()({width:t?'auto':b,height:v,maxWidth:b,maxHeight:v,overflow:'hidden',pointerEvents:S?'none':'',position:'relative'},s)},k),T&&c())}},{key:'_calculateChildrenToRender',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,o=e.cellRangeRenderer,r=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,d=e.overscanIndicesGetter,l=e.overscanRowCount,c=e.rowCount,p=e.width,u=e.isScrollingOptOut,m=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,f=t.instanceProps,g=0<this._initialScrollTop?this._initialScrollTop:t.scrollTop,y=0<this._initialScrollLeft?this._initialScrollLeft:t.scrollLeft,S=this._isScrolling(e,t);if(this._childrenToDisplay=[],0<a&&0<p){var C=f.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:y}),b=f.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),v=f.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:y}),E=f.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=C.start,this._renderedColumnStopIndex=C.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var w=d({direction:'horizontal',cellCount:r,overscanCellsCount:s,scrollDirection:m,startIndex:'number'==typeof C.start?C.start:0,stopIndex:'number'==typeof C.stop?C.stop:-1}),k=d({direction:'vertical',cellCount:c,overscanCellsCount:l,scrollDirection:h,startIndex:'number'==typeof b.start?b.start:0,stopIndex:'number'==typeof b.stop?b.stop:-1}),T=w.overscanStartIndex,_=w.overscanStopIndex,R=k.overscanStartIndex,x=k.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var P=R;P<=x;P++)if(!i.has(P,0)){T=0,_=r-1;break}if(!i.hasFixedWidth())for(var D=T;D<=_;D++)if(!i.has(0,D)){R=0,x=c-1;break}}this._childrenToDisplay=o({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:f.columnSizeAndPositionManager,columnStartIndex:T,columnStopIndex:_,deferredMeasurementCache:i,horizontalOffsetAdjustment:v,isScrolling:S,isScrollingOptOut:u,parent:this,rowSizeAndPositionManager:f.rowSizeAndPositionManager,rowStartIndex:R,rowStopIndex:x,scrollLeft:y,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:E,visibleColumnIndices:C,visibleRowIndices:b}),this._columnStartIndex=T,this._columnStopIndex=_,this._rowStartIndex=R,this._rowStopIndex=x}}},{key:'_debounceScrollEnded',value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&pt(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=ut(this._debounceScrollEndedCallback,e)}},{key:'_handleInvalidatedGridSize',value:function(){if('number'==typeof this._deferredInvalidateColumnIndex&&'number'==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:'_invokeOnScrollMemoizer',value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,a=t.props,s=a.height,d=a.onScroll,l=a.width;d({clientHeight:s,clientWidth:l,scrollHeight:i,scrollLeft:n,scrollTop:o,scrollWidth:r})},indices:{scrollLeft:n,scrollTop:o}})}},{key:'_isScrolling',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,'isScrolling')?!!e.isScrolling:!!t.isScrolling}},{key:'_maybeCallOnScrollbarPresenceChange',value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:0<this._horizontalScrollBarSize,size:this.state.instanceProps.scrollbarSize,vertical:0<this._verticalScrollBarSize})}}},{key:'scrollToPosition',value:function(e){var n=e.scrollLeft,o=e.scrollTop,r=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:o});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:'_getCalculatedScrollLeft',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:'_updateScrollLeftForScrollToColumn',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollLeftForScrollToColumnStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:'_getCalculatedScrollTop',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:'_resetStyleCache',value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var o=this._rowStartIndex;o<=this._rowStopIndex;o++)for(var r=this._columnStartIndex,i;r<=this._columnStopIndex;r++)i=o+'-'+r,this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}},{key:'_updateScrollTopForScrollToRow',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollTopForScrollToRowStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:'getDerivedStateFromProps',value:function(e,n){var o={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(o.scrollLeft=0,o.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&0>e.scrollToColumn||e.scrollTop!==n.scrollTop&&0>e.scrollToRow)&&$e()(o,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var r=n.instanceProps;o.needToResetStyleCache=!1,(e.columnWidth!==r.prevColumnWidth||e.rowHeight!==r.prevRowHeight)&&(o.needToResetStyleCache=!0),r.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),r.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),(0===r.prevColumnCount||0===r.prevRowCount)&&(r.prevColumnCount=0,r.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===r.prevIsScrolling&&$e()(o,{isScrolling:!1});var i=void 0,a=void 0;return u({cellCount:r.prevColumnCount,cellSize:'number'==typeof r.prevColumnWidth?r.prevColumnWidth:null,computeMetadataCallback:function(){return r.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:'number'==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:r.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),u({cellCount:r.prevRowCount,cellSize:'number'==typeof r.prevRowHeight?r.prevRowHeight:null,computeMetadataCallback:function(){return r.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:'number'==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:r.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),r.prevColumnCount=e.columnCount,r.prevColumnWidth=e.columnWidth,r.prevIsScrolling=!0===e.isScrolling,r.prevRowCount=e.rowCount,r.prevRowHeight=e.rowHeight,r.prevScrollToColumn=e.scrollToColumn,r.prevScrollToRow=e.scrollToRow,r.scrollbarSize=e.getScrollbarSize(),void 0===r.scrollbarSize?(r.scrollbarSizeMeasured=!1,r.scrollbarSize=0):r.scrollbarSizeMeasured=!0,o.instanceProps=r,Re()({},o,i,a)}},{key:'_getEstimatedColumnSize',value:function(e){return'number'==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:'_getEstimatedRowSize',value:function(e){return'number'==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:'_getScrollToPositionStateUpdate',value:function(e){var t=e.prevState,n=e.scrollLeft,o=e.scrollTop,r={scrollPositionChangeReason:mt.REQUESTED};return'number'==typeof n&&0<=n&&(r.scrollDirectionHorizontal=n>t.scrollLeft?it:rt,r.scrollLeft=n),'number'==typeof o&&0<=o&&(r.scrollDirectionVertical=o>t.scrollTop?it:rt,r.scrollTop=o),'number'==typeof n&&0<=n&&n!==t.scrollLeft||'number'==typeof o&&0<=o&&o!==t.scrollTop?r:null}},{key:'_wrapSizeGetter',value:function(e){return'function'==typeof e?e:function(){return e}}},{key:'_getCalculatedScrollLeft',value:function(e,t){var n=e.columnCount,o=e.height,r=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,d=t.instanceProps;if(0<n){var l=n-1,c=0>i?l:ue(l,i),p=d.rowSizeAndPositionManager.getTotalSize(),u=d.scrollbarSizeMeasured&&p>o?d.scrollbarSize:0;return d.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:a-u,currentOffset:s,targetIndex:c})}return 0}},{key:'_getScrollLeftForScrollToColumnStateUpdate',value:function(e,n){var o=n.scrollLeft,r=t._getCalculatedScrollLeft(e,n);return'number'==typeof r&&0<=r&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:r,scrollTop:-1}):null}},{key:'_getCalculatedScrollTop',value:function(e,t){var n=e.height,o=e.rowCount,r=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,d=t.instanceProps;if(0<o){var l=o-1,c=0>i?l:ue(l,i),p=d.columnSizeAndPositionManager.getTotalSize(),u=d.scrollbarSizeMeasured&&p>a?d.scrollbarSize:0;return d.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n-u,currentOffset:s,targetIndex:c})}return 0}},{key:'_getScrollTopForScrollToRowStateUpdate',value:function(e,n){var o=n.scrollTop,r=t._getCalculatedScrollTop(e,n);return'number'==typeof r&&0<=r&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:r}):null}}]),t}(we.PureComponent);ht.defaultProps={"aria-label":'grid',"aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:f,containerRole:'rowgroup',containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:ze.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:m,overscanRowCount:10,role:'grid',scrollingResetTimeInterval:150,scrollToAlignment:'auto',scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},ht.propTypes=null,a(ht);var ft=ht,gt=1,yt=function(e){function t(e,n){ge()(this,t);var o=be()(this,(t.__proto__||he()(t)).call(this,e,n));return o._loadMoreRowsMemoizer=l(),o._onRowsRendered=o._onRowsRendered.bind(o),o._registerChild=o._registerChild.bind(o),o}return Ee()(t,e),Se()(t,[{key:'resetLoadMoreRowsCache',value:function(e){this._loadMoreRowsMemoizer=l(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:'render',value:function(){var e=this.props.children;return e({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:'_loadUnloadedRanges',value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach(function(e){var o=n(e);o&&o.then(function(){y({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex})&&t._registeredChild&&C(t._registeredChild,t._lastRenderedStartIndex)})})}},{key:'_onRowsRendered',value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:'_doStuff',value:function(e,t){var n=this,o=this.props,r=o.isRowLoaded,i=o.minimumBatchSize,a=o.rowCount,s=o.threshold,d=S({isRowLoaded:r,minimumBatchSize:i,rowCount:a,startIndex:le(0,e-s),stopIndex:ue(a-1,t+s)}),l=d.reduce(function(e,t){return e.concat([t.startIndex,t.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){n._loadUnloadedRanges(d)},indices:{squashedUnloadedRanges:l}})}},{key:'_registerChild',value:function(e){this._registeredChild=e}}]),t}(we.PureComponent);yt.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var St=yt;yt.propTypes={};var Ct=n(316),bt=n.n(Ct),vt=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,r=e.style,i=e.isScrolling,a=e.isVisible,s=e.key,d=o.props.rowRenderer,l=bt()(r,'width'),c=l.writable;return c&&(r.width='100%'),d({index:n,style:r,isScrolling:i,isVisible:a,key:s,parent:t})},o._setRef=function(e){o.Grid=e},o._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop,i=o.props.onScroll;i({clientHeight:t,scrollHeight:n,scrollTop:r})},o._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex,a=o.props.onRowsRendered;a({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'forceUpdateGrid',value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:'getOffsetForRow',value:function(e){var t=e.alignment,n=e.index;if(this.Grid){var o=this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}),r=o.scrollTop;return r}return 0}},{key:'invalidateCellSizeAfterRender',value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:'measureAllRows',value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:'recomputeGridSize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:'recomputeRowHeights',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:'scrollToPosition',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:'scrollToRow',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:'render',value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,r=e.width,i=Be()('ReactVirtualized__List',t);return we.createElement(ft,Re()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:r,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),t}(we.PureComponent);vt.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:g,overscanRowCount:10,scrollToAlignment:'auto',scrollToIndex:-1,style:{}},vt.propTypes=null;var Et=n(110),wt=n.n(Et),kt=n(315),Tt=n.n(kt),_t={ge:function(e,t,n,o,r){return'function'==typeof n?E(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):v(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)},gt:function(e,t,n,o,r){return'function'==typeof n?k(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):w(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)},lt:function(e,t,n,o,r){return'function'==typeof n?_(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):T(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)},le:function(e,t,n,o,r){return'function'==typeof n?x(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):R(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)},eq:function(e,t,n,o,r){return'function'==typeof n?D(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):P(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)}},Rt=0,xt=1,Pt=2,Dt=M.prototype;Dt.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Dt.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?L(this,e):this.left.insert(e):this.left=W([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?L(this,e):this.right.insert(e):this.right=W([e]);else{var n=_t.ge(this.leftPoints,e,z),o=_t.ge(this.rightPoints,e,U);this.leftPoints.splice(n,0,e),this.rightPoints.splice(o,0,e)}},Dt.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return Rt;var o=this.right?this.right.count:0;if(4*o>3*(t-1))return F(this,e);var i=this.left.remove(e);return i===Pt?(this.left=null,this.count-=1,xt):(i===xt&&(this.count-=1),i)}if(e[0]>this.mid){if(!this.right)return Rt;var r=this.left?this.left.count:0;if(4*r>3*(t-1))return F(this,e);var i=this.right.remove(e);return i===Pt?(this.right=null,this.count-=1,xt):(i===xt&&(this.count-=1),i)}if(1===this.count)return this.leftPoints[0]===e?Pt:Rt;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var a=this,s=this.left;s.right;)a=s,s=s.right;if(a===this)s.right=this.right;else{var n=this.left,i=this.right;a.count-=s.count,a.right=s.left,s.left=n,s.right=i}A(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?A(this,this.left):A(this,this.right);return xt}for(var n=_t.ge(this.leftPoints,e,z);n<this.leftPoints.length&&this.leftPoints[n][0]===e[0];++n)if(this.leftPoints[n]===e){this.count-=1,this.leftPoints.splice(n,1);for(var i=_t.ge(this.rightPoints,e,U);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),xt}return Rt},Dt.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return B(this.leftPoints,e,t)}if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return N(this.rightPoints,e,t)}return O(this.leftPoints,t)},Dt.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var o=this.left.queryInterval(e,t,n);if(o)return o}if(t>this.mid&&this.right){var o=this.right.queryInterval(e,t,n);if(o)return o}return t<this.mid?B(this.leftPoints,t,n):e>this.mid?N(this.rightPoints,e,n):O(this.leftPoints,n)};var Mt=V.prototype;Mt.insert=function(e){this.root?this.root.insert(e):this.root=new M(e[0],null,null,[e],[e])},Mt.remove=function(e){if(this.root){var t=this.root.remove(e);return t===Pt&&(this.root=null),t!==Rt}return!1},Mt.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Mt.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(Mt,'count',{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Mt,'intervals',{get:function(){return this.root?this.root.intervals([]):[]}});var At=function(){function e(){ge()(this,e),this._columnSizeMap={},this._intervalTree=G(),this._leftMap={}}return Se()(e,[{key:'estimateTotalHeight',value:function(e,t,n){var o=e-this.count;return this.tallestColumnSize+pe(o/t)*n}},{key:'range',value:function(e,t,n){var o=this;this._intervalTree.queryInterval(e,e+t,function(e){var t=Tt()(e,3),r=t[0],i=t[1],a=t[2];return n(a,o._leftMap[a],r)})}},{key:'setPosition',value:function(e,t,n,o){this._intervalTree.insert([n,n+o,e]),this._leftMap[e]=t;var r=this._columnSizeMap,i=r[t];r[t]=void 0===i?n+o:le(i,n+o)}},{key:'count',get:function(){return this._intervalTree.count}},{key:'shortestColumnSize',get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var o=e[n];t=0===t?o:ue(t,o)}return t}},{key:'tallestColumnSize',get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var o=e[n];t=le(t,o)}return t}}]),e}(),It=At,Lt=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o.state={isScrolling:!1,scrollTop:0},o._invalidateOnUpdateStartIndex=null,o._invalidateOnUpdateStopIndex=null,o._positionCache=new It,o._startIndex=null,o._startIndexMemoized=null,o._stopIndex=null,o._stopIndexMemoized=null,o._debounceResetIsScrollingCallback=function(){o.setState({isScrolling:!1})},o._setScrollingContainerRef=function(e){o._scrollingContainer=e},o._onScroll=function(e){var t=o.props.height,n=e.target.scrollTop,r=ue(le(0,o._getEstimatedTotalHeight()-t),n);n!==r||(o._debounceResetIsScrolling(),o.state.scrollTop!==r&&o.setState({isScrolling:!0,scrollTop:r}))},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'clearCellPositions',value:function(){this._positionCache=new It,this.forceUpdate()}},{key:'invalidateCellSizeAfterRender',value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=ue(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=le(this._invalidateOnUpdateStopIndex,t))}},{key:'recomputeCellPositions',value:function(){var e=this._positionCache.count-1;this._positionCache=new It,this._populatePositionCache(0,e),this.forceUpdate()}},{key:'componentDidMount',value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:'componentDidUpdate',value:function(e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:'componentWillUnmount',value:function(){this._debounceResetIsScrollingId&&pt(this._debounceResetIsScrollingId)}},{key:'render',value:function(){var e=this,t=this.props,n=t.autoHeight,o=t.cellCount,r=t.cellMeasurerCache,i=t.cellRenderer,a=t.className,s=t.height,d=t.id,l=t.keyMapper,c=t.overscanByPixels,p=t.role,u=t.style,m=t.tabIndex,h=t.width,f=t.rowDirection,g=this.state,y=g.isScrolling,S=g.scrollTop,C=[],b=this._getEstimatedTotalHeight(),v=this._positionCache.shortestColumnSize,E=this._positionCache.count,w=0,k=void 0;if(this._positionCache.range(le(0,S-c),s+2*c,function(t,n,o){var a;'undefined'==typeof k?(w=t,k=t):(w=ue(w,t),k=le(k,t)),C.push(i({index:t,isScrolling:y,key:l(t),parent:e,style:(a={height:r.getHeight(t)},wt()(a,'ltr'===f?'left':'right',n),wt()(a,'position','absolute'),wt()(a,'top',o),wt()(a,'width',r.getWidth(t)),a)}))}),v<S+s+c&&E<o)for(var T=ue(o-E,pe((S+s+c-v)/r.defaultHeight*h/r.defaultWidth)),_=E;_<E+T;_++)k=_,C.push(i({index:_,isScrolling:y,key:l(_),parent:this,style:{width:r.getWidth(_)}}));return this._startIndex=w,this._stopIndex=k,we.createElement('div',{ref:this._setScrollingContainerRef,"aria-label":this.props['aria-label'],className:Be()('ReactVirtualized__Masonry',a),id:d,onScroll:this._onScroll,role:p,style:Re()({boxSizing:'border-box',direction:'ltr',height:n?'auto':s,overflowX:'hidden',overflowY:b<s?'hidden':'auto',position:'relative',width:h,WebkitOverflowScrolling:'touch',willChange:'transform'},u),tabIndex:m},we.createElement('div',{className:'ReactVirtualized__Masonry__innerScrollContainer',style:{width:'100%',height:b,maxWidth:'100%',maxHeight:b,overflow:'hidden',pointerEvents:y?'none':'',position:'relative'}},C))}},{key:'_checkInvalidateOnUpdate',value:function(){if('number'==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:'_debounceResetIsScrolling',value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&pt(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=ut(this._debounceResetIsScrollingCallback,e)}},{key:'_getEstimatedTotalHeight',value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,o=e.width,r=le(1,ce(o/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,r,n.defaultHeight)}},{key:'_invokeOnScrollCallback',value:function(){var e=this.props,t=e.height,n=e.onScroll,o=this.state.scrollTop;this._onScrollMemoized!==o&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:o}),this._onScrollMemoized=o)}},{key:'_invokeOnCellsRenderedCallback',value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var e=this.props.onCellsRendered;e({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:'_populatePositionCache',value:function(e,t){for(var n=this.props,o=n.cellMeasurerCache,r=n.cellPositioner,i=e;i<=t;i++){var a=r(i),s=a.left,d=a.top;this._positionCache.setPosition(i,s,d,o.getHeight(i))}}}],[{key:'getDerivedStateFromProps',value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(we.PureComponent);Lt.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:K,onScroll:K,overscanByPixels:20,role:'grid',scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:'ltr'},Lt.propTypes=null;null;a(Lt);var Ft=Lt,Bt=null,Nt=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ge()(this,e),this.columnWidth=function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})},this.rowHeight=function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})};var o=n.cellMeasurerCache,r=n.columnIndexOffset,i=void 0===r?0:r,a=n.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=o,this._columnIndexOffset=i,this._rowIndexOffset=s}return Se()(e,[{key:'clear',value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:'clearAll',value:function(){this._cellMeasurerCache.clearAll()}},{key:'hasFixedHeight',value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:'hasFixedWidth',value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:'getHeight',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:'getWidth',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:'has',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:'set',value:function(e,t,n,o){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,o)}},{key:'defaultHeight',get:function(){return this._cellMeasurerCache.defaultHeight}},{key:'defaultWidth',get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}(),Ot=Nt,Ht=20,zt=function(e){function t(e,n){ge()(this,t);var o=be()(this,(t.__proto__||he()(t)).call(this,e,n));Ut.call(o);var r=e.deferredMeasurementCache,i=e.fixedColumnCount,a=e.fixedRowCount;return o._maybeCalculateCachedStyles(!0),r&&(o._deferredMeasurementCacheBottomLeftGrid=0<a?new Ot({cellMeasurerCache:r,columnIndexOffset:0,rowIndexOffset:a}):r,o._deferredMeasurementCacheBottomRightGrid=0<i||0<a?new Ot({cellMeasurerCache:r,columnIndexOffset:i,rowIndexOffset:a}):r,o._deferredMeasurementCacheTopRightGrid=0<i?new Ot({cellMeasurerCache:r,columnIndexOffset:i,rowIndexOffset:0}):r),o}return Ee()(t,e),Se()(t,[{key:'forceUpdateGrids',value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:'invalidateCellSizeAfterRender',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this._deferredInvalidateColumnIndex='number'==typeof this._deferredInvalidateColumnIndex?ue(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex='number'==typeof this._deferredInvalidateRowIndex?ue(this._deferredInvalidateRowIndex,r):r}},{key:'measureAllCells',value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:'recomputeGridSize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,d=le(0,n-a),l=le(0,r-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:l}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:d,rowIndex:l}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:r}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:d,rowIndex:r}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:'componentDidMount',value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(0<t||0<n){var o={};0<t&&(o.scrollLeft=t),0<n&&(o.scrollTop=n),this.setState(o)}this._handleInvalidatedGridSize()}},{key:'componentDidUpdate',value:function(){this._handleInvalidatedGridSize()}},{key:'render',value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,o=e.onScrollbarPresenceChange,r=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,d=Le()(e,['onScroll','onSectionRendered','onScrollbarPresenceChange','scrollLeft','scrollToColumn','scrollTop','scrollToRow']);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var l=this.state,c=l.scrollLeft,p=l.scrollTop;return we.createElement('div',{style:this._containerOuterStyle},we.createElement('div',{style:this._containerTopStyle},this._renderTopLeftGrid(d),this._renderTopRightGrid(Re()({},d,{onScroll:t,scrollLeft:c}))),we.createElement('div',{style:this._containerBottomStyle},this._renderBottomLeftGrid(Re()({},d,{onScroll:t,scrollTop:p})),this._renderBottomRightGrid(Re()({},d,{onScroll:t,onSectionRendered:n,scrollLeft:c,scrollToColumn:i,scrollToRow:s,scrollTop:p}))))}},{key:'_getBottomGridHeight',value:function(e){var t=e.height,n=this._getTopGridHeight(e);return t-n}},{key:'_getLeftGridWidth',value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if('function'==typeof n){for(var o=0,r=0;r<t;r++)o+=n({index:r});this._leftGridWidth=o}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:'_getRightGridWidth',value:function(e){var t=e.width,n=this._getLeftGridWidth(e);return t-n}},{key:'_getTopGridHeight',value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if('function'==typeof n){for(var o=0,r=0;r<t;r++)o+=n({index:r});this._topGridHeight=o}else this._topGridHeight=n*t;return this._topGridHeight}},{key:'_handleInvalidatedGridSize',value:function(){if('number'==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:'_maybeCalculateCachedStyles',value:function(e){var t=this.props,n=t.columnWidth,o=t.enableFixedColumnScroll,r=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,d=t.rowHeight,l=t.style,c=t.styleBottomLeftGrid,p=t.styleBottomRightGrid,u=t.styleTopLeftGrid,m=t.styleTopRightGrid,h=t.width,f=e||i!==this._lastRenderedHeight||h!==this._lastRenderedWidth,g=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,y=e||s!==this._lastRenderedFixedRowCount||d!==this._lastRenderedRowHeight;(e||f||l!==this._lastRenderedStyle)&&(this._containerOuterStyle=Re()({height:i,overflow:'visible',width:h},l)),(e||f||y)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:'relative',width:h},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:'visible',position:'relative',width:h}),(e||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Re()({left:0,overflowX:'hidden',overflowY:o?'auto':'hidden',position:'absolute'},c)),(e||g||p!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Re()({left:this._getLeftGridWidth(this.props),position:'absolute'},p)),(e||u!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Re()({left:0,overflowX:'hidden',overflowY:'hidden',position:'absolute',top:0},u)),(e||g||m!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Re()({left:this._getLeftGridWidth(this.props),overflowX:r?'auto':'hidden',overflowY:'hidden',position:'absolute',top:0},m)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=d,this._lastRenderedStyle=l,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=p,this._lastRenderedStyleTopLeftGrid=u,this._lastRenderedStyleTopRightGrid=m,this._lastRenderedWidth=h}},{key:'_prepareForRender',value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:'_renderBottomLeftGrid',value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,o=e.fixedRowCount,r=e.rowCount,i=e.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!n)return null;var s=a?1:0,d=this._getBottomGridHeight(e),l=this._getLeftGridWidth(e),c=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=i?l+c:l,u=we.createElement(ft,Re()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:d,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:le(0,r-o)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return i?we.createElement('div',{className:'BottomLeftGrid_ScrollWrapper',style:Re()({},this._bottomLeftGridStyle,{height:d,width:l,overflowY:'hidden'})},u):u}},{key:'_renderBottomRightGrid',value:function(e){var t=e.columnCount,n=e.fixedColumnCount,o=e.fixedRowCount,r=e.rowCount,i=e.scrollToColumn,a=e.scrollToRow;return we.createElement(ft,Re()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:le(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:le(0,r-o),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-n,scrollToRow:a-o,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:'_renderTopLeftGrid',value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?we.createElement(ft,Re()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:'_renderTopRightGrid',value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,o=e.fixedColumnCount,r=e.fixedRowCount,i=e.scrollLeft,a=e.hideTopRightGridScrollbar,s=this.state,d=s.showHorizontalScrollbar,l=s.scrollbarSize;if(!r)return null;var c=d?1:0,p=this._getTopGridHeight(e),u=this._getRightGridWidth(e),m=d?l:0,h=p,f=this._topRightGridStyle;a&&(h=p+m,f=Re()({},this._topRightGridStyle,{left:0}));var g=we.createElement(ft,Re()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:le(0,t-o)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:h,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:r,scrollLeft:i,style:f,tabIndex:null,width:u}));return a?we.createElement('div',{className:'TopRightGrid_ScrollWrapper',style:Re()({},this._topRightGridStyle,{height:p,width:u,overflowX:'hidden'})},g):g}}],[{key:'getDerivedStateFromProps',value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&0<=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&0<=e.scrollTop?e.scrollTop:t.scrollTop}:null}}]),t}(we.PureComponent);zt.defaultProps={classNameBottomLeftGrid:'',classNameBottomRightGrid:'',classNameTopLeftGrid:'',classNameTopRightGrid:'',enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Ut=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var n=t.rowIndex,o=Le()(t,['rowIndex']),r=e.props,i=r.cellRenderer,a=r.fixedRowCount,s=r.rowCount;return n===s-a?we.createElement('div',{key:o.key,style:Re()({},o.style,{height:Ht})}):i(Re()({},o,{parent:e,rowIndex:n+a}))},this._cellRendererBottomRightGrid=function(t){var n=t.columnIndex,o=t.rowIndex,r=Le()(t,['columnIndex','rowIndex']),i=e.props,a=i.cellRenderer,s=i.fixedColumnCount,d=i.fixedRowCount;return a(Re()({},r,{columnIndex:n+s,parent:e,rowIndex:o+d}))},this._cellRendererTopRightGrid=function(t){var n=t.columnIndex,o=Le()(t,['columnIndex']),r=e.props,i=r.cellRenderer,a=r.columnCount,s=r.fixedColumnCount;return n===a-s?we.createElement('div',{key:o.key,style:Re()({},o.style,{width:Ht})}):i(Re()({},o,{columnIndex:n+s,parent:e}))},this._columnWidthRightGrid=function(t){var n=t.index,o=e.props,r=o.columnCount,i=o.fixedColumnCount,a=o.columnWidth,s=e.state,d=s.scrollbarSize,l=s.showHorizontalScrollbar;return l&&n===r-i?d:'function'==typeof a?a({index:n+i}):a},this._onScroll=function(t){var n=t.scrollLeft,o=t.scrollTop;e.setState({scrollLeft:n,scrollTop:o});var r=e.props.onScroll;r&&r(t)},this._onScrollbarPresenceChange=function(t){var n=t.horizontal,o=t.size,r=t.vertical,i=e.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(n!==a||r!==s){e.setState({scrollbarSize:o,showHorizontalScrollbar:n,showVerticalScrollbar:r});var d=e.props.onScrollbarPresenceChange;'function'==typeof d&&d({horizontal:n,size:o,vertical:r})}},this._onScrollLeft=function(t){var n=t.scrollLeft;e._onScroll({scrollLeft:n,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var n=t.scrollTop;e._onScroll({scrollTop:n,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var n=t.index,o=e.props,r=o.fixedRowCount,i=o.rowCount,a=o.rowHeight,s=e.state,d=s.scrollbarSize,l=s.showVerticalScrollbar;return l&&n===i-r?d:'function'==typeof a?a({index:n+r}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};zt.propTypes={},a(zt);var Wt=zt,Vt=function(e){function t(e,n){ge()(this,t);var o=be()(this,(t.__proto__||he()(t)).call(this,e,n));return o.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},o._onScroll=o._onScroll.bind(o),o}return Ee()(t,e),Se()(t,[{key:'render',value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,o=t.clientWidth,r=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:o,onScroll:this._onScroll,scrollHeight:r,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:'_onScroll',value:function(e){var t=e.clientHeight,n=e.clientWidth,o=e.scrollHeight,r=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:o,scrollLeft:r,scrollTop:i,scrollWidth:a})}}]),t}(we.PureComponent),Gt=Vt;Vt.propTypes={};X.propTypes=null;var Kt={ASC:'ASC',DESC:'DESC'};Q.propTypes={},$.propTypes=null,Z.propTypes=null;var jt=function(e){function t(){return ge()(this,t),be()(this,(t.__proto__||he()(t)).apply(this,arguments))}return Ee()(t,e),t}(we.Component);jt.defaultProps={cellDataGetter:q,cellRenderer:Y,defaultSortDirection:Kt.ASC,flexGrow:0,flexShrink:1,headerRenderer:$,style:{}};jt.propTypes={};var qt=function(e){function t(e){ge()(this,t);var n=be()(this,(t.__proto__||he()(t)).call(this,e));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return Ee()(t,e),Se()(t,[{key:'forceUpdateGrid',value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:'getOffsetForRow',value:function(e){var t=e.alignment,n=e.index;if(this.Grid){var o=this.Grid.getOffsetForCell({alignment:t,rowIndex:n}),r=o.scrollTop;return r}return 0}},{key:'invalidateCellSizeAfterRender',value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:'measureAllRows',value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:'recomputeGridSize',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:'recomputeRowHeights',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:'scrollToPosition',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:'scrollToRow',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:'componentDidMount',value:function(){this._setScrollbarWidth()}},{key:'componentDidUpdate',value:function(){this._setScrollbarWidth()}},{key:'render',value:function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.disableHeader,i=t.gridClassName,a=t.gridStyle,s=t.headerHeight,d=t.headerRowRenderer,l=t.height,c=t.id,p=t.noRowsRenderer,u=t.rowClassName,m=t.rowStyle,h=t.scrollToIndex,f=t.style,g=t.width,y=this.state.scrollbarWidth,S=r?l:l-s,C='function'==typeof u?u({index:-1}):u,b='function'==typeof m?m({index:-1}):m;return this._cachedColumnStyles=[],we.Children.toArray(n).forEach(function(t,n){var o=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=Re()({},o,{overflow:'hidden'})}),we.createElement('div',{className:Be()('ReactVirtualized__Table',o),id:c,role:'grid',style:f},!r&&d({className:Be()('ReactVirtualized__Table__headerRow',C),columns:this._getHeaderColumns(),style:Re()({},b,{height:s,overflow:'hidden',paddingRight:y,width:g})}),we.createElement(ft,Re()({},this.props,{autoContainerWidth:!0,className:Be()('ReactVirtualized__Table__Grid',i),cellRenderer:this._createRow,columnWidth:g,columnCount:1,height:S,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:'rowgroup',scrollbarWidth:y,scrollToRow:h,style:Re()({},a,{overflowX:'hidden'})})))}},{key:'_createColumn',value:function(e){var t=e.column,n=e.columnIndex,o=e.isScrolling,r=e.parent,i=e.rowData,a=e.rowIndex,s=t.props,d=s.cellDataGetter,l=s.cellRenderer,c=s.className,p=s.columnData,u=s.dataKey,m=s.id,h=d({columnData:p,dataKey:u,rowData:i}),f=l({cellData:h,columnData:p,columnIndex:n,dataKey:u,isScrolling:o,parent:r,rowData:i,rowIndex:a}),g=this._cachedColumnStyles[n],y='string'==typeof f?f:null;return we.createElement('div',{"aria-describedby":m,className:Be()('ReactVirtualized__Table__rowColumn',c),key:'Row'+a+'-Col'+n,role:'gridcell',style:g,title:y},f)}},{key:'_createHeader',value:function(e){var t=e.column,n=e.index,o=this.props,r=o.headerClassName,i=o.headerStyle,a=o.onHeaderClick,s=o.sort,d=o.sortBy,l=o.sortDirection,c=t.props,p=c.columnData,u=c.dataKey,m=c.defaultSortDirection,h=c.disableSort,f=c.headerRenderer,g=c.id,y=c.label,S=!h&&s,C=Be()('ReactVirtualized__Table__headerColumn',r,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:S}),b=this._getFlexStyleForColumn(t,Re()({},i,t.props.headerStyle)),v=f({columnData:p,dataKey:u,disableSort:h,label:y,sortBy:d,sortDirection:l}),E=void 0,w=void 0,k=void 0,T=void 0,_=void 0;if(S||a){var R=d!==u?m:l===Kt.DESC?Kt.ASC:Kt.DESC,x=function(e){S&&s({defaultSortDirection:m,event:e,sortBy:u,sortDirection:R}),a&&a({columnData:p,dataKey:u,event:e})},P=function(e){('Enter'===e.key||' '===e.key)&&x(e)};_=t.props['aria-label']||y||u,k=0,E=x,w=P}return d===u&&(T=l===Kt.ASC?'ascending':'descending'),we.createElement('div',{"aria-label":_,"aria-sort":T,className:C,id:g,key:'Header-Col'+n,onClick:E,onKeyDown:w,role:'columnheader',style:b,tabIndex:k},v)}},{key:'_createRow',value:function(e){var t=this,n=e.rowIndex,o=e.isScrolling,r=e.key,i=e.parent,a=e.style,s=this.props,d=s.children,l=s.onRowClick,c=s.onRowDoubleClick,p=s.onRowRightClick,u=s.onRowMouseOver,m=s.onRowMouseOut,h=s.rowClassName,f=s.rowGetter,g=s.rowRenderer,y=s.rowStyle,S=this.state.scrollbarWidth,C='function'==typeof h?h({index:n}):h,b='function'==typeof y?y({index:n}):y,v=f({index:n}),E=we.Children.toArray(d).map(function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:o,parent:i,rowData:v,rowIndex:n,scrollbarWidth:S})}),w=Be()('ReactVirtualized__Table__row',C),k=Re()({},a,b,{height:this._getRowHeight(n),overflow:'hidden',paddingRight:S});return g({className:w,columns:E,index:n,isScrolling:o,key:r,onRowClick:l,onRowDoubleClick:c,onRowRightClick:p,onRowMouseOver:u,onRowMouseOut:m,rowData:v,style:k})}},{key:'_getFlexStyleForColumn',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.props.flexGrow+' '+e.props.flexShrink+' '+e.props.width+'px',o=Re()({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(o.maxWidth=e.props.maxWidth),e.props.minWidth&&(o.minWidth=e.props.minWidth),o}},{key:'_getHeaderColumns',value:function(){var e=this,t=this.props,n=t.children,o=t.disableHeader,r=o?[]:we.Children.toArray(n);return r.map(function(t,n){return e._createHeader({column:t,index:n})})}},{key:'_getRowHeight',value:function(e){var t=this.props.rowHeight;return'function'==typeof t?t({index:e}):t}},{key:'_onScroll',value:function(e){var t=e.clientHeight,n=e.scrollHeight,o=e.scrollTop,r=this.props.onScroll;r({clientHeight:t,scrollHeight:n,scrollTop:o})}},{key:'_onSectionRendered',value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,o=e.rowStartIndex,r=e.rowStopIndex,i=this.props.onRowsRendered;i({overscanStartIndex:t,overscanStopIndex:n,startIndex:o,stopIndex:r})}},{key:'_setRef',value:function(e){this.Grid=e}},{key:'_setScrollbarWidth',value:function(){if(this.Grid){var e=Object(Pe.findDOMNode)(this.Grid),t=e.clientWidth||0,n=e.offsetWidth||0;this.setState({scrollbarWidth:n-t})}}}]),t}(we.PureComponent);qt.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:g,overscanRowCount:10,rowRenderer:Z,headerRowRenderer:X,rowStyle:{},scrollToAlignment:'auto',scrollToIndex:-1,style:{}};var Yt=qt;qt.propTypes={};var Xt=[],Qt=null,$t=null,Zt=function(e){return e===window},Jt=function(e){return e.getBoundingClientRect()},en=function(){return'undefined'==typeof window?void 0:window},tn=function(e){function t(){var e,n,o,r;ge()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=(n=(o=be()(this,(e=t.__proto__||he()(t)).call.apply(e,[this].concat(a))),o),o._window=en(),o._isMounted=!1,o._positionFromTop=0,o._positionFromLeft=0,o.state=Re()({},ie(o.props.scrollElement,o.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),o._registerChild=function(e){e&&!(e instanceof Element)&&console.warn('WindowScroller registerChild expects to be passed Element or null'),o._child=e,o.updatePosition()},o._onChildScroll=function(e){var t=e.scrollTop;if(o.state.scrollTop!==t){var n=o.props.scrollElement;n&&('function'==typeof n.scrollTo?n.scrollTo(0,t+o._positionFromTop):n.scrollTop=t+o._positionFromTop)}},o._registerResizeListener=function(e){e===window?window.addEventListener('resize',o._onResize,!1):o._detectElementResize.addResizeListener(e,o._onResize)},o._unregisterResizeListener=function(e){e===window?window.removeEventListener('resize',o._onResize,!1):e&&o._detectElementResize.removeResizeListener(e,o._onResize)},o._onResize=function(){o.updatePosition()},o.__handleWindowScrollEvent=function(){if(o._isMounted){var e=o.props.onScroll,t=o.props.scrollElement;if(t){var n=se(t),r=le(0,n.left-o._positionFromLeft),i=le(0,n.top-o._positionFromTop);o.setState({isScrolling:!0,scrollLeft:r,scrollTop:i}),e({scrollLeft:r,scrollTop:i})}}},o.__resetIsScrolling=function(){o.setState({isScrolling:!1})},n),be()(o,r)}return Ee()(t,e),Se()(t,[{key:'updatePosition',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,o=n.height,r=n.width,i=this._child||Pe.findDOMNode(this);if(i instanceof Element&&e){var a=ae(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=ie(e,this.props);(o!==s.height||r!==s.width)&&(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width}))}},{key:'componentDidMount',value:function(){var e=this.props.scrollElement;this._detectElementResize=s(),this.updatePosition(e),e&&(oe(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:'componentDidUpdate',value:function(e){var t=this.props.scrollElement,n=e.scrollElement;n!==t&&null!=n&&null!=t&&(this.updatePosition(t),re(this,n),oe(this,t),this._unregisterResizeListener(n),this._registerResizeListener(t))}},{key:'componentWillUnmount',value:function(){var e=this.props.scrollElement;e&&(re(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:'render',value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,o=t.scrollTop,r=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:r,scrollTop:o,width:a})}}]),t}(we.PureComponent);tn.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:en(),serverHeight:0,serverWidth:0},tn.propTypes=null;var nn=tn;n.d(t,'ArrowKeyStepper',function(){return Te}),n.d(t,'AutoSizer',function(){return xe}),n.d(t,'CellMeasurer',function(){return Me}),n.d(t,'CellMeasurerCache',function(){return Ae}),n.d(t,'Collection',function(){return qe}),n.d(t,'ColumnSizer',function(){return Xe}),n.d(t,'accessibilityOverscanIndicesGetter',function(){return g}),n.d(t,'defaultCellRangeRenderer',function(){return f}),n.d(t,'defaultOverscanIndicesGetter',function(){return m}),n.d(t,'Grid',function(){return ft}),n.d(t,'InfiniteLoader',function(){return St}),n.d(t,'List',function(){return vt}),n.d(t,'createMasonryCellPositioner',function(){return b}),n.d(t,'Masonry',function(){return Ft}),n.d(t,'MultiGrid',function(){return Wt}),n.d(t,'ScrollSync',function(){return Gt}),n.d(t,'createTableMultiSort',function(){return j}),n.d(t,'defaultTableCellDataGetter',function(){return q}),n.d(t,'defaultTableCellRenderer',function(){return Y}),n.d(t,'defaultTableHeaderRenderer',function(){return $}),n.d(t,'defaultTableHeaderRowRenderer',function(){return X}),n.d(t,'defaultTableRowRenderer',function(){return Z}),n.d(t,'Table',function(){return Yt}),n.d(t,'Column',function(){return jt}),n.d(t,'SortDirection',function(){return Kt}),n.d(t,'SortIndicator',function(){return Q}),n.d(t,'WindowScroller',function(){return nn})},,,,,,,function(){},function(e,t,n){var o=Math.round,r=Math.abs,i=Math.floor,a,s,d;/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */(function(o,r){s=[n(57)],a=r,d='function'==typeof a?a.apply(t,s):a,!(d!==void 0&&(e.exports=d)),o&&(o.momentDurationFormatSetup=o.moment?r(o.moment):r)})(this,function(e){function t(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function n(e){for(var t='';e;)t+='0',e-=1;return t}function a(e){for(var t=e.split('').reverse(),n=0,o=!0;o&&n<t.length;)n?'9'===t[n]?t[n]='0':(t[n]=(parseInt(t[n],10)+1).toString(),o=!1):(5>parseInt(t[n],10)&&(o=!1),t[n]='0'),n+=1;return o&&t.push('1'),t.reverse().join('')}function s(e,t){var n=g(k(t).sort(),function(e){return e+':'+t[e]}).join(','),o=e+'+'+n;return s.cache[o]||(s.cache[o]=Intl.NumberFormat(e,t)),s.cache[o]}function d(e,t,o){var i=t.useToLocaleString,l=t.useGrouping,c=l&&t.grouping.slice(),p=t.maximumSignificantDigits,u=t.minimumIntegerDigits||1,m=t.fractionDigits||0,h=t.groupingSeparator,f=t.decimalSeparator;if(i&&o){var g={minimumIntegerDigits:u,useGrouping:l};if(m&&(g.maximumFractionDigits=m,g.minimumFractionDigits=m),p&&0<e&&(g.maximumSignificantDigits=p),F){if(!B){var y=w({},t);y.useGrouping=!1,y.decimalSeparator='.',e=parseFloat(d(e,y),10)}return s(o,g).format(e)}if(!L){var y=w({},t);y.useGrouping=!1,y.decimalSeparator='.',e=parseFloat(d(e,y),10)}return e.toLocaleString(o,g)}var S=p?e.toPrecision(p+1):e.toFixed(m+1);var C=S.split('e'),b,v,E;E=C[1]||'',C=C[0].split('.'),v=C[1]||'',b=C[0]||'';var k=b.length,T=v.length,_=k+T,R=b+v;(p&&_===p+1||!p&&T===m+1)&&(R=a(R),R.length===_+1&&++k,T&&(R=R.slice(0,-1)),b=R.slice(0,k),v=R.slice(k)),p&&(v=v.replace(/0*$/,''));var x=parseInt(E,10);0<x?v.length<=x?(v+=n(x-v.length),b+=v,v=''):(b+=v.slice(0,x),v=v.slice(x)):0>x&&(v=n(r(x)-b.length)+b+v,b='0'),p||(v=v.slice(0,m),v.length<m&&(v+=n(m-v.length)),b.length<u&&(b=n(u-b.length)+b));var P='';if(l){C=b;for(var D;C.length;)c.length&&(D=c.shift()),P&&(P=h+P),P=C.slice(-D)+P,C=C.slice(0,-D)}else P=b;return v&&(P=P+f+v),P}function l(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function c(e,t){var n=[];return f(k(t),function(o){if('_durationLabels'===o.slice(0,15)){var r=o.slice(15).toLowerCase();f(k(t[o]),function(i){i.slice(0,1)===e&&n.push({type:r,key:i,label:t[o][i]})})}}),n}function p(e){return'[object Array]'===Object.prototype.toString.call(e)}function u(e){return'[object Object]'===Object.prototype.toString.call(e)}function m(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function h(e,t){var n=0,o=e&&e.length||0,r;for('function'!=typeof t&&(r=t,t=function(e){return e===r});n<o;){if(t(e[n]))return e[n];n+=1}}function f(e,t){var n=0,o=e.length;if(e&&o)for(;n<o;){if(!1===t(e[n],n))return;n+=1}}function g(e,t){var n=0,o=e.length,r=[];if(!e||!o)return r;for(;n<o;)r[n]=t(e[n],n),n+=1;return r}function y(e,t){return g(e,function(e){return e[t]})}function S(e){var t=[];return f(e,function(e){e&&t.push(e)}),t}function C(e){var t=[];return f(e,function(e){h(t,e)||t.push(e)}),t}function b(e,t){var n=[];return f(e,function(e){f(t,function(t){e===t&&n.push(e)})}),C(n)}function v(e,t){var n=[];return f(e,function(o,r){if(!t(o))return n=e.slice(r),!1}),n}function E(e,t){var n=e.slice().reverse();return v(n,t).reverse()}function w(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function k(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function T(e,t){var n=0,o=e.length;if(!e||!o)return!1;for(;n<o;){if(!0===t(e[n],n))return!0;n+=1}return!1}function _(e){var t=[];return f(e,function(e){t=t.concat(e)}),t}function R(e){return'3.6'===e(3.55,'en',{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function x(e){var t=!0;return(t=t&&'1'===e(1,'en',{minimumIntegerDigits:1}),t=t&&'01'===e(1,'en',{minimumIntegerDigits:2}),t=t&&'001'===e(1,'en',{minimumIntegerDigits:3}),!!t)&&(t=t&&'100'===e(99.99,'en',{maximumFractionDigits:0,minimumFractionDigits:0}),t=t&&'100.0'===e(99.99,'en',{maximumFractionDigits:1,minimumFractionDigits:1}),t=t&&'99.99'===e(99.99,'en',{maximumFractionDigits:2,minimumFractionDigits:2}),t=t&&'99.990'===e(99.99,'en',{maximumFractionDigits:3,minimumFractionDigits:3}),!!t)&&(t=t&&'100'===e(99.99,'en',{maximumSignificantDigits:1}),t=t&&'100'===e(99.99,'en',{maximumSignificantDigits:2}),t=t&&'100'===e(99.99,'en',{maximumSignificantDigits:3}),t=t&&'99.99'===e(99.99,'en',{maximumSignificantDigits:4}),t=t&&'99.99'===e(99.99,'en',{maximumSignificantDigits:5}),!!t)&&(t=t&&'1,000'===e(1e3,'en',{useGrouping:!0}),t=t&&'1000'===e(1e3,'en',{useGrouping:!1}),!!t)}function P(){var e=[].slice.call(arguments),t={},n;if(f(e,function(e,o){if(!o){if(!p(e))throw'Expected array as the first argument to durationsFormat.';n=e}return'string'==typeof e||'function'==typeof e?void(t.template=e):'number'==typeof e?void(t.precision=e):void(u(e)&&w(t,e))}),!n||!n.length)return[];t.returnMomentTypes=!0;var o=g(n,function(e){return e.format(t)}),r=b(N,C(y(_(o),'type'))),i=t.largest;return i&&(r=r.slice(0,i)),t.returnMomentTypes=!1,t.outputTypes=r,g(n,function(e){return e.format(t)})}function D(){var n=[].slice.call(arguments),a=w({},this.format.defaults),s=this.asMilliseconds(),m=this.asMonths();'function'==typeof this.isValid&&!1===this.isValid()&&(s=0,m=0);var _=0>s,R=e.duration(r(s),'milliseconds'),x=e.duration(r(m),'months');f(n,function(e){return'string'==typeof e||'function'==typeof e?void(a.template=e):'number'==typeof e?void(a.precision=e):void(u(e)&&w(a,e))});var P={years:'y',months:'M',weeks:'w',days:'d',hours:'h',minutes:'m',seconds:'s',milliseconds:'S'},D={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};a.types=N;var M=function(e){return h(N,function(t){return D[t].test(e)})},A=new RegExp(g(N,function(e){return D[e].source}).join('|'),'g');a.duration=this;var L='function'==typeof a.template?a.template.apply(a):a.template,B=a.outputTypes,z=a.returnMomentTypes,U=a.largest,W=[];B||(p(a.stopTrim)&&(a.stopTrim=a.stopTrim.join('')),a.stopTrim&&f(a.stopTrim.match(A),function(e){var t=M(e);'escape'===t||'general'===t||W.push(t)}));var V=e.localeData();V||(V={}),f(k(H),function(e){return'function'==typeof H[e]?void(V[e]||(V[e]=H[e])):void(!V['_'+e]&&(V['_'+e]=H[e]))}),f(k(V._durationTimeTemplates),function(e){L=L.replace('_'+e+'_',V._durationTimeTemplates[e])});var G=a.userLocale||e.locale(),K=a.useLeftUnits,j=a.usePlural,q=a.precision,Y=a.forceLength,X=a.useGrouping,Q=a.trunc,$=a.useSignificantDigits&&0<q,Z=$?a.precision:0,J=Z,ee=a.minValue,te=!1,ne=a.maxValue,oe=!1,re=a.useToLocaleString,ie=a.groupingSeparator,ae=a.decimalSeparator,se=a.grouping;re=re&&(I||F);var de=a.trim;p(de)&&(de=de.join(' ')),null===de&&(U||ne||$)&&(de='all'),(null===de||!0===de||'left'===de||'right'===de)&&(de='large'),!1===de&&(de='');var le=function(e){return e.test(de)},ce=/large/,pe=/small/,ue=/both/,me=/mid/,he=/^all|[^sm]all/,fe=/final/,ge=0<U||T([ce,ue,he],le),ye=T([pe,ue,he],le),Se=T([me,he],le),Ce=T([fe,he],le),be=g(L.match(A),function(e,t){var n=M(e);return'*'===e.slice(0,1)&&(e=e.slice(1),'escape'!==n&&'general'!==n&&W.push(n)),{index:t,length:e.length,text:'',token:'escape'===n?e.replace(D.escape,'$1'):e,type:'escape'===n||'general'===n?null:n}}),ve={index:0,length:0,token:'',text:'',type:null},Ee=[];K&&be.reverse(),f(be,function(e){return e.type?((ve.type||ve.text)&&Ee.push(ve),void(ve=e)):void(K?ve.text=e.token+ve.text:ve.text+=e.token)}),(ve.type||ve.text)&&Ee.push(ve),K&&Ee.reverse();var we=b(N,C(S(y(Ee,'type'))));if(!we.length)return y(Ee,'text').join('');we=g(we,function(e,t){var n=t+1===we.length,o=!t,s;s='years'===e||'months'===e?x.as(e):R.as(e);var d=i(s),l=s-d,c=h(Ee,function(t){return e===t.type});return o&&ne&&s>ne&&(oe=!0),n&&ee&&r(a.duration.as(e))<ee&&(te=!0),o&&null===Y&&1<c.length&&(Y=!0),R.subtract(d,e),x.subtract(d,e),{rawValue:s,wholeValue:d,decimalValue:n?l:0,isSmallest:n,isLargest:o,type:e,tokenLength:c.length}});var ke=Q?i:o,Te=function(e,t){var n=Math.pow(10,t);return ke(e*n)/n},_e=!1,Re=!1,xe=function(e){var t={useGrouping:X,groupingSeparator:ie,decimalSeparator:ae,grouping:se,useToLocaleString:re};return $&&(0>=Z?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(t.maximumSignificantDigits=Z,e.significantDigits=Z)),oe&&!Re&&(e.isLargest?(e.wholeValue=ne,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),te&&!Re&&(e.isSmallest?(e.wholeValue=ee,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&0>=e.significantDigits-e.wholeValue.toString().length?0>q?e.value=Te(e.wholeValue,q):0===q?e.value=ke(e.wholeValue+e.decimalValue):$?(e.value=Q?Te(e.rawValue,Z-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(Z-=e.wholeValue.toString().length)):(t.fractionDigits=q,e.value=Q?e.wholeValue+Te(e.decimalValue,q):e.wholeValue+e.decimalValue):$&&e.wholeValue?(e.value=o(Te(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),Z-=e.wholeValue.toString().length):e.value=e.wholeValue,1<e.tokenLength&&(Y||_e)&&(t.minimumIntegerDigits=e.tokenLength,Re&&t.maximumSignificantDigits<e.tokenLength&&delete t.maximumSignificantDigits),!_e&&(0<e.value||''===de||h(W,e.type)||h(B,e.type))&&(_e=!0),e.formattedValue=d(e.value,t,G),t.useGrouping=!1,t.decimalSeparator='.',e.formattedValueEn=d(e.value,t,'en'),2===e.tokenLength&&'milliseconds'===e.type&&(e.formattedValueMS=d(e.value,{minimumIntegerDigits:3,useGrouping:!1},'en').slice(0,2)),e};if(we=g(we,xe),we=S(we),1<we.length){var Pe=function(e){return h(we,function(t){return t.type===e})},De=function(e){var t=Pe(e.type);t&&f(e.targets,function(e){var n=Pe(e.type);n&&(parseInt(t.formattedValueEn,10)!==e.value||(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,n.rawValue+=1,n.wholeValue+=1,n.decimalValue=0,n.formattedValueEn=n.wholeValue.toString(),Re=!0))})};f(O,De)}return(Re&&(_e=!1,Z=J,we=g(we,xe),we=S(we)),B&&(!oe||a.trim)?(we=g(we,function(e){return h(B,function(t){return e.type===t})?e:null}),we=S(we)):(ge&&(we=v(we,function(e){return!e.isSmallest&&!e.wholeValue&&!h(W,e.type)})),U&&we.length&&(we=we.slice(0,U)),ye&&1<we.length&&(we=E(we,function(e){return!e.wholeValue&&!h(W,e.type)&&!e.isLargest})),Se&&(we=g(we,function(e,t){return 0<t&&t<we.length-1&&!e.wholeValue?null:e}),we=S(we)),Ce&&1===we.length&&!we[0].wholeValue&&!(!Q&&we[0].isSmallest&&we[0].rawValue<ee)&&(we=[])),z)?we:(f(Ee,function(e){var n=P[e.type],o=h(we,function(t){return t.type===e.type});if(n&&o){var r=o.formattedValueEn.split('.');r[0]=parseInt(r[0],10),r[1]=r[1]?parseFloat('0.'+r[1],10):null;var i=V.durationPluralKey(n,r[0],r[1]),a=c(n,V),s=!1,d={};f(V._durationLabelTypes,function(n){var o=h(a,function(e){return e.type===n.type&&e.key===i});o&&(d[o.type]=o.label,t(e.text,n.string)&&(e.text=e.text.replace(n.string,o.label),s=!0))}),j&&!s&&(a.sort(l),f(a,function(n){return d[n.type]===n.label?!t(e.text,n.label)&&void 0:t(e.text,n.label)?(e.text=e.text.replace(n.label,d[n.type]),!1):void 0}))}}),Ee=g(Ee,function(e){if(!e.type)return e.text;var t=h(we,function(t){return t.type===e.type});if(!t)return'';var n='';return K&&(n+=e.text),(_&&oe||!_&&te)&&(n+='< ',oe=!1,te=!1),(_&&te||!_&&oe)&&(n+='> ',oe=!1,te=!1),_&&(0<t.value||''===de||h(W,t.type)||h(B,t.type))&&(n+='-',_=!1),n+='milliseconds'===e.type&&t.formattedValueMS?t.formattedValueMS:t.formattedValue,K||(n+=e.text),n}),Ee.join('').replace(/(,| |:|\.)*$/,'').replace(/^(,| |:|\.)*/,''))}function M(){var e=this.duration,t=function(t){return e._data[t]},n=h(this.types,t),o=m(this.types,t);switch(n){case'milliseconds':return'S __';case'seconds':case'minutes':return'*_MS_';case'hours':return'_HMS_';case'days':if(n===o)return'd __';case'weeks':return n===o?'w __':(null===this.trim&&(this.trim='both'),'w __, d __, h __');case'months':if(n===o)return'M __';case'years':return n===o?'y __':(null===this.trim&&(this.trim='both'),'y __, M __, d __');default:return null===this.trim&&(this.trim='both'),'y __, d __, h __, m __, s __';}}function A(e){if(!e)throw'Moment Duration Format init cannot find moment instance.';e.duration.format=P,e.duration.fn.format=D,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:M,useToLocaleString:!0,groupingSeparator:',',decimalSeparator:'.',grouping:[3]},e.updateLocale('en',H)}var I=!1,L=!1,F=!1,B=!1,N=['escape','years','months','weeks','days','hours','minutes','seconds','milliseconds','general'],O=[{type:'seconds',targets:[{type:'minutes',value:60},{type:'hours',value:3600},{type:'days',value:86400},{type:'weeks',value:604800},{type:'months',value:2678400},{type:'years',value:31536e3}]},{type:'minutes',targets:[{type:'hours',value:60},{type:'days',value:1440},{type:'weeks',value:10080},{type:'months',value:44640},{type:'years',value:525600}]},{type:'hours',targets:[{type:'days',value:24},{type:'weeks',value:168},{type:'months',value:744},{type:'years',value:8760}]},{type:'days',targets:[{type:'weeks',value:7},{type:'months',value:31},{type:'years',value:365}]},{type:'months',targets:[{type:'years',value:12}]}];s.cache={};var H={durationLabelsStandard:{S:'millisecond',SS:'milliseconds',s:'second',ss:'seconds',m:'minute',mm:'minutes',h:'hour',hh:'hours',d:'day',dd:'days',w:'week',ww:'weeks',M:'month',MM:'months',y:'year',yy:'years'},durationLabelsShort:{S:'msec',SS:'msecs',s:'sec',ss:'secs',m:'min',mm:'mins',h:'hr',hh:'hrs',d:'dy',dd:'dys',w:'wk',ww:'wks',M:'mo',MM:'mos',y:'yr',yy:'yrs'},durationTimeTemplates:{HMS:'h:mm:ss',HM:'h:mm',MS:'m:ss'},durationLabelTypes:[{type:'standard',string:'__'},{type:'short',string:'_'}],durationPluralKey:function(e,t,n){return 1===t&&null===n?e:e+e}},z=function(e,t,n){return e.toLocaleString(t,n)};I=function(){try{0 .toLocaleString('i')}catch(t){return'RangeError'===t.name}return!1}()&&x(z),L=I&&R(z);var U=function(e,t,n){if('undefined'!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,n).format(e)};return F=x(U),B=F&&R(U),A(e),A})},function(){(function(e,t){t()})(this,function(){'use strict';function e(e){if(!e||1!==e.nodeType)throw new Error('A DOM Element reference is required');this.el=e,this.classList=e.classList}function t(e,t){if(t=t||'a method','string'!=typeof e)throw new TypeError('Failed to execute \''+t+'\' on \'ClassList\': the token provided (\''+e+'\') is not a string.');if(''===e)throw new SyntaxError('Failed to execute \''+t+'\' on \'ClassList\': the token provided must not be empty.');if(/\s/.test(e))throw new Error('Failed to execute \''+t+'\' on \'ClassList\': the token provided (\''+e+'\') contains HTML space characters, which are not valid in tokens.')}var n=function(t){return new e(t)};e.prototype.toArray=function(){var e=(this.el.getAttribute('class')||'').replace(/^\s+|\s+$/g,''),t=e.split(/\s+/);return''===t[0]&&t.shift(),t},e.prototype.add=function(e){var n,o;return t(e,'add'),void(this.classList?this.classList.add(e):(n=this.toArray(),o=n.indexOf(e),-1===o&&(n.push(e),this.el.setAttribute('class',n.join(' ')))))},e.prototype.contains=function(e){return t(e,'contains'),this.classList?this.classList.contains(e):-1<this.toArray().indexOf(e)},e.prototype.remove=function(e){var n,o,r,i,a;if('[object RegExp]'==Object.prototype.toString.call(e))for(n=this.toArray(),r=0,a=n.length;r<a;r++)e.test(n[r])&&this.remove(n[r]);else t(e,'remove'),this.classList?this.classList.remove(e):(o=this.toArray(),i=o.indexOf(e),-1<i&&(o.splice(i,1),this.el.setAttribute('class',o.join(' '))))},e.prototype.toggle=function(e,n){t(e,'toggle');var o=this.contains(e),r=o?!0!==n&&'remove':!1!==n&&'add';return r&&this[r](e),'boolean'==typeof n?n:!o};var o=function(e,t){var n=window.Element.prototype,o=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var r=e.parentNode;if(o)return o.call(e,t);for(var a=r.querySelectorAll(t),s=a.length,d=0;d<s;d++)if(a[d]===e)return!0;return!1};document.addEventListener('DOMContentLoaded',function(){function t(e){return o(e,l)&&o(e,':not([readonly])')}function r(e){n(e).contains('focus-ring')||(n(e).add('focus-ring'),e.setAttribute('data-focus-ring-added',''))}function i(e){e.hasAttribute('data-focus-ring-added')&&(n(e).remove('focus-ring'),e.removeAttribute('data-focus-ring-added'))}function e(){s=!0,o(document.activeElement,':focus')&&r(document.activeElement),0!==d&&clearTimeout(d),d=setTimeout(function(){s=!1,d=0},100)}function a(n){(s||t(n.target))&&r(n.target)}var s=!1,d=0,l='input:not([type]),input[type=text],input[type=search],input[type=url],input[type=tel],input[type=email],input[type=password],input[type=number],input[type=date],input[type=month],input[type=week],input[type=time],input[type=datetime],input[type=datetime-local],textarea,[role=textbox]';document.body.addEventListener('keydown',e,!0),document.body.addEventListener('focus',a,!0),document.body.addEventListener('blur',function(t){i(t.target)},!0)})})},function(e){'use strict';class t{constructor(e={}){if(!(e.maxSize&&0<e.maxSize))throw new TypeError('`maxSize` must be a number greater than 0');this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=t,e.exports.default=t},function(e){'use strict';const t=(e,...t)=>new Promise((n)=>{n(e(...t))});e.exports=t,e.exports.default=t},function(e,t,n){'use strict';const o=n(328),r=(e)=>{if(1>e)throw new TypeError('Expected `concurrency` to be a number from 1 and up');const t=[];let n=0;const r=()=>{n--,0<t.length&&t.shift()()},i=(e,t,...i)=>{n++;const a=o(e,...i);t(a),a.then(r,r)},a=(o,r,...a)=>{n<e?i(o,r,...a):t.push(i.bind(null,o,r,...a))},s=(e,...t)=>new Promise((n)=>a(e,n,...t));return Object.defineProperties(s,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length}}),s};e.exports=r,e.exports.default=r},function(e,t,n){'use strict';function o(e,t){const{endpoint:n,owner:o,name:i}=e;return r(n,o.login,i,t)}function r(e,t,n,o){return`${e}/repos/${t}/${n}/commits/${o}/status`}function i(e){const t=Date.now(),n=t-e.fetchedAt.valueOf();return n>60000}Object.defineProperty(t,'__esModule',{value:!0});const a=n(329),s=n(327),d=n(10),l=n(49);t.CommitStatusStore=class{constructor(e){this.accounts=[],this.backgroundRefreshHandle=null,this.refreshQueued=!1,this.subscriptions=new Map,this.cache=new s.default({maxSize:250}),this.queue=new Set,this.limit=a.default(5),this.onAccountsUpdated=(e)=>{this.accounts=e},e.getAll().then(this.onAccountsUpdated),e.onDidUpdate(this.onAccountsUpdated)}startBackgroundRefresh(){null===this.backgroundRefreshHandle&&(this.backgroundRefreshHandle=window.setInterval(()=>this.queueRefresh(),180000),this.queueRefresh())}stopBackgroundRefresh(){null!==this.backgroundRefreshHandle&&(window.clearInterval(this.backgroundRefreshHandle),this.backgroundRefreshHandle=null)}queueRefresh(){this.refreshQueued||(this.refreshQueued=!0,setImmediate(()=>{this.refreshQueued=!1,this.refreshEligibleSubscriptions()}))}refreshEligibleSubscriptions(){for(const e of this.subscriptions.keys()){if(this.queue.has(e))continue;const t=this.cache.get(e);(!t||i(t))&&(this.limit(()=>this.refreshSubscription(e)).catch((t)=>log.error('Failed refreshing commit status',t)).then(()=>this.queue.delete(e)),this.queue.add(e))}}async refreshSubscription(e){const t=this.subscriptions.get(e);if(void 0===t)return;const{endpoint:n,owner:o,name:r,ref:i}=t,a=this.accounts.find((e)=>e.endpoint===n);if(void 0!==a)try{const n=d.API.fromAccount(a),s=await n.fetchCombinedRefStatus(o,r,i);this.cache.set(e,{status:s,fetchedAt:new Date}),t.callbacks.forEach((e)=>e(s))}catch(t){log.debug(`Failed fetching status for ref ${i} (${o}/${r})`,t);const n=this.cache.get(e),a=void 0===n?null:n.status;this.cache.set(e,{status:a,fetchedAt:new Date})}}tryGetStatus(e,t){const n=this.cache.get(o(e,t));return n===void 0?null:n.status}getOrCreateSubscription(e,t){const n=o(e,t);let r=this.subscriptions.get(n);return void 0===r?(r={endpoint:e.endpoint,owner:e.owner.login,name:e.name,ref:t,callbacks:new Set},this.subscriptions.set(n,r),r):r}subscribe(e,t,n){const r=o(e,t),i=this.getOrCreateSubscription(e,t);return i.callbacks.add(n),this.queueRefresh(),new l.Disposable(()=>{i.callbacks.delete(n),0===i.callbacks.size&&this.subscriptions.delete(r)})}}},function(e,t,n){'use strict';function o(e,t){return e.endpoint===t.endpoint&&e.id===t.id}function r(e,t){if(t.has(e))return e;for(const n of t.keys())if(o(n,e))return n;return e}Object.defineProperty(t,'__esModule',{value:!0});const i=n(62),a=n(10),s=n(54);class d extends i.BaseStore{constructor(e){super(),this.accountState=new Map,this.onAccountsChanged=(e)=>{const t=new Map;for(const n of e)for(const[e,r]of this.accountState.entries())if(o(e,n)){t.set(n,r);break}this.accountState=t,this.emitUpdate()},e.onDidUpdate(this.onAccountsChanged)}updateAccount(e,t){const n=new Map(this.accountState),o=r(e,n),i=n.get(o),a=i===void 0?s.merge({loading:!1,repositories:[]},t):s.merge(i,t);n.set(o,a),this.accountState=n,this.emitUpdate()}async loadRepositories(e){const t=r(e,this.accountState),n=this.accountState.get(t);if(!(void 0!==n&&n.loading)){this.updateAccount(t,{loading:!0});const n=a.API.fromAccount(t),o=await n.fetchRepositories();null===o?this.updateAccount(e,{loading:!1}):this.updateAccount(e,{loading:!1,repositories:o})}}getState(){return this.accountState}}t.ApiRepositoriesStore=d},function(e,t,n){'use strict';function o(){return{commitSelection:{sha:null,file:null,changedFiles:[],diff:null},changesState:{workingDirectory:r.WorkingDirectoryStatus.fromFiles([]),selection:{kind:a.ChangesSelectionKind.WorkingDirectory,selectedFileIDs:[],diff:null},commitMessage:l.DefaultCommitMessage,coAuthors:[],showCoAuthoredBy:!1,conflictState:null,stashEntry:null,currentBranchProtected:!1},selectedSection:a.RepositorySectionTab.Changes,branchesState:{tip:{kind:i.TipState.Unknown},defaultBranch:null,allBranches:[],recentBranches:[],openPullRequests:[],currentPullRequest:null,isLoadingPullRequests:!1,rebasedBranches:new Map},compareState:{divergingBranchBannerState:{isPromptVisible:!1,isPromptDismissed:!1,isNudgeVisible:!1},formState:{kind:a.HistoryTabMode.History},tip:null,mergeStatus:null,showBranchList:!1,filterText:'',commitSHAs:[],aheadBehindCache:new s.ComparisonCache,allBranches:[],recentBranches:[],defaultBranch:null,inferredComparisonBranch:{branch:null,aheadBehind:null}},rebaseState:{step:null,progress:null,commits:null,userHasResolvedConflicts:!1},commitAuthor:null,gitHubUsers:new Map,commitLookup:new Map,localCommitSHAs:[],localTags:null,tagsToPush:null,aheadBehind:null,remote:null,isPushPullFetchInProgress:!1,isCommitting:!1,lastFetched:null,checkoutProgress:null,pushPullFetchProgress:null,revertProgress:null}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(23),i=n(31),a=n(28),s=n(243),d=n(54),l=n(99);t.RepositoryStateCache=class{constructor(e){this.getUsersForRepository=e,this.repositoryState=new Map}get(e){const t=this.repositoryState.get(e.hash);if(null!=t){const n=this.getUsersForRepository(e);return d.merge(t,{gitHubUsers:n})}const n=o();return this.repositoryState.set(e.hash,n),n}update(e,t){const n=this.get(e),o=t(n);this.repositoryState.set(e.hash,d.merge(n,o))}updateCompareState(e,t){this.update(e,(e)=>{const n=e.compareState,o=t(n);return{compareState:d.merge(n,o)}})}updateChangesState(e,t){this.update(e,(e)=>{const n=e.changesState,o=d.merge(n,t(n));return{changesState:o}})}updateCommitSelection(e,t){this.update(e,(e)=>{const{commitSelection:n}=e,o=d.merge(n,t(n));return{commitSelection:o}})}updateBranchesState(e,t){this.update(e,(e)=>{const n=e.branchesState,o=d.merge(n,t(n));return{branchesState:o}})}updateRebaseState(e,t){this.update(e,(e)=>{const{rebaseState:n}=e,o=d.merge(n,t(n));return{rebaseState:o}})}}},function(e,t,n){'use strict';function o(e){for(;null!==e;){if(a.has(e.nodeName))return!0;const t=e.getAttribute('role');if(null!==t&&s.has(t))return!0;e=e instanceof HTMLElement?e.parentElement:null}return!1}Object.defineProperty(t,'__esModule',{value:!0});const r=n(49),i=n(22);t.UiActivityMonitor=class{constructor(){this.emitter=new r.Emitter,this.subscriberCount=0,this.onMouseDown=(t)=>{null!==t.target&&t.target instanceof HTMLElement&&o(t.target)&&this.emit('pointer')},this.onKeyDown=()=>{this.emit('keyboard')},this.onMenuEvent=()=>{this.emit('menu')}}onActivity(e){const t=this.emitter.on('activity',e);return 0===this.subscriberCount&&this.startTracking(),this.subscriberCount++,new r.Disposable(()=>{this.subscriberCount--,0===this.subscriberCount&&this.stopTracking(),t.dispose()})}emit(e){this.emitter.emit('activity',e)}startTracking(){document.addEventListener('mousedown',this.onMouseDown),document.addEventListener('keydown',this.onKeyDown),i.ipcRenderer.on('menu-event',this.onMenuEvent)}stopTracking(){document.removeEventListener('mousedown',this.onMouseDown),document.removeEventListener('keydown',this.onKeyDown),i.ipcRenderer.removeListener('menu-event',this.onMenuEvent)}};const a=new Set(['button','a','input','textarea','label'].map((e)=>e.toUpperCase())),s=new Set(['button','option','menuitem','tab','radio'])},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.installDevGlobals=function(){const e=global;e.GitPerf=n(172)}},function(e,t,n){'use strict';async function o(){const e=r(),t=new Promise((t)=>{let n=null,o=null,r='',i=!1;const a=()=>{!i&&n&&(n.kill(),i=!0)};process.once('exit',a),setTimeout(()=>{a()},5e3),n=s.spawn(e,['-ilc','command env'],{detached:!0,stdio:['ignore','pipe',process.stderr]});const d=[];n.on('error',(t)=>{i=!0,o=t}),n.stdout&&n.stdout.on('data',(e)=>{d.push(e)}),n.on('close',()=>{i=!0,process.removeListener('exit',a),d.length&&(r=Buffer.concat(d).toString('utf8')),t({stdout:r,error:o})})}),{stdout:n,error:o}=await t;return o?null:n}function r(){return process.env.SHELL?process.env.SHELL:'/bin/bash'}async function i(e){}function a(e){for(const t in e)l.has(t)||(process.env[t]=e[t])}Object.defineProperty(t,'__esModule',{value:!0});const s=n(48),d=n(63),l=new Set(['LOCAL_GIT_DIRECTORY']);t.shellNeedsPatching=function(){return!1},t.updateEnvironmentForProcess=function(){return i(a)}},function(e,t,n){'use strict';function o(e){const t=e.table('gitHubRepositories'),n=new Set;return t.toCollection().each((e)=>{const o=`${e.ownerID}+${e.name}`;if(n.has(o)){const n=e.id;t.delete(n)}else n.add(o)})}Object.defineProperty(t,'__esModule',{value:!0});const r=n(121);class i extends r.BaseDatabase{constructor(e,t){super(e,t),this.conditionalVersion(1,{repositories:'++id, &path',gitHubRepositories:'++id, name',owners:'++id, login'}),this.conditionalVersion(2,{owners:'++id, &[endpoint+login]'}),this.conditionalVersion(3,{},o),this.conditionalVersion(4,{gitHubRepositories:'++id, name, &[ownerID+name]'}),this.conditionalVersion(5,{gitHubRepositories:'++id, name, &[ownerID+name], cloneURL'}),this.conditionalVersion(6,{protectedBranches:'[repoId+name], repoId'})}}t.RepositoriesDatabase=i},function(e,t,n){'use strict';function o(e){return r(),e.table('issues').clear()}function r(){Object.keys(localStorage).filter((e)=>/^IssuesStore\/\d+\/lastFetch$/.test(e)).forEach((e)=>localStorage.removeItem(e))}Object.defineProperty(t,'__esModule',{value:!0});const i=n(121);class a extends i.BaseDatabase{constructor(e,t){super(e,t),this.conditionalVersion(1,{issues:'++id, &[gitHubRepositoryID+number], gitHubRepositoryID, number'}),this.conditionalVersion(2,{issues:'++id, &[gitHubRepositoryID+number], gitHubRepositoryID, number, [gitHubRepositoryID+updated_at]'},o)}}t.IssuesDatabase=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(121);class r extends o.BaseDatabase{constructor(e,t){super(e,t),this.conditionalVersion(1,{users:'++id, &[endpoint+email]'}),this.conditionalVersion(2,{users:'++id, [endpoint+email], [endpoint+login]',mentionables:'++id, repositoryID, &[userID+repositoryID]'})}}t.GitHubUserDatabase=r},function(e,t,n){'use strict';function o(e){return e instanceof Error&&'string'==typeof e.code}function r(e){return o(e)?e:null}function i(e){return e instanceof p.ErrorWithMetadata?e:null}function a(e){return e instanceof m.GitError?e:null}function s(e){return e instanceof c.ExternalEditorError?e:null}function d(e){const t='remote: ';return e.split(/\r?\n/).filter((e)=>e.startsWith(t)).map((e)=>e.substr(t.length)).join('\n')}Object.defineProperty(t,'__esModule',{value:!0});const l=n(35),c=n(101),p=n(107),u=n(100),m=n(11),h=n(123),f=n(241),g=n(24),y=n(26),S=n(10),C=n(102),b=n(25),v=n(80),E=n(166);t.defaultErrorHandler=async function(t,n){const o=i(t)||t;return await n.presentError(o),null},t.missingRepositoryHandler=async function(t,n){const o=i(t);if(!o)return t;const s=o.metadata.repository;if(!s||!(s instanceof y.Repository))return t;if(s.missing)return null;const d=r(o.underlyingError),c=a(o.underlyingError),p=c&&c.result.gitError===l.GitError.NotAGitRepository||d&&d.code===l.RepositoryDoesNotExistErrorCode;return p?(await n.updateRepositoryMissing(s,!0),null):t},t.backgroundTaskHandler=async function(t){const n=i(t);if(!n)return t;const o=n.metadata;return o.backgroundTask?null:t},t.gitAuthenticationErrorHandler=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const s=r.result.gitError;if(!s)return t;if(!u.AuthenticationErrors.has(s))return t;const d=o.metadata.repository;if(!d)return t;if(d instanceof y.Repository&&d.gitHubRepository)return t;const l=o.metadata.retryAction;return l?(await n.promptForGenericGitAuthentication(d,l),null):(log.error(`No retry action provided for a git authentication error.`,o),t)},t.externalEditorErrorHandler=async function(t,n){const o=s(t);if(!o)return t;const{suggestAtom:r,openPreferences:i}=o.metadata;return await n.showPopup({type:g.PopupType.ExternalEditorFailed,message:o.message,suggestAtom:r,openPreferences:i}),null},t.openShellErrorHandler=async function(e,t){return e instanceof h.ShellError?(await t.showPopup({type:g.PopupType.OpenShellFailed,message:e.message}),null):e},t.pushNeedsPullHandler=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const s=r.result.gitError;if(!s)return t;if(s!==l.GitError.PushNotFastForward)return t;const d=o.metadata.repository;return d?d instanceof y.Repository?(n.showPopup({type:g.PopupType.PushNeedsPull,repository:d}),null):t:t},t.mergeConflictHandler=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const s=r.result.gitError;if(!s)return t;if(s!==l.GitError.MergeConflicts)return t;const{repository:d,gitContext:c}=o.metadata;if(null==d)return t;if(!(d instanceof y.Repository))return t;if(null==c)return t;if('merge'!==c.kind&&'pull'!==c.kind)return t;switch(c.kind){case'pull':n.mergeConflictDetectedFromPull();break;case'merge':n.mergeConflictDetectedFromExplicitMerge();}const{currentBranch:p,theirBranch:u}=c;return n.showPopup({type:g.PopupType.MergeConflicts,repository:d,ourBranch:p,theirBranch:u}),null},t.lfsAttributeMismatchHandler=async function(e,t){const n=a(e);if(!n)return e;const o=n.result.gitError;return o?o===l.GitError.LFSAttributeDoesNotMatch?(t.showPopup({type:g.PopupType.LFSAttributeMismatch}),null):e:e},t.upstreamAlreadyExistsHandler=async function(e,t){return e instanceof f.UpstreamAlreadyExistsError?(t.showPopup({type:g.PopupType.UpstreamAlreadyExists,repository:e.repository,existingRemote:e.existingRemote}),null):e},t.rebaseConflictsHandler=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const s=r.result.gitError;if(!s)return t;if(s!==l.GitError.RebaseConflicts)return t;const{repository:d,gitContext:c}=o.metadata;if(null==d)return t;if(!(d instanceof y.Repository))return t;if(null==c)return t;if('merge'!==c.kind&&'pull'!==c.kind)return t;const{currentBranch:p}=c;return n.launchRebaseFlow(d,p),null},t.localChangesOverwrittenHandler=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const s=r.result.gitError;if(!s)return t;if(s!==l.GitError.LocalChangesOverwritten)return t;const{repository:d,gitContext:c}=o.metadata;if(null==d)return t;if(!(d instanceof y.Repository))return t;if(void 0===c||'checkout'!==c.kind)return n.recordErrorWhenSwitchingBranchesWithUncommmittedChanges(),t;const{branchToCheckout:p}=c;return await n.moveChangesToBranchAndCheckout(d,p),null};const w=/^ ! \[remote rejected\] .*? -> .*? \(refusing to allow an OAuth App to create or update workflow `(.*?)` without `workflow` scope\)/m;t.refusedWorkflowUpdate=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r)return t;const{repository:s}=o.metadata;if(!(s instanceof y.Repository))return t;if(null===s.gitHubRepository)return t;if(s.gitHubRepository.endpoint!==S.getDotComAPIEndpoint())return t;const d=w.exec(t.message);return d?(n.showPopup({type:g.PopupType.PushRejectedDueToMissingWorkflowScope,rejectedPath:d[1],repository:s}),null):t};const k=/`([^']+)' organization has enabled or enforced SAML SSO.*?you must re-authorize/s;t.samlReauthRequired=async function(t,n){const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r||null===r.result.gitError)return t;if(!m.isAuthFailureError(r.result.gitError))return t;const{repository:s}=o.metadata;if(!(s instanceof y.Repository))return t;if(null===s.gitHubRepository)return t;const l=d(r.result.stderr),c=k.exec(l);if(!c)return t;const p=c[1],u=s.gitHubRepository.endpoint;return n.showPopup({type:g.PopupType.SAMLReauthRequired,organizationName:p,endpoint:u,retryAction:o.metadata.retryAction}),null},t.insufficientGitHubRepoPermissions=async function(t,n){if(!b.enableCreateForkFlow())return t;const o=i(t);if(!o)return t;const r=a(o.underlyingError);if(!r||null===r.result.gitError)return t;if(!m.isAuthFailureError(r.result.gitError))return t;const{repository:s,retryAction:d}=o.metadata;return s instanceof y.Repository&&y.isRepositoryWithGitHubRepository(s)?void 0===d||d.type!==v.RetryActionType.Push?t:C.hasWritePermission(s.gitHubRepository)?t:(n.showCreateForkDialog(s),null):t};const T=/^fatal: unable to access '(.*?)': schannel: next InitializeSecurityContext failed: .*? \((0x80092012|0x80092013)\)/m;t.schannelUnableToCheckRevocationForCertificate=async function(e,t){if(!1,!b.enableSchannelCheckRevokeOptOut())return e;const n=i(e),o=null===n?e:n.underlyingError,r=a(o);if(null===r)return e;const s=T.exec(r.message);return s?(E.sendNonFatalException('schannelUnableToCheckRevocationForCertificate',e),t.showPopup({type:g.PopupType.SChannelNoRevocationCheck,url:s[1]}),null):e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(31);t.getTipSha=function(e){return e.kind===o.TipState.Valid?e.branch.tip.sha:e.kind===o.TipState.Detached?e.currentSha:'(unknown)'}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=n(49),i=n(1),a=n(40),s=n(28),d=n(2),l=n(269),c=n(20),p=n(247),u=n(236),m=n(55),h=n(167),f=n(340),g=n(81),y=n(131),S=n(130),C=n(24),b=n(26),v=n(80),E=n(31),w=n(98),k=n(187),T=n(27),_=n(25);t.Dispatcher=class{constructor(e,t,n,o){this.appStore=e,this.repositoryStateManager=t,this.statsStore=n,this.commitStatusStore=o,this.errorHandlers=[],this.addRebasedBranchToForcePushList=(e,t,n)=>{if(t.branch.tip.sha===n)return;const o=this.repositoryStateManager.get(e),{rebasedBranches:r}=o.branchesState,i=new Map(r);i.set(t.branch.nameWithoutRemote,t.branch.tip.sha),this.repositoryStateManager.updateBranchesState(e,()=>({rebasedBranches:i}))},this.dropCurrentBranchFromForcePushList=(e)=>{const t=this.repositoryStateManager.get(e),{rebasedBranches:n,tip:o}=t.branchesState;if(o.kind!==E.TipState.Valid)return;const r=new Map(n);r.delete(o.branch.nameWithoutRemote),this.repositoryStateManager.updateBranchesState(e,()=>({rebasedBranches:r}))},this.switchToConflicts=(e,t)=>{this.setRebaseFlowStep(e,{kind:'ShowConflicts',conflictState:t})},this.setStashedFilesWidth=(e)=>this.appStore._setStashedFilesWidth(e),this.resetStashedFilesWidth=()=>this.appStore._resetStashedFilesWidth()}loadInitialState(){return this.appStore.loadInitialState()}addRepositories(e){return this.appStore._addRepositories(e)}addTutorialRepository(e,t,n){return this.appStore._addTutorialRepository(e,t,n)}resumeTutorial(e){return this.appStore._resumeTutorial(e)}pauseTutorial(e){return this.appStore._pauseTutorial(e)}removeRepositories(e,t){return t&&e.forEach((e)=>{a.shell.moveItemToTrash(e.path)}),this.appStore._removeRepositories(e)}async updateRepositoryMissing(e,t){return this.appStore._updateRepositoryMissing(e,t)}loadNextCommitBatch(e){return this.appStore._loadNextCommitBatch(e)}loadChangedFilesForCurrentSelection(e){return this.appStore._loadChangedFilesForCurrentSelection(e)}changeCommitSelection(e,t){return this.appStore._changeCommitSelection(e,t)}changeFileSelection(e,t){return this.appStore._changeFileSelection(e,t)}setRepositoryFilterText(e){return this.appStore._setRepositoryFilterText(e)}selectRepository(e){return this.appStore._selectRepository(e)}changeRepositorySection(e,t){return this.appStore._changeRepositorySection(e,t)}selectWorkingDirectoryFiles(e,t){return this.appStore._selectWorkingDirectoryFiles(e,t)}selectStashedFile(e,t){return this.appStore._selectStashedFile(e,t)}async commitIncludedChanges(e,t){return this.appStore._commitIncludedChanges(e,t)}changeFileIncluded(e,t,n){return this.appStore._changeFileIncluded(e,t,n)}changeFileLineSelection(e,t,n){return this.appStore._changeFileLineSelection(e,t,n)}changeIncludeAllFiles(e,t){return this.appStore._changeIncludeAllFiles(e,t)}refreshRepository(e){return this.appStore._refreshOrRecoverRepository(e)}showPopup(e){return this.appStore._showPopup(e)}closePopup(e){return this.appStore._closePopup(e)}showFoldout(e){return this.appStore._showFoldout(e)}closeCurrentFoldout(){return this.appStore._closeCurrentFoldout()}closeFoldout(e){return this.appStore._closeFoldout(e)}async warnAboutRemoteCommits(e,t,n){if(null===n.upstream)return!1;const o=await c.getBranches(e,`refs/remotes/${n.upstream}`);if(0===o.length)return!1;const r=await c.getCommitsInRange(e,t.tip.sha,n.upstream);return null!==r&&0<r.length}async startRebase(e,t,n,o,r){const{askForConfirmationOnForcePush:i}=this.appStore.getState(),a=r!==void 0&&r.continueWithForcePush;if(i&&!a){const r=await this.warnAboutRemoteCommits(e,t,n);if(r)return void this.setRebaseFlowStep(e,{kind:'WarnForcePush',baseBranch:t,targetBranch:n,commits:o})}this.initializeRebaseProgress(e,o);this.setRebaseFlowStep(e,{kind:'ShowProgress',rebaseAction:()=>this.rebase(e,t,n)})}async launchRebaseFlow(e,t){await this.appStore._loadStatus(e);const n=this.repositoryStateManager.get(e),{conflictState:o}=n.changesState;if(null===o||'merge'===o.kind)return;const r=Object.assign({},o,{targetBranch:t});this.repositoryStateManager.updateChangesState(e,()=>({conflictState:r})),await this.setRebaseProgressFromState(e);const i=g.initializeRebaseFlowForConflictedRepository(r);this.setRebaseFlowStep(e,i),this.showPopup({type:C.PopupType.RebaseFlow,repository:e})}createBranch(e,t,n,o,r=!1){return this.appStore._createBranch(e,t,n,o,r)}createTag(e,t,n){return this.appStore._createTag(e,t,n)}deleteTag(e,t){return this.appStore._deleteTag(e,t)}showCreateTagDialog(e,t,n,o){return this.showPopup({type:C.PopupType.CreateTag,repository:e,targetCommitSha:t,initialName:o,localTags:n})}showDeleteTagDialog(e,t){return this.showPopup({type:C.PopupType.DeleteTag,repository:e,tagName:t})}checkoutBranch(e,t,n){return this.appStore._checkoutBranch(e,t,n)}push(e){return this.appStore._push(e)}pushWithOptions(e,t){return void 0!==t&&t.forceWithLease&&this.dropCurrentBranchFromForcePushList(e),this.appStore._push(e,t)}pull(e){return this.appStore._pull(e)}fetchRefspec(e,t){return this.appStore._fetchRefspec(e,t)}fetch(e,t){return this.appStore._fetch(e,t)}publishRepository(e,t,n,o,r,i){return this.appStore._publishRepository(e,t,n,o,r,i)}async postError(e){let t=e;for(let n=this.errorHandlers.length-1;0<=n;n--){const e=this.errorHandlers[n];if(t=await e(t,this),!t)break}t&&d.fatalError(`Unhandled error ${t}. This shouldn't happen! All errors should be handled, even if it's just by the default handler.`)}presentError(e){return this.appStore._pushError(e)}clearError(e){return this.appStore._clearError(e)}cloneAgain(e,t){return this.appStore._cloneAgain(e,t)}async clone(e,t,n){return this.appStore._completeOpenInDesktop(async()=>{const{promise:o,repository:r}=this.appStore._clone(e,t,n);await this.selectRepository(r);const i=await o;if(!i)return null;const a=await this.addRepositories([t]),s=a[0];return await this.selectRepository(s),_.enableForkSettings()&&b.isRepositoryWithForkedGitHubRepository(s)&&this.showPopup({type:C.PopupType.ChooseForkSettings,repository:s}),s})}renameBranch(e,t,n){return this.appStore._renameBranch(e,t,n)}deleteBranch(e,t,n){return this.appStore._deleteBranch(e,t,n)}discardChanges(e,t){return this.appStore._discardChanges(e,t)}discardChangesFromSelection(e,t,n,o){return this.appStore._discardChangesFromSelection(e,t,n,o)}undoCommit(e,t){return this.appStore._undoCommit(e,t)}revertCommit(e,t){return this.appStore._revertCommit(e,t)}setSidebarWidth(e){return this.appStore._setSidebarWidth(e)}setUpdateBannerVisibility(e){return this.appStore._setUpdateBannerVisibility(e)}setBanner(e){return this.appStore._setBanner(e)}clearBanner(e){return this.appStore._clearBanner(e)}setDivergingBranchNudgeVisibility(e,t){return this.appStore._updateDivergingBranchBannerState(e,{isNudgeVisible:t})}dismissDivergingBranchBanner(e){return this.appStore._updateDivergingBranchBannerState(e,{isPromptDismissed:!0})}resetSidebarWidth(){return this.appStore._resetSidebarWidth()}setCommitSummaryWidth(e){return this.appStore._setCommitSummaryWidth(e)}resetCommitSummaryWidth(){return this.appStore._resetCommitSummaryWidth()}refreshIssues(e){return this.appStore._refreshIssues(e)}endWelcomeFlow(){return this.appStore._endWelcomeFlow()}setCommitMessageFocus(e){this.appStore._setCommitMessageFocus(e)}setCommitMessage(e,t){return this.appStore._setCommitMessage(e,t)}removeAccount(e){return this.appStore._removeAccount(e)}setAppMenuState(e){return this.appStore._setAppMenuState(e)}executeMenuItem(e){return T.executeMenuItem(e),Promise.resolve()}setAccessKeyHighlightState(e){return this.appStore._setAccessKeyHighlightState(e)}mergeBranch(e,t,n){return this.appStore._mergeBranch(e,t,n)}setConflictsResolved(e){return this.appStore._setConflictsResolved(e)}initializeRebaseProgress(e,t){return this.appStore._initializeRebaseProgress(e,t)}setRebaseProgressFromState(e){return this.appStore._setRebaseProgressFromState(e)}setRebaseFlowStep(e,t){return this.appStore._setRebaseFlowStep(e,t)}endRebaseFlow(e){return this.appStore._endRebaseFlow(e)}async rebase(e,t,n){const o=this.repositoryStateManager.get(e),r=f.getTipSha(o.branchesState.tip);log.info(`[rebase] starting rebase for ${n.name} at ${r}`),log.info(`[rebase] to restore the previous state if this completed rebase is unsatisfactory:`),log.info(`[rebase] - git checkout ${n.name}`),log.info(`[rebase] - git reset ${r} --hard`);const i=await this.appStore._rebase(e,t,n);await this.appStore._loadStatus(e);const a=this.repositoryStateManager.get(e),{tip:d}=a.branchesState,l=f.getTipSha(d);if(log.info(`[rebase] completed rebase - got ${i} and on tip ${l} - kind ${d.kind}`),i===c.RebaseResult.ConflictsEncountered){const{conflictState:o}=a.changesState;if(null===o)return void log.warn(`[rebase] conflict state after rebase is null - unable to continue`);if(s.isMergeConflictState(o))return void log.warn(`[rebase] conflict state after rebase is merge conflicts - unable to continue`);const r=Object.assign({},o,{baseBranch:t.name,targetBranch:n.name});this.switchToConflicts(e,r)}else if(i===c.RebaseResult.CompletedWithoutError){if(d.kind!==E.TipState.Valid)return void log.warn(`[rebase] tip after completing rebase is ${d.kind} but this should be a valid tip if the rebase completed without error`);this.statsStore.recordRebaseSuccessWithoutConflicts(),await this.completeRebase(e,{type:w.BannerType.SuccessfulRebase,targetBranch:n.name,baseBranch:t.name},d,r)}else i===c.RebaseResult.Error&&this.endRebaseFlow(e)}async abortRebase(e){await this.appStore._abortRebase(e),await this.appStore._loadStatus(e)}async continueRebase(e,t,n){const o=this.repositoryStateManager.get(e),{targetBranch:r,baseBranch:i,originalBranchTip:a,manualResolutions:d}=n,l=f.getTipSha(o.branchesState.tip);log.info(`[continueRebase] continuing rebase for ${l}`);const p=await this.appStore._continueRebase(e,t,d);await this.appStore._loadStatus(e);const u=this.repositoryStateManager.get(e),{tip:m}=u.branchesState,h=f.getTipSha(m);if(log.info(`[continueRebase] completed rebase - got ${p} and on tip ${h} - kind ${m.kind}`),p===c.RebaseResult.ConflictsEncountered){const{conflictState:t}=u.changesState;if(null===t)return void log.warn(`[continueRebase] conflict state after rebase is null - unable to continue`);if(s.isMergeConflictState(t))return void log.warn(`[continueRebase] conflict state after rebase is merge conflicts - unable to continue`);const n=Object.assign({},t,{baseBranch:i,targetBranch:r});this.switchToConflicts(e,n)}else if(p===c.RebaseResult.CompletedWithoutError){if(m.kind!==E.TipState.Valid)return void log.warn(`[continueRebase] tip after completing rebase is ${m.kind} but this should be a valid tip if the rebase completed without error`);this.statsStore.recordRebaseSuccessAfterConflicts(),await this.completeRebase(e,{type:w.BannerType.SuccessfulRebase,targetBranch:r,baseBranch:i},m,a)}}async completeRebase(e,t,n,o){this.closePopup(),this.setBanner(t),n.kind===E.TipState.Valid&&this.addRebasedBranchToForcePushList(e,n,o),this.endRebaseFlow(e),await this.refreshRepository(e)}async abortMerge(e){await this.appStore._abortMerge(e),await this.appStore._loadStatus(e)}async finishConflictedMerge(e,t,n){const o=this.repositoryStateManager.get(e),{conflictState:r}=o.changesState;if(null===r)return void log.error('Conflict state missing during finishConflictedMerge. No merge will be committed.');const i=await this.appStore._finishConflictedMerge(e,t,r.manualResolutions);i!==void 0&&this.setBanner(n)}recordLaunchStats(e){return this.appStore._recordLaunchStats(e)}reportStats(){return this.appStore._reportStats()}setRemoteURL(e,t,n){return this.appStore._setRemoteURL(e,t,n)}openInBrowser(e){return this.appStore._openInBrowser(e)}appendIgnoreRule(e,t){return this.appStore._appendIgnoreRule(e,t)}async openShell(e,t=!1){const n=await p.isGitOnPath();n||t?this.appStore._openShell(e):this.appStore._showPopup({type:C.PopupType.InstallGit,path:e})}async openInExternalEditor(e){return this.appStore._openInExternalEditor(e)}saveGitIgnore(e,t){return this.appStore._saveGitIgnore(e,t)}setStatsOptOut(e,t){return this.appStore.setStatsOptOut(e,t)}markUsageStatsNoteSeen(){this.appStore.markUsageStatsNoteSeen()}resetSignInState(){return this.appStore._resetSignInState()}onDotComSupportsBasicAuthUpdated(e){return this.appStore._onDotComSupportsBasicAuthUpdated(e)}tryGetDotComSupportsBasicAuth(){return this.appStore._tryGetDotComSupportsBasicAuth()}beginDotComSignIn(){return this.appStore._beginDotComSignIn()}beginEnterpriseSignIn(){return this.appStore._beginEnterpriseSignIn()}setSignInEndpoint(e){return this.appStore._setSignInEndpoint(e)}setSignInCredentials(e,t){return this.appStore._setSignInCredentials(e,t)}requestBrowserAuthentication(){return this.appStore._requestBrowserAuthentication()}async requestBrowserAuthenticationToDotcom(){return await this.beginDotComSignIn(),this.requestBrowserAuthentication()}setSignInOTP(e){return this.appStore._setSignInOTP(e)}async showDotComSignInDialog(){await this.appStore._beginDotComSignIn(),await this.appStore._showPopup({type:C.PopupType.SignIn})}async showEnterpriseSignInDialog(){await this.appStore._beginEnterpriseSignIn(),await this.appStore._showPopup({type:C.PopupType.SignIn})}async showCreateForkDialog(e){await this.appStore._showCreateforkDialog(e)}registerErrorHandler(e){return this.errorHandlers.push(e),new r.Disposable(()=>{const t=this.errorHandlers.indexOf(e);0<=t&&this.errorHandlers.splice(t,1)})}async relocateRepository(e){const t=o.remote.getCurrentWindow(),{filePaths:n}=await o.remote.dialog.showOpenDialog(t,{properties:['openDirectory']});if(0<n.length){const t=n[0];await this.updateRepositoryPath(e,t)}}async updateRepositoryWorkflowPreferences(e,t){await this.appStore._updateRepositoryWorkflowPreferences(e,t)}async updateRepositoryPath(e,t){await this.appStore._updateRepositoryPath(e,t)}async setAppFocusState(e){await this.appStore._setAppFocusState(e),e?this.commitStatusStore.startBackgroundRefresh():this.commitStatusStore.stopBackgroundRefresh()}async getForkAndUpstreamRepos(e){const t=this.appStore.getState(),n=t.repositories,o=[],r=[];for(const t of n)if(t instanceof b.Repository&&b.isRepositoryWithGitHubRepository(t)){const n=t.gitHubRepository.htmlURL,i=t.gitHubRepository.parent&&t.gitHubRepository.parent.htmlURL;n&&m.urlsMatch(n,e)?r.push(t):i&&m.urlsMatch(i,e)&&o.push(t)}return{forks:o,upstreams:r}}async openRepositoryFromUrl(e){const{url:t,pr:n}=e,o=n?await this.appStore.fetchPullRequest(t,n):null,r=o&&o.head.repo&&o.head.repo.html_url,{forks:i,upstreams:a}=await this.getForkAndUpstreamRepos(t),s=i.find((e)=>!!(e.gitHubRepository&&e.gitHubRepository.htmlURL&&r&&m.urlsMatch(e.gitHubRepository.htmlURL,r)));if(s){await this.selectRepository(s);const e=o&&o.head.ref;return void(e&&(await this.checkoutLocalBranch(s,e)))}const d=a.find((e)=>!!(e.gitHubRepository&&e.gitHubRepository.htmlURL&&r&&m.urlsMatch(e.gitHubRepository.htmlURL,r)));if(d)return await this.selectRepository(d),void(await this.handleCloneInDesktopOptions(d,e));if(0<i.length&&0===a.length){const t=i[0];return await this.selectRepository(t),void(await this.handleCloneInDesktopOptions(t,e))}const l=await this.openOrCloneRepository(t);l?await this.handleCloneInDesktopOptions(l,e):log.warn(`Open Repository from URL failed, did not find or clone repository: ${t} - payload: ${JSON.stringify(e)}`)}async dispatchURLAction(e){switch(e.name){case'oauth':try{log.info(`[Dispatcher] requesting authenticated user`);const t=await u.requestAuthenticatedUser(e.code,e.state);t?u.resolveOAuthRequest(t):null===t&&u.rejectOAuthRequest(new Error('Unable to fetch authenticated user.'))}catch(t){u.rejectOAuthRequest(t)}break;case'open-repository-from-url':this.openRepositoryFromUrl(e);break;case'open-repository-from-path':const t=(await h.validatedRepositoryPath(e.path))||e.path,n=this.appStore.getState();let o=m.matchExistingRepository(n.repositories,t);if(null==o){const e=await c.isGitRepository(t);if(e){const e=await this.addRepositories([t]);o=e[0]}}o?(await this.selectRepository(o),this.statsStore.recordAddExistingRepository()):await this.showPopup({type:C.PopupType.AddRepository,path:t});break;default:const r=e;log.warn(`Unknown URL action: ${r.name} - payload: ${JSON.stringify(r)}`);}}setConfirmRepoRemovalSetting(e){return this.appStore._setConfirmRepositoryRemovalSetting(e)}setConfirmDiscardChangesSetting(e){return this.appStore._setConfirmDiscardChangesSetting(e)}setUncommittedChangesStrategyKindSetting(e){return this.appStore._setUncommittedChangesStrategyKindSetting(e)}setExternalEditor(e){return this.appStore._setExternalEditor(e)}setShell(e){return this.appStore._setShell(e)}async checkoutLocalBranch(e,t){let n=!0;const o=this.repositoryStateManager.get(e),r=o.branchesState.allBranches,{tip:i}=o.branchesState;i.kind===E.TipState.Valid&&(n=i.branch.nameWithoutRemote!==t);const a=r.find((e)=>e.nameWithoutRemote===t);n&&a!==void 0&&(await this.checkoutBranch(e,a))}async handleCloneInDesktopOptions(e,t){const{filepath:n,pr:o,branch:r}=t;null!=o&&null!=r&&(await this.fetchRefspec(e,`pull/${o}/head:${r}`)),await this.appStore._refreshRepository(e);const s=this.repositoryStateManager.get(e),d=s.branchesState.allBranches;if(null==o&&null!=r){const t=d.find((e)=>e.upstreamWithoutRemote===r)||null;null==t&&(await this.fetch(e,S.FetchType.BackgroundTask))}if(null!=r&&(await this.checkoutLocalBranch(e,r)),null!=n){const t=i.join(e.path,n),o=i.normalize(t);a.shell.showItemInFolder(o)}}async openOrCloneRepository(e){const t=this.appStore.getState(),n=t.repositories,o=n.find((t)=>{if(t instanceof b.Repository){const n=t.gitHubRepository;return!!n&&m.urlMatchesCloneURL(e,n)}return!1});return o?await this.selectRepository(o):this.appStore._startOpenInDesktop(()=>{this.changeCloneRepositoriesTab(y.CloneRepositoryTab.Generic),this.showPopup({type:C.PopupType.CloneRepository,initialURL:e})})}async installCLI(){try{await k.installCLI(),this.showPopup({type:C.PopupType.CLIInstalled})}catch(t){log.error('Error installing CLI',t),this.postError(t)}}promptForGenericGitAuthentication(e,t){return this.appStore.promptForGenericGitAuthentication(e,t)}async saveGenericGitCredentials(t,n,e){log.info(`storing generic credentials for '${t}' and '${n}'`),l.setGenericUsername(t,n);try{await l.setGenericPassword(t,n,e)}catch(o){log.error(`Error saving generic git credentials: ${n}@${t}`,o),this.postError(o)}}async performRetry(e){switch(e.type){case v.RetryActionType.Push:return this.push(e.repository);case v.RetryActionType.Pull:return this.pull(e.repository);case v.RetryActionType.Fetch:return this.fetch(e.repository,S.FetchType.UserInitiatedTask);case v.RetryActionType.Clone:await this.clone(e.url,e.path,e.options);break;case v.RetryActionType.Checkout:await this.checkoutBranch(e.repository,e.branch);break;default:return d.assertNever(e,`Unknown retry action: ${e}`);}}changeImageDiffType(e){return this.appStore._changeImageDiffType(e)}onHideWhitespaceInDiffChanged(e,t,n=null){return this.appStore._setHideWhitespaceInDiff(e,t,n)}installGlobalLFSFilters(e){return this.appStore._installGlobalLFSFilters(e)}installLFSHooks(e){return this.appStore._installLFSHooks(e)}changeCloneRepositoriesTab(e){return this.appStore._changeCloneRepositoriesTab(e)}refreshApiRepositories(e){return this.appStore._refreshApiRepositories(e)}changeBranchesTab(e){return this.appStore._changeBranchesTab(e)}showGitHubExplore(e){return this.appStore._showGitHubExplore(e)}createPullRequest(e){return this.appStore._createPullRequest(e)}showPullRequest(e){return this.appStore._showPullRequest(e)}openCreatePullRequestInBrowser(e,t){return this.appStore._openCreatePullRequestInBrowser(e,t)}updateExistingUpstreamRemote(e){return this.appStore._updateExistingUpstreamRemote(e)}ignoreExistingUpstreamRemote(e){return this.appStore._ignoreExistingUpstreamRemote(e)}async checkoutPullRequest(e,t){return this.appStore._checkoutPullRequest(e,t)}setShowCoAuthoredBy(e,t){return this.appStore._setShowCoAuthoredBy(e,t)}setCoAuthors(e,t){return this.appStore._setCoAuthors(e,t)}initializeCompare(e,t){return this.appStore._initializeCompare(e,t)}executeCompare(e,t){return this.appStore._executeCompare(e,t)}updateCompareForm(e,t){return this.appStore._updateCompareForm(e,t)}updateManualConflictResolution(e,t,n){return this.appStore._updateManualConflictResolution(e,t,n)}async confirmOrForcePush(e){const{askForConfirmationOnForcePush:t}=this.appStore.getState(),{branchesState:n}=this.repositoryStateManager.get(e),{tip:o}=n;if(o.kind!==E.TipState.Valid)return void log.warn(`Could not find a branch to perform force push`);const{upstream:r}=o.branch;return null===r?void log.warn(`Could not find an upstream branch which will be pushed`):void(t?this.showPopup({type:C.PopupType.ConfirmForcePush,repository:e,upstreamBranch:r}):await this.performForcePush(e))}async performForcePush(e){await this.pushWithOptions(e,{forceWithLease:!0}),await this.appStore._loadStatus(e)}setConfirmForcePushSetting(e){return this.appStore._setConfirmForcePushSetting(e)}async convertRepositoryToFork(e,t){return this.appStore._convertRepositoryToFork(e,t)}mergeConflictDetectedFromPull(){return this.statsStore.recordMergeConflictFromPull()}mergeConflictDetectedFromExplicitMerge(){return this.statsStore.recordMergeConflictFromExplicitMerge()}recordMenuInitiatedMerge(){return this.statsStore.recordMenuInitiatedMerge()}recordMenuInitiatedRebase(){return this.statsStore.recordMenuInitiatedRebase()}recordMenuInitiatedUpdate(){return this.statsStore.recordMenuInitiatedUpdate()}recordCompareInitiatedMerge(){return this.statsStore.recordCompareInitiatedMerge()}setSelectedTheme(e){return this.appStore._setSelectedTheme(e)}onAutomaticallySwitchThemeChanged(e){return this.appStore._setAutomaticallySwitchTheme(e)}recordRepoClicked(e){return this.statsStore.recordRepoClicked(e)}recordDivergingBranchBannerDismissal(){return this.statsStore.recordDivergingBranchBannerDismissal()}recordDivergingBranchBannerInitiatedCompare(){return this.statsStore.recordDivergingBranchBannerInitiatedCompare()}recordDivergingBranchBannerInfluencedMerge(){return this.statsStore.recordDivergingBranchBannerInfluencedMerge()}recordDivergingBranchBannerInitatedMerge(){return this.statsStore.recordDivergingBranchBannerInitatedMerge()}recordCreatePullRequest(){return this.statsStore.recordCreatePullRequest()}recordWelcomeWizardInitiated(){return this.statsStore.recordWelcomeWizardInitiated()}recordCreateRepository(){this.statsStore.recordCreateRepository()}recordAddExistingRepository(){this.statsStore.recordAddExistingRepository()}recordMergeConflictsDialogDismissal(){this.statsStore.recordMergeConflictsDialogDismissal()}recordMergeConflictsDialogReopened(){this.statsStore.recordMergeConflictsDialogReopened()}recordAnyConflictsLeftOnMergeConflictsDialogDismissal(){this.statsStore.recordAnyConflictsLeftOnMergeConflictsDialogDismissal()}recordGuidedConflictedMergeCompletion(){this.statsStore.recordGuidedConflictedMergeCompletion()}recordUnguidedConflictedMergeCompletion(){this.statsStore.recordUnguidedConflictedMergeCompletion()}recordRebaseConflictsDialogDismissal(){this.statsStore.recordRebaseConflictsDialogDismissal()}recordRebaseConflictsDialogReopened(){this.statsStore.recordRebaseConflictsDialogReopened()}recordErrorWhenSwitchingBranchesWithUncommmittedChanges(){return this.statsStore.recordErrorWhenSwitchingBranchesWithUncommmittedChanges()}refreshPullRequests(e){return this.appStore._refreshPullRequests(e)}tryGetCommitStatus(e,t){return this.commitStatusStore.tryGetStatus(e,t)}subscribeToCommitStatus(e,t,n){return this.commitStatusStore.subscribe(e,t,n)}createStashForCurrentBranch(e,t=!0){return this.appStore._createStashForCurrentBranch(e,t)}dropStash(e,t){return this.appStore._dropStashEntry(e,t)}popStash(e,t){return this.appStore._popStashEntry(e,t)}hideStashedChanges(e){return this.appStore._hideStashedChanges(e)}recordSuggestedStepOpenInExternalEditor(){return this.statsStore.recordSuggestedStepOpenInExternalEditor()}recordSuggestedStepOpenWorkingDirectory(){return this.statsStore.recordSuggestedStepOpenWorkingDirectory()}recordSuggestedStepViewOnGitHub(){return this.statsStore.recordSuggestedStepViewOnGitHub()}recordSuggestedStepPublishRepository(){return this.statsStore.recordSuggestedStepPublishRepository()}recordSuggestedStepPublishBranch(){return this.statsStore.recordSuggestedStepPublishBranch()}recordSuggestedStepCreatePullRequest(){return this.statsStore.recordSuggestedStepCreatePullRequest()}recordSuggestedStepViewStash(){return this.statsStore.recordSuggestedStepViewStash()}async moveChangesToBranchAndCheckout(e,t){return this.appStore._moveChangesToBranchAndCheckout(e,t)}recordNoActionTakenOnStash(){return this.statsStore.recordNoActionTakenOnStash()}recordStashView(){return this.statsStore.recordStashView()}skipPickEditorTutorialStep(e){return this.appStore._skipPickEditorTutorialStep(e)}markPullRequestTutorialStepAsComplete(e){return this.appStore._markPullRequestTutorialStepAsComplete(e)}recordForkCreated(){return this.statsStore.recordForkCreated()}createTutorialRepository(e){return this.appStore._createTutorialRepository(e)}async openIssueCreationPage(e){const t=b.getGitHubHtmlUrl(e);return null!==t&&(this.statsStore.recordIssueCreationWebpageOpened(),this.appStore._openInBrowser(`${t}/issues/new/choose`))}}},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(341)),o(n(339))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(66),a=n(65),s=n(36),d=n(7);class l extends o.Component{constructor(e){super(e),this.discard=async()=>{this.setState({isDiscardingSelection:!0}),await this.props.dispatcher.discardChangesFromSelection(this.props.repository,this.props.file.path,this.props.diff,this.props.selection),this.props.dispatcher.setConfirmDiscardChangesSetting(this.state.confirmDiscardSelection),this.props.onDismissed()},this.onConfirmDiscardSelectionChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({confirmDiscardSelection:t})},this.state={isDiscardingSelection:!1,confirmDiscardSelection:!0}}getOkButtonLabel(){return'Discard changes'}render(){const e=this.state.isDiscardingSelection;return o.createElement(r.Dialog,{id:'discard-changes',title:'Confirm discard changes',onDismissed:this.props.onDismissed,onSubmit:this.discard,dismissable:!e,loading:e,disabled:e,type:'warning'},o.createElement(r.DialogContent,null,o.createElement('p',null,'Are you sure you want to discard the selected changes to',o.createElement(a.Monospaced,null,o.createElement(i.PathText,{path:this.props.file.path}))),o.createElement(s.Checkbox,{label:'Do not show this message again',value:this.state.confirmDiscardSelection?s.CheckboxValue.Off:s.CheckboxValue.On,onChange:this.onConfirmDiscardSelectionChanged})),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{destructive:!0,okButtonText:this.getOkButtonLabel()})))}}t.DiscardSelection=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(26),i=n(18),a=n(3),s=n(7),d=n(129),l=n(111),c=n(190);class p extends o.Component{constructor(e){super(e),this.onSelectionChanged=(e)=>{const t=0===e?d.ForkContributionTarget.Parent:d.ForkContributionTarget.Self;this.setState({forkContributionTarget:t})},this.onSubmit=async()=>{this.props.dispatcher.updateRepositoryWorkflowPreferences(this.props.repository,{forkContributionTarget:this.state.forkContributionTarget}),this.props.onDismissed()},this.state={forkContributionTarget:r.getForkContributionTarget(e.repository)}}render(){const e=this.state.forkContributionTarget===d.ForkContributionTarget.Parent?0:1,t=[{title:'To contribute to the parent project',description:o.createElement(o.Fragment,null,'We will help you contribute to the',' ',o.createElement('strong',null,this.props.repository.gitHubRepository.parent.fullName),' ','repository')},{title:'For my own purposes',description:o.createElement(o.Fragment,null,'We will help you contribute to the',' ',o.createElement('strong',null,this.props.repository.gitHubRepository.fullName),' ','repository')}];return o.createElement(a.Dialog,{id:'fork-settings',title:'How are you planning to use this fork?',onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},o.createElement(a.DialogContent,null,o.createElement(i.Row,null,o.createElement(l.VerticalSegmentedControl,{label:'You have changes on this branch. What would you like to do with them?',items:t,selectedIndex:e,onSelectionChanged:this.onSelectionChanged})),o.createElement(i.Row,null,o.createElement(c.ForkSettingsDescription,{repository:this.props.repository,forkContributionTarget:this.state.forkContributionTarget}))),o.createElement(a.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{okButtonText:'Continue'})))}}t.ChooseForkSettings=p},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(344);t.ChooseForkSettings=o.ChooseForkSettings},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(21),a=n(7);class s extends o.Component{constructor(e){super(e),this.DeleteTag=async()=>{const{dispatcher:e,repository:t,tagName:n}=this.props;this.setState({isDeleting:!0}),await e.deleteTag(t,n),this.props.onDismissed()},this.state={isDeleting:!1}}render(){return o.createElement(r.Dialog,{id:'delete-tag',title:'Delete tag',type:'warning',onSubmit:this.DeleteTag,onDismissed:this.props.onDismissed,disabled:this.state.isDeleting,loading:this.state.isDeleting},o.createElement(r.DialogContent,null,o.createElement('p',null,'Are you sure you want to delete the tag',' ',o.createElement(i.Ref,null,this.props.tagName),'?')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Delete'})))}}t.DeleteTag=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(346);t.DeleteTag=o.DeleteTag},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(143),i=n(29),a=n(18),s=n(3),d=n(7),l=n(76),c=n(4),p=n(21),u=245;class m extends o.Component{constructor(e){super(e),this.updateTagName=(e)=>{this.setState({proposedName:e,sanitizedName:r.sanitizedRefName(e)})},this.createTag=async()=>{const e=this.state.sanitizedName,t=this.props.repository;if(0<e.length){this.setState({isCreatingTag:!0});const n=l.startTimer('create tag',t);await this.props.dispatcher.createTag(t,e,this.props.targetCommitSha),n.done()}};const t=e.initialName||'';this.state={proposedName:t,sanitizedName:r.sanitizedRefName(t),isCreatingTag:!1}}render(){const e=this.getCurrentError(),t=null!==e||0===this.state.proposedName.length;return o.createElement(s.Dialog,{id:'create-tag',title:'Create a tag',onSubmit:this.createTag,onDismissed:this.props.onDismissed,loading:this.state.isCreatingTag,disabled:this.state.isCreatingTag},e&&o.createElement(s.DialogError,null,e),o.createElement(s.DialogContent,null,o.createElement(a.Row,null,o.createElement(i.TextBox,{label:'Name',value:this.state.proposedName,autoFocus:!0,onValueChanged:this.updateTagName})),this.renderTagNameWarning()),o.createElement(s.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{okButtonText:'Create tag',okButtonDisabled:t})))}renderTagNameWarning(){const{proposedName:e,sanitizedName:t}=this.state;return e===t?null:o.createElement(a.Row,{className:'warning-helper-text'},o.createElement(c.Octicon,{symbol:c.OcticonSymbol.alert}),o.createElement('p',null,'Will be created as ',o.createElement(p.Ref,null,t),'.'))}getCurrentError(){const{sanitizedName:e,proposedName:t}=this.state;if(e.length>u)return o.createElement(o.Fragment,null,'The tag name cannot be longer than ',u,' characters');if(0<t.length&&0===e.length)return o.createElement(o.Fragment,null,'Invalid tag name.');const n=this.props.localTags&&this.props.localTags.has(e);return n?o.createElement(o.Fragment,null,'A tag named ',o.createElement(p.Ref,null,e),' already exists'):null}}t.CreateTag=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(348);t.CreateTag=o.CreateTag},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(46),r=n(72),i=n(26);t.findDefaultUpstreamBranch=function(e,t){const n=i.getNonForkGitHubRepository(e);if(n===e.gitHubRepository)return null;const a=t.find((e)=>e.type===o.BranchType.Remote&&`${r.UpstreamRemoteName}/${n.defaultBranch}`===e.name);return a===void 0?null:a}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(7),a=n(20);class s extends o.Component{constructor(e){super(e),this.onDisableRevocationChecks=async()=>{this.setState({loading:!0}),await a.setGlobalConfigValue('http.schannelCheckRevoke','false'),this.props.onDismissed()},this.state={loading:!1}}render(){return o.createElement(r.Dialog,{title:'Certificate revocation check failed',loading:this.state.loading,onDismissed:this.props.onDismissed,onSubmit:this.onDisableRevocationChecks,type:'error'},o.createElement(r.DialogContent,null,o.createElement('p',null,'Error when attempting to access \'',this.props.url,'\', unable to perform certificate revocation check. See the Event Viewer for more details.'),o.createElement('p',null,'This error is common when accessing the Internet through a corporate proxy server or a debugging proxy that performs SSL inspection.'),o.createElement('p',null,'Would you like to disable certificate revocation checks? You can change this at any time in options.')),o.createElement(r.DialogFooter,null,o.createElement(i.OkCancelButtonGroup,{okButtonText:'Disable revocation checks'})))}}t.SChannelNoRevocationCheckDialog=s},function(e,t,n){'use strict';function o(e,t,n){return i.createElement(i.Fragment,null,i.createElement(a.DialogContent,null,i.createElement('p',null,`It looks like you don’t have write access to `,i.createElement('strong',null,e.gitHubRepository.fullName),`. If you should, please check with a repository administrator.`),i.createElement('p',null,` Do you want to create a fork of this repository at `,i.createElement('strong',null,`${t.login}/${e.gitHubRepository.name}`),` to continue?`)),i.createElement(a.DialogFooter,null,i.createElement(d.OkCancelButtonGroup,{destructive:!0,okButtonText:'Fork this repository',okButtonDisabled:n,cancelButtonDisabled:n})))}function r(e,t,n){const o=null===e.gitHubRepository.htmlURL?void 0:i.createElement(i.Fragment,null,`You can try `,i.createElement(p.LinkButton,{uri:e.gitHubRepository.htmlURL},'creating the fork manually on GitHub'),'.');return i.createElement(i.Fragment,null,i.createElement(a.DialogContent,null,i.createElement('div',null,`Creating your fork `,i.createElement('strong',null,`${t.login}/${e.gitHubRepository.name}`),` failed. `,o),i.createElement('details',null,i.createElement('summary',null,'Error details'),i.createElement('pre',{className:'error'},n.message))),i.createElement(a.DefaultDialogFooter,null))}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(3),s=n(26),d=n(7),l=n(166),c=n(10),p=n(13),u=n(24),m=n(25);class h extends i.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({loading:!0});const{gitHubRepository:e}=this.props.repository,t=c.API.fromAccount(this.props.account);try{const n=await t.forkRepository(e.owner.login,e.name);this.props.dispatcher.recordForkCreated();const o=await this.props.dispatcher.convertRepositoryToFork(this.props.repository,n);this.setState({loading:!1}),this.props.onDismissed(),m.enableForkSettings()&&s.isRepositoryWithForkedGitHubRepository(o)&&this.props.dispatcher.showPopup({type:u.PopupType.ChooseForkSettings,repository:o})}catch(t){log.error(`Fork creation through API failed (${t})`),l.sendNonFatalException('forkCreation',t),this.setState({error:t,loading:!1})}},this.state={loading:!1}}render(){return i.createElement(a.Dialog,{title:'Do you want to fork this repository?',onDismissed:this.props.onDismissed,onSubmit:this.state.error?void 0:this.onSubmit,dismissable:!this.state.loading,loading:this.state.loading,type:this.state.error?'error':'normal',key:this.props.repository.name,id:'create-fork'},this.state.error===void 0?o(this.props.repository,this.props.account,this.state.loading):r(this.props.repository,this.props.account,this.state.error))}}t.CreateForkDialog=h},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(7),a=n(10),s='Continue in browser';class d extends o.Component{constructor(e){super(e),this.onSignIn=async()=>{this.setState({loading:!0}),this.props.endpoint===a.getDotComAPIEndpoint()?await this.props.dispatcher.beginDotComSignIn():await this.props.dispatcher.beginEnterpriseSignIn(),await this.props.dispatcher.requestBrowserAuthentication(),this.props.retryAction!==void 0&&this.props.dispatcher.performRetry(this.props.retryAction),this.props.onDismissed()},this.state={loading:!1}}render(){return o.createElement(r.Dialog,{title:'Re-authorization required',loading:this.state.loading,onDismissed:this.props.onDismissed,onSubmit:this.onSignIn,type:'error'},o.createElement(r.DialogContent,null,o.createElement('p',null,'The "',this.props.organizationName,'" organization has enabled or enforced SAML SSO. To access this repository, you must sign in again and grant GitHub Desktop permission to access the organization\'s repositories.'),o.createElement('p',null,'Would you like to open a browser to grant GitHub Desktop permission to access the repository?')),o.createElement(r.DialogFooter,null,o.createElement(i.OkCancelButtonGroup,{okButtonText:s})))}}t.SAMLReauthRequiredDialog=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(21),a=n(7),s='Continue in browser';class d extends o.Component{constructor(e){super(e),this.onSignIn=async()=>{this.setState({loading:!0}),await this.props.dispatcher.requestBrowserAuthenticationToDotcom(),this.props.dispatcher.push(this.props.repository),this.props.onDismissed()},this.state={loading:!1}}render(){return o.createElement(r.Dialog,{id:'workflow-push-rejected',title:'Push rejected',loading:this.state.loading,onDismissed:this.props.onDismissed,onSubmit:this.onSignIn,type:'error'},o.createElement(r.DialogContent,null,o.createElement('p',null,'The push was rejected by the server for containing a modification to the workflow file ',o.createElement(i.Ref,null,this.props.rejectedPath),'. In order to be able to push to workflow files GitHub Desktop needs to request additional permissions.'),o.createElement('p',null,'Would you like to open a browser to grant GitHub Desktop permission to update workflow files?')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{okButtonText:s})))}}t.WorkflowPushRejectedDialog=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(10),a=n(21),s=n(13),d=n(7),l=n(237);class c extends o.Component{constructor(){super(...arguments),this.onSubmit=()=>this.props.onCreateTutorialRepository(this.props.account)}renderProgress(){const{progress:e}=this.props;if(e===void 0)return null;const t=e.description?o.createElement('div',{className:'description'},e.description):null;return o.createElement('div',{className:'progress-container'},o.createElement('div',null,e.title),o.createElement('progress',{value:e.value}),t)}render(){const{account:e,progress:t}=this.props,n=t!==void 0;return o.createElement(r.Dialog,{id:'create-tutorial-repository-dialog',title:'Start tutorial',onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,dismissable:!n,loading:n,disabled:n},o.createElement(r.DialogContent,null,o.createElement('div',null,'This will create a repository on your local machine, and push it to your account ',o.createElement(a.Ref,null,'@',this.props.account.login),' on',' ',o.createElement(s.LinkButton,{uri:i.getHTMLURL(e.endpoint)},l.friendlyEndpointName(e)),'. This repository will only be visible to you, and not visible publicly.'),this.renderProgress()),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{okButtonText:'Continue'})))}}t.CreateTutorialRepositoryDialog=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(18),a=n(7);class s extends o.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,stash:n,onDismissed:o}=this.props;this.setState({isDiscarding:!0});try{await e.dropStash(t,n)}finally{this.setState({isDiscarding:!1})}o()},this.state={isDiscarding:!1}}render(){const e='Discard stash?';return o.createElement(r.Dialog,{id:'discard-stash',type:'warning',title:e,loading:this.state.isDiscarding,disabled:this.state.isDiscarding,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement(i.Row,null,'Are you sure you want to discard these stashed changes?')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Discard'})))}}t.ConfirmDiscardStashDialog=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(18),a=n(61),s=n(7);class d extends o.Component{constructor(e){super(e),this.onSubmit=async()=>{const{dispatcher:e,repository:t,branchToCheckout:n,onDismissed:o}=this.props;this.setState({isLoading:!0});try{null===n?await e.createStashForCurrentBranch(t,!1):await e.checkoutBranch(t,n,a.stashOnCurrentBranch)}finally{this.setState({isLoading:!1})}o()},this.state={isLoading:!1}}render(){const e='Overwrite stash?';return o.createElement(r.Dialog,{id:'overwrite-stash',type:'warning',title:e,loading:this.state.isLoading,disabled:this.state.isLoading,onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement(i.Row,null,'Are you sure you want to proceed? This will overwrite your existing stash with your current changes.')),o.createElement(r.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{destructive:!0,okButtonText:'Overwrite'})))}}t.OverwriteStash=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(111),a=n(18),s=n(61),d=n(4),l=n(24),c=n(76),p=n(7);var u;(function(e){e[e.StashOnCurrentBranch=0]='StashOnCurrentBranch',e[e.MoveToNewBranch=1]='MoveToNewBranch'})(u||(u={}));class m extends o.Component{constructor(e){super(e),this.onSelectionChanged=(e)=>{this.setState({selectedStashAction:e})},this.onSubmit=async()=>{const{repository:e,branchToCheckout:t,dispatcher:n,hasAssociatedStash:o}=this.props,{selectedStashAction:r}=this.state;if(r===u.StashOnCurrentBranch&&o)return void n.showPopup({type:l.PopupType.ConfirmOverwriteStash,repository:e,branchToCheckout:t});this.setState({isStashingChanges:!0});const i=c.startTimer('stash and checkout',e);try{r===u.StashOnCurrentBranch?await n.checkoutBranch(e,t,s.stashOnCurrentBranch):r===u.MoveToNewBranch&&(await n.checkoutBranch(e,t,{kind:s.UncommittedChangesStrategyKind.MoveToNewBranch,transientStashEntry:null}))}finally{i.done(),this.setState({isStashingChanges:!1},()=>{this.props.onDismissed()})}},this.state={isStashingChanges:!1,selectedStashAction:u.StashOnCurrentBranch,currentBranchName:e.currentBranch.name}}render(){const{isStashingChanges:e}=this.state;return o.createElement(r.Dialog,{id:'stash-changes',title:'Switch branch',onSubmit:this.onSubmit,onDismissed:this.props.onDismissed,loading:e,disabled:e},o.createElement(r.DialogContent,null,this.renderStashActions(),this.renderStashOverwriteWarning()),o.createElement(r.DialogFooter,null,o.createElement(p.OkCancelButtonGroup,{okButtonText:'Switch branch'})))}renderStashOverwriteWarning(){return this.props.hasAssociatedStash&&this.state.selectedStashAction===u.StashOnCurrentBranch?o.createElement(a.Row,null,o.createElement(d.Octicon,{symbol:d.OcticonSymbol.alert}),' Your current stash will be overwritten by creating a new stash'):null}renderStashActions(){const{branchToCheckout:e}=this.props,t=[{title:`Leave my changes on ${this.state.currentBranchName}`,description:'Your in-progress work will be stashed on this branch for you to return to later'},{title:`Bring my changes to ${e.name}`,description:'Your in-progress work will follow you to the new branch'}];return o.createElement(a.Row,null,o.createElement(i.VerticalSegmentedControl,{label:'You have changes on this branch. What would you like to do with them?',items:t,selectedIndex:this.state.selectedStashAction,onSelectionChanged:this.onSelectionChanged}))}}t.StashAndSwitchBranch=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(36),i=n(3),a=n(21),s=n(7);class d extends o.Component{constructor(e){super(e),this.onAskForConfirmationOnForcePushChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({askForConfirmationOnForcePush:t})},this.onForcePush=async()=>{this.props.dispatcher.setConfirmForcePushSetting(this.state.askForConfirmationOnForcePush),this.props.onDismissed(),await this.props.dispatcher.performForcePush(this.props.repository)},this.state={isLoading:!1,askForConfirmationOnForcePush:e.askForConfirmationOnForcePush}}render(){return o.createElement(i.Dialog,{title:'Are you sure you want to force push?',dismissable:!this.state.isLoading,onDismissed:this.props.onDismissed,onSubmit:this.onForcePush,type:'warning'},o.createElement(i.DialogContent,null,o.createElement('p',null,'A force push will rewrite history on',' ',o.createElement(a.Ref,null,this.props.upstreamBranch),'. Any collaborators working on this branch will need to reset their own local branch to match the history of the remote.'),o.createElement('div',null,o.createElement(r.Checkbox,{label:'Do not show this message again',value:this.state.askForConfirmationOnForcePush?r.CheckboxValue.Off:r.CheckboxValue.On,onChange:this.onAskForConfirmationOnForcePushChanged}))),o.createElement(i.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{destructive:!0,okButtonText:'I\'m sure'})))}}t.ConfirmForcePush=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(36),i=n(3),a=n(21),s=n(7);class d extends o.Component{constructor(e){super(e),this.onAskForConfirmationOnForcePushChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({askForConfirmationOnForcePush:t})},this.onBeginRebase=async()=>{this.props.dispatcher.setConfirmForcePushSetting(this.state.askForConfirmationOnForcePush);const{baseBranch:e,targetBranch:t,commits:n}=this.props.step;await this.props.dispatcher.startRebase(this.props.repository,e,t,n,{continueWithForcePush:!0})},this.state={askForConfirmationOnForcePush:e.askForConfirmationOnForcePush}}render(){const{baseBranch:e,targetBranch:t}=this.props.step,n='Rebase will require force push';return o.createElement(i.Dialog,{title:n,onDismissed:this.props.onDismissed,onSubmit:this.onBeginRebase,dismissable:!1,type:'warning'},o.createElement(i.DialogContent,null,o.createElement('p',null,'Are you sure you want to rebase ',o.createElement(a.Ref,null,t.name),' onto',' ',o.createElement(a.Ref,null,e.name),'?'),o.createElement('p',null,'At the end of the rebase flow, GitHub Desktop will enable you to force push the branch to update the upstream branch. Force pushing will alter the history on the remote and potentially cause problems for others collaborating on this branch.'),o.createElement('div',null,o.createElement(r.Checkbox,{label:'Do not show this message again',value:this.state.askForConfirmationOnForcePush?r.CheckboxValue.Off:r.CheckboxValue.On,onChange:this.onAskForConfirmationOnForcePushChanged}))),o.createElement(i.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{okButtonText:'Begin rebase',onCancelButtonClick:this.props.onDismissed})))}}t.WarnForcePushDialog=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(21),a=n(7);class s extends o.Component{constructor(e){super(e),this.onSubmit=async()=>{this.setState({isAborting:!0}),await this.props.onConfirmAbort(),this.setState({isAborting:!1})},this.onCancel=async()=>{await this.props.onReturnToConflicts(this.props.step)},this.state={isAborting:!1}}renderTextContent(e,t){let n;return n=void 0===t?o.createElement('p',null,'Are you sure you want to abort rebasing ',o.createElement(i.Ref,null,e),'?'):o.createElement('p',null,'Are you sure you want to abort rebasing ',o.createElement(i.Ref,null,t),' onto ',o.createElement(i.Ref,null,e),'?'),o.createElement('div',{className:'column-left'},n,o.createElement('p',null,'Aborting this rebase will take you back to the original branch state and and the conflicts you have already resolved will be discarded.'))}render(){const{targetBranch:e,baseBranch:t}=this.props.step.conflictState;return o.createElement(r.Dialog,{id:'abort-merge-warning',title:'Confirm abort rebase',onDismissed:this.onCancel,onSubmit:this.onSubmit,disabled:this.state.isAborting,type:'warning'},o.createElement(r.DialogContent,null,this.renderTextContent(e,t)),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Abort rebase'})))}}t.ConfirmAbortDialog=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(81),i=n(91),a=n(3),s=n(4);class d extends o.Component{constructor(){super(...arguments),this.onDismissed=()=>{}}render(){const{rebasedCommitCount:e,totalCommitCount:t,value:n,currentCommitSummary:d}=this.props.progress,l=1>=e?1:e,c=r.formatRebaseValue(n);return o.createElement(a.Dialog,{dismissable:!1,onDismissed:this.onDismissed,id:'rebase-progress',title:'Rebase in progress'},o.createElement(a.DialogContent,null,o.createElement('div',null,o.createElement('progress',{value:c}),o.createElement('div',{className:'details'},o.createElement('div',{className:'green-circle'},o.createElement(s.Octicon,{symbol:s.OcticonSymbol.check})),o.createElement('div',{className:'summary'},o.createElement('div',{className:'message'},'Commit ',l,' of ',t),o.createElement('div',{className:'detail'},o.createElement(i.RichText,{emoji:this.props.emoji,text:d||''})))))))}}t.RebaseProgressDialog=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(38),i=n(186),a=n(185),s=n(3);class d extends o.Component{constructor(e){super(e),this.onCancel=(t)=>{t.preventDefault(),this.setState({isAborting:!0}),this.props.onAbortRebase(this.props.step),this.setState({isAborting:!1})},this.onDismissed=()=>{this.props.onDismissed(),this.props.showRebaseConflictsBanner(this.props.step)},this.onSubmit=async()=>{this.props.onContinueRebase(this.props.step)},this.openThisRepositoryInShell=()=>this.props.openRepositoryInShell(this.props.repository),this.state={isAborting:!1}}componentWillUnmount(){const{workingDirectory:e,step:t,userHasResolvedConflicts:n}=this.props,{conflictState:o}=t,{manualResolutions:i}=o;if(!n){const t=r.getResolvedFiles(e,i);0<t.length&&this.props.dispatcher.setConflictsResolved(this.props.repository)}}renderHeaderTitle(e,t){return void 0===t?o.createElement('span',null,`Resolve conflicts before rebasing `,o.createElement('strong',null,e)):o.createElement('span',null,`Resolve conflicts before rebasing `,o.createElement('strong',null,e),` on `,o.createElement('strong',null,t))}renderUnmergedFiles(e){const{manualResolutions:t,targetBranch:n,baseBranch:i}=this.props.step.conflictState;return o.createElement('ul',{className:'unmerged-file-statuses'},e.map((e)=>r.isConflictedFile(e.status)?a.renderUnmergedFile({path:e.path,status:e.status,resolvedExternalEditor:this.props.resolvedExternalEditor,openFileInExternalEditor:this.props.openFileInExternalEditor,repository:this.props.repository,dispatcher:this.props.dispatcher,manualResolution:t.get(e.path),theirBranch:n,ourBranch:i}):null))}renderContent(e,t){return 0===e.length?i.renderAllResolved():o.createElement(o.Fragment,null,i.renderUnmergedFilesSummary(t),this.renderUnmergedFiles(e),i.renderShellLink(this.openThisRepositoryInShell))}render(){const{workingDirectory:e,step:t}=this.props,{manualResolutions:n,targetBranch:i,baseBranch:a}=t.conflictState,d=r.getUnmergedFiles(e),l=r.getConflictedFiles(e,n).length,c=this.renderHeaderTitle(i,a),p=0<l?'Resolve all conflicts before continuing':void 0;return o.createElement(s.Dialog,{id:'rebase-conflicts-list',onDismissed:this.onDismissed,title:c,onSubmit:this.onSubmit},o.createElement(s.DialogContent,null,this.renderContent(d,l)),o.createElement(s.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{okButtonText:'Continue rebase',okButtonDisabled:0<l,okButtonTitle:p,cancelButtonText:'Abort rebase',cancelButtonDisabled:this.state.isAborting,onCancelButtonClick:this.onCancel})))}}t.ShowConflictedFilesDialog=d},function(e,t,n){'use strict';function o(e,t,n){return void 0===n?e===t?null:t:n}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(70),a=n(191),s=n(20),d=n(144),l=n(3),c=n(90),p=n(122);class u extends r.Component{constructor(e){super(e),this.computingRebaseForBranch=null,this.onFilterTextChanged=(e)=>{this.setState({filterText:e})},this.onBranchChanged=async(e)=>{const{currentBranch:t}=this.props;await this.updateRebaseStatus(e,t)},this.onSelectionChanged=(e)=>{this.setState({selectedBranch:e}),null!==e&&this.onBranchChanged(e)},this.renderBranch=(e,t)=>c.renderDefaultBranch(e,t,this.props.currentBranch),this.renderRebaseStatus=()=>{const{currentBranch:e}=this.props,{selectedBranch:t,rebasePreview:n}=this.state;return null===n?null:null===t?null:e.name===t.name?null:r.createElement('div',{className:'rebase-status-component'},r.createElement(d.ActionStatusIcon,{status:n,classNamePrefix:'rebase-status'}),r.createElement('p',{className:'rebase-message'},this.renderRebaseDetails(e,t,n)))},this.startRebase=async()=>{const{selectedBranch:e,rebasePreview:t}=this.state,{repository:n,currentBranch:o}=this.props;e&&null!==t&&t.kind===i.ComputedAction.Clean&&this.props.dispatcher.startRebase(n,e,o,t.commits)};const{initialBranch:t,currentBranch:n,defaultBranch:a}=e,s=o(n,a,t);this.state={selectedBranch:s,rebasePreview:null,filterText:''}}componentDidMount(){const{selectedBranch:e}=this.state;null!==e&&this.onBranchChanged(e)}async updateRebaseStatus(e,t){this.computingRebaseForBranch=e.name;const{repository:n}=this.props;this.setState({rebasePreview:{kind:i.ComputedAction.Loading}});const{commits:o,base:r}=await p.promiseWithMinimumTimeout(async()=>{const o=await s.getCommitsInRange(n,e.tip.sha,t.tip.sha),r=await s.getMergeBase(n,e.tip.sha,t.tip.sha);return{commits:o,base:r}},500);if(this.computingRebaseForBranch===e.name){if(null===o)return void this.setState({rebasePreview:{kind:i.ComputedAction.Invalid}});const t=r===e.tip.sha,n=t?[]:o;this.setState({rebasePreview:{kind:i.ComputedAction.Clean,commits:n}})}}render(){const{selectedBranch:e,rebasePreview:t}=this.state,{currentBranch:n}=this.props,o=null===e||null===n||n.name===e.name,s=null===t||t.kind!==i.ComputedAction.Clean||0===t.commits.length,d=o?'You are not able to rebase this branch onto itself':s?'There are no commits on the current branch to rebase':void 0,p=n.name,u=a.truncateWithEllipsis(p,40);return r.createElement(l.Dialog,{id:'rebase',onDismissed:this.props.onDismissed,onSubmit:this.startRebase,dismissable:!0,title:r.createElement(r.Fragment,null,'Rebase ',r.createElement('strong',null,u),'\u2026')},r.createElement(l.DialogContent,null,r.createElement(c.BranchList,{allBranches:this.props.allBranches,currentBranch:n,defaultBranch:this.props.defaultBranch,recentBranches:this.props.recentBranches,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,selectedBranch:e,onSelectionChanged:this.onSelectionChanged,canCreateNewBranch:!1,renderBranch:this.renderBranch})),r.createElement(l.DialogFooter,null,this.renderRebaseStatus(),r.createElement(l.OkCancelButtonGroup,{okButtonText:'Start rebase',okButtonDisabled:o||s,okButtonTitle:d,cancelButtonVisible:!1})))}renderRebaseDetails(e,t,n){return n.kind===i.ComputedAction.Loading?this.renderLoadingRebaseMessage():n.kind===i.ComputedAction.Clean?this.renderCleanRebaseMessage(e,t,n.commits.length):n.kind===i.ComputedAction.Invalid?this.renderInvalidRebaseMessage():null}renderLoadingRebaseMessage(){return r.createElement(r.Fragment,null,'Checking for ability to rebase automatically...')}renderInvalidRebaseMessage(){return r.createElement(r.Fragment,null,'Unable to start rebase. Check you have chosen a valid branch.')}renderCleanRebaseMessage(e,t,n){if(0>=n)return r.createElement(r.Fragment,null,'This branch is up to date with',` `,r.createElement('strong',null,e.name));const o=1===n?'commit':'commits';return r.createElement(r.Fragment,null,'This will update ',r.createElement('strong',null,e.name),` by applying its `,r.createElement('strong',null,` ${n} ${o}`),` on top of `,r.createElement('strong',null,t.name))}}t.ChooseBranchDialog=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(2),i=n(364),a=n(363),s=n(362),d=n(361),l=n(38),c=n(360);class p extends o.Component{constructor(e){super(e),this.moveToShowConflictedFileState=(e)=>{const{conflictState:t}=e;this.props.dispatcher.setRebaseFlowStep(this.props.repository,{kind:'ShowConflicts',conflictState:t})},this.onContinueRebase=async(e)=>{const{conflictState:t}=e;this.props.dispatcher.setRebaseFlowStep(this.props.repository,{kind:'ShowProgress',rebaseAction:()=>this.props.dispatcher.continueRebase(this.props.repository,this.props.workingDirectory,t)})},this.showRebaseConflictsBanner=(e)=>{this.props.dispatcher.setRebaseFlowStep(this.props.repository,{kind:'HideConflicts'});const{targetBranch:t}=e.conflictState;this.props.onShowRebaseConflictsBanner(this.props.repository,t)},this.onConfirmAbortRebase=(e)=>{const{workingDirectory:t,userHasResolvedConflicts:n}=this.props,{conflictState:o}=e,{manualResolutions:r}=o;if(n)return void this.props.dispatcher.setRebaseFlowStep(this.props.repository,{kind:'ConfirmAbort',conflictState:o});const i=l.getResolvedFiles(t,r);0<i.length?this.props.dispatcher.setRebaseFlowStep(this.props.repository,{kind:'ConfirmAbort',conflictState:o}):this.onAbortRebase()},this.onAbortRebase=async()=>{await this.props.dispatcher.abortRebase(this.props.repository),this.onFlowEnded()},this.onFlowEnded=()=>{this.props.onFlowEnded(this.props.repository)},this.state={userHasResolvedConflicts:!1}}render(){const{step:e}=this.props;switch(e.kind){case'ChooseBranch':{const{repository:t,dispatcher:n}=this.props,{allBranches:r,defaultBranch:a,currentBranch:s,recentBranches:d,initialBranch:l}=e;return o.createElement(i.ChooseBranchDialog,{key:'choose-branch',repository:t,dispatcher:n,allBranches:r,defaultBranch:a,recentBranches:d,currentBranch:s,initialBranch:l,onDismissed:this.onFlowEnded})}case'ShowProgress':const{progress:t,emoji:n}=this.props;return null===t?(log.error('[RebaseFlow] progress is null despite trying to show the progress view. Skipping rendering...'),null):o.createElement(s.RebaseProgressDialog,{progress:t,emoji:n});case'ShowConflicts':{const{repository:t,resolvedExternalEditor:n,openFileInExternalEditor:r,openRepositoryInShell:i,dispatcher:s,workingDirectory:d,userHasResolvedConflicts:l}=this.props;return o.createElement(a.ShowConflictedFilesDialog,{key:'view-conflicts',repository:t,dispatcher:s,step:e,showRebaseConflictsBanner:this.showRebaseConflictsBanner,workingDirectory:d,userHasResolvedConflicts:l,resolvedExternalEditor:n,openFileInExternalEditor:r,openRepositoryInShell:i,onAbortRebase:this.onConfirmAbortRebase,onDismissed:this.onFlowEnded,onContinueRebase:this.onContinueRebase})}case'ConfirmAbort':return o.createElement(d.ConfirmAbortDialog,{step:e,onConfirmAbort:this.onAbortRebase,onReturnToConflicts:this.moveToShowConflictedFileState});case'WarnForcePush':const{repository:l,dispatcher:p,askForConfirmationOnForcePush:u}=this.props;return o.createElement(c.WarnForcePushDialog,{step:e,dispatcher:p,repository:l,askForConfirmationOnForcePush:u,onDismissed:this.onFlowEnded});case'HideConflicts':case'Completed':return null;default:return r.assertNever(e,'Unknown rebase step found');}}}t.RebaseFlow=p},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(365);t.RebaseFlow=o.RebaseFlow;var r=n(359);t.ConfirmForcePush=r.ConfirmForcePush},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(130),a=n(7);class s extends o.Component{constructor(e){super(e),this.onFetch=async()=>{this.setState({isLoading:!0}),await this.props.dispatcher.fetch(this.props.repository,i.FetchType.UserInitiatedTask),this.setState({isLoading:!1}),this.props.onDismissed()},this.state={isLoading:!1}}render(){return o.createElement(r.Dialog,{title:'Newer commits on remote',dismissable:!this.state.isLoading,disabled:this.state.isLoading,onDismissed:this.props.onDismissed,onSubmit:this.onFetch,loading:this.state.isLoading,type:'warning'},o.createElement(r.DialogContent,null,o.createElement('p',null,'Desktop is unable to push commits to this branch because there are commits on the remote that are not present on your local branch. Fetch these new commits before pushing in order to reconcile them with your local commits.')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{okButtonText:'Fetch',okButtonDisabled:this.state.isLoading})))}}t.PushNeedsPullWarning=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(367);t.PushNeedsPullWarning=o.PushNeedsPullWarning},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(18),a=n(36),s=n(7);class d extends o.Component{constructor(e){super(e),this.onReportingOptOutChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({optOutOfUsageTracking:t})},this.onDismissed=()=>{this.props.onDismissed(this.state.optOutOfUsageTracking)},this.viewMoreInfo=(t)=>{t.preventDefault(),this.props.onOpenUsageDataUrl()},this.state={optOutOfUsageTracking:!1}}render(){return o.createElement(r.Dialog,{id:'usage-reporting',title:'Usage reporting changes',dismissable:!1,onDismissed:this.onDismissed,onSubmit:this.onDismissed,type:'normal'},o.createElement(r.DialogContent,null,o.createElement(i.Row,null,'GitHub Desktop has introduced a change around how it reports usage stats, to help us better understand how our GitHub users get value from Desktop:'),o.createElement(i.Row,null,o.createElement('ul',null,o.createElement('li',null,o.createElement('span',null,o.createElement('strong',null,'If you are signed into a GitHub account'),', your GitHub.com account ID will be included in the periodic usage stats.')),o.createElement('li',null,o.createElement('span',null,o.createElement('strong',null,'If you are only signed into a GitHub Enterprise Server account, or only using Desktop with non-GitHub remotes'),', nothing is going to change.')))),o.createElement(i.Row,{className:'selection'},o.createElement(a.Checkbox,{label:'Help GitHub Desktop improve by submitting usage stats',value:this.state.optOutOfUsageTracking?a.CheckboxValue.Off:a.CheckboxValue.On,onChange:this.onReportingOptOutChanged}))),o.createElement(r.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{okButtonText:'Continue',cancelButtonText:'More info',onCancelButtonClick:this.viewMoreInfo})))}}t.UsageStatsChange=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(369);t.UsageStatsChange=o.UsageStatsChange},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a=n(65),s=n(66),d=n(99),l=n(7);class c extends o.Component{constructor(e){super(e),this.onSubmit=async()=>{this.props.dispatcher.closePopup(),await this.props.dispatcher.commitIncludedChanges(this.props.repository,this.props.context),this.props.dispatcher.setCommitMessage(this.props.repository,d.DefaultCommitMessage)}}render(){return o.createElement(r.Dialog,{id:'oversized-files',title:'Files too large',onSubmit:this.onSubmit,onDismissed:this.props.onDismissed,type:'warning'},o.createElement(r.DialogContent,null,o.createElement('p',null,'The following files are over 100MB.',' ',o.createElement('strong',null,'If you commit these files, you will no longer be able to push this repository to GitHub.com.')),this.renderFileList(),o.createElement('p',{className:'recommendation'},'We recommend you avoid committing these files or use',' ',o.createElement(i.LinkButton,{uri:'https://help.github.com/articles/versioning-large-files/'},'Git LFS'),' to store large files on GitHub.')),o.createElement(r.DialogFooter,null,o.createElement(l.OkCancelButtonGroup,{destructive:!0,okButtonText:'Commit anyway'})))}renderFileList(){return o.createElement('div',{className:'files-list'},this.props.oversizedFiles.map((e)=>o.createElement('ul',{key:e},o.createElement(a.Monospaced,null,o.createElement(s.PathText,{path:e})))))}}t.OversizedFiles=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(24),a=n(7);class s extends o.Component{constructor(){super(...arguments),this.onSubmit=async()=>{await this.props.dispatcher.abortMerge(this.props.repository),this.props.onDismissed()},this.onCancel=()=>{this.props.onDismissed(),this.props.dispatcher.showPopup({type:i.PopupType.MergeConflicts,repository:this.props.repository,ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch})}}renderTextContent(e,t){let n;return n=void 0===t?o.createElement('p',null,'Are you sure you want to abort merging into ',o.createElement('strong',null,e),'?'):o.createElement('p',null,'Are you sure you want to abort merging ',o.createElement('strong',null,t),' into ',o.createElement('strong',null,e),'?'),o.createElement('div',{className:'column-left'},n,o.createElement('p',null,'Aborting this merge will take you back to the pre-merge state and the conflicts you\'ve already resolved will still be present.'))}render(){return o.createElement(r.Dialog,{id:'abort-merge-warning',title:'Confirm abort merge',onDismissed:this.onCancel,onSubmit:this.onSubmit,type:'warning'},o.createElement(r.DialogContent,null,this.renderTextContent(this.props.ourBranch,this.props.theirBranch)),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Abort merge'})))}}t.AbortMergeWarning=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(372))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(85);class i extends o.PureComponent{componentDidMount(){this.ensureTheme()}componentDidUpdate(){this.ensureTheme()}componentWillUnmount(){this.clearThemes()}ensureTheme(){const e=`theme-${r.getThemeName(this.props.theme)}`,t=document.body;t.classList.contains(e)||(this.clearThemes(),t.classList.add(e))}clearThemes(){const e=document.body;for(const t of e.classList)t.startsWith('theme-')&&e.classList.remove(t)}render(){return null}}t.AppTheme=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(66),a=n(65),s=n(99),d=n(7);class l extends o.Component{constructor(){super(...arguments),this.onCancel=()=>{this.props.onDismissed()},this.onSubmit=async()=>{this.props.onDismissed(),await this.props.dispatcher.commitIncludedChanges(this.props.repository,this.props.context),this.props.dispatcher.clearBanner(),this.props.dispatcher.setCommitMessage(this.props.repository,s.DefaultCommitMessage)}}renderFiles(e){return o.createElement('div',{className:'conflicted-files-text'},e.map((e)=>o.createElement(a.Monospaced,{key:e.path},o.createElement(i.PathText,{path:e.path}))))}render(){return o.createElement(r.Dialog,{id:'commit-conflict-markers-warning',onDismissed:this.onCancel,onSubmit:this.onSubmit,title:'Confirm committing conflicted files',type:'warning'},o.createElement(r.DialogContent,null,o.createElement('p',null,'If you choose to commit, you\u2019ll be committing the following conflicted files into your repository:'),this.renderFiles(this.props.files),o.createElement('p',null,'Are you sure you want to commit these conflicted files?')),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{destructive:!0,okButtonText:'Yes, commit files'})))}}t.CommitConflictsWarning=l},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(186)),o(n(185))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(24),a=n(28),s=n(38),d=n(99),l=n(376),c=n(98),p=n(7);class u extends o.Component{constructor(){super(...arguments),this.onSubmit=async()=>{await this.props.dispatcher.finishConflictedMerge(this.props.repository,this.props.workingDirectory,{type:c.BannerType.SuccessfulMerge,ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch}),this.props.dispatcher.setCommitMessage(this.props.repository,d.DefaultCommitMessage),this.props.dispatcher.changeRepositorySection(this.props.repository,a.RepositorySectionTab.Changes),this.props.onDismissed(),this.props.dispatcher.recordGuidedConflictedMergeCompletion()},this.onCancel=async(t)=>{t.preventDefault();const e=0<s.getResolvedFiles(this.props.workingDirectory,this.props.manualResolutions).length;e?(this.props.onDismissed(),this.props.dispatcher.showPopup({type:i.PopupType.AbortMerge,repository:this.props.repository,ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch})):(await this.props.dispatcher.abortMerge(this.props.repository),this.props.onDismissed())},this.onDismissed=async()=>{this.props.onDismissed(),this.props.dispatcher.setBanner({type:c.BannerType.MergeConflictsFound,ourBranch:this.props.ourBranch,popup:{type:i.PopupType.MergeConflicts,ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch,repository:this.props.repository}}),this.props.dispatcher.recordMergeConflictsDialogDismissal();const e=0<s.getConflictedFiles(this.props.workingDirectory,this.props.manualResolutions).length;e&&this.props.dispatcher.recordAnyConflictsLeftOnMergeConflictsDialogDismissal()},this.openThisRepositoryInShell=()=>this.props.openRepositoryInShell(this.props.repository)}renderHeaderTitle(e,t){return void 0===t?o.createElement('span',null,`Resolve conflicts before merging into `,o.createElement('strong',null,e)):o.createElement('span',null,`Resolve conflicts before merging `,o.createElement('strong',null,t),` into `,o.createElement('strong',null,e))}renderUnmergedFiles(e){return o.createElement('ul',{className:'unmerged-file-statuses'},e.map((e)=>s.isConflictedFile(e.status)?l.renderUnmergedFile({path:e.path,status:e.status,resolvedExternalEditor:this.props.resolvedExternalEditor,openFileInExternalEditor:this.props.openFileInExternalEditor,repository:this.props.repository,dispatcher:this.props.dispatcher,manualResolution:this.props.manualResolutions.get(e.path),ourBranch:this.props.ourBranch,theirBranch:this.props.theirBranch}):null))}renderContent(e,t){return 0===e.length?l.renderAllResolved():o.createElement(o.Fragment,null,l.renderUnmergedFilesSummary(t),this.renderUnmergedFiles(e),l.renderShellLink(this.openThisRepositoryInShell))}render(){const e=s.getUnmergedFiles(this.props.workingDirectory),t=s.getConflictedFiles(this.props.workingDirectory,this.props.manualResolutions).length,n=this.renderHeaderTitle(this.props.ourBranch,this.props.theirBranch),i=0<t?'Resolve all changes before merging':void 0;return o.createElement(r.Dialog,{id:'merge-conflicts-list',dismissable:!0,onDismissed:this.onDismissed,onSubmit:this.onSubmit,title:n},o.createElement(r.DialogContent,null,this.renderContent(e,t)),o.createElement(r.DialogFooter,null,o.createElement(p.OkCancelButtonGroup,{okButtonText:'Commit merge',okButtonDisabled:0<t,okButtonTitle:i,cancelButtonText:'Abort merge',onCancelButtonClick:this.onCancel})))}}t.MergeConflictsDialog=u},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(377)),o(n(375))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a=n(7);class s extends o.Component{constructor(){super(...arguments),this.openPullRequest=()=>{this.props.dispatcher.showPullRequest(this.props.repository)},this.deleteBranch=()=>(this.props.dispatcher.deleteBranch(this.props.repository,this.props.branch,!1),this.props.dispatcher.closePopup())}render(){return o.createElement(r.Dialog,{id:'delete-branch',title:'Delete branch',type:'warning',onDismissed:this.props.onDismissed,onSubmit:this.deleteBranch},o.createElement(r.DialogContent,null,o.createElement('p',null,'This branch may have an open pull request associated with it.'),o.createElement('p',null,'If',' ',o.createElement(i.LinkButton,{onClick:this.openPullRequest},'#',this.props.pullRequest.pullRequestNumber),' ','has been merged, you can also go to GitHub to delete the remote branch.')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Delete'})))}}t.DeletePullRequest=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=n(137),a=n(13),s=n(3),d=n(91),l=n(26),c=n(10),p=n(40),u=n(141),m=n(7),h=new l.Repository('',-1,{dbID:null,name:'desktop',owner:{id:null,login:'desktop',endpoint:c.getDotComAPIEndpoint(),hash:''},isPrivate:!1,parent:null,htmlURL:'https://github.com/desktop/desktop',defaultBranch:'master',cloneURL:'https://github.com/desktop/desktop',endpoint:c.getDotComAPIEndpoint(),fullName:'desktop/desktop',fork:!1,hash:'',issuesEnabled:null,isArchived:!1,permissions:null},!0),f=r.encodePathAsUrl(__dirname,'static/release-note-header-left.svg'),g=r.encodePathAsUrl(__dirname,'static/release-note-header-right.svg');class y extends o.Component{constructor(){super(...arguments),this.updateNow=()=>{i.updateStore.quitAndInstallUpdate()},this.showAllReleaseNotes=()=>{p.shell.openExternal(u.ReleaseNotesUri)}}renderList(e,t){if(0===e.length)return null;const n=[];for(const[r,a]of e.entries())n.push(o.createElement('li',{key:r},o.createElement(d.RichText,{text:a.message,emoji:this.props.emoji,renderUrlsAsLinks:!0,repository:h})));return o.createElement('div',{className:'section'},o.createElement('p',{className:'header'},o.createElement('strong',null,t)),o.createElement('ul',{className:'entries'},n))}drawSingleColumnLayout(e){return o.createElement('div',{className:'container'},o.createElement('div',{className:'column'},this.renderList(e.bugfixes,'Bugfixes'),this.renderList(e.enhancements,'Enhancements'),this.renderList(e.other,'Other')))}drawTwoColumnLayout(e){return o.createElement('div',{className:'container'},o.createElement('div',{className:'column'},this.renderList(e.enhancements,'Enhancements'),this.renderList(e.other,'Other')),o.createElement('div',{className:'column'},this.renderList(e.bugfixes,'Bugfixes')))}render(){const e=this.props.newRelease,t=0<e.enhancements.length&&0<e.bugfixes.length?this.drawTwoColumnLayout(e):this.drawSingleColumnLayout(e),n=o.createElement('div',{className:'release-notes-header'},o.createElement('img',{className:'release-note-graphic-left',src:f}),o.createElement('div',{className:'title'},o.createElement('p',{className:'version'},'Version ',e.latestVersion),o.createElement('p',{className:'date'},e.datePublished)),o.createElement('img',{className:'release-note-graphic-right',src:g}));return o.createElement(s.Dialog,{id:'release-notes',onDismissed:this.props.onDismissed,onSubmit:this.updateNow,title:n},o.createElement(s.DialogContent,null,t),o.createElement(s.DialogFooter,null,o.createElement(a.LinkButton,{onClick:this.showAllReleaseNotes},'View all release notes'),o.createElement(m.OkCancelButtonGroup,{destructive:!0,okButtonText:'Install and restart',cancelButtonText:'Close'})))}}t.ReleaseNotes=y},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(380);t.ReleaseNotes=o.ReleaseNotes},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(21),a=n(2),s=n(72),d=n(7);class l extends o.Component{constructor(){super(...arguments),this.onUpdate=()=>{this.props.onUpdate(this.props.repository),this.props.onDismissed()},this.onIgnore=(t)=>{t.preventDefault(),this.props.onIgnore(this.props.repository),this.props.onDismissed()}}render(){const e=this.props.repository.name,t=a.forceUnwrap('A repository must have a GitHub repository to add an upstream remote',this.props.repository.gitHubRepository),n=a.forceUnwrap('A repository must have a parent repository to add an upstream remote',t.parent),l=n.fullName,c=this.props.existingRemote.url,p=n.cloneURL;return o.createElement(r.Dialog,{title:'Upstream already exists',onDismissed:this.props.onDismissed,onSubmit:this.onUpdate,type:'warning'},o.createElement(r.DialogContent,null,o.createElement('p',null,'The repository ',o.createElement(i.Ref,null,e),' is a fork of',' ',o.createElement(i.Ref,null,l),', but its ',o.createElement(i.Ref,null,s.UpstreamRemoteName),' ','remote points elsewhere.'),o.createElement('ul',null,o.createElement('li',null,'Current: ',o.createElement(i.Ref,null,c)),o.createElement('li',null,'Expected: ',o.createElement(i.Ref,null,p))),o.createElement('p',null,'Would you like to update the remote to use the expected URL?')),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{destructive:!0,okButtonText:'Update',cancelButtonText:'Ignore',onCancelButtonClick:this.onIgnore})))}}t.UpstreamAlreadyExists=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(382);t.UpstreamAlreadyExists=o.UpstreamAlreadyExists},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a=n(20),s=n(40),d=n(7);class l extends o.Component{constructor(e){super(e),this.showGlobalGitConfig=()=>{const e=this.state.globalGitConfigPath;e&&s.shell.openItem(e)},this.state={globalGitConfigPath:null}}async componentDidMount(){try{const e=await a.getGlobalConfigPath();this.setState({globalGitConfigPath:e})}catch(e){log.warn(`Couldn't get the global git config path`,e)}}renderGlobalGitConfigLink(){const e=this.state.globalGitConfigPath,t='your global git config';return e?o.createElement(i.LinkButton,{onClick:this.showGlobalGitConfig},t):t}render(){return o.createElement(r.Dialog,{id:'lfs-attribute-mismatch',title:'Update existing Git LFS filters?',onDismissed:this.props.onDismissed,onSubmit:this.props.onUpdateExistingFilters},o.createElement(r.DialogContent,null,o.createElement('p',null,'Git LFS filters are already configured in',' ',this.renderGlobalGitConfigLink(),' but are not the values it expects. Would you like to update them now?')),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{okButtonText:'Update existing filters',cancelButtonText:'Not now'})))}}t.AttributeMismatch=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(65),a=n(66),s=n(13),d=n(7),l='https://git-lfs.github.com/';class c extends o.Component{constructor(){super(...arguments),this.onInitialize=()=>{this.props.onInitialize(this.props.repositories)}}render(){return o.createElement(r.Dialog,{id:'initialize-lfs',title:'Initialize Git LFS',onDismissed:this.props.onDismissed,onSubmit:this.onInitialize},o.createElement(r.DialogContent,null,this.renderRepositories()),o.createElement(r.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{okButtonText:'Initialize Git LFS',cancelButtonText:'Not now'})))}renderRepositories(){if(this.props.repositories.length>10)return o.createElement('p',null,this.props.repositories.length,' repositories use',' ',o.createElement(s.LinkButton,{uri:l},'Git LFS'),'. To contribute to them, Git LFS must first be initialized. Would you like to do so now?');else{const e=1!==this.props.repositories.length,t=e?'The repositories use':'This repository uses',n=e?'them':'it';return o.createElement('div',null,o.createElement('p',null,t,' ',o.createElement(s.LinkButton,{uri:l},'Git LFS'),'. To contribute to',' ',n,', Git LFS must first be initialized. Would you like to do so now?'),o.createElement('ul',null,this.props.repositories.map((e)=>o.createElement('li',{key:e.id},o.createElement(i.Monospaced,null,o.createElement(a.PathText,{path:e.path}))))))}}}t.InitializeLFS=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(385);t.InitializeLFS=o.InitializeLFS;var r=n(384);t.AttributeMismatch=r.AttributeMismatch},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3);class i extends o.Component{constructor(){super(...arguments),this.onShowPreferencesDialog=(t)=>{t.preventDefault(),this.props.onDismissed(),this.props.showPreferencesDialog()}}render(){const e='Unable to open shell';return o.createElement(r.Dialog,{id:'shell-error',type:'error',title:e,onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement('p',null,this.props.message)),o.createElement(r.DialogFooter,null,o.createElement(r.OkCancelButtonGroup,{okButtonText:'Close',cancelButtonText:'Open options',onCancelButtonClick:this.onShowPreferencesDialog})))}}t.ShellError=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(387);t.ShellError=o.ShellError},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(29),i=n(18),a=n(3),s=n(65),d=n(7);class l extends o.Component{constructor(e){super(e),this.onUsernameChange=(e)=>{this.setState({username:e})},this.onPasswordChange=(e)=>{this.setState({password:e})},this.save=()=>{this.props.onSave(this.props.hostname,this.state.username,this.state.password,this.props.retryAction)},this.state={username:'',password:''}}render(){const e=!this.state.password.length||!this.state.username.length;return o.createElement(a.Dialog,{id:'generic-git-auth',title:`Authentication failed`,onDismissed:this.props.onDismiss,onSubmit:this.save},o.createElement(a.DialogContent,null,o.createElement('p',null,'We were unable to authenticate with',' ',o.createElement(s.Monospaced,null,this.props.hostname),'. Please enter your username and password to try again.'),o.createElement(i.Row,null,o.createElement(r.TextBox,{label:'Username',autoFocus:!0,value:this.state.username,onValueChanged:this.onUsernameChange})),o.createElement(i.Row,null,o.createElement(r.TextBox,{label:'Password',type:'password',value:this.state.password,onValueChanged:this.onPasswordChange}))),o.createElement(a.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{okButtonText:'Save and retry',okButtonDisabled:e})))}}t.GenericGitAuthentication=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(389);t.GenericGitAuthentication=o.GenericGitAuthentication},function(e,t,n){e.exports=n.p+'fff110f06938764612a1a3588659e22e.cmd'},function(e,t,n){(function(e){const t=n(1),o=t.join(__dirname,'fs_admin.node');try{global.process.dlopen(e,o)}catch(e){throw new Error('Cannot open '+o+': '+e)}}).call(this,n(138)(e))},function(e,t,n){function o(e,t){return(n)=>t(0===n?null:new Error(e+' failed with exit status '+n))}const r=n(33),{spawn:i,spawnSync:a}=n(48),s=n(244),d=n(392),l=e.exports;Object.assign(l,{symlink(e,t,n){d.spawnAsAdmin('cmd',['/c','mklink','/j',t,e],l.testMode,o('mklink',n))},unlink(e,t){r.stat(e,(n,r)=>n?t(n):void(r.isDirectory()?d.spawnAsAdmin('cmd',['/c','rmdir','/s','/q',e],l.testMode,o('rmdir',t)):d.spawnAsAdmin('cmd',['/c','del','/f','/q',e],l.testMode,o('del',t))))},makeTree(e,t){d.spawnAsAdmin('cmd',['/c','mkdir',e],l.testMode,o('mkdir',t))},recursiveCopy(e,t,n){d.spawnAsAdmin('cmd',['/c',391,e,t],l.testMode,o('robocopy',n))}})},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(187);class a extends o.Component{render(){return o.createElement(r.Dialog,{title:'Command line tool installed',onDismissed:this.props.onDismissed,onSubmit:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement('div',null,'The command line tool has been installed at',' ',o.createElement('strong',null,i.InstalledCLIPath),'.')),o.createElement(r.DefaultDialogFooter,{buttonText:'Ok'}))}}t.CLIInstalled=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(394);t.CLIInstalled=o.CLIInstalled},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a='https://github.com/contact';class s extends o.Component{render(){return o.createElement(r.Dialog,{id:'terms-and-conditions',title:'GitHub Open Source Applications Terms and Conditions',onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement('p',null,'These GitHub Open Source Applications Terms and Conditions ("Application Terms") are a legal agreement between you (either as an individual or on behalf of an entity) and GitHub, Inc. regarding your use of GitHub\'s applications, such as GitHub Desktop\u2122 and associated documentation ("Software"). These Application Terms apply to the executable code version of the Software. Source code for the Software is available separately and free of charge under open source software license agreements. If you do not agree to all of the terms in these Application Terms, do not download, install, use, or copy the Software.'),o.createElement('h2',null,'Connecting to GitHub'),o.createElement('p',null,'If you configure the Software to work with one or more accounts on the GitHub.com website or with an instance of GitHub Enterprise Server, your use of the Software will also be governed your applicable GitHub.com website Terms of Service and/or the license agreement applicable to your instance of GitHub Enterprise Server ("GitHub Terms").'),o.createElement('p',null,'Any use of the Software that violates your applicable GitHub Terms will also be a violation of these Application Terms.'),o.createElement('h2',null,'Open Source Licenses and Notices'),o.createElement('p',null,'The open source license for the Software is included in the "Open Source Notices" documentation that is included with the Software. That documentation also includes copies of all applicable open source licenses.'),o.createElement('p',null,'To the extent the terms of the licenses applicable to open source components require GitHub to make an offer to provide source code in connection with the Software, such offer is hereby made, and you may exercise it by contacting GitHub:',' ',o.createElement(i.LinkButton,{uri:a},'contact'),'.'),o.createElement('p',null,'Unless otherwise agreed to in writing with GitHub, your agreement with GitHub will always include, at a minimum, these Application Terms. Open source software licenses for the Software\'s source code constitute separate written agreements. To the limited extent that the open source software licenses expressly supersede these Application Terms, the open source licenses govern your agreement with GitHub for the use of the Software or specific included components of the Software.'),o.createElement('h2',null,'GitHub\'s Logos'),o.createElement('p',null,'The license grant included with the Software is not for GitHub\'s trademarks, which include the Software logo designs. GitHub reserves all trademark and copyright rights in and to all GitHub trademarks. GitHub\'s logos include, for instance, the stylized designs that include "logo" in the file title in the "logos" folder.'),o.createElement('p',null,'The names GitHub, GitHub Desktop, GitHub for Mac, GitHub for Windows, Atom, the Octocat, and related GitHub logos and/or stylized names are trademarks of GitHub. You agree not to display or use these trademarks in any manner without GitHub\'s prior, written permission, except as allowed by GitHub\'s Logos and Usage Policy:',' ',o.createElement(i.LinkButton,{uri:'https://github.com/logos'},'logos'),'.'),o.createElement('h2',null,'Privacy'),o.createElement('p',null,'The Software may collect personal information. You may control what information the Software collects in the settings panel. If the Software does collect personal information on GitHub\'s behalf, GitHub will process that information in accordance with the',o.createElement(i.LinkButton,{uri:'https://help.github.com/articles/github-privacy-statement/'},'GitHub Privacy Statement'),'.'),o.createElement('h2',null,'Additional Services'),o.createElement('h3',null,'Auto-Update Services'),o.createElement('p',null,'The Software may include an auto-update service ("Service"). If you choose to use the Service or you download Software that automatically enables the Service, GitHub will automatically update the Software when a new version is available.'),o.createElement('h3',null,'Disclaimers and Limitations of Liability'),o.createElement('p',null,'THE SERVICE IS PROVIDED ON AN "AS IS" BASIS, AND NO WARRANTY, EITHER EXPRESS OR IMPLIED, IS GIVEN. YOUR USE OF THE SERVICE IS AT YOUR SOLE RISK. GitHub does not warrant that (i) the Service will meet your specific requirements; (ii) the Service is fully compatible with any particular platform; (iii) your use of the Service will be uninterrupted, timely, secure, or error-free; (iv) the results that may be obtained from the use of the Service will be accurate or reliable; (v) the quality of any products, services, information, or other material purchased or obtained by you through the Service will meet your expectations; or (vi) any errors in the Service will be corrected.'),o.createElement('p',null,'YOU EXPRESSLY UNDERSTAND AND AGREE THAT GITHUB SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO, DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES (EVEN IF GITHUB HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES) RELATED TO THE SERVICE, including, for example: (i) the use or the inability to use the Service; (ii) the cost of procurement of substitute goods and services resulting from any goods, data, information or services purchased or obtained or messages received or transactions entered into through or from the Service; (iii) unauthorized access to or alteration of your transmissions or data; (iv) statements or conduct of any third-party on the Service; (v) or any other matter relating to the Service.'),o.createElement('p',null,'GitHub reserves the right at any time and from time to time to modify or discontinue, temporarily or permanently, the Service (or any part thereof) with or without notice. GitHub shall not be liable to you or to any third-party for any price change, suspension or discontinuance of the Service.'),o.createElement('h2',null,'Miscellanea'),o.createElement('ol',null,o.createElement('li',null,'No Waiver. The failure of GitHub to exercise or enforce any right or provision of these Application Terms shall not constitute a waiver of such right or provision.'),o.createElement('li',null,'Entire Agreement. These Application Terms, together with any applicable Privacy Notices, constitutes the entire agreement between you and GitHub and governs your use of the Software, superseding any prior agreements between you and GitHub (including, but not limited to, any prior versions of the Application Terms).'),o.createElement('li',null,'Governing Law. You agree that these Application Terms and your use of the Software are governed under California law and any dispute related to the Software must be brought in a tribunal of competent jurisdiction located in or near San Francisco, California.'),o.createElement('li',null,'Third-Party Packages. The Software supports third-party "Packages" which may modify, add, remove, or alter the functionality of the Software. These Packages are not covered by these Application Terms and may include their own license which governs your use of that particular package.'),o.createElement('li',null,'No Modifications; Complete Agreement. These Application Terms may only be modified by a written amendment signed by an authorized representative of GitHub, or by the posting by GitHub of a revised version. These Application Terms, together with any applicable Open Source Licenses and Notices and GitHub\'s Privacy Statement, represent the complete and exclusive statement of the agreement between you and us. These Application Terms supersede any proposal or prior agreement oral or written, and any other communications between you and GitHub relating to the subject matter of these terms.'),o.createElement('li',null,'License to GitHub Policies. These Application Terms are licensed under the',' ',o.createElement(i.LinkButton,{uri:'https://creativecommons.org/licenses/by/4.0/'},'Creative Commons Attribution license'),'. You may use it freely under the terms of the Creative Commons license.'),o.createElement('li',null,'Contact Us. Please send any questions about these Application Terms to ',o.createElement(i.LinkButton,{uri:a},'support@github.com'),'.'))),o.createElement(r.DefaultDialogFooter,null))}}t.TermsAndConditions=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(396);t.TermsAndConditions=o.TermsAndConditions},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(36),i=n(3),a=n(21),s=n(78),d=n(7);class l extends o.Component{constructor(e){super(e),this.onSubmit=()=>{this.setState({isRemovingRepository:!0}),this.props.onConfirmation(this.props.repository,this.state.deleteRepoFromDisk),this.props.onDismissed()},this.onConfirmRepositoryDeletion=(e)=>{const t=e.currentTarget.checked;this.setState({deleteRepoFromDisk:t})},this.state={deleteRepoFromDisk:!1,isRemovingRepository:!1}}render(){const e=this.state.isRemovingRepository;return o.createElement(i.Dialog,{id:'confirm-remove-repository',key:'remove-repository-confirmation',type:'warning',title:'Remove repository',dismissable:!e,loading:e,disabled:e,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit},o.createElement(i.DialogContent,null,o.createElement('p',null,'Are you sure you want to remove the repository "',this.props.repository.name,'"?'),o.createElement('p',{className:'description'},'The repository will be removed from GitHub Desktop:',o.createElement('br',null),o.createElement(a.Ref,null,this.props.repository.path)),o.createElement('div',null,o.createElement(r.Checkbox,{label:'Also move this repository to '+s.TrashNameLabel,value:this.state.deleteRepoFromDisk?r.CheckboxValue.On:r.CheckboxValue.Off,onChange:this.onConfirmRepositoryDeletion}))),o.createElement(i.DialogFooter,null,o.createElement(d.OkCancelButtonGroup,{destructive:!0,okButtonText:'Remove'})))}}t.ConfirmRemoveRepository=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(398);t.ConfirmRemoveRepository=o.ConfirmRemoveRepository},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(92),i=n(12),a=n(4),s=n(64),d=n(50),l=n(188),c=n(2);var p;(function(e){e[e.dotCom=0]='dotCom',e[e.enterprise=1]='enterprise'})(p||(p={}));class u extends o.Component{constructor(e){super(e),this.onItemClicked=(e,t)=>{'keyboard'===t.kind&&'Enter'===t.event.key&&this.onCloneSelectedRepository()},this.onCloneSelectedRepository=()=>{const e=this.getSelectedAccount();if(null!==e){const t=this.getSelectedItemForAccount(e);null===t||this.props.onClone(t.clone_url)}},this.onSelectionChanged=(e)=>{const t=this.getSelectedAccount();t===this.props.dotComAccount?this.setState({selectedDotComRepository:e}):t===this.props.enterpriseAccount&&this.setState({selectedEnterpriseRepository:e})},this.onFilterTextChanged=(e)=>{const t=this.getSelectedAccount();t===this.props.dotComAccount?this.setState({dotComFilterText:e}):t===this.props.enterpriseAccount&&this.setState({enterpriseFilterText:e})},this.onTabClicked=(e)=>{0===e?this.setState({selectedTab:p.dotCom}):1==e&&this.setState({selectedTab:p.enterprise})},this.onShowClone=()=>this.props.onClone(),this.state={selectedTab:p.dotCom,dotComFilterText:'',enterpriseFilterText:'',selectedDotComRepository:null,selectedEnterpriseRepository:null}}render(){return o.createElement(r.UiView,{id:'no-repositories'},o.createElement('header',null,o.createElement('h1',null,'Let\'s get started!'),o.createElement('p',null,'Add a repository to GitHub Desktop to start collaborating')),o.createElement('div',{className:'content'},this.renderGetStartedActions(),this.renderRepositoryList()),o.createElement('img',{className:'no-repositories-graphic-top',src:s.WelcomeLeftTopImageUri}),o.createElement('img',{className:'no-repositories-graphic-bottom',src:s.WelcomeLeftBottomImageUri}))}componentDidMount(){this.ensureRepositoriesForAccount(this.getSelectedAccount())}componentDidUpdate(e,t){(e.dotComAccount!==this.props.dotComAccount||e.enterpriseAccount!==this.props.enterpriseAccount||t.selectedTab!==this.state.selectedTab)&&this.ensureRepositoriesForAccount(this.getSelectedAccount())}ensureRepositoriesForAccount(e){if(null!==e){const t=this.props.apiRepositories.get(e);t===void 0&&this.props.onRefreshRepositories(e)}}getSelectedAccount(){const{selectedTab:e}=this.state;return e===p.dotCom?this.props.dotComAccount||this.props.enterpriseAccount:e===p.enterprise?this.props.enterpriseAccount||this.props.dotComAccount:c.assertNever(e,`Unknown account tab ${e}`)}renderRepositoryList(){const e=this.getSelectedAccount();if(null===e)return null;const t=this.props.apiRepositories.get(e);return o.createElement('div',{className:'content-pane repository-list'},this.renderAccountsTabBar(),this.renderAccountRepositoryList(e,t))}getSelectedItemForAccount(e){return e===this.props.dotComAccount?this.state.selectedDotComRepository:this.state.selectedEnterpriseRepository}renderAccountRepositoryList(e,t){const n=!(t!==void 0)||t.loading,r=t===void 0?null:t.repositories,i=this.getSelectedItemForAccount(e),a=e===this.props.dotComAccount?this.state.dotComFilterText:this.state.enterpriseFilterText;return o.createElement(o.Fragment,null,o.createElement(l.CloneableRepositoryFilterList,{account:e,selectedItem:i,filterText:a,onRefreshRepositories:this.props.onRefreshRepositories,loading:n,repositories:r,onSelectionChanged:this.onSelectionChanged,onFilterTextChanged:this.onFilterTextChanged,onItemClicked:this.onItemClicked}),this.renderCloneSelectedRepositoryButton(i))}renderCloneSelectedRepositoryButton(e){return null===e?null:o.createElement(i.Button,{type:'submit',className:'clone-selected-repository',onClick:this.onCloneSelectedRepository},'Clone',' ',o.createElement('strong',null,e.owner.login,'/',e.name))}renderAccountsTabBar(){if(null===this.props.dotComAccount||null===this.props.enterpriseAccount)return null;const e=this.getSelectedAccount()===this.props.dotComAccount?0:1;return o.createElement(d.TabBar,{selectedIndex:e,onTabClicked:this.onTabClicked},o.createElement('span',null,'GitHub.com'),o.createElement('span',null,'GitHub Enterprise Server'))}renderButtonGroupButton(e,t,n,r){return o.createElement('li',null,o.createElement(i.Button,{onClick:n,type:r},o.createElement(a.Octicon,{symbol:e}),o.createElement('div',null,t)))}renderTutorialRepositoryButton(){return null===this.props.dotComAccount&&null===this.props.enterpriseAccount?null:this.props.tutorialPaused?this.renderButtonGroupButton(a.OcticonSymbol.mortarBoard,'Return to in progress tutorial',this.props.onResumeTutorialRepository,'submit'):this.renderButtonGroupButton(a.OcticonSymbol.mortarBoard,'Create a tutorial repository\u2026',this.props.onCreateTutorialRepository,'submit')}renderCloneButton(){return this.renderButtonGroupButton(a.OcticonSymbol.repoClone,'Clone a repository from the Internet\u2026',this.onShowClone)}renderCreateRepositoryButton(){return this.renderButtonGroupButton(a.OcticonSymbol.plus,'Create a New Repository on your hard drive\u2026',this.props.onCreate)}renderAddExistingRepositoryButton(){return this.renderButtonGroupButton(a.OcticonSymbol.fileDirectory,'Add an Existing Repository from your hard drive\u2026',this.props.onAdd)}renderGetStartedActions(){return o.createElement('div',{className:'content-pane'},o.createElement('ul',{className:'button-group'},this.renderTutorialRepositoryButton(),this.renderCloneButton(),this.renderCreateRepositoryButton(),this.renderAddExistingRepositoryButton()),o.createElement('div',{className:'drag-drop-info'},o.createElement(a.Octicon,{symbol:a.OcticonSymbol.lightBulb}),o.createElement('div',null,o.createElement('strong',null,'ProTip!'),' You can drag & drop an existing repository folder here to add it to Desktop')))}}t.NoRepositoriesView=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(400);t.NoRepositoriesView=o.NoRepositoriesView},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(42),i=n(3),a=n(7);class s extends o.Component{constructor(){super(...arguments),this.onContinue=()=>{this.props.onContinue(this.props.certificate)}}render(){const e=r.parse(this.props.url).hostname;return o.createElement(i.Dialog,{title:'Untrusted server',onDismissed:this.props.onDismissed,onSubmit:this.onContinue,type:'error'},o.createElement(i.DialogContent,null,o.createElement('p',null,'GitHub Desktop cannot verify the identity of ',e,'. The certificate (',this.props.certificate.subjectName,') is invalid or untrusted.',' ',o.createElement('strong',null,'This may indicate attackers are trying to steal your data.')),o.createElement('p',null,'In some cases, this may be expected. For example:'),o.createElement('ul',null,o.createElement('li',null,'If this is a GitHub Enterprise Server trial.'),o.createElement('li',null,'If your GitHub Enterprise Server instance is run on an unusual top-level domain.')),o.createElement('p',null,'If you are unsure of what to do, cancel and contact your system administrator.')),o.createElement(i.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{destructive:!0,okButtonText:'Add certificate'})))}}t.UntrustedCertificate=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(402);t.UntrustedCertificate=o.UntrustedCertificate},function(e,t,n){'use strict';function o(e){let t=e;return t=t.replace('git+https://github.com','https://github.com'),t=t.replace('git+ssh://git@github.com','https://github.com'),t}Object.defineProperty(t,'__esModule',{value:!0});const r=n(1),i=n(33),a=n(0),s=n(87),d=n(51),l=n(13),c=n(3);class p extends a.Component{constructor(e){super(e),this.state={licenses:null}}componentDidMount(){const e=r.join(s.getAppPath(),'static','licenses.json');i.readFile(e,'utf8',(e,t)=>{if(e)return void log.error('Error loading licenses',e);const n=JSON.parse(t);return n?void this.setState({licenses:n}):void log.warn(`Couldn't parse licenses!`)})}renderLicenses(e){const t=[];for(const[n,r]of Object.keys(e).sort().entries()){if(0===n)continue;const i=e[r],s=i.repository;let d;if(s){const e=o(s);d=a.createElement(l.LinkButton,{uri:e},r)}else d=r;let c=i.sourceText?i.sourceText:i.license?`License: ${i.license}`:'Unknown license';const p=a.createElement('h2',{key:`${r}-header`},d),u=a.createElement('p',{key:`${r}-text`,className:'license-text'},c);t.push(p,u)}return t}render(){const e=this.state.licenses;let t=null;if(e){const n=`desktop@${this.props.applicationVersion}`,o=e[n];t=a.createElement('p',{className:'license-text'},o.sourceText)}return a.createElement(c.Dialog,{id:'acknowledgements',title:'License and Open Source Notices',onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},a.createElement(c.DialogContent,null,a.createElement('p',null,a.createElement(l.LinkButton,{uri:'https://desktop.github.com'},'GitHub Desktop'),' is an open source project published under the MIT License. You can view the source code and contribute to this project on',' ',a.createElement(l.LinkButton,{uri:'https://github.com/desktop/desktop'},'GitHub'),'.'),t,a.createElement('p',null,'GitHub Desktop also distributes these libraries:'),e?this.renderLicenses(e):a.createElement(d.Loading,null)),a.createElement(c.DefaultDialogFooter,null))}}t.Acknowledgements=p},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(404);t.Acknowledgements=o.Acknowledgements},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.enterprise=0]='enterprise',e[e.dotcom=1]='dotcom'})(n=t.PublishSettingsType||(t.PublishSettingsType={}))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(10),i=n(29),a=n(140),s=n(3),d=n(18),l=n(54),c=n(47),p=n(189),u=n(4);class m extends o.Component{constructor(e){super(e),this.onNameChange=(e)=>{this.name=e,e=p.sanitizedRepositoryName(e),this.updateSettings({name:e})},this.onDescriptionChange=(e)=>{this.updateSettings({description:e})},this.onPrivateChange=(e)=>{this.updateSettings({private:e.currentTarget.checked})},this.onOrgChange=(e)=>{const{settings:t}=this.props,n=e.currentTarget.value,o=parseInt(n,10);let r;if(0>o||isNaN(o))r=Object.assign({},t,{org:null});else{const e=this.state.orgs[o];r=Object.assign({},t,{org:e})}this.props.onSettingsChanged(r)},this.state={orgs:[]},this.name=e.settings.name}async componentWillMount(){this.fetchOrgs(this.props.account)}componentWillReceiveProps(e){this.props.account!==e.account&&(this.setState({orgs:[]}),this.fetchOrgs(e.account))}async fetchOrgs(e){const t=r.API.fromAccount(e),n=await t.fetchOrgs(),o=[...n];o.sort((e,t)=>c.caseInsensitiveCompare(e.login,t.login)),this.setState({orgs:o})}updateSettings(e){const t=this.props.settings,n=l.merge(t,e);this.props.onSettingsChanged(n)}renderOrgs(){if(0===this.state.orgs.length)return null;const e=[];e.push(o.createElement('option',{value:-1,key:-1},'None'));let t=-1;const n=this.props.settings.org;for(const[r,i]of this.state.orgs.entries())n&&n.id===i.id&&(t=r),e.push(o.createElement('option',{value:r,key:r},i.login));return o.createElement(a.Select,{label:'Organization',value:t.toString(),onChange:this.onOrgChange},e)}render(){return o.createElement(s.DialogContent,null,o.createElement(d.Row,null,o.createElement(i.TextBox,{label:'Name',value:this.name,onValueChanged:this.onNameChange})),this.renderSanitizedName(),o.createElement(d.Row,null,o.createElement(i.TextBox,{label:'Description',value:this.props.settings.description,onValueChanged:this.onDescriptionChange})),o.createElement(d.Row,null,o.createElement('label',null,o.createElement('input',{type:'checkbox',checked:this.props.settings.private,onChange:this.onPrivateChange}),'Keep this code private')),this.renderOrgs())}renderSanitizedName(){const e=this.props.settings.name;return this.name===e?null:o.createElement(d.Row,{className:'warning-helper-text'},o.createElement(u.Octicon,{symbol:u.OcticonSymbol.alert}),'Will be created as ',e)}}t.PublishRepository=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(407),i=n(3),a=n(50),s=n(10),d=n(2),l=n(112),c=n(20),p=n(406),u=n(7);var m;(function(e){e[e.DotCom=0]='DotCom',e[e.Enterprise=1]='Enterprise'})(m||(m={}));class h extends o.Component{constructor(e){super(e),this.onSettingsChanged=(e)=>{let t;t=e.kind===p.PublishSettingsType.enterprise?{kind:'enterprise',settings:e,error:this.state.enterpriseTabState.error}:{kind:'dotcom',settings:e,error:this.state.dotcomTabState.error},this.setTabState(t)},this.signInDotCom=()=>{this.props.dispatcher.showDotComSignInDialog()},this.signInEnterprise=()=>{this.props.dispatcher.showEnterpriseSignInDialog()},this.publishRepository=async()=>{const e=this.getCurrentTabState();this.setCurrentTabError(null),this.setState({publishing:!0});const t=this.state.currentTab,n=this.getAccountForTab(t);if(!n)return void d.fatalError(`Tried to publish with no user. That seems impossible!`);const o=e.settings,{org:r}=e.settings;try{await this.props.dispatcher.publishRepository(this.props.repository,o.name,o.description,o.private,n,r),this.props.onDismissed()}catch(t){this.setCurrentTabError(t),this.setState({publishing:!1})}},this.onTabClicked=(e)=>{const t=e!==this.state.currentTab;t&&this.setState({currentTab:e})},this.getCurrentTabState=()=>this.state.currentTab===m.DotCom?this.state.dotcomTabState:this.state.enterpriseTabState,this.setTabState=(e)=>{'enterprise'===e.kind?this.setState({enterpriseTabState:e}):this.setState({dotcomTabState:e})},this.setCurrentTabSettings=(e)=>{if(e.kind===p.PublishSettingsType.enterprise){const t=Object.assign({},this.state.enterpriseTabState,{settings:e});this.setTabState(t)}else{const t=Object.assign({},this.state.dotcomTabState,{settings:e});this.setTabState(t)}},this.setCurrentTabError=(e)=>{this.setTabState(Object.assign({},this.getCurrentTabState(),{error:e}))};const t=this.getAccountForTab(m.DotCom),n=this.getAccountForTab(m.Enterprise);let o=m.DotCom;!t&&n&&(o=m.Enterprise);const r={name:e.repository.name,description:'',private:!0},i={kind:'dotcom',settings:Object.assign({},r,{kind:p.PublishSettingsType.dotcom,org:null}),error:null},a={kind:'enterprise',settings:Object.assign({},r,{kind:p.PublishSettingsType.enterprise,org:null}),error:null};this.state={currentTab:o,dotcomTabState:i,enterpriseTabState:a,publishing:!1}}render(){const e=this.getCurrentTabState();return o.createElement(i.Dialog,{id:'publish-repository',title:'Publish repository',onDismissed:this.props.onDismissed,onSubmit:this.publishRepository,disabled:this.state.publishing,loading:this.state.publishing},o.createElement(a.TabBar,{onTabClicked:this.onTabClicked,selectedIndex:this.state.currentTab},o.createElement('span',null,'GitHub.com'),o.createElement('span',null,'GitHub Enterprise Server')),e.error?o.createElement(i.DialogError,null,e.error.message):null,this.renderContent(),this.renderFooter())}async componentDidMount(){const e=this.getCurrentTabState();try{const t=await c.getGitDescription(this.props.repository.path),n=Object.assign({},e.settings,{description:t});this.setCurrentTabSettings(n)}catch(e){log.warn(`Couldn't get the repository's description`,e)}}renderContent(){const e=this.state.currentTab,t=this.getCurrentTabState(),n=this.getAccountForTab(e);return n?o.createElement(r.PublishRepository,{account:n,settings:t.settings,onSettingsChanged:this.onSettingsChanged}):o.createElement(i.DialogContent,null,this.renderSignInTab(e))}getAccountForTab(e){const t=this.props.accounts;return e===m.DotCom?t.find((e)=>e.endpoint===s.getDotComAPIEndpoint())||null:e===m.Enterprise?t.find((e)=>e.endpoint!==s.getDotComAPIEndpoint())||null:d.assertNever(e,`Unknown tab: ${e}`)}renderSignInTab(e){const t='Sign in';return e===m.DotCom?o.createElement(l.CallToAction,{actionTitle:t,onAction:this.signInDotCom},o.createElement('div',null,'Sign in to your GitHub.com account to access your repositories.')):e===m.Enterprise?o.createElement(l.CallToAction,{actionTitle:t,onAction:this.signInEnterprise},o.createElement('div',null,'If you have a GitHub Enterprise Server account at work, sign in to it to get access to your repositories.')):d.assertNever(e,`Unknown tab: ${e}`)}renderFooter(){const e=this.getCurrentTabState(),t=!e.settings.name.length,n=this.state.currentTab,r=this.getAccountForTab(n);return r?o.createElement(i.DialogFooter,null,o.createElement(u.OkCancelButtonGroup,{okButtonText:'Publish repository',okButtonDisabled:t})):null}}t.Publish=h},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(408);t.Publish=o.Publish},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(18),i=n(12),a=n(3),s=n(13),d=n(137),l=n(51),c=n(116),p=n(2),u=n(141),m=n(34),h=m.encodePathAsUrl(__dirname,'static/logo-64x64@2x.png');class f extends o.Component{constructor(e){super(e),this.updateStoreEventHandle=null,this.onUpdateStateChanged=(e)=>{this.setState({updateState:e})},this.onQuitAndInstall=()=>{d.updateStore.quitAndInstallUpdate()},this.state={updateState:d.updateStore.state}}componentDidMount(){this.updateStoreEventHandle=d.updateStore.onDidChange(this.onUpdateStateChanged),this.setState({updateState:d.updateStore.state})}componentWillUnmount(){this.updateStoreEventHandle&&(this.updateStoreEventHandle.dispose(),this.updateStoreEventHandle=null)}renderUpdateButton(){const e=this.state.updateState.status;switch(e){case d.UpdateStatus.UpdateReady:return o.createElement(r.Row,null,o.createElement(i.Button,{onClick:this.onQuitAndInstall},'Quit and Install Update'));case d.UpdateStatus.UpdateNotAvailable:case d.UpdateStatus.CheckingForUpdates:case d.UpdateStatus.UpdateAvailable:const t=e!==d.UpdateStatus.UpdateNotAvailable;return o.createElement(r.Row,null,o.createElement(i.Button,{disabled:t,onClick:this.props.onCheckForUpdates},'Check for Updates'));default:return p.assertNever(e,`Unknown update status ${e}`);}}renderCheckingForUpdate(){return o.createElement(r.Row,{className:'update-status'},o.createElement(l.Loading,null),o.createElement('span',null,'Checking for updates\u2026'))}renderUpdateAvailable(){return o.createElement(r.Row,{className:'update-status'},o.createElement(l.Loading,null),o.createElement('span',null,'Downloading update\u2026'))}renderUpdateNotAvailable(){const e=this.state.updateState.lastSuccessfulCheck;return e?o.createElement('p',{className:'update-status'},'You have the latest version (last checked',' ',o.createElement(c.RelativeTime,{date:e}),')'):null}renderUpdateReady(){return o.createElement('p',{className:'update-status'},'An update has been downloaded and is ready to be installed.')}renderUpdateDetails(){!1,!1;const e=this.state.updateState;switch(e.status){case d.UpdateStatus.CheckingForUpdates:return this.renderCheckingForUpdate();case d.UpdateStatus.UpdateAvailable:return this.renderUpdateAvailable();case d.UpdateStatus.UpdateNotAvailable:return this.renderUpdateNotAvailable();case d.UpdateStatus.UpdateReady:return this.renderUpdateReady();default:return p.assertNever(e.status,`Unknown update status ${e.status}`);}}renderUpdateErrors(){return!1,!1,this.state.updateState.lastSuccessfulCheck?null:o.createElement(a.DialogError,null,'Couldn\'t determine the last time an update check was performed. You may be running an old version. Please try manually checking for updates and contact GitHub Support if the problem persists')}render(){const e=this.props.applicationName,t=this.props.applicationVersion,n=o.createElement(s.LinkButton,{uri:u.ReleaseNotesUri},'release notes'),i=`Version ${t}`;return o.createElement(a.Dialog,{id:'about',onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},this.renderUpdateErrors(),o.createElement(a.DialogContent,null,o.createElement(r.Row,{className:'logo'},o.createElement('img',{src:h,alt:'GitHub Desktop',width:'64',height:'64'})),o.createElement('h2',null,e),o.createElement('p',{className:'no-padding'},o.createElement('span',{className:'selectable-text'},i),' (',n,')'),o.createElement('p',{className:'no-padding'},o.createElement(s.LinkButton,{onClick:this.props.onShowTermsAndConditions},'Terms and Conditions')),o.createElement('p',null,o.createElement(s.LinkButton,{onClick:this.props.onShowAcknowledgements},'License and Open Source Notices')),this.renderUpdateDetails(),this.renderUpdateButton()),o.createElement(a.DefaultDialogFooter,null))}}t.About=f},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(410))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(40);class a extends o.Component{constructor(e){super(e),this.onExternalLink=()=>{const e=`https://atom.io/`;i.shell.openExternal(e)},this.onShowPreferencesDialog=(t)=>{t.preventDefault(),this.props.onDismissed(),this.props.showPreferencesDialog()}}renderFooter(){const{viewPreferences:e,suggestAtom:t}=this.props;if(e)return o.createElement(r.DialogFooter,null,o.createElement(r.OkCancelButtonGroup,{okButtonText:'Close',cancelButtonText:'Open options',onCancelButtonClick:this.onShowPreferencesDialog}));return t?o.createElement(r.DialogFooter,null,o.createElement(r.OkCancelButtonGroup,{okButtonText:'Close',cancelButtonText:'Download Atom',onCancelButtonClick:this.onExternalLink})):o.createElement(r.DefaultDialogFooter,null)}render(){const e='Unable to open external editor';return o.createElement(r.Dialog,{id:'external-editor-error',type:'error',title:e,onSubmit:this.props.onDismissed,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement('p',null,this.props.message)),this.renderFooter())}}t.EditorError=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(412))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(40),a=n(7);class s extends o.Component{constructor(e){super(e),this.onSubmit=()=>{this.props.onOpenShell(this.props.path),this.props.onDismissed()},this.onExternalLink=()=>{const e=`https://help.github.com/articles/set-up-git/#setting-up-git`;i.shell.openExternal(e)}}render(){return o.createElement(r.Dialog,{id:'install-git',type:'warning',title:'Unable to locate Git',onSubmit:this.onSubmit,onDismissed:this.props.onDismissed},o.createElement(r.DialogContent,null,o.createElement('p',null,'We were unable to locate Git on your system. This means you won\'t be able to execute any Git commands in the',' ','command prompt','.'),o.createElement('p',null,'To help you get Git installed and configured for your operating system, we have some external resources available.')),o.createElement(r.DialogFooter,null,o.createElement(a.OkCancelButtonGroup,{okButtonText:'Open without Git',cancelButtonText:'Install Git',onCancelButtonClick:this.onExternalLink})))}}t.InstallGit=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(414))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(72),i=n(2),a=n(13),s=n(4),d=n(18),l=n(29),c=n(3),p=n(178),u=n(10),m=n(7),h=n(12),f='Sign in using your browser';class g extends o.Component{constructor(e){super(e),this.onSubmit=()=>{const e=this.props.signInState;if(e){const t=e.kind;switch(e.kind){case r.SignInStep.EndpointEntry:this.props.dispatcher.setSignInEndpoint(this.state.endpoint);break;case r.SignInStep.Authentication:e.supportsBasicAuth?this.props.dispatcher.setSignInCredentials(this.state.username,this.state.password):this.props.dispatcher.requestBrowserAuthentication();break;case r.SignInStep.TwoFactorAuthentication:this.props.dispatcher.setSignInOTP(this.state.otpToken);break;case r.SignInStep.Success:this.props.onDismissed();break;default:i.assertNever(e,`Unknown sign in step ${t}`);}}},this.onEndpointChanged=(e)=>{this.setState({endpoint:e})},this.onUsernameChanged=(e)=>{this.setState({username:e})},this.onPasswordChanged=(e)=>{this.setState({password:e})},this.onOTPTokenChanged=(e)=>{this.setState({otpToken:e})},this.onSignInWithBrowser=()=>{this.props.dispatcher.requestBrowserAuthentication()},this.state={endpoint:'',username:'',password:'',otpToken:''}}componentWillReceiveProps(e){e.signInState!==this.props.signInState&&e.signInState&&e.signInState.kind===r.SignInStep.Success&&this.props.onDismissed()}renderFooter(){const e=this.props.signInState;if(!e||e.kind===r.SignInStep.Success)return null;let t=!1,n;const a=e.kind;switch(e.kind){case r.SignInStep.EndpointEntry:t=0===this.state.endpoint.length,n='Continue';break;case r.SignInStep.TwoFactorAuthentication:const o=/\S+/.test(this.state.otpToken);t=!o,n='Sign in';break;case r.SignInStep.Authentication:if(!e.supportsBasicAuth)n='Continue with browser';else{const e=0<this.state.username.length,o=0<this.state.password.length;t=!e||!o,n='Sign in'}break;default:return i.assertNever(e,`Unknown sign in step ${a}`);}return o.createElement(c.DialogFooter,null,o.createElement(m.OkCancelButtonGroup,{okButtonText:n,okButtonDisabled:t}))}renderEndpointEntryStep(){return o.createElement(c.DialogContent,null,o.createElement(d.Row,null,o.createElement(l.TextBox,{label:'Enterprise Server address',value:this.state.endpoint,onValueChanged:this.onEndpointChanged,placeholder:'https://github.example.com'})))}renderAuthenticationStep(e){if(!e.supportsBasicAuth)return e.endpoint===u.getDotComAPIEndpoint()?o.createElement(c.DialogContent,null,o.createElement('p',null,'To improve the security of your account, GitHub now requires you to sign in through your browser.'),o.createElement('p',null,'Your browser will redirect you back to GitHub Desktop once you\'ve signed in. If your browser asks for your permission to launch GitHub Desktop please allow it to.')):o.createElement(c.DialogContent,null,o.createElement('p',null,'Your GitHub Enterprise Server instance requires you to sign in with your browser.'));const t=e.loading;return o.createElement(c.DialogContent,null,o.createElement(d.Row,{className:'sign-in-with-browser'},o.createElement(h.Button,{className:'button-with-icon button-component-primary',onClick:this.onSignInWithBrowser,disabled:t},'Sign in using your browser',o.createElement(s.Octicon,{symbol:s.OcticonSymbol.linkExternal}))),o.createElement('div',{className:'horizontal-rule'},o.createElement('span',{className:'horizontal-rule-content'},'or')),o.createElement(d.Row,null,o.createElement(l.TextBox,{label:'Username or email address',value:this.state.username,onValueChanged:this.onUsernameChanged})),o.createElement(d.Row,null,o.createElement(l.TextBox,{label:'Password',value:this.state.password,type:'password',onValueChanged:this.onPasswordChanged})),o.createElement(d.Row,null,o.createElement(a.LinkButton,{className:'forgot-password-link-sign-in',uri:e.forgotPasswordUrl},'Forgot password?')))}renderTwoFactorAuthenticationStep(e){return o.createElement(c.DialogContent,null,o.createElement('p',null,p.getWelcomeMessage(e.type)),o.createElement(d.Row,null,o.createElement(l.TextBox,{label:'Authentication code',value:this.state.otpToken,onValueChanged:this.onOTPTokenChanged,labelLinkText:`What's this?`,labelLinkUri:'https://help.github.com/articles/providing-your-2fa-authentication-code/',autoFocus:!0})))}renderStep(){const e=this.props.signInState;if(!e)return null;const t=e.kind;switch(e.kind){case r.SignInStep.EndpointEntry:return this.renderEndpointEntryStep(e);case r.SignInStep.Authentication:return this.renderAuthenticationStep(e);case r.SignInStep.TwoFactorAuthentication:return this.renderTwoFactorAuthenticationStep(e);case r.SignInStep.Success:return null;default:return i.assertNever(e,`Unknown sign in step ${t}`);}}render(){const e=this.props.signInState;if(!e||e.kind===r.SignInStep.Success)return null;const t=e.loading,n=e.error?o.createElement(c.DialogError,null,e.error.message):null,i=this.props.signInState&&this.props.signInState.kind===r.SignInStep.Authentication&&!this.props.signInState.supportsBasicAuth?f:'Sign in';return o.createElement(c.Dialog,{id:'sign-in',title:i,disabled:t,onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,loading:e.loading},n,this.renderStep(),this.renderFooter())}}t.SignIn=g},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(416))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(31),r=n(46);t.getStartPoint=function(e,t){return e.tip.kind===o.TipState.Detached?r.StartPoint.Head:t===r.StartPoint.UpstreamDefaultBranch&&null!==e.upstreamDefaultBranch?t:t===r.StartPoint.DefaultBranch&&null!==e.defaultBranch?t:t===r.StartPoint.CurrentBranch&&e.tip.kind===o.TipState.Valid?t:t===r.StartPoint.Head?t:e.upstreamDefaultBranch?r.StartPoint.UpstreamDefaultBranch:e.defaultBranch?r.StartPoint.DefaultBranch:e.tip.kind===o.TipState.Valid?r.StartPoint.CurrentBranch:r.StartPoint.Head}},function(e,t,n){'use strict';function o(e,t){return e===a.StartPoint.UpstreamDefaultBranch?t.upstreamDefaultBranch:e===a.StartPoint.DefaultBranch?t.defaultBranch:null}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(143),a=n(46),s=n(29),d=n(18),l=n(21),c=n(13),p=n(3),u=n(111),m=n(31),h=n(2),f=n(200),g=n(418),y=n(7),S=n(76),C=n(61);var b;(function(e){e[e.DefaultishBranch=0]='DefaultishBranch',e[e.CurrentBranch=1]='CurrentBranch'})(b||(b={}));class v extends r.Component{constructor(e){super(e),this.onBaseBranchChanged=(e)=>{if(e===b.DefaultishBranch)null!==this.props.upstreamGitHubRepository&&null!==this.props.upstreamDefaultBranch?this.setState({startPoint:a.StartPoint.UpstreamDefaultBranch}):this.setState({startPoint:a.StartPoint.DefaultBranch});else if(e===b.CurrentBranch)this.setState({startPoint:a.StartPoint.CurrentBranch});else throw new Error(`Unknown branch selection: ${e}`)},this.onBranchNameChange=(e)=>{this.updateBranchName(e)},this.createBranch=async()=>{const e=this.state.sanitizedName;let t=null,n=!1;const{defaultBranch:o,upstreamDefaultBranch:r,currentBranchProtected:i,repository:s}=this.props;if(this.state.startPoint===a.StartPoint.DefaultBranch){if(!o)return void this.setState({currentError:new Error('Could not determine the default branch')});t=o.name}if(this.state.startPoint===a.StartPoint.UpstreamDefaultBranch){if(!r)return void this.setState({currentError:new Error('Could not determine the default branch')});t=r.name,n=!0}if(0<e.length){const o=i?{kind:C.UncommittedChangesStrategyKind.MoveToNewBranch,transientStashEntry:null}:this.props.selectedUncommittedChangesStrategy;this.setState({isCreatingBranch:!0});const r=S.startTimer('create branch',s);await this.props.dispatcher.createBranch(s,e,t,o,n),r.done()}},this.renderOptions=(e,t)=>r.createElement(d.Row,null,r.createElement(u.VerticalSegmentedControl,{label:'Create branch based on\u2026',items:e,selectedIndex:t,onSelectionChanged:this.onBaseBranchChanged}));const t=g.getStartPoint(e,a.StartPoint.UpstreamDefaultBranch);this.state={currentError:null,proposedName:e.initialName,sanitizedName:'',startPoint:t,isCreatingBranch:!1,tipAtCreateStart:e.tip,defaultBranchAtCreateStart:o(t,e)}}componentDidMount(){this.state.proposedName.length&&this.updateBranchName(this.state.proposedName)}componentWillReceiveProps(e){if(this.setState({startPoint:g.getStartPoint(e,this.state.startPoint)}),!this.state.isCreatingBranch){const t=g.getStartPoint(e,a.StartPoint.UpstreamDefaultBranch);this.setState({tipAtCreateStart:e.tip,defaultBranchAtCreateStart:o(t,e)})}}renderBranchSelection(){const e=this.state.isCreatingBranch?this.state.tipAtCreateStart:this.props.tip,t=e.kind;if(e.kind===m.TipState.Detached)return r.createElement('p',null,'You do not currently have any branch checked out (your HEAD reference is detached). As such your new branch will be based on your currently checked out commit (',e.currentSha.substr(0,7),').');if(e.kind===m.TipState.Unborn)return r.createElement('p',null,'Your current branch is unborn (does not contain any commits). Creating a new branch will rename the current branch.');if(e.kind===m.TipState.Valid){if(null!==this.props.upstreamGitHubRepository&&null!==this.props.upstreamDefaultBranch)return this.renderForkBranchSelection(e.branch.name,this.props.upstreamDefaultBranch,this.props.upstreamGitHubRepository.fullName);const t=this.state.isCreatingBranch?this.props.defaultBranch:this.state.defaultBranchAtCreateStart;return this.renderRegularBranchSelection(e.branch.name,t)}return h.assertNever(e,`Unknown tip kind ${t}`)}render(){const e=0>=this.state.proposedName.length||!!this.state.currentError||/^\s*$/.test(this.state.sanitizedName),t=this.state.currentError;return r.createElement(p.Dialog,{id:'create-branch',title:'Create a branch',onSubmit:this.createBranch,onDismissed:this.props.onDismissed,loading:this.state.isCreatingBranch,disabled:this.state.isCreatingBranch},t?r.createElement(p.DialogError,null,t.message):null,r.createElement(p.DialogContent,null,r.createElement(d.Row,null,r.createElement(s.TextBox,{label:'Name',value:this.state.proposedName,autoFocus:!0,onValueChanged:this.onBranchNameChange})),f.renderBranchNameWarning(this.state.proposedName,this.state.sanitizedName),f.renderBranchNameExistsOnRemoteWarning(this.state.sanitizedName,this.props.allBranches),this.renderBranchSelection()),r.createElement(p.DialogFooter,null,r.createElement(y.OkCancelButtonGroup,{okButtonText:'Create branch',okButtonDisabled:e})))}updateBranchName(e){const t=i.sanitizedRefName(e),n=-1<this.props.allBranches.findIndex((e)=>e.name===t),o=n?new Error(`A branch named ${t} already exists`):null;this.setState({proposedName:e,sanitizedName:t,currentError:o})}renderRegularBranchSelection(e,t){if(null===t||t.name===e)return r.createElement('p',null,'Your new branch will be based on your currently checked out branch (',r.createElement(l.Ref,null,e),'). ',r.createElement(l.Ref,null,e),' is the ',E,' for your repository.');else{const n=[{title:t.name,description:'The default branch in your repository. Pick this to start on something new that\'s not dependent on your current branch.'},{title:e,description:'The currently checked out branch. Pick this if you need to build on work done on this branch.'}],o=this.state.startPoint===a.StartPoint.DefaultBranch?0:1;return this.renderOptions(n,o)}}renderForkBranchSelection(e,t,n){if(e===t.nameWithoutRemote)return r.createElement('p',null,'Your new branch will be based on',' ',r.createElement('strong',null,n),'\'s ',E,' (',r.createElement(l.Ref,null,t.nameWithoutRemote),').');else{const n=[{title:t.name,description:'The default branch of the upstream repository. Pick this to start on something new that\'s not dependent on your current branch.'},{title:e,description:'The currently checked out branch. Pick this if you need to build on work done on this branch.'}],o=this.state.startPoint===a.StartPoint.UpstreamDefaultBranch?0:1;return this.renderOptions(n,o)}}}t.CreateBranch=v;const E=r.createElement(c.LinkButton,{uri:'https://help.github.com/articles/setting-the-default-branch/'},'default branch')},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(419);t.CreateBranch=o.CreateBranch},function(e,t,n){'use strict';function o(e){return e.private?a.OcticonSymbol.lock:e.fork?a.OcticonSymbol.repoForked:a.OcticonSymbol.repo}function r(e){const t=e.map((e)=>{const t=o(e);return{id:e.html_url,text:[`${e.owner.login}/${e.name}`],url:e.clone_url,name:e.name,icon:t}});return t}Object.defineProperty(t,'__esModule',{value:!0});const i=n(47),a=n(4);t.YourRepositoriesIdentifier='your-repositories',t.groupRepositories=function(e){const n=e.filter((e)=>'User'===e.owner.type),o=e.filter((e)=>'Organization'===e.owner.type),a=[{identifier:t.YourRepositoriesIdentifier,items:r(n)}],s=o.map((e)=>e.owner.login),d=Array.from(new Set(s));for(const t of d.sort(i.caseInsensitiveCompare)){const e=o.filter((e)=>e.owner.login===t);a.push({identifier:t,items:r(e)})}return a}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(29),a=n(18),s=n(12),d=n(188);class l extends o.PureComponent{render(){return o.createElement(r.DialogContent,{className:'clone-github-repository-content'},o.createElement(a.Row,null,o.createElement(d.CloneableRepositoryFilterList,{account:this.props.account,selectedItem:this.props.selectedItem,onSelectionChanged:this.props.onSelectionChanged,loading:this.props.loading,repositories:this.props.repositories,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,onRefreshRepositories:this.props.onRefreshRepositories,onItemClicked:this.props.onItemClicked})),o.createElement(a.Row,{className:'local-path-field'},o.createElement(i.TextBox,{value:this.props.path,label:'Local path',placeholder:'repository path',onValueChanged:this.props.onPathChanged}),o.createElement(s.Button,{onClick:this.props.onChooseDirectory},'Choose\u2026')))}}t.CloneGithubRepository=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(29),i=n(12),a=n(18),s=n(3),d=n(21);class l extends o.Component{constructor(){super(...arguments),this.onUrlChanged=(e)=>{this.props.onUrlChanged(e)}}render(){return o.createElement(s.DialogContent,{className:'clone-generic-repository-content'},o.createElement(a.Row,null,o.createElement(r.TextBox,{placeholder:'URL or username/repository',value:this.props.url,onValueChanged:this.onUrlChanged,autoFocus:!0,label:o.createElement('span',null,'Repository URL or GitHub username and repository',o.createElement('br',null),'(',o.createElement(d.Ref,null,'hubot/cool-repo'),')')})),o.createElement(a.Row,null,o.createElement(r.TextBox,{value:this.props.path,label:'Local path',placeholder:'repository path',onValueChanged:this.props.onPathChanged}),o.createElement(i.Button,{onClick:this.props.onChooseDirectory},'Choose\u2026')))}}t.CloneGenericRepository=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(0),i=n(22),a=n(19),s=n(165),d=n(104),l=n(273),c=n(10),p=n(3),u=n(50),m=n(131),h=n(423),f=n(422),g=n(2),y=n(112),S=n(54),C=n(7);class b extends r.Component{constructor(e){super(e),this.checkIfCloningDisabled=()=>{const e=this.getSelectedTabState(),{error:t,url:n,path:o}=e,{loading:r}=this.state,i=0===n.length||0===o.length||r||null!==t;return i},this.onTabClicked=(e)=>{this.props.onTabSelected(e)},this.onPathChanged=(e)=>{this.setSelectedTabState({path:e},this.validatePath)},this.signInDotCom=()=>{this.props.dispatcher.showDotComSignInDialog()},this.signInEnterprise=()=>{this.props.dispatcher.showEnterpriseSignInDialog()},this.onFilterTextChanged=(e)=>{this.props.selectedTab!==m.CloneRepositoryTab.Generic&&this.setGitHubTabState({filterText:e},this.props.selectedTab)},this.onSelectionChanged=(e)=>{this.props.selectedTab!==m.CloneRepositoryTab.Generic&&(this.setGitHubTabState({selectedItem:e},this.props.selectedTab),this.updateUrl(null===e?'':e.clone_url))},this.validatePath=async()=>{const e=this.getSelectedTabState(),{path:t,url:n,error:o}=e,{initialPath:r}=this.state;if(r===t&&''===n)o&&this.setSelectedTabState({error:null});else{const e=await this.validateEmptyFolder(t),n=this.getSelectedTabState();n.path===t&&this.setSelectedTabState({error:e,path:t})}},this.onChooseDirectory=async()=>{const e=i.remote.getCurrentWindow(),{filePaths:t}=await i.remote.dialog.showOpenDialog(e,{properties:['createDirectory','openDirectory']});if(0!==t.length){const e=this.getSelectedTabState(),n=e.lastParsedIdentifier,r=n?o.join(t[0],n.name):t[0];return this.setSelectedTabState({path:r,error:null},this.validatePath),r}},this.updateUrl=async(e)=>{const t=d.parseRepositoryIdentifier(e),n=this.getSelectedTabState(),r=n.lastParsedIdentifier;let i;i=r?t?o.join(o.dirname(n.path),t.name):o.dirname(n.path):t?o.join(n.path,t.name):n.path,this.setSelectedTabState({url:e,lastParsedIdentifier:t,path:i},this.validatePath)},this.onItemClicked=(e,t)=>{'keyboard'===t.kind&&'Enter'===t.event.key&&!1===this.checkIfCloningDisabled()&&this.clone()},this.clone=async()=>{this.setState({loading:!0});const e=await this.resolveCloneURL(),{path:t}=this.getSelectedTabState();if(!e){const e=new Error(`We couldn't find that repository. Check that you are logged in, the network is accessible, and the URL or repository alias are spelled correctly.`);return this.setState({loading:!1}),void this.setSelectedTabState({error:e})}try{this.cloneImpl(e.trim(),t)}catch(n){log.error(`CloneRepostiory: clone failed to complete to ${t}`,n),this.setState({loading:!1}),this.setSelectedTabState({error:n})}},this.onWindowFocus=()=>{this.validatePath()};const t=s.getDefaultDir(),n={error:null,lastParsedIdentifier:null,path:t,url:this.props.initialURL||''};this.state={initialPath:t,loading:!1,dotComTabState:Object.assign({kind:'dotComTabState',filterText:'',selectedItem:null},n),enterpriseTabState:Object.assign({kind:'enterpriseTabState',filterText:'',selectedItem:null},n),urlTabState:Object.assign({kind:'urlTabState'},n)}}componentDidUpdate(e){e.selectedTab!==this.props.selectedTab&&this.validatePath()}componentDidMount(){const e=this.props.initialURL;e&&this.updateUrl(e),window.addEventListener('focus',this.onWindowFocus)}componentWillUnmount(){window.removeEventListener('focus',this.onWindowFocus)}render(){const{error:e}=this.getSelectedTabState();return r.createElement(p.Dialog,{className:'clone-repository',title:'Clone a repository',onSubmit:this.clone,onDismissed:this.props.onDismissed,loading:this.state.loading},r.createElement(u.TabBar,{onTabClicked:this.onTabClicked,selectedIndex:this.props.selectedTab},r.createElement('span',null,'GitHub.com'),r.createElement('span',null,'GitHub Enterprise Server'),r.createElement('span',null,'URL')),e?r.createElement(p.DialogError,null,e.message):null,this.renderActiveTab(),this.renderFooter())}renderFooter(){const e=this.props.selectedTab;if(e!==m.CloneRepositoryTab.Generic&&!this.getAccountForTab(e))return null;const t=this.checkIfCloningDisabled();return r.createElement(p.DialogFooter,null,r.createElement(C.OkCancelButtonGroup,{okButtonText:'Clone',okButtonDisabled:t}))}renderActiveTab(){const e=this.props.selectedTab;switch(e){case m.CloneRepositoryTab.Generic:const t=this.state.urlTabState;return r.createElement(h.CloneGenericRepository,{path:t.path,url:t.url,onPathChanged:this.onPathChanged,onUrlChanged:this.updateUrl,onChooseDirectory:this.onChooseDirectory});case m.CloneRepositoryTab.DotCom:case m.CloneRepositoryTab.Enterprise:{const t=this.getAccountForTab(e);if(!t)return r.createElement(p.DialogContent,null,this.renderSignIn(e));else{const n=this.props.apiRepositories.get(t),o=n===void 0?null:n.repositories,i=n!==void 0&&n.loading,a=this.getGitHubTabState(e);return r.createElement(f.CloneGithubRepository,{path:a.path,account:t,selectedItem:a.selectedItem,onSelectionChanged:this.onSelectionChanged,onPathChanged:this.onPathChanged,onChooseDirectory:this.onChooseDirectory,repositories:o,loading:i,onRefreshRepositories:this.props.onRefreshRepositories,filterText:a.filterText,onFilterTextChanged:this.onFilterTextChanged,onItemClicked:this.onItemClicked})}}}return g.assertNever(e,`Unknown tab: ${e}`)}getAccountForTab(e){return e===m.CloneRepositoryTab.DotCom?this.props.dotComAccount:e===m.CloneRepositoryTab.Enterprise?this.props.enterpriseAccount:null}getGitHubTabState(e){return e===m.CloneRepositoryTab.DotCom?this.state.dotComTabState:e===m.CloneRepositoryTab.Enterprise?this.state.enterpriseTabState:g.assertNever(e,`Unknown tab: ${e}`)}getTabState(e){return e===m.CloneRepositoryTab.DotCom?this.state.dotComTabState:e===m.CloneRepositoryTab.Enterprise?this.state.enterpriseTabState:e===m.CloneRepositoryTab.Generic?this.state.urlTabState:g.assertNever(e,`Unknown tab: ${e}`)}getSelectedTabState(){return this.getTabState(this.props.selectedTab)}setSelectedTabState(e,t){this.setTabState(e,this.props.selectedTab,t)}setTabState(e,t,n){if(t===m.CloneRepositoryTab.DotCom)this.setState((t)=>({dotComTabState:Object.assign({},t.dotComTabState,e)}),n);else if(t===m.CloneRepositoryTab.Enterprise)this.setState((t)=>({enterpriseTabState:Object.assign({},t.enterpriseTabState,e)}),n);else if(t===m.CloneRepositoryTab.Generic)this.setState((t)=>({urlTabState:Object.assign({},t.urlTabState,e)}),n);else return g.assertNever(t,`Unknown tab: ${t}`)}setGitHubTabState(e,t){if(t===m.CloneRepositoryTab.DotCom)this.setState((t)=>({dotComTabState:S.merge(t.dotComTabState,e)}));else if(t===m.CloneRepositoryTab.Enterprise)this.setState((t)=>({enterpriseTabState:S.merge(t.enterpriseTabState,e)}));else return g.assertNever(t,`Unknown tab: ${t}`)}renderSignIn(e){const t='Sign in';return e===m.CloneRepositoryTab.DotCom?r.createElement(y.CallToAction,{actionTitle:t,onAction:this.signInDotCom},r.createElement('div',null,'Sign in to your GitHub.com account to access your repositories.')):e===m.CloneRepositoryTab.Enterprise?r.createElement(y.CallToAction,{actionTitle:t,onAction:this.signInEnterprise},r.createElement('div',null,'If you have a GitHub Enterprise Server account at work, sign in to it to get access to your repositories.')):e===m.CloneRepositoryTab.Generic?null:g.assertNever(e,`Unknown sign in tab: ${e}`)}async validateEmptyFolder(e){try{const t=await a.readdir(e);return 0===t.length?null:new Error('This folder contains files. Git can only clone to empty folders.')}catch(e){if('ENOENT'===e.code)return null;return log.error('CloneRepository: Path validation failed. Error: '+e.message),new Error('Unable to read path on disk. Please check the path and try again.')}}async resolveCloneURL(){const e=this.getSelectedTabState(),t=e.lastParsedIdentifier;let n=e.url;const o=[];this.props.dotComAccount&&o.push(this.props.dotComAccount),this.props.enterpriseAccount&&o.push(this.props.enterpriseAccount);const r=await l.findAccountForRemoteURL(n,o);if(t&&r){const e=c.API.fromAccount(r),o=await e.fetchRepository(t.owner,t.name);if(o){const e=d.parseRemote(n);n=e&&'ssh'===e.protocol?o.ssh_url:o.clone_url}}return n}cloneImpl(e,t){this.props.dispatcher.clone(e,t),this.props.onDismissed(),s.setDefaultDir(o.resolve(t,'..'))}}t.CloneRepository=b},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(424))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(19),r=n(1);t.writeGitAttributes=async function(e){const t=r.join(e,'.gitattributes');await o.writeFile(t,'# Auto detect text files and perform LF normalization\n* text=auto\n')}},function(e,t,n){'use strict';async function o(){if(null!=d)return d;else{const e=a.join(__dirname,'static','available-licenses.json'),t=await s.readFile(e,'utf8'),n=JSON.parse(t);return d=n.sort((e,t)=>e.featured?-1:t.featured?1:e.name.localeCompare(t.name)),d}}function r(e,t,n){const o=new RegExp(`\\[${t}\\]`,'g'),r=e.replace(o,`{${t}}`),i=new RegExp(`\\{${t}\\}`,'g');return r.replace(i,n)}function i(e,t,n){let o=e;for(const i of t){const e=n[i];o=r(o,i,e)}return o}Object.defineProperty(t,'__esModule',{value:!0});const a=n(1),s=n(19);let d=null;t.getLicenses=o,t.writeLicense=async function(e,t,n){const o=a.join(e,'LICENSE'),r=i(t.body,['fullname','email','project','description','year'],n);await s.writeFile(o,r)}},function(e,t,n){'use strict';async function o(){if(null!=l)return l;else{const e=await a.readdir(d),t=e.filter((e)=>e.endsWith(s));l=new Map;for(const e of t)l.set(i.basename(e,s),i.join(d,e));return l}}async function r(e){const t=await o(),n=t.get(e);if(!n)throw new Error(`Unknown gitignore: ${e}. Only names returned from getGitIgnoreNames() can be used.`);return await a.readFile(n,'utf8')}Object.defineProperty(t,'__esModule',{value:!0});const i=n(1),a=n(19),s='.gitignore',d=i.join(__dirname,'static','gitignore');let l=null;t.getGitIgnoreNames=async function(){const e=await o();return Array.from(e.keys())},t.writeGitIgnore=async function(e,t){const n=i.join(e,'.gitignore'),o=await r(t);await a.writeFile(n,o)}},function(e,t,n){'use strict';function o(e,t){return t===void 0?`# ${e}\n`:`# ${e}\n ${t}\n`}Object.defineProperty(t,'__esModule',{value:!0});const r=n(19),i=n(1);t.writeDefaultReadme=async function(e,t,n){const a=i.join(e,'README.md'),s=o(t,n);await r.writeFile(a,s)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=n(0),i=n(1),a=n(19),s=n(20),d=n(189),l=n(29),c=n(12),p=n(18),u=n(36),m=n(429),h=n(140),f=n(255),g=n(428),y=n(427),S=n(426),C=n(165),b=n(3),v=n(4),E=n(13),w=n(24),k=n(21),T=n(25),_=n(7),R='None',x={name:'None',featured:!1,body:'',hidden:!1};class P extends r.Component{constructor(e){super(e),this.onPathChanged=async(e)=>{this.setState({path:e,isValidPath:null});const t=await s.isGitRepository(e);this.setState((n)=>n.path===e?{isRepository:t}:null),this.updateReadMeExists(e,this.state.name)},this.onNameChanged=(e)=>{this.setState({name:e}),this.updateReadMeExists(this.state.path,e)},this.onDescriptionChanged=(e)=>{this.setState({description:e})},this.showFilePicker=async()=>{const e=o.remote.getCurrentWindow(),{filePaths:t}=await o.remote.dialog.showOpenDialog(e,{properties:['createDirectory','openDirectory']});if(0!==t.length){const e=t[0],n=await s.isGitRepository(e);this.setState({isRepository:n,path:e})}},this.resolveRepositoryRoot=async()=>{const e=this.state.path;if(this.props.initialPath&&this.props.initialPath===e)try{return await a.ensureDir(e),e}catch(e){}return i.join(e,d.sanitizedRepositoryName(this.state.name))},this.createRepository=async()=>{const t=await this.resolveRepositoryRoot();try{await a.ensureDir(t),this.setState({isValidPath:!0})}catch(n){if('EACCES'===n.code&&-13===n.errno)return this.setState({isValidPath:!1});return log.error(`createRepository: the directory at ${t} is not valid`,n),this.props.dispatcher.postError(n)}this.setState({creating:!0});try{await s.initGitRepository(t)}catch(n){return this.setState({creating:!1}),log.error(`createRepository: unable to initialize a Git repository at ${t}`,n),this.props.dispatcher.postError(n)}const e=await this.props.dispatcher.addRepositories([t]);if(1>e.length)return;const n=e[0];if(this.state.createWithReadme)try{await m.writeDefaultReadme(t,this.state.name,this.state.description)}catch(n){log.error(`createRepository: unable to write README at ${t}`,n),this.props.dispatcher.postError(n)}const o=this.state.gitIgnore;if(o!==R)try{await g.writeGitIgnore(t,o)}catch(n){log.error(`createRepository: unable to write .gitignore file at ${t}`,n),this.props.dispatcher.postError(n)}const r=this.state.description;if(r)try{await f.writeGitDescription(t,r)}catch(n){log.error(`createRepository: unable to write .git/description file at ${t}`,n),this.props.dispatcher.postError(n)}const d=this.state.license===x.name?null:this.state.license,l=(this.state.licenses||[]).find((e)=>e.name===d);if(l)try{const e=await s.getAuthorIdentity(n);await y.writeLicense(t,l,{fullname:e?e.name:'',email:e?e.email:'',year:new Date().getFullYear().toString(),description:'',project:this.state.name})}catch(n){log.error(`createRepository: unable to write LICENSE at ${t}`,n),this.props.dispatcher.postError(n)}try{const e=i.join(t,'.gitattributes'),n=await a.pathExists(e);n||(await S.writeGitAttributes(t))}catch(n){log.error(`createRepository: unable to write .gitattributes at ${t}`,n),this.props.dispatcher.postError(n)}const c=await s.getStatus(n);if(null===c)return void this.props.dispatcher.postError(new Error(`Unable to create the new repository because there are too many new files in this directory`));try{const e=c.workingDirectory,t=e.files;0<t.length&&(await s.createCommit(n,'Initial commit',t))}catch(n){log.error(`createRepository: initial commit failed at ${t}`,n),this.props.dispatcher.postError(n)}this.setState({creating:!1}),this.updateDefaultDirectory(),this.props.dispatcher.selectRepository(n),this.props.dispatcher.recordCreateRepository(),this.props.onDismissed()},this.updateDefaultDirectory=()=>{this.props.initialPath||C.setDefaultDir(this.state.path)},this.onCreateWithReadmeChange=(e)=>{this.setState({createWithReadme:e.currentTarget.checked})},this.onGitIgnoreChange=(e)=>{const t=e.currentTarget.value;this.setState({gitIgnore:t})},this.onLicenseChange=(e)=>{const t=e.currentTarget.value;this.setState({license:t})},this.onAddRepositoryClicked=()=>this.props.dispatcher.showPopup({type:w.PopupType.AddRepository,path:this.state.path}),this.onWindowFocus=()=>{this.updateReadMeExists(this.state.path,this.state.name)};const t=this.props.initialPath?this.props.initialPath:C.getDefaultDir(),n=this.props.initialPath?d.sanitizedRepositoryName(i.basename(this.props.initialPath)):'';this.state={path:t,name:n,description:'',createWithReadme:!1,creating:!1,gitIgnoreNames:null,gitIgnore:R,licenses:null,license:x.name,isValidPath:null,isRepository:!1,readMeExists:!1}}async componentDidMount(){window.addEventListener('focus',this.onWindowFocus);const e=await g.getGitIgnoreNames();this.setState({gitIgnoreNames:e});const t=await y.getLicenses();this.setState({licenses:t});const n=await s.isGitRepository(this.state.path);this.setState({isRepository:n}),this.updateReadMeExists(this.state.path,this.state.name)}componentWillUnmount(){window.removeEventListener('focus',this.onWindowFocus)}async updateReadMeExists(e,t){if(!T.enableReadmeOverwriteWarning())return;const n=i.join(e,d.sanitizedRepositoryName(t),'README.md'),o=await a.pathExists(n);this.setState((t)=>t.path===e?{readMeExists:o}:null)}renderSanitizedName(){const e=d.sanitizedRepositoryName(this.state.name);return this.state.name===e?null:r.createElement(p.Row,{className:'warning-helper-text'},r.createElement(v.Octicon,{symbol:v.OcticonSymbol.alert}),'Will be created as ',e)}renderGitIgnores(){const e=this.state.gitIgnoreNames||[],t=[R,...e];return r.createElement(p.Row,null,r.createElement(h.Select,{label:'Git ignore',value:this.state.gitIgnore,onChange:this.onGitIgnoreChange},t.map((e)=>r.createElement('option',{key:e,value:e},e))))}renderLicenses(){const e=this.state.licenses||[],t=[x,...e.filter((e)=>e.featured)],n=e.filter((e)=>!e.featured);return r.createElement(p.Row,null,r.createElement(h.Select,{label:'License',value:this.state.license,onChange:this.onLicenseChange},t.map((e)=>r.createElement('option',{key:e.name,value:e.name},e.name)),r.createElement('option',{disabled:!0},'\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500'),n.map((e)=>r.createElement('option',{key:e.name,value:e.name},e.name))))}renderInvalidPathError(){const e=this.state.isValidPath;return!(null!==e)||e?null:r.createElement(b.DialogError,null,'Directory could not be created at this path. You may not have permissions to create a directory here.')}renderGitRepositoryWarning(){const e=this.state.isRepository;return this.state.path&&0!==this.state.path.length&&e?r.createElement(p.Row,{className:'warning-helper-text'},r.createElement(v.Octicon,{symbol:v.OcticonSymbol.alert}),r.createElement('p',null,'This directory appears to be a Git repository. Would you like to',' ',r.createElement(E.LinkButton,{onClick:this.onAddRepositoryClicked},'add this repository'),' ','instead?')):null}renderReadmeOverwriteWarning(){return T.enableReadmeOverwriteWarning()?!1===this.state.createWithReadme||!1===this.state.readMeExists?null:r.createElement(p.Row,{className:'warning-helper-text'},r.createElement(v.Octicon,{symbol:v.OcticonSymbol.alert}),r.createElement('p',null,'This directory contains a ',r.createElement(k.Ref,null,'README.md'),' file already. Checking this box will result in the existing file being overwritten.')):null}render(){const e=0===this.state.path.length||0===this.state.name.length||this.state.creating||this.state.isRepository,t=!!this.props.initialPath;return r.createElement(b.Dialog,{id:'create-repository',title:'Create a new repository',loading:this.state.creating,onSubmit:this.createRepository,onDismissed:this.props.onDismissed},this.renderInvalidPathError(),r.createElement(b.DialogContent,null,r.createElement(p.Row,null,r.createElement(l.TextBox,{value:this.state.name,label:'Name',placeholder:'repository name',onValueChanged:this.onNameChanged})),this.renderSanitizedName(),r.createElement(p.Row,null,r.createElement(l.TextBox,{value:this.state.description,label:'Description',onValueChanged:this.onDescriptionChanged})),r.createElement(p.Row,null,r.createElement(l.TextBox,{value:this.state.path,label:'Local path',placeholder:'repository path',onValueChanged:this.onPathChanged,disabled:t}),r.createElement(c.Button,{onClick:this.showFilePicker,disabled:t},'Choose\u2026')),this.renderGitRepositoryWarning(),r.createElement(p.Row,null,r.createElement(u.Checkbox,{label:'Initialize this repository with a README',value:this.state.createWithReadme?u.CheckboxValue.On:u.CheckboxValue.Off,onChange:this.onCreateWithReadmeChange})),this.renderReadmeOverwriteWarning(),this.renderGitIgnores(),this.renderLicenses()),r.createElement(b.DialogFooter,null,r.createElement(_.OkCancelButtonGroup,{okButtonText:'Create repository',okButtonDisabled:e})))}}t.CreateRepository=P},function(e,t,n){'use strict';const o=n(63),r=o.homedir();e.exports=(e)=>{if('string'!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);return r?e.replace(/^~($|\/|\\)/,`${r}$1`):e}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(1),i=n(22),a=n(20),s=n(20),d=n(12),l=n(29),c=n(18),p=n(3),u=n(4),m=n(13),h=n(24),f=n(7),g=n(431);class y extends o.Component{constructor(e){super(e),this.onPathChanged=async(e)=>{const t=await a.isGitRepository(e);this.setState({path:e,isRepository:t})},this.showFilePicker=async()=>{const e=i.remote.getCurrentWindow(),{filePaths:t}=await i.remote.dialog.showOpenDialog(e,{properties:['createDirectory','openDirectory']});if(0!==t.length){const e=t[0],n=await a.isGitRepository(e),o=await s.isBareRepository(e);this.setState({path:e,isRepository:n,showNonGitRepositoryWarning:!n||o,isRepositoryBare:o})}},this.addRepository=async()=>{this.props.onDismissed();const e=this.resolvedPath(this.state.path),t=await this.props.dispatcher.addRepositories([e]);if(t&&t.length){const e=t[0];this.props.dispatcher.selectRepository(e),this.props.dispatcher.recordAddExistingRepository()}},this.onCreateRepositoryClicked=()=>{const e=this.resolvedPath(this.state.path);return this.props.dispatcher.showPopup({type:h.PopupType.CreateRepository,path:e})};const t=this.props.path?this.props.path:'';this.state={path:t,isRepository:!1,showNonGitRepositoryWarning:!1,isRepositoryBare:!1}}async componentDidMount(){const e=this.state.path;if(!(1>e.length)){const t=await a.isGitRepository(e);if(this.state.path===e){const e=await s.isBareRepository(this.state.path);return!0===e?void this.setState({isRepositoryBare:!0}):void(this.setState({isRepository:t,showNonGitRepositoryWarning:!t}),this.setState({isRepositoryBare:!1}))}}}renderWarning(){return this.state.path.length&&this.state.showNonGitRepositoryWarning?this.state.isRepositoryBare?o.createElement(c.Row,{className:'warning-helper-text'},o.createElement(u.Octicon,{symbol:u.OcticonSymbol.alert}),o.createElement('p',null,'This directory appears to be a bare repository. Bare repositories are not currently supported.')):o.createElement(c.Row,{className:'warning-helper-text'},o.createElement(u.Octicon,{symbol:u.OcticonSymbol.alert}),o.createElement('p',null,'This directory does not appear to be a Git repository.',o.createElement('br',null),'Would you like to',' ',o.createElement(m.LinkButton,{onClick:this.onCreateRepositoryClicked},'create a repository'),' ','here instead?')):null}render(){const e=0===this.state.path.length||!this.state.isRepository||this.state.isRepositoryBare;return o.createElement(p.Dialog,{id:'add-existing-repository',title:'Add local repository',onSubmit:this.addRepository,onDismissed:this.props.onDismissed},o.createElement(p.DialogContent,null,o.createElement(c.Row,null,o.createElement(l.TextBox,{value:this.state.path,label:'Local path',placeholder:'repository path',onValueChanged:this.onPathChanged}),o.createElement(d.Button,{onClick:this.showFilePicker},'Choose\u2026')),this.renderWarning()),o.createElement(p.DialogFooter,null,o.createElement(f.OkCancelButtonGroup,{okButtonText:'Add repository',okButtonDisabled:e})))}resolvedPath(e){return r.resolve('/',g(e))}}t.AddExistingRepository=y},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(432)),o(n(430))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(92),i=n(12),a=n(18),s=n(13);class d extends o.Component{constructor(){super(...arguments),this.checkAgain=()=>{this.props.dispatcher.refreshRepository(this.props.repository)},this.remove=()=>{this.props.dispatcher.removeRepositories([this.props.repository],!1)},this.locate=()=>{this.props.dispatcher.relocateRepository(this.props.repository)},this.cloneAgain=async()=>{const e=this.props.repository.gitHubRepository;if(e){const t=e.cloneURL;if(t)try{await this.props.dispatcher.cloneAgain(t,this.props.repository.path)}catch(e){this.props.dispatcher.postError(e)}}}}render(){const e=[];return e.push(o.createElement(i.Button,{key:'locate',onClick:this.locate,type:'submit'},'Locate\u2026')),this.canCloneAgain()&&e.push(o.createElement(i.Button,{key:'clone-again',onClick:this.cloneAgain},'Clone Again')),e.push(o.createElement(i.Button,{key:'remove',onClick:this.remove},'Remove')),o.createElement(r.UiView,{id:'missing-repository-view'},o.createElement('div',{className:'title-container'},o.createElement('div',{className:'title'},'Can\'t find "',this.props.repository.name,'"'),o.createElement('div',{className:'details'},'It was last seen at',' ',o.createElement('span',{className:'path'},this.props.repository.path),'.',' ',o.createElement(s.LinkButton,{onClick:this.checkAgain},'Check\xA0again.'))),o.createElement(a.Row,null,e))}canCloneAgain(){const e=this.props.repository.gitHubRepository;return e&&e.cloneURL}}t.MissingRepository=d},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.parseCarriageReturn=function(e){return 0>e.indexOf('\r')?e:e.split('\n').map((e)=>e.split('\r').reduce((e,t)=>t.length>=e.length?t:t+e.substring(t.length))).join('\n')}},function(e,t,n){'use strict';function o(e){return r(e)?e.underlyingError:e}function r(e){return e instanceof h.ErrorWithMetadata}function i(e){return e instanceof c.GitError}function a(e){if(!r(e))return!1;const{retryAction:t}=e.metadata;return t!==void 0&&t.type===f.RetryActionType.Clone}Object.defineProperty(t,'__esModule',{value:!0});const s=n(0),d=n(3),l=n(310),c=n(11),p=n(24),u=n(88),m=n(7),h=n(107),f=n(80),g=n(21),y=n(67),S=n(435);class C extends s.Component{constructor(e){super(e),this.dialogContent=null,this.formatGitErrorMessage=y.default(S.parseCarriageReturn),this.onDismissed=()=>{const e=this.state.error;null!==e&&(this.setState({error:null,disabled:!0}),window.setTimeout(()=>{this.props.onClearError(e)},l.dialogTransitionLeaveTimeout))},this.showPreferencesDialog=()=>{this.onDismissed(),window.setTimeout(()=>{this.props.onShowPopup({type:p.PopupType.Preferences})},l.dialogTransitionLeaveTimeout)},this.onRetryAction=(e)=>{e.preventDefault(),this.onDismissed();const{error:t}=this.state;if(null!==t&&r(t)){const{retryAction:e}=t.metadata;e!==void 0&&this.props.onRetryAction(e)}},this.onDialogContentRef=(e)=>{this.dialogContent=e},this.onCloseButtonClick=(t)=>{t.preventDefault(),this.onDismissed()},this.state={error:e.errors[0]||null,disabled:!1}}componentWillReceiveProps(e){const t=e.errors[0]||null;t!==this.state.error&&this.setState({error:t,disabled:!1})}renderErrorMessage(t){const n=t instanceof h.ErrorWithMetadata?t.underlyingError:t;if(n instanceof c.GitError&&(n.message===n.result.stderr||n.message===n.result.stdout)){const e=this.formatGitErrorMessage(n.message);return s.createElement('p',{className:'monospace'},e)}return s.createElement('p',null,n.message)}getTitle(e){return a(e)?'Clone failed':'Error'}renderDialog(){const e=this.state.error;return e?s.createElement(d.Dialog,{id:'app-error',type:'error',key:'error',title:this.getTitle(e),dismissable:!1,onSubmit:this.onDismissed,onDismissed:this.onDismissed,disabled:this.state.disabled},s.createElement(d.DialogContent,{onRef:this.onDialogContentRef},this.renderErrorMessage(e),this.renderContentAfterErrorMessage(e)),this.renderFooter(e)):null}renderContentAfterErrorMessage(e){if(r(e)){const{retryAction:t}=e.metadata;return t&&t.type===f.RetryActionType.Clone?s.createElement('p',null,'Would you like to retry cloning ',s.createElement(g.Ref,null,t.name),'?'):void 0}}scrollToBottomOfGitErrorMessage(){if(null!==this.dialogContent&&null!==this.state.error){const t=o(this.state.error);i(t)&&(t.message===t.result.stderr||t.message===t.result.stdout)&&(this.dialogContent.scrollTop=this.dialogContent.scrollHeight)}}componentDidMount(){this.scrollToBottomOfGitErrorMessage()}componentDidUpdate(e,t){t.error!==this.state.error&&this.scrollToBottomOfGitErrorMessage()}renderFooter(e){if(a(e))return this.renderRetryCloneFooter();const t=o(e);if(i(t)){const{gitError:e}=t.result;if(null!==e&&c.isAuthFailureError(e))return this.renderOpenPreferencesFooter()}return this.renderDefaultFooter()}renderRetryCloneFooter(){return s.createElement(d.DialogFooter,null,s.createElement(m.OkCancelButtonGroup,{okButtonText:'Retry clone',onOkButtonClick:this.onRetryAction,onCancelButtonClick:this.onCloseButtonClick}))}renderOpenPreferencesFooter(){return s.createElement(d.DialogFooter,null,s.createElement(m.OkCancelButtonGroup,{okButtonText:'Close',onOkButtonClick:this.onCloseButtonClick,cancelButtonText:'Open options',onCancelButtonClick:this.showPreferencesDialog}))}renderDefaultFooter(){return s.createElement(d.DefaultDialogFooter,{onButtonClick:this.onCloseButtonClick})}render(){return s.createElement(u.CSSTransitionGroup,{transitionName:'modal',component:'div',transitionEnterTimeout:l.dialogTransitionEnterTimeout,transitionLeaveTimeout:l.dialogTransitionLeaveTimeout},this.renderDialog())}}t.AppError=C},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(129),a=n(190);var s;(function(e){e.Parent='ForkContributionTargetParent',e.Self='ForkContributionTargetSelf'})(s||(s={}));class d extends o.Component{constructor(){super(...arguments),this.onForkContributionTargetChanged=(e)=>{const t=e.currentTarget.value;this.props.onForkContributionTargetChanged(t)}}render(){return o.createElement(r.DialogContent,null,o.createElement('h2',null,'I\'ll be using this fork\u2026'),o.createElement('div',{className:'radio-component'},o.createElement('input',{type:'radio',id:s.Parent,value:i.ForkContributionTarget.Parent,checked:this.props.forkContributionTarget===i.ForkContributionTarget.Parent,onChange:this.onForkContributionTargetChanged}),o.createElement('label',{htmlFor:s.Parent},'To contribute to the parent repository')),o.createElement('div',{className:'radio-component'},o.createElement('input',{type:'radio',id:s.Self,value:i.ForkContributionTarget.Self,checked:this.props.forkContributionTarget===i.ForkContributionTarget.Self,onChange:this.onForkContributionTargetChanged}),o.createElement('label',{htmlFor:s.Self},'For my own purposes')),o.createElement(a.ForkSettingsDescription,{repository:this.props.repository,forkContributionTarget:this.props.forkContributionTarget}))}}t.ForkSettings=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a=n(112);class s extends o.Component{render(){return o.createElement(r.DialogContent,null,o.createElement(a.CallToAction,{actionTitle:'Publish',onAction:this.props.onPublish},o.createElement('div',null,'Publish your repository to GitHub. Need help?',' ',o.createElement(i.LinkButton,{uri:'https://help.github.com/articles/about-remote-repositories/'},'Learn more'),' about remote repositories.')))}}t.NoRemote=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(27);class a extends o.Component{constructor(){super(...arguments),this.onChange=(e)=>{this.props.onChange&&this.props.onChange(e),this.props.onValueChanged&&!e.defaultPrevented&&this.props.onValueChanged(e.currentTarget.value)},this.onContextMenu=(e)=>{e.preventDefault(),i.showContextualMenu([{role:'editMenu'}])}}render(){const e=r('text-area-component',this.props.labelClassName);return o.createElement('label',{className:e},this.props.label,o.createElement('textarea',{autoFocus:this.props.autoFocus,className:this.props.textareaClassName,disabled:this.props.disabled,rows:this.props.rows||3,placeholder:this.props.placeholder,value:this.props.value,onChange:this.onChange,onKeyDown:this.props.onKeyDown,ref:this.props.onTextAreaRef,onContextMenu:this.onContextMenu}))}}t.TextArea=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(439),a=n(13),s=n(21);class d extends o.Component{render(){return o.createElement(r.DialogContent,null,o.createElement('p',null,'Editing ',o.createElement(s.Ref,null,'.gitignore'),'. This file specifies intentionally untracked files that Git should ignore. Files already tracked by Git are not affected.',' ',o.createElement(a.LinkButton,{onClick:this.props.onShowExamples},'Learn more')),o.createElement(i.TextArea,{placeholder:'Ignored files',value:this.props.text||'',onValueChanged:this.props.onIgnoreTextChanged,rows:6}))}}t.GitIgnore=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(29),i=n(3);class a extends o.Component{render(){const e=this.props.remote;return o.createElement(i.DialogContent,null,o.createElement('p',null,'Primary remote repository (',e.name,')'),o.createElement(r.TextBox,{placeholder:'Remote URL',value:e.url,onValueChanged:this.props.onRemoteUrlChanged}))}}t.Remote=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(50),i=n(441),a=n(440),s=n(2),d=n(24),l=n(26),c=n(3),p=n(438),u=n(20),m=n(7),h=n(437),f=n(25);var g;(function(e){e[e.Remote=0]='Remote',e[e.IgnoredFiles=1]='IgnoredFiles',e[e.ForkSettings=2]='ForkSettings'})(g||(g={}));class y extends o.Component{constructor(e){super(e),this.onPublish=()=>{this.props.dispatcher.showPopup({type:d.PopupType.PublishRepository,repository:this.props.repository})},this.onShowGitIgnoreExamples=()=>{this.props.dispatcher.openInBrowser('https://git-scm.com/docs/gitignore')},this.onSubmit=async()=>{this.setState({disabled:!0,errors:void 0});const t=[];if(this.state.remote&&this.props.remote&&this.state.remote.url!==this.props.remote.url)try{await this.props.dispatcher.setRemoteURL(this.props.repository,this.props.remote.name,this.state.remote.url)}catch(n){log.error(`RepositorySettings: unable to set remote URL at ${this.props.repository.path}`,n),t.push(`Failed setting the remote URL: ${n}`)}if(this.state.ignoreTextHasChanged&&null!==this.state.ignoreText)try{await this.props.dispatcher.saveGitIgnore(this.props.repository,this.state.ignoreText)}catch(n){log.error(`RepositorySettings: unable to save gitignore at ${this.props.repository.path}`,n),t.push(`Failed saving the .gitignore file: ${n}`)}this.state.forkContributionTarget!==this.props.repository.workflowPreferences.forkContributionTarget&&(await this.props.dispatcher.updateRepositoryWorkflowPreferences(this.props.repository,Object.assign({},this.props.repository.workflowPreferences,{forkContributionTarget:this.state.forkContributionTarget}))),t.length?this.setState({disabled:!1,errors:t}):this.props.onDismissed()},this.onRemoteUrlChanged=(e)=>{const t=this.props.remote;if(t){const n=Object.assign({},t,{url:e});this.setState({remote:n})}},this.onIgnoreTextChanged=(e)=>{this.setState({ignoreText:e,ignoreTextHasChanged:!0})},this.onTabClicked=(e)=>{this.setState({selectedTab:e})},this.onForkContributionTargetChanged=(e)=>{this.setState({forkContributionTarget:e})},this.state={selectedTab:g.Remote,remote:e.remote,ignoreText:null,ignoreTextHasChanged:!1,disabled:!1,forkContributionTarget:l.getForkContributionTarget(e.repository)}}async componentWillMount(){try{const e=await u.readGitIgnoreAtRoot(this.props.repository);this.setState({ignoreText:e})}catch(t){log.error(`RepositorySettings: unable to read root .gitignore file for ${this.props.repository.path}`,t),this.setState({errors:[`Could not read root .gitignore: ${t}`]})}}renderErrors(){const e=this.state.errors;return e&&e.length?e.map((e,t)=>{const n=`err-${t}`;return o.createElement(c.DialogError,{key:n},e)}):null}render(){const e=f.enableForkSettings()&&l.isRepositoryWithForkedGitHubRepository(this.props.repository);return o.createElement(c.Dialog,{id:'repository-settings',title:'Repository settings',onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,disabled:this.state.disabled},this.renderErrors(),o.createElement('div',{className:'tab-container'},o.createElement(r.TabBar,{onTabClicked:this.onTabClicked,selectedIndex:this.state.selectedTab,type:r.TabBarType.Vertical},o.createElement('span',null,'Remote'),o.createElement('span',null,'Ignored files'),e&&o.createElement('span',null,'Fork behavior')),o.createElement('div',{className:'active-tab'},this.renderActiveTab())),this.renderFooter())}renderFooter(){const e=this.state.selectedTab,t=this.state.remote;return e!==g.Remote||t?o.createElement(c.DialogFooter,null,o.createElement(m.OkCancelButtonGroup,{okButtonText:'Save'})):null}renderActiveTab(){const e=this.state.selectedTab;switch(e){case g.Remote:{const e=this.state.remote;return e?o.createElement(i.Remote,{remote:e,onRemoteUrlChanged:this.onRemoteUrlChanged}):o.createElement(p.NoRemote,{onPublish:this.onPublish})}case g.IgnoredFiles:return o.createElement(a.GitIgnore,{text:this.state.ignoreText,onIgnoreTextChanged:this.onIgnoreTextChanged,onShowExamples:this.onShowGitIgnoreExamples});case g.ForkSettings:return l.isRepositoryWithForkedGitHubRepository(this.props.repository)?o.createElement(h.ForkSettings,{forkContributionTarget:this.state.forkContributionTarget,repository:this.props.repository,onForkContributionTargetChanged:this.onForkContributionTargetChanged}):null;}return s.assertNever(e,`Unknown tab type: ${e}`)}}t.RepositorySettings=y},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(442);t.RepositorySettings=o.RepositorySettings},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(20),i=n(3),a=n(90),s=n(20),d=n(70),l=n(144),c=n(122),p=n(191);class u extends o.Component{constructor(e){super(e),this.onFilterTextChanged=(e)=>{this.setState({filterText:e})},this.onSelectionChanged=async(e)=>{null==e?this.setState({selectedBranch:e,commitCount:0,mergeStatus:null}):(this.setState({selectedBranch:e}),await this.updateMergeStatus(e))},this.renderBranch=(e,t)=>a.renderDefaultBranch(e,t,this.props.currentBranch),this.merge=()=>{const e=this.state.selectedBranch;e&&(this.props.dispatcher.mergeBranch(this.props.repository,e.name,this.state.mergeStatus),this.props.dispatcher.closePopup())};const t=this.resolveSelectedBranch();this.state={selectedBranch:t,commitCount:void 0,filterText:'',mergeStatus:null}}componentDidMount(){const e=this.state.selectedBranch;e&&this.updateMergeStatus(e)}renderMergeInfo(){const{currentBranch:e}=this.props,{selectedBranch:t,mergeStatus:n,commitCount:r}=this.state;return null==n||null==e||null==t||e.name===t.name||null==r?null:o.createElement('div',{className:'merge-status-component'},o.createElement(l.ActionStatusIcon,{status:this.state.mergeStatus,classNamePrefix:'merge-status'}),o.createElement('p',{className:'merge-info'},this.renderMergeStatusMessage(n,t,e,r)))}renderMergeStatusMessage(e,t,n,o){return e.kind===d.ComputedAction.Loading?this.renderLoadingMergeMessage():e.kind===d.ComputedAction.Clean?this.renderCleanMergeMessage(t,n,o):e.kind===d.ComputedAction.Invalid?this.renderInvalidMergeMessage():this.renderConflictedMergeMessage(t,n,e.conflictedFiles)}renderLoadingMergeMessage(){return o.createElement(o.Fragment,null,'Checking for ability to merge automatically...')}renderCleanMergeMessage(e,t,n){if(0===n)return o.createElement(o.Fragment,null,`This branch is up to date with `,o.createElement('strong',null,e.name));const r=1===n?'commit':'commits';return o.createElement(o.Fragment,null,'This will merge',o.createElement('strong',null,` ${n} ${r}`),` from `,o.createElement('strong',null,e.name),` into `,o.createElement('strong',null,t.name))}renderInvalidMergeMessage(){return o.createElement(o.Fragment,null,'Unable to merge unrelated histories in this repository')}renderConflictedMergeMessage(e,t,n){const r=1===n?'file':'files';return o.createElement(o.Fragment,null,'There will be',o.createElement('strong',null,` ${n} conflicted ${r}`),` when merging `,o.createElement('strong',null,e.name),` into `,o.createElement('strong',null,t.name))}render(){const e=this.state.selectedBranch,t=this.props.currentBranch,n=null===e||null===t||t.name===e.name,r=n||0===this.state.commitCount,s=null!=this.state.mergeStatus&&this.state.mergeStatus.kind===d.ComputedAction.Invalid,l=p.truncateWithEllipsis(this.props.currentBranch.name,40);return o.createElement(i.Dialog,{id:'merge',onDismissed:this.props.onDismissed,onSubmit:this.merge,title:o.createElement(o.Fragment,null,'Merge into ',o.createElement('strong',null,l))},o.createElement(i.DialogContent,null,o.createElement(a.BranchList,{allBranches:this.props.allBranches,currentBranch:t,defaultBranch:this.props.defaultBranch,recentBranches:this.props.recentBranches,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,selectedBranch:e,onSelectionChanged:this.onSelectionChanged,canCreateNewBranch:!1,renderBranch:this.renderBranch})),o.createElement(i.DialogFooter,null,this.renderMergeInfo(),o.createElement(i.OkCancelButtonGroup,{okButtonText:o.createElement(o.Fragment,null,'Merge',' ',o.createElement('strong',null,e?e.name:''),' ','into ',o.createElement('strong',null,t?t.name:'')),okButtonDisabled:r||s,cancelButtonVisible:!1})))}async updateMergeStatus(e){this.setState({mergeStatus:{kind:d.ComputedAction.Loading}});const{currentBranch:t}=this.props;if(null!=t){const n=await c.promiseWithMinimumTimeout(()=>r.mergeTree(this.props.repository,t,e),500);this.setState({mergeStatus:n})}const n=s.revSymmetricDifference('',e.name),o=await r.getAheadBehind(this.props.repository,n),i=o?o.behind:0;this.state.selectedBranch===e?this.setState({commitCount:i}):this.setState({commitCount:void 0})}resolveSelectedBranch(){const{currentBranch:e,defaultBranch:t,initialBranch:n}=this.props;return void 0===n?e===t?null:t:n}}t.Merge=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(444);t.Merge=o.Merge},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(13),a=n(18),s=n(140),d=n(280),l=n(123);class c extends o.Component{constructor(e){super(e),this.onSelectedEditorChanged=(e)=>{const t=d.parse(e.currentTarget.value);t&&(this.setState({selectedExternalEditor:t}),this.props.onSelectedEditorChanged(t))},this.onSelectedShellChanged=(e)=>{const t=l.parse(e.currentTarget.value);this.setState({selectedShell:t}),this.props.onSelectedShellChanged(t)},this.state={selectedExternalEditor:this.props.selectedExternalEditor,selectedShell:this.props.selectedShell}}async componentWillReceiveProps(e){const t=e.availableEditors;let n=e.selectedExternalEditor;if(t.length){const o=n?t.indexOf(n):-1;-1===o&&(n=t[0],e.onSelectedEditorChanged(n))}const o=e.availableShells;let r=e.selectedShell;if(o.length){const t=o.indexOf(r);-1===t&&(r=o[0],e.onSelectedShellChanged(r))}this.setState({selectedExternalEditor:n,selectedShell:r})}renderExternalEditor(){const e=this.props.availableEditors,t=this.state.selectedExternalEditor,n='External editor';return 0===e.length?o.createElement('div',{className:'select-component no-options-found'},o.createElement('label',null,n),o.createElement('span',null,'No editors found.',' ',o.createElement(i.LinkButton,{uri:'https://atom.io/'},'Install Atom?'))):o.createElement(s.Select,{label:n,value:t?t:void 0,onChange:this.onSelectedEditorChanged},e.map((e)=>o.createElement('option',{key:e,value:e},e)))}renderSelectedShell(){const e=this.props.availableShells;return o.createElement(s.Select,{label:'Shell',value:this.state.selectedShell,onChange:this.onSelectedShellChanged},e.map((e)=>o.createElement('option',{key:e,value:e},e)))}render(){return o.createElement(r.DialogContent,null,o.createElement('h2',null,'Applications'),o.createElement(a.Row,null,this.renderExternalEditor()),o.createElement(a.Row,null,this.renderSelectedShell()))}}t.Integrations=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.onClick(this.props.index)}}render(){const e=this.props.description?o.createElement('p',null,this.props.description):void 0,t=this.props.isSelected,n=t?'selected':void 0;return o.createElement('li',{className:n,onClick:this.onClick,role:'radio',id:this.props.id,"aria-checked":t?'true':'false'},o.createElement('div',{className:'title'},this.props.title),e)}}t.SegmentedItem=r},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(68),i=n(447);class a extends o.Component{constructor(e){super(e),this.listRef=null,this.formRef=null,this.onItemClick=(e)=>{e!==this.props.selectedIndex&&this.props.onSelectionChanged(e)},this.onKeyDown=(e)=>{if('ArrowUp'===e.key)0<this.props.selectedIndex&&this.props.onSelectionChanged(this.props.selectedIndex-1),e.preventDefault();else if('ArrowDown'===e.key)this.props.selectedIndex<this.props.items.length-1&&this.props.onSelectionChanged(this.props.selectedIndex+1),e.preventDefault();else if('Enter'===e.key){const e=this.formRef;e&&e.dispatchEvent(new Event('submit'))}},this.onListRef=(e)=>{this.listRef=e},this.onFieldsetRef=(e)=>{this.formRef=e?e.form:null},this.onLegendClick=()=>{this.listRef&&this.listRef.focus()},this.state={}}updateListId(e){this.state.listId&&(r.releaseUniqueId(this.state.listId),this.setState({listId:void 0})),e&&this.setState({listId:r.createUniqueId(`VerticalSegmentedControl_${e}`)})}componentWillMount(){this.updateListId(this.props.label)}componentWillUnmount(){this.state.listId&&r.releaseUniqueId(this.state.listId)}componentWillReceiveProps(e){this.props.label!==e.label&&this.updateListId(e.label)}getListItemId(e){return`${this.state.listId}_Item_${e}`}renderItem(e,t,n){return o.createElement(i.SegmentedItem,{id:this.getListItemId(t),key:t,title:e.title,description:e.description,index:t,isSelected:n,onClick:this.onItemClick})}render(){if(!this.props.items.length)return null;const e=this.props.selectedIndex,t=this.props.label?o.createElement('legend',{onClick:this.onLegendClick},this.props.label):void 0,n=this.getListItemId(e);return o.createElement('fieldset',{className:'vertical-segmented-control',ref:this.onFieldsetRef},t,o.createElement('ul',{ref:this.onListRef,id:this.state.listId,className:'vertical-segmented-control',tabIndex:0,onKeyDown:this.onKeyDown,role:'radiogroup',"aria-activedescendant":n},this.props.items.map((t,n)=>this.renderItem(t,n,n===e))))}}t.VerticalSegmentedControl=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(173),i=n(36),a=n(18),s=n(3),d=n(111),l=n(85),c=n(2),p=[{title:'Light',description:'The default theme of GitHub Desktop'},{title:'Dark',description:'GitHub Desktop is for you too, creatures of the night'}];class u extends o.Component{constructor(){super(...arguments),this.onSelectedThemeChanged=(e)=>{0===e?this.props.onSelectedThemeChanged(l.ApplicationTheme.Light):1===e?this.props.onSelectedThemeChanged(l.ApplicationTheme.Dark):c.fatalError(`Unknown theme index ${e}`),this.props.onAutomaticallySwitchThemeChanged(!1)},this.onAutomaticallySwitchThemeChanged=(e)=>{const t=e.currentTarget.checked;t&&this.onSelectedThemeChanged(r.isDarkModeEnabled()?1:0),this.props.onAutomaticallySwitchThemeChanged(t)}}render(){return o.createElement(s.DialogContent,null,this.renderThemeOptions(),this.renderAutoSwitcherOption())}renderThemeOptions(){const e=this.props.selectedTheme===l.ApplicationTheme.Dark?1:0;return o.createElement(a.Row,null,o.createElement(d.VerticalSegmentedControl,{items:p,selectedIndex:e,onSelectionChanged:this.onSelectedThemeChanged}))}renderAutoSwitcherOption(){return r.supportsDarkMode()?o.createElement(a.Row,null,o.createElement(i.Checkbox,{label:'Automatically switch theme to match system theme.',value:this.props.automaticallySwitchTheme?i.CheckboxValue.On:i.CheckboxValue.Off,onChange:this.onAutomaticallySwitchThemeChanged})):null}}t.Appearance=u},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=/^[\x00-\x20.,:;<>"\\']+$/;t.gitAuthorNameIsValid=function(e){return!n.test(e)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(29),i=n(18),a=n(3);class s extends o.Component{render(){return o.createElement(a.DialogContent,null,o.createElement(i.Row,null,o.createElement(r.TextBox,{label:'Name',value:this.props.name,onValueChanged:this.props.onNameChanged})),o.createElement(i.Row,null,o.createElement(r.TextBox,{label:'Email',value:this.props.email,onValueChanged:this.props.onEmailChanged})))}}t.Git=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(36),a=n(13),s=n(86),d=n(61),l=n(25);class c extends o.Component{constructor(e){super(e),this.onReportingOptOutChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({optOutOfUsageTracking:t}),this.props.onOptOutofReportingchanged(t)},this.onConfirmDiscardChangesChanged=(e)=>{const t=e.currentTarget.checked;this.setState({confirmDiscardChanges:t}),this.props.onConfirmDiscardChangesChanged(t)},this.onConfirmForcePushChanged=(e)=>{const t=e.currentTarget.checked;this.setState({confirmForcePush:t}),this.props.onConfirmForcePushChanged(t)},this.onConfirmRepositoryRemovalChanged=(e)=>{const t=e.currentTarget.checked;this.setState({confirmRepositoryRemoval:t}),this.props.onConfirmRepositoryRemovalChanged(t)},this.onUncommittedChangesStrategyKindChanged=(e)=>{const t=e.currentTarget.value;this.setState({uncommittedChangesStrategyKind:t}),this.props.onUncommittedChangesStrategyKindChanged(t)},this.onSchannelCheckRevokeChanged=(e)=>{const t=e.currentTarget.checked;this.props.onSchannelCheckRevokeChanged(!1===t)},this.state={optOutOfUsageTracking:this.props.optOutOfUsageTracking,confirmRepositoryRemoval:this.props.confirmRepositoryRemoval,confirmDiscardChanges:this.props.confirmDiscardChanges,confirmForcePush:this.props.confirmForcePush,uncommittedChangesStrategyKind:this.props.uncommittedChangesStrategyKind}}reportDesktopUsageLabel(){return o.createElement('span',null,'Help GitHub Desktop improve by submitting',' ',o.createElement(a.LinkButton,{uri:s.SamplesURL},'usage stats'))}render(){return o.createElement(r.DialogContent,null,o.createElement('div',{className:'advanced-section'},o.createElement('h2',null,'If I have changes and I switch branches...'),o.createElement('div',{className:'radio-component'},o.createElement('input',{type:'radio',id:d.UncommittedChangesStrategyKind.AskForConfirmation,value:d.UncommittedChangesStrategyKind.AskForConfirmation,checked:this.state.uncommittedChangesStrategyKind===d.UncommittedChangesStrategyKind.AskForConfirmation,onChange:this.onUncommittedChangesStrategyKindChanged}),o.createElement('label',{htmlFor:d.UncommittedChangesStrategyKind.AskForConfirmation},'Ask me where I want the changes to go')),o.createElement('div',{className:'radio-component'},o.createElement('input',{type:'radio',id:d.UncommittedChangesStrategyKind.MoveToNewBranch,value:d.UncommittedChangesStrategyKind.MoveToNewBranch,checked:this.state.uncommittedChangesStrategyKind===d.UncommittedChangesStrategyKind.MoveToNewBranch,onChange:this.onUncommittedChangesStrategyKindChanged}),o.createElement('label',{htmlFor:d.UncommittedChangesStrategyKind.MoveToNewBranch},'Always bring my changes to my new branch')),o.createElement('div',{className:'radio-component'},o.createElement('input',{type:'radio',id:d.UncommittedChangesStrategyKind.StashOnCurrentBranch,value:d.UncommittedChangesStrategyKind.StashOnCurrentBranch,checked:this.state.uncommittedChangesStrategyKind===d.UncommittedChangesStrategyKind.StashOnCurrentBranch,onChange:this.onUncommittedChangesStrategyKindChanged}),o.createElement('label',{htmlFor:d.UncommittedChangesStrategyKind.StashOnCurrentBranch},'Always stash and leave my changes on the current branch'))),o.createElement('div',{className:'advanced-section'},o.createElement('h2',null,'Show a confirmation dialog before...'),o.createElement(i.Checkbox,{label:'Removing repositories',value:this.state.confirmRepositoryRemoval?i.CheckboxValue.On:i.CheckboxValue.Off,onChange:this.onConfirmRepositoryRemovalChanged}),o.createElement(i.Checkbox,{label:'Discarding changes',value:this.state.confirmDiscardChanges?i.CheckboxValue.On:i.CheckboxValue.Off,onChange:this.onConfirmDiscardChangesChanged}),o.createElement(i.Checkbox,{label:'Force pushing',value:this.state.confirmForcePush?i.CheckboxValue.On:i.CheckboxValue.Off,onChange:this.onConfirmForcePushChanged})),o.createElement('div',{className:'advanced-section'},o.createElement('h2',null,'Usage'),o.createElement(i.Checkbox,{label:this.reportDesktopUsageLabel(),value:this.state.optOutOfUsageTracking?i.CheckboxValue.Off:i.CheckboxValue.On,onChange:this.onReportingOptOutChanged})),this.renderGitAdvancedSection())}renderGitAdvancedSection(){return!1,l.enableSchannelCheckRevokeOptOut()?null===this.props.schannelCheckRevoke?void 0:o.createElement('div',{className:'git-advanced-section'},o.createElement('h2',null,'Git'),o.createElement(i.Checkbox,{label:'Disable certificate revocation checks',value:this.props.schannelCheckRevoke?i.CheckboxValue.Off:i.CheckboxValue.On,onChange:this.onSchannelCheckRevokeChanged})):void 0}}t.Advanced=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(135),i=n(2),a=n(12),s=n(18),d=n(3),l=n(149),c=n(112);var p;(function(e){e[e.DotCom=0]='DotCom',e[e.Enterprise=1]='Enterprise'})(p||(p={}));class u extends o.Component{constructor(){super(...arguments),this.onDotComSignIn=()=>{this.props.onDotComSignIn()},this.onEnterpriseSignIn=()=>{this.props.onEnterpriseSignIn()},this.logout=(e)=>()=>{this.props.onLogout(e)}}render(){return o.createElement(d.DialogContent,{className:'accounts-tab'},o.createElement('h2',null,'GitHub.com'),this.props.dotComAccount?this.renderAccount(this.props.dotComAccount):this.renderSignIn(p.DotCom),o.createElement('h2',null,'GitHub Enterprise Server'),this.props.enterpriseAccount?this.renderAccount(this.props.enterpriseAccount):this.renderSignIn(p.Enterprise))}renderAccount(e){const t=r.lookupPreferredEmail(e),n=t?t.email:'',i={name:e.name,email:n,avatarURL:e.avatarURL};return o.createElement(s.Row,{className:'account-info'},o.createElement(l.Avatar,{user:i}),o.createElement('div',{className:'user-info'},o.createElement('div',{className:'name'},e.name),o.createElement('div',{className:'login'},'@',e.login)),o.createElement(a.Button,{onClick:this.logout(e)},'Sign out'))}renderSignIn(e){const t='Sign in';return e===p.DotCom?o.createElement(c.CallToAction,{actionTitle:t,onAction:this.onDotComSignIn},o.createElement('div',null,'Sign in to your GitHub.com account to access your repositories.')):e===p.Enterprise?o.createElement(c.CallToAction,{actionTitle:t,onAction:this.onEnterpriseSignIn},o.createElement('div',null,'If you have a GitHub Enterprise Server account at work, sign in to it to get access to your repositories.')):i.assertNever(e,`Unknown sign in type: ${e}`)}}t.Accounts=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(164),i=n(50),a=n(453),s=n(452),d=n(451),l=n(2),c=n(3),p=n(84),u=n(135),m=n(123),h=n(279),f=n(450),g=n(449),y=n(7),S=n(446),C=n(61),b=n(4),v=n(20),E=n(195);class w extends o.Component{constructor(e){super(e),this.onDotComSignIn=()=>{this.props.onDismissed(),this.props.dispatcher.showDotComSignInDialog()},this.onEnterpriseSignIn=()=>{this.props.onDismissed(),this.props.dispatcher.showEnterpriseSignInDialog()},this.onLogout=(e)=>{this.props.dispatcher.removeAccount(e)},this.onLockFileDeleted=()=>{this.setState({existingLockFilePath:void 0})},this.onLockFileDeleteError=(t)=>{this.props.dispatcher.postError(t)},this.onOptOutofReportingChanged=(e)=>{this.setState({optOutOfUsageTracking:e})},this.onConfirmRepositoryRemovalChanged=(e)=>{this.setState({confirmRepositoryRemoval:e})},this.onConfirmDiscardChangesChanged=(e)=>{this.setState({confirmDiscardChanges:e})},this.onConfirmForcePushChanged=(e)=>{this.setState({confirmForcePush:e})},this.onUncommittedChangesStrategyKindChanged=(e)=>{this.setState({uncommittedChangesStrategyKind:e})},this.onCommitterNameChanged=(e)=>{this.setState({committerName:e,disallowedCharactersMessage:f.gitAuthorNameIsValid(e)?null:'Name is invalid, it consists only of disallowed characters.'})},this.onCommitterEmailChanged=(e)=>{this.setState({committerEmail:e})},this.onSelectedEditorChanged=(e)=>{this.setState({selectedExternalEditor:e})},this.onSelectedShellChanged=(e)=>{this.setState({selectedShell:e})},this.onSelectedThemeChanged=(e)=>{this.props.dispatcher.setSelectedTheme(e)},this.onAutomaticallySwitchThemeChanged=(e)=>{this.props.dispatcher.onAutomaticallySwitchThemeChanged(e)},this.onSchannelCheckRevokeChanged=(e)=>{this.setState({schannelCheckRevoke:e})},this.onSave=async()=>{try{this.state.committerName!==this.state.initialCommitterName&&(await p.setGlobalConfigValue('user.name',this.state.committerName)),this.state.committerEmail!==this.state.initialCommitterEmail&&(await p.setGlobalConfigValue('user.email',this.state.committerEmail)),this.state.schannelCheckRevoke!==this.state.initialSchannelCheckRevoke&&null!==this.state.schannelCheckRevoke&&!0&&(await p.setGlobalConfigValue('http.schannelCheckRevoke',this.state.schannelCheckRevoke.toString()))}catch(t){if(v.isConfigFileLockError(t)){const e=v.parseConfigLockFilePathFromError(t.result);if(null!==e)return void this.setState({existingLockFilePath:e,selectedIndex:r.PreferencesTab.Git})}return this.props.onDismissed(),void this.props.dispatcher.postError(t)}await this.props.dispatcher.setStatsOptOut(this.state.optOutOfUsageTracking,!1),await this.props.dispatcher.setConfirmRepoRemovalSetting(this.state.confirmRepositoryRemoval),await this.props.dispatcher.setConfirmForcePushSetting(this.state.confirmForcePush),this.state.selectedExternalEditor&&(await this.props.dispatcher.setExternalEditor(this.state.selectedExternalEditor)),await this.props.dispatcher.setShell(this.state.selectedShell),await this.props.dispatcher.setConfirmDiscardChangesSetting(this.state.confirmDiscardChanges),await this.props.dispatcher.setUncommittedChangesStrategyKindSetting(this.state.uncommittedChangesStrategyKind),this.props.onDismissed()},this.onTabClicked=(e)=>{this.setState({selectedIndex:e})},this.state={selectedIndex:this.props.initialSelectedTab||r.PreferencesTab.Accounts,committerName:'',committerEmail:'',initialCommitterName:null,initialCommitterEmail:null,disallowedCharactersMessage:null,availableEditors:[],optOutOfUsageTracking:!1,confirmRepositoryRemoval:!1,confirmDiscardChanges:!1,confirmForcePush:!1,uncommittedChangesStrategyKind:C.uncommittedChangesStrategyKindDefault,automaticallySwitchTheme:!1,selectedExternalEditor:this.props.selectedExternalEditor,availableShells:[],selectedShell:this.props.selectedShell,initialSchannelCheckRevoke:null,schannelCheckRevoke:null}}async componentWillMount(){const e=await p.getGlobalConfigValue('user.name'),t=await p.getGlobalConfigValue('user.email'),n=await p.getGlobalBooleanConfigValue('http.schannelCheckRevoke');let o=e,r=t;if(!o||!r){const e=this.props.dotComAccount||this.props.enterpriseAccount;if(e&&(o||(o=e.login),!r)){const t=u.lookupPreferredEmail(e);t&&(r=t.email)}}o=o||'',r=r||'';const[i,a]=await Promise.all([h.getAvailableEditors(),m.getAvailableShells()]),s=i.map((t)=>t.editor),d=a.map((t)=>t.shell);this.setState({committerName:o,committerEmail:r,initialCommitterName:e,initialCommitterEmail:t,optOutOfUsageTracking:this.props.optOutOfUsageTracking,confirmRepositoryRemoval:this.props.confirmRepositoryRemoval,confirmDiscardChanges:this.props.confirmDiscardChanges,confirmForcePush:this.props.confirmForcePush,uncommittedChangesStrategyKind:this.props.uncommittedChangesStrategyKind,availableShells:d,availableEditors:s,initialSchannelCheckRevoke:n,schannelCheckRevoke:n})}render(){return o.createElement(c.Dialog,{id:'preferences',title:'Options',onDismissed:this.props.onDismissed,onSubmit:this.onSave},o.createElement('div',{className:'preferences-container'},this.renderDisallowedCharactersError(),o.createElement(i.TabBar,{onTabClicked:this.onTabClicked,selectedIndex:this.state.selectedIndex,type:i.TabBarType.Vertical},o.createElement('span',null,o.createElement(b.Octicon,{className:'icon',symbol:b.OcticonSymbol.home}),'Accounts'),o.createElement('span',null,o.createElement(b.Octicon,{className:'icon',symbol:b.OcticonSymbol.person}),'Integrations'),o.createElement('span',null,o.createElement(b.Octicon,{className:'icon',symbol:b.OcticonSymbol.gitCommit}),'Git'),o.createElement('span',null,o.createElement(b.Octicon,{className:'icon',symbol:b.OcticonSymbol.paintcan}),'Appearance'),o.createElement('span',null,o.createElement(b.Octicon,{className:'icon',symbol:b.OcticonSymbol.settings}),'Advanced')),this.renderActiveTab()),this.renderFooter())}renderDisallowedCharactersError(){const e=this.state.disallowedCharactersMessage;return null==e?null:o.createElement(c.DialogError,null,e)}renderActiveTab(){const e=this.state.selectedIndex;let t;switch(e){case r.PreferencesTab.Accounts:t=o.createElement(a.Accounts,{dotComAccount:this.props.dotComAccount,enterpriseAccount:this.props.enterpriseAccount,onDotComSignIn:this.onDotComSignIn,onEnterpriseSignIn:this.onEnterpriseSignIn,onLogout:this.onLogout});break;case r.PreferencesTab.Integrations:{t=o.createElement(S.Integrations,{availableEditors:this.state.availableEditors,selectedExternalEditor:this.state.selectedExternalEditor,onSelectedEditorChanged:this.onSelectedEditorChanged,availableShells:this.state.availableShells,selectedShell:this.state.selectedShell,onSelectedShellChanged:this.onSelectedShellChanged});break}case r.PreferencesTab.Git:{const{existingLockFilePath:e}=this.state,n=e===void 0?null:o.createElement(c.DialogError,null,o.createElement(E.ConfigLockFileExists,{lockFilePath:e,onLockFileDeleted:this.onLockFileDeleted,onError:this.onLockFileDeleteError}));t=o.createElement(o.Fragment,null,n,o.createElement(d.Git,{name:this.state.committerName,email:this.state.committerEmail,onNameChanged:this.onCommitterNameChanged,onEmailChanged:this.onCommitterEmailChanged}));break}case r.PreferencesTab.Appearance:t=o.createElement(g.Appearance,{selectedTheme:this.props.selectedTheme,onSelectedThemeChanged:this.onSelectedThemeChanged,automaticallySwitchTheme:this.props.automaticallySwitchTheme,onAutomaticallySwitchThemeChanged:this.onAutomaticallySwitchThemeChanged});break;case r.PreferencesTab.Advanced:{t=o.createElement(s.Advanced,{optOutOfUsageTracking:this.state.optOutOfUsageTracking,confirmRepositoryRemoval:this.state.confirmRepositoryRemoval,confirmDiscardChanges:this.state.confirmDiscardChanges,confirmForcePush:this.state.confirmForcePush,uncommittedChangesStrategyKind:this.state.uncommittedChangesStrategyKind,onOptOutofReportingchanged:this.onOptOutofReportingChanged,onConfirmRepositoryRemovalChanged:this.onConfirmRepositoryRemovalChanged,onConfirmDiscardChangesChanged:this.onConfirmDiscardChangesChanged,onConfirmForcePushChanged:this.onConfirmForcePushChanged,onUncommittedChangesStrategyKindChanged:this.onUncommittedChangesStrategyKindChanged,schannelCheckRevoke:this.state.schannelCheckRevoke,onSchannelCheckRevokeChanged:this.onSchannelCheckRevokeChanged});break}default:return l.assertNever(e,`Unknown tab index: ${e}`);}return o.createElement('div',{className:'tab-container'},t)}renderFooter(){const e=null!=this.state.disallowedCharactersMessage,t=this.state.selectedIndex;return t===r.PreferencesTab.Accounts||t===r.PreferencesTab.Appearance?null:t===r.PreferencesTab.Integrations||t===r.PreferencesTab.Advanced||t===r.PreferencesTab.Git?o.createElement(c.DialogFooter,null,o.createElement(y.OkCancelButtonGroup,{okButtonText:'Save',okButtonDisabled:e})):l.assertNever(t,`Unknown tab index: ${t}`)}}t.Preferences=w},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(454);t.Preferences=o.Preferences},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(74);t.SuccessfulRebase=function({baseBranch:e,targetBranch:t,onDismissed:n}){const a=e===void 0?o.createElement('span',null,'Successfully rebased ',o.createElement('strong',null,t)):o.createElement('span',null,'Successfully rebased ',o.createElement('strong',null,t),' onto ',o.createElement('strong',null,e));return o.createElement(i.Banner,{id:'successful-rebase',timeout:5e3,onDismissed:n},o.createElement('div',{className:'green-circle'},o.createElement(r.Octicon,{className:'check-icon',symbol:r.OcticonSymbol.check})),o.createElement('div',{className:'banner-message'},a))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(74),a=n(13);class s extends o.Component{constructor(){super(...arguments),this.openDialog=async()=>{this.props.onDismissed(),this.props.onOpenDialog(),this.props.dispatcher.recordRebaseConflictsDialogReopened()},this.onDismissed=()=>{log.warn(`[RebaseConflictsBanner] this is not dismissable by default unless the user clicks on the link`)}}render(){return o.createElement(i.Banner,{id:'rebase-conflicts-banner',dismissable:!1,onDismissed:this.onDismissed},o.createElement(r.Octicon,{className:'alert-icon',symbol:r.OcticonSymbol.alert}),o.createElement('div',{className:'banner-message'},o.createElement('span',null,'Resolve conflicts to continue rebasing',' ',o.createElement('strong',null,this.props.targetBranch),'.'),o.createElement(a.LinkButton,{onClick:this.openDialog},'View conflicts')))}}t.RebaseConflictsBanner=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(74);t.SuccessfulMerge=function({ourBranch:e,theirBranch:t,onDismissed:n}){const a=t===void 0?o.createElement('span',null,'Successfully merged into ',o.createElement('strong',null,e)):o.createElement('span',null,'Successfully merged ',o.createElement('strong',null,t),' into ',o.createElement('strong',null,e));return o.createElement(i.Banner,{id:'successful-merge',timeout:5e3,onDismissed:n},o.createElement('div',{className:'green-circle'},o.createElement(r.Octicon,{className:'check-icon',symbol:r.OcticonSymbol.check})),o.createElement('div',{className:'banner-message'},a))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(74),a=n(13);class s extends o.Component{constructor(){super(...arguments),this.openDialog=()=>{this.props.onDismissed(),this.props.dispatcher.showPopup(this.props.popup),this.props.dispatcher.recordMergeConflictsDialogReopened()}}render(){return o.createElement(i.Banner,{id:'merge-conflicts-banner',dismissable:!1,onDismissed:this.props.onDismissed},o.createElement(r.Octicon,{className:'alert-icon',symbol:r.OcticonSymbol.alert}),o.createElement('div',{className:'banner-message'},o.createElement('span',null,'Resolve conflicts and commit to merge into',' ',o.createElement('strong',null,this.props.ourBranch),'.'),o.createElement(a.LinkButton,{onClick:this.openDialog},'View conflicts')))}}t.MergeConflictsBanner=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(2),i=n(98),a=n(459),s=n(458),d=n(457),l=n(456);t.renderBanner=function(e,t,n){switch(e.type){case i.BannerType.SuccessfulMerge:return o.createElement(s.SuccessfulMerge,{ourBranch:e.ourBranch,theirBranch:e.theirBranch,onDismissed:n,key:'successful-merge'});case i.BannerType.MergeConflictsFound:return o.createElement(a.MergeConflictsBanner,{dispatcher:t,ourBranch:e.ourBranch,popup:e.popup,onDismissed:n,key:'merge-conflicts'});case i.BannerType.SuccessfulRebase:return o.createElement(l.SuccessfulRebase,{targetBranch:e.targetBranch,baseBranch:e.baseBranch,onDismissed:n,key:'successful-rebase'});case i.BannerType.RebaseConflictsFound:return o.createElement(d.RebaseConflictsBanner,{dispatcher:t,targetBranch:e.targetBranch,onOpenDialog:e.onOpenDialog,onDismissed:n,key:'merge-conflicts'});default:return r.assertNever(e,`Unknown popup type: ${e}`);}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(13),i=n(137),a=n(4),s=n(24),d=n(40),l=n(74),c=n(141);class p extends o.Component{constructor(){super(...arguments),this.showReleaseNotes=()=>{null==this.props.newRelease?d.shell.openExternal(c.ReleaseNotesUri):this.props.dispatcher.showPopup({type:s.PopupType.ReleaseNotes,newRelease:this.props.newRelease})},this.updateNow=()=>{i.updateStore.quitAndInstallUpdate()}}render(){return o.createElement(l.Banner,{id:'update-available',onDismissed:this.props.onDismissed},o.createElement(a.Octicon,{className:'download-icon',symbol:a.OcticonSymbol.desktopDownload}),o.createElement('span',{onSubmit:this.updateNow},'An updated version of GitHub Desktop is available and will be installed at the next launch. See',' ',o.createElement(r.LinkButton,{onClick:this.showReleaseNotes},'what\'s new'),' or',' ',o.createElement(r.LinkButton,{onClick:this.updateNow},'restart GitHub Desktop'),'.'))}}t.UpdateAvailable=p},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(74);t.Banner=o.Banner;var r=n(461);t.UpdateAvailable=r.UpdateAvailable;var i=n(460);t.renderBanner=i.renderBanner},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(192),i=n(194),a=n(199);class s extends o.Component{constructor(){super(...arguments),this.innerDropDown=null,this.onDropDownRef=(e)=>{this.innerDropDown=e},this.onMouseEnter=()=>{this.props.onMouseEnter(this.props.menuItem)},this.onKeyDown=(e)=>{e.defaultPrevented||(this.props.onKeyDown(this.props.menuItem,e),!this.isMenuOpen&&!e.defaultPrevented&&'ArrowDown'===e.key&&(this.props.onOpen(this.props.menuItem,!0),e.preventDefault()))},this.onMenuClose=(e)=>{'keyboard'===e.type&&'Escape'===e.event.key&&this.focusButton(),this.props.onClose(this.props.menuItem,e.type)},this.onDropdownStateChanged=(e,t)=>{this.isMenuOpen?this.props.onClose(this.props.menuItem,t):this.props.onOpen(this.props.menuItem)},this.dropDownContentRenderer=()=>{const e=this.props.menuState;return this.isMenuOpen?o.createElement(i.AppMenu,{dispatcher:this.props.dispatcher,onClose:this.onMenuClose,openedWithAccessKey:this.props.openedWithAccessKey,state:e,enableAccessKeyNavigation:this.props.enableAccessKeyNavigation,autoHeight:!0}):null}}get isMenuOpen(){return 0!==this.props.menuState.length}focusButton(){this.innerDropDown&&this.innerDropDown.focusButton()}componentDidMount(){this.props.onDidMount&&this.props.onDidMount(this.props.menuItem,this)}componentWillUnmount(){this.props.onWillUnmount&&this.props.onWillUnmount(this.props.menuItem,this)}render(){const e=this.props.menuItem,t=this.isMenuOpen?'open':'closed';return o.createElement(a.ToolbarDropdown,{ref:this.onDropDownRef,key:e.id,dropdownState:t,onDropdownStateChanged:this.onDropdownStateChanged,dropdownContentRenderer:this.dropDownContentRenderer,showDisclosureArrow:!1,onMouseEnter:this.onMouseEnter,onKeyDown:this.onKeyDown,tabIndex:-1,role:'menuitem'},o.createElement(r.MenuListItem,{item:e,highlightAccessKey:this.props.highlightMenuAccessKey,renderAcceleratorText:!1,renderSubMenuArrow:!1}))}}t.AppMenuBarButton=s},function(e,t,n){'use strict';function o(e){if(!e.appMenu.length)return{menuItems:[]};const t=e.appMenu[0],n=t.items,o=[];for(const t of n)'submenuItem'===t.type&&t.visible&&o.push(t);return{menuItems:o}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(132),a=n(463),s=n(28);class d extends r.Component{constructor(e){super(e),this.menuBar=null,this.menuButtonRefsByMenuItemId={},this.focusOutTimeout=null,this.hasFocus=!1,this.stolenFocusElement=null,this.onMenuBarFocusIn=(e)=>{const t=e;this.hasFocus||(this.stolenFocusElement=t.relatedTarget&&t.relatedTarget instanceof HTMLElement?t.relatedTarget:null,this.hasFocus=!0),this.clearFocusOutTimeout()},this.onMenuBarFocusOut=()=>{this.clearFocusOutTimeout(),this.focusOutTimeout=requestAnimationFrame(this.onLostFocusWithin)},this.onLostFocusWithin=()=>{this.hasFocus=!1,this.focusOutTimeout=null,this.props.onLostFocus&&this.props.onLostFocus(),this.stolenFocusElement=null},this.onMenuBarRef=(e)=>{this.menuBar&&(this.menuBar.removeEventListener('focusin',this.onMenuBarFocusIn),this.menuBar.removeEventListener('focusout',this.onMenuBarFocusOut)),this.menuBar=e,this.menuBar&&(this.menuBar.addEventListener('focusin',this.onMenuBarFocusIn),this.menuBar.addEventListener('focusout',this.onMenuBarFocusOut))},this.onMenuClose=(e,t)=>{('pointer'===t||'item-executed'===t)&&this.restoreFocusOrBlur(),this.props.dispatcher.setAppMenuState((t)=>t.withClosedMenu(e.menu))},this.onMenuOpen=(e,t)=>{const n=!!this.props.foldoutState&&this.props.foldoutState.enableAccessKeyNavigation;this.props.dispatcher.showFoldout({type:s.FoldoutType.AppMenu,enableAccessKeyNavigation:n}),this.props.dispatcher.setAppMenuState((n)=>n.withOpenedMenu(e,t))},this.onMenuButtonMouseEnter=(e)=>{this.hasFocus&&this.focusMenuItem(e),1<this.props.appMenu.length&&this.props.dispatcher.setAppMenuState((t)=>t.withOpenedMenu(e))},this.onMenuButtonKeyDown=(e,t)=>{if(!t.defaultPrevented){const n=this.props.foldoutState;if(n)if('Escape'===t.key)this.isMenuItemOpen(e)||(this.restoreFocusOrBlur(),t.preventDefault());else if('ArrowLeft'===t.key)this.moveToAdjacentMenu('previous',e),t.preventDefault();else if('ArrowRight'===t.key)this.moveToAdjacentMenu('next',e),t.preventDefault();else if(n.enableAccessKeyNavigation){if(t.altKey||t.ctrlKey||t.metaKey)return;const e=i.findItemByAccessKey(t.key,this.state.menuItems);e&&i.itemIsSelectable(e)&&('submenuItem'===e.type?this.props.dispatcher.setAppMenuState((t)=>t.withReset().withSelectedItem(e).withOpenedMenu(e,!0)):(this.restoreFocusOrBlur(),this.props.dispatcher.executeMenuItem(e)),t.preventDefault())}}},this.onMenuButtonDidMount=(e,t)=>{this.menuButtonRefsByMenuItemId[e.id]=t},this.onMenuButtonWillUnmount=(e)=>{delete this.menuButtonRefsByMenuItemId[e.id]},this.state=o(e)}componentWillReceiveProps(e){e.appMenu!==this.props.appMenu&&this.setState(o(e))}componentDidUpdate(e){this.props.foldoutState&&!e.foldoutState?1===this.props.appMenu.length&&!this.hasFocus&&this.focusFirstMenuItem():!this.props.foldoutState&&e.foldoutState&&this.restoreFocusOrBlur()}componentDidMount(){this.props.foldoutState&&1===this.props.appMenu.length&&this.focusFirstMenuItem()}componentWillUnmount(){this.hasFocus&&this.restoreFocusOrBlur(),this.stolenFocusElement=null}render(){return r.createElement('div',{id:'app-menu-bar',ref:this.onMenuBarRef,role:'menubar',"aria-label":'Application menu'},this.state.menuItems.map(this.renderMenuItem,this))}isMenuItemOpen(e){const t=this.props.foldoutState&&1<this.props.appMenu.length?this.props.appMenu[1]:null;return null!==t&&t.id===e.id}focusFirstMenuItem(){if(!(1<this.props.appMenu.length)){const e=this.state.menuItems;if(e.length){const t=e[0];t&&this.focusMenuItem(t)}}}focusMenuItem(e){const t=this.menuButtonRefsByMenuItemId[e.id];t&&t.focusButton()}restoreFocusOrBlur(){this.hasFocus&&(this.stolenFocusElement&&document.contains(this.stolenFocusElement)?this.stolenFocusElement.focus():document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.stolenFocusElement=null)}clearFocusOutTimeout(){null!==this.focusOutTimeout&&(cancelAnimationFrame(this.focusOutTimeout),this.focusOutTimeout=null)}moveToAdjacentMenu(e,t){const n=this.state.menuItems,o=n.findIndex((e)=>e.id===t.id);if(-1===o)return;const r='next'===e?1:-1,i=(o+r+n.length)%n.length,a=n[i];if(a){const e=this.props.foldoutState,t=null!==e&&1<this.props.appMenu.length;if(t)this.props.dispatcher.setAppMenuState((e)=>e.withOpenedMenu(a,!0));else{const e=this.menuButtonRefsByMenuItemId[a.id];e&&e.focusButton()}}}renderMenuItem(e){const t=this.props.foldoutState,n=this.isMenuItemOpen(e)?this.props.appMenu.slice(1):[],o=!!t&&(t.openedWithAccessKey||!1),i=!!t&&t.enableAccessKeyNavigation,s=this.props.highlightAppMenuAccessKeys||!this.isMenuItemOpen(e)&&i;return r.createElement(a.AppMenuBarButton,{key:e.id,dispatcher:this.props.dispatcher,menuItem:e,menuState:n,highlightMenuAccessKey:s,enableAccessKeyNavigation:i,openedWithAccessKey:o,onClose:this.onMenuClose,onOpen:this.onMenuOpen,onMouseEnter:this.onMenuButtonMouseEnter,onKeyDown:this.onMenuButtonKeyDown,onDidMount:this.onMenuButtonDidMount,onWillUnmount:this.onMenuButtonWillUnmount})}}t.AppMenuBar=d},function(e,t,n){'use strict';function o(e){return e.replace('&&','&')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(5);class a extends r.Component{shouldComponentUpdate(e){return this.props.text!==e.text||this.props.highlight!==e.highlight}render(){const e=this.props.text.match(/^(.*?)?(?:&([^&]))(.*)?$/);if(!e)return r.createElement('span',null,this.props.text);const t=[];e[1]&&t.push(r.createElement('span',{key:1,"aria-hidden":!0},o(e[1])));const n=i('access-key',{highlight:this.props.highlight});t.push(r.createElement('span',{"aria-hidden":!0,key:2,className:n},e[2])),e[3]&&t.push(r.createElement('span',{key:3,"aria-hidden":!0},o(e[3])));const a=e[1]?o(e[1]):'',s=e[2],d=e[3]?o(e[3]):'',l=`${a}${s}${d}`;return r.createElement('span',{"aria-label":l},t)}}t.AccessText=a},function(e,t,n){'use strict';function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,'__esModule',{value:!0}),o(n(194)),o(n(464)),o(n(193))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(64),i=n(13),a=n(36),s=n(89),d=n(12),l=n(18),c=n(86);class p extends o.Component{constructor(e){super(e),this.onChange=(e)=>{const t=e.currentTarget.checked;this.setState({newOptOutValue:!t})},this.cancel=()=>{this.props.advance(r.WelcomeStep.ConfigureGit)},this.finish=()=>{this.props.dispatcher.setStatsOptOut(this.state.newOptOutValue,!0),this.props.dispatcher.markUsageStatsNoteSeen(),this.props.done()},this.state={newOptOutValue:e.optOut}}render(){return o.createElement('div',{className:'usage-opt-out'},o.createElement('h1',{className:'welcome-title'},'Make GitHub Desktop\xA0better!'),o.createElement('p',null,'Would you like to help us improve GitHub Desktop by periodically submitting ',o.createElement(i.LinkButton,{uri:c.SamplesURL},'usage stats'),'?'),o.createElement(s.Form,{onSubmit:this.finish},o.createElement(l.Row,null,o.createElement(a.Checkbox,{label:'Yes, submit periodic usage stats',value:this.state.newOptOutValue?a.CheckboxValue.Off:a.CheckboxValue.On,onChange:this.onChange})),o.createElement(l.Row,{className:'actions'},o.createElement(d.Button,{type:'submit'},'Finish'),o.createElement(d.Button,{onClick:this.cancel},'Cancel'))))}}t.UsageOptOut=p},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(253),i=n(135),a=n(84),s=n(208),d=n(125),l=n(89),c=n(12),p=n(29),u=n(18),m=n(20),h=n(195);class f extends o.Component{constructor(e){super(e),this.globalUsernamePromise=a.getGlobalConfigValue('user.name'),this.globalEmailPromise=a.getGlobalConfigValue('user.email'),this.onLockFileDeleted=()=>{this.setState({existingLockFilePath:void 0})},this.onLockFileDeleteError=(t)=>{log.error('Failed to unlink config lock file',t),this.setState({existingLockFilePath:void 0})},this.onNameChange=(e)=>{this.setState({name:e})},this.onEmailChange=(e)=>{const t=this.avatarURLForEmail(e);this.setState({name:this.state.name,email:e,avatarURL:t})},this.save=async()=>{const{name:e,email:t,globalUserName:n,globalUserEmail:o}=this.state;try{0<e.length&&e!==n&&(await a.setGlobalConfigValue('user.name',e)),0<t.length&&t!==o&&(await a.setGlobalConfigValue('user.email',t))}catch(t){if(m.isConfigFileLockError(t)){const e=m.parseConfigLockFilePathFromError(t.result);if(null!==e)return void this.setState({existingLockFilePath:e})}}this.props.onSave&&this.props.onSave()},this.state={globalUserName:null,globalUserEmail:null,name:'',email:'',avatarURL:null}}async componentDidMount(){const e=this.props.accounts,[t,n]=await Promise.all([this.globalUsernamePromise,this.globalEmailPromise]);this.setState((e)=>({globalUserName:t,globalUserEmail:n,name:0===e.name.length?t||'':e.name,email:0===e.email.length?n||'':e.email}),()=>{e===this.props.accounts&&0<e.length&&this.setDefaultValuesFromAccount(e[0])})}componentDidUpdate(e){if(this.props.accounts!==e.accounts&&0<this.props.accounts.length&&this.props.accounts[0]!==e.accounts[0]){const e=this.props.accounts[0];this.setDefaultValuesFromAccount(e)}}setDefaultValuesFromAccount(e){if(0===this.state.name.length&&this.setState({name:e.name||e.login}),0===this.state.email.length){const t=i.lookupPreferredEmail(e);t&&this.setState({email:t.email,avatarURL:this.avatarURLForEmail(t.email)})}}dateWithMinuteOffset(e,t){const n=new Date(e.getTime());return n.setTime(n.getTime()+1e3*(60*t)),n}render(){const e=new Date,t=new d.CommitIdentity(this.state.name,this.state.email,this.dateWithMinuteOffset(e,-30)),n=new r.Commit(this.state.name,this.state.name.slice(0,7),'Fix all the things','',t,t,[],[],[]),i=new Map,a=this.state.existingLockFilePath===void 0?null:o.createElement(h.ConfigLockFileExists,{lockFilePath:this.state.existingLockFilePath,onLockFileDeleted:this.onLockFileDeleted,onError:this.onLockFileDeleteError});return o.createElement('div',{id:'configure-git-user'},a,o.createElement(l.Form,{className:'sign-in-form',onSubmit:this.save},o.createElement(p.TextBox,{label:'Name',placeholder:'Your Name',value:this.state.name,onValueChanged:this.onNameChange}),o.createElement(p.TextBox,{label:'Email',placeholder:'your-email@example.com',value:this.state.email,onValueChanged:this.onEmailChange}),o.createElement(u.Row,null,o.createElement(c.Button,{type:'submit'},this.props.saveLabel||'Save'),this.props.children)),o.createElement('div',{id:'commit-list',className:'commit-list-example'},o.createElement('div',{className:'header'},'Example commit'),o.createElement(s.CommitListItem,{commit:n,emoji:i,gitHubUsers:null,gitHubRepository:null,isLocal:!1,showUnpushedIndicator:!1})))}avatarURLForEmail(t){const e=this.props.accounts.find((e)=>-1<e.emails.findIndex((n)=>n.email===t));return e?e.avatarURL:null}}t.ConfigureGitUser=f},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(64),i=n(468),a=n(12);class s extends o.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.advance(r.WelcomeStep.Start)},this.continue=()=>{this.props.advance(r.WelcomeStep.UsageOptOut)}}render(){return o.createElement('div',{id:'configure-git'},o.createElement('h1',{className:'welcome-title'},'Configure Git'),o.createElement('p',{className:'welcome-text'},'This is used to identify the commits you create. Anyone will be able to see this information if you publish commits.'),o.createElement(i.ConfigureGitUser,{accounts:this.props.accounts,onSave:this.continue,saveLabel:'Continue'},o.createElement(a.Button,{onClick:this.cancel},'Cancel')))}}t.ConfigureGit=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(64),i=n(12),a=n(196);class s extends o.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.advance(r.WelcomeStep.Start)}}render(){const e=this.props.signInState;return e?o.createElement('div',{id:'sign-in-enterprise'},o.createElement('h1',{className:'welcome-title'},'Sign in to your GitHub Enterprise Server'),o.createElement(a.SignIn,{signInState:e,dispatcher:this.props.dispatcher},o.createElement(i.Button,{onClick:this.cancel},'Cancel'))):null}}t.SignInEnterprise=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(51),i=n(89),a=n(29),s=n(12),d=n(142);class l extends o.Component{constructor(e){super(e),this.onServerAddressChanged=(e)=>{this.setState({serverAddress:e})},this.onSubmit=()=>{this.props.onSubmit(this.state.serverAddress)},this.state={serverAddress:''}}render(){const e=this.props.loading,t=0===this.state.serverAddress.length||this.props.loading;return o.createElement(i.Form,{onSubmit:this.onSubmit},o.createElement(a.TextBox,{label:'Enterprise Server address',autoFocus:!0,disabled:e,onValueChanged:this.onServerAddressChanged,placeholder:'https://github.example.com'}),this.props.error?o.createElement(d.Errors,null,this.props.error.message):null,o.createElement('div',{className:'actions'},o.createElement(s.Button,{type:'submit',disabled:t},this.props.loading?o.createElement(r.Loading,null):null,' Continue'),this.props.additionalButtons))}}t.EnterpriseServerEntry=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(51),i=n(12),a=n(29),s=n(89),d=n(142),l=n(178);class c extends o.Component{constructor(e){super(e),this.onOTPChange=(e)=>{this.setState({otp:e})},this.signIn=()=>{this.props.onOTPEntered(this.state.otp)},this.state={otp:''}}render(){const e=this.props.loading,t=/\S+/.test(this.state.otp),n=!t||this.props.loading,c=this.props.error?o.createElement(d.Errors,null,this.props.error.message):null;return o.createElement('div',null,o.createElement('p',{className:'welcome-text'},l.getWelcomeMessage(this.props.type)),o.createElement(s.Form,{onSubmit:this.signIn},o.createElement(a.TextBox,{label:'Authentication code',disabled:e,autoFocus:!0,onValueChanged:this.onOTPChange}),c,o.createElement('div',{className:'actions'},o.createElement(i.Button,{type:'submit',disabled:n},this.props.loading?o.createElement(r.Loading,null):null,' Verify'),this.props.additionalButtons)))}}t.TwoFactorAuthentication=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(64),i=n(196),a=n(12);class s extends o.Component{constructor(){super(...arguments),this.cancel=()=>{this.props.advance(r.WelcomeStep.Start)}}componentWillMount(){this.props.dispatcher.beginDotComSignIn()}render(){const e=this.props.signInState;return e?o.createElement('div',{id:'sign-in-dot-com'},o.createElement('h1',{className:'welcome-title'},'Sign in to GitHub.com'),o.createElement(i.SignIn,{signInState:e,dispatcher:this.props.dispatcher},o.createElement(a.Button,{onClick:this.cancel},'Cancel'))):null}}t.SignInDotCom=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(64),i=n(13),a=n(4),s=n(12),d=n(51),l=n(197);t.CreateAccountURL='https://github.com/join?source=github-desktop';class c extends o.Component{constructor(){super(...arguments),this.signInWithBrowser=(e)=>{e&&e.preventDefault(),this.props.advance(r.WelcomeStep.SignInToDotComWithBrowser),this.props.dispatcher.requestBrowserAuthenticationToDotcom()},this.cancelBrowserAuth=()=>{this.props.advance(r.WelcomeStep.Start)},this.signInToDotCom=()=>{this.props.advance(r.WelcomeStep.SignInToDotCom)},this.signInToEnterprise=()=>{this.props.advance(r.WelcomeStep.SignInToEnterprise)},this.skip=()=>{this.props.advance(r.WelcomeStep.ConfigureGit)}}render(){return o.createElement('div',{id:'start'},o.createElement('h1',{className:'welcome-title'},'Welcome to GitHub\xA0Desktop'),this.props.loadingBrowserAuth?o.createElement('p',null,l.BrowserRedirectMessage):o.createElement(o.Fragment,null,o.createElement('p',{className:'welcome-text'},'GitHub Desktop is a seamless way to contribute to projects on GitHub and GitHub Enterprise Server. Sign in below to get started with your existing projects.'),o.createElement('p',{className:'welcome-text'},'New to GitHub?',' ',o.createElement(i.LinkButton,{uri:t.CreateAccountURL,className:'create-account-link'},'Create your free account.'))),o.createElement('div',{className:'welcome-main-buttons'},o.createElement(s.Button,{type:'submit',className:'button-with-icon',disabled:this.props.loadingBrowserAuth,onClick:this.signInWithBrowser},this.props.loadingBrowserAuth&&o.createElement(d.Loading,null),'Sign in to GitHub.com',o.createElement(a.Octicon,{symbol:a.OcticonSymbol.linkExternal})),this.props.loadingBrowserAuth?o.createElement(s.Button,{onClick:this.cancelBrowserAuth},'Cancel'):o.createElement(s.Button,{onClick:this.signInToEnterprise},'Sign in to GitHub Enterprise Server')),!this.props.loadingBrowserAuth&&this.props.dotComSupportsBasicAuth&&o.createElement('div',null,o.createElement(i.LinkButton,{onClick:this.signInToDotCom,className:'basic-auth-link'},'Sign in to GitHub.com using your username and password')),o.createElement('div',{className:'skip-action-container'},o.createElement(i.LinkButton,{className:'skip-button',onClick:this.skip},'Skip this step')))}}t.Start=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(64);t.Welcome=o.Welcome},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(66),a=n(65),s=n(36),d=n(78),l=n(7);class c extends o.Component{constructor(e){super(e),this.discard=async()=>{this.setState({isDiscardingChanges:!0}),await this.props.dispatcher.discardChanges(this.props.repository,this.props.files),this.props.onConfirmDiscardChangesChanged(this.state.confirmDiscardChanges),this.props.onDismissed()},this.onConfirmDiscardChangesChanged=(e)=>{const t=!e.currentTarget.checked;this.setState({confirmDiscardChanges:t})},this.state={isDiscardingChanges:!1,confirmDiscardChanges:this.props.confirmDiscardChanges}}getOkButtonLabel(){return this.props.discardingAllChanges?'Discard all changes':'Discard changes'}getDialogTitle(){return this.props.discardingAllChanges?'Confirm discard all changes':'Confirm discard changes'}render(){const e=this.state.isDiscardingChanges;return o.createElement(r.Dialog,{id:'discard-changes',title:this.getDialogTitle(),onDismissed:this.props.onDismissed,onSubmit:this.discard,dismissable:!e,loading:e,disabled:e,type:'warning'},o.createElement(r.DialogContent,null,this.renderFileList(),o.createElement('p',null,'Changes can be restored by retrieving them from the ',d.TrashNameLabel,'.'),this.renderConfirmDiscardChanges()),o.createElement(r.DialogFooter,null,o.createElement(l.OkCancelButtonGroup,{destructive:!0,okButtonText:this.getOkButtonLabel()})))}renderConfirmDiscardChanges(){return this.props.showDiscardChangesSetting?o.createElement(s.Checkbox,{label:'Do not show this message again',value:this.state.confirmDiscardChanges?s.CheckboxValue.Off:s.CheckboxValue.On,onChange:this.onConfirmDiscardChangesChanged}):null}renderFileList(){return this.props.files.length>10?o.createElement('p',null,'Are you sure you want to discard all ',this.props.files.length,' changed files?'):o.createElement('div',null,o.createElement('p',null,'Are you sure you want to discard all changes to:'),o.createElement('ul',null,this.props.files.map((e)=>o.createElement('li',{key:e.id},o.createElement(a.Monospaced,null,o.createElement(i.PathText,{path:e.path}))))))}}t.DiscardChanges=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(476);t.DiscardChanges=o.DiscardChanges},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(113),i=n(4);class a extends o.Component{render(){const e=this.props.progress,t=e.title||'Hang on\u2026';return o.createElement(r.ToolbarButton,{title:'Reverting\u2026',description:t,progressValue:e.value,className:'revert-progress',icon:i.OcticonSymbol.sync,iconClassName:'spin',style:r.ToolbarButtonStyle.Subtitle,disabled:!0})}}t.RevertProgress=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(31),a=n(198),s=n(28),d=n(90),l=n(2),c=n(5);class p extends o.Component{constructor(){super(...arguments),this.renderBranchFoldout=()=>{const e=this.props.repositoryState,t=e.branchesState,n=e.changesState.currentBranchProtected,r=e.branchesState.tip,a=r.kind===i.TipState.Valid?r.branch:null;return o.createElement(d.BranchesContainer,{allBranches:t.allBranches,recentBranches:t.recentBranches,currentBranch:a,defaultBranch:t.defaultBranch,dispatcher:this.props.dispatcher,repository:this.props.repository,selectedTab:this.props.selectedTab,pullRequests:this.props.pullRequests,currentPullRequest:this.props.currentPullRequest,isLoadingPullRequests:this.props.isLoadingPullRequests,currentBranchProtected:n,selectedUncommittedChangesStrategy:this.props.selectedUncommittedChangesStrategy,couldOverwriteStash:this.props.couldOverwriteStash})},this.onDropDownStateChanged=(e)=>{'open'===e&&this.props.repositoryState.checkoutProgress||this.props.onDropDownStateChanged(e)}}render(){const{repositoryState:e}=this.props,{branchesState:t,checkoutProgress:n,changesState:d}=e,{tip:p}=t,{conflictState:u}=d,m=p.kind;let h=r.OcticonSymbol.gitBranch,f='Current branch',g=!0,y=!1,S,C,b;if(this.props.currentPullRequest&&(h=r.OcticonSymbol.gitPullRequest),p.kind===i.TipState.Unknown)return null;if(p.kind===i.TipState.Unborn)C=p.ref,b=`Current branch is ${p.ref}`,g=0<t.allBranches.length;else if(p.kind===i.TipState.Detached)C=`On ${p.currentSha.substr(0,7)}`,b='Currently on a detached HEAD',h=r.OcticonSymbol.gitCommit,f='Detached HEAD';else if(p.kind===i.TipState.Valid)C=p.branch.name,b=`Current branch is ${C}`;else return l.assertNever(p,`Unknown tip state: ${m}`);let v;if(n){if(C=n.targetBranch,f='Switching to branch',0<n.value){const e=Math.round(100*n.value);f=`${f} (${e}%)`}v=n.value,h=r.OcticonSymbol.sync,S='spin',g=!1}else null!==u&&s.isRebaseConflictState(u)&&(C=u.targetBranch,f='Rebasing branch',h=r.OcticonSymbol.gitBranch,g=!1,y=!0);const E=this.props.isOpen,w=E&&g?'open':'closed',k=c('nudge-arrow',{"nudge-arrow-up":this.props.shouldNudge});return o.createElement(a.ToolbarDropdown,{className:'branch-button',icon:h,iconClassName:S,title:C,description:f,tooltip:b,onDropdownStateChanged:this.onDropDownStateChanged,dropdownContentRenderer:this.renderBranchFoldout,dropdownState:w,disabled:y,showDisclosureArrow:g,progressValue:v,buttonClassName:k},this.renderPullRequestInfo())}renderPullRequestInfo(){const e=this.props.currentPullRequest;return null===e?null:o.createElement(d.PullRequestBadge,{number:e.pullRequestNumber,dispatcher:this.props.dispatcher,repository:e.base.gitHubRepository})}}t.BranchDropdown=p},function(e,t,n){'use strict';function o(e,t){const{ahead:n,behind:o}=e;if(0===n&&0===o&&0===t)return null;const r=[];return(0<n||0<t)&&r.push(h.createElement('span',{key:'ahead'},n+t,h.createElement(y.Octicon,{symbol:y.OcticonSymbol.arrowSmallUp}))),0<o&&r.push(h.createElement('span',{key:'behind'},o,h.createElement(y.Octicon,{symbol:y.OcticonSymbol.arrowSmallDown}))),h.createElement('div',{className:'ahead-behind'},r)}function r(e){return e?h.createElement('span',null,'Last fetched ',h.createElement(S.RelativeTime,{date:e})):'Never fetched'}function i(e,t){return h.createElement(C.ToolbarButton,Object.assign({},v,{title:e.title,description:e.description||'Hang on\u2026',progressValue:e.value,icon:y.OcticonSymbol.sync,iconClassName:t?'spin':'',tooltip:e.description,disabled:!0}))}function a(e){return h.createElement(C.ToolbarButton,Object.assign({},v,{title:'Publish repository',description:'Publish this repository to GitHub',className:'push-pull-button',icon:y.OcticonSymbol.cloudUpload,style:C.ToolbarButtonStyle.Subtitle,onClick:e}))}function s(){return h.createElement(C.ToolbarButton,Object.assign({},v,{title:'Publish branch',description:'Cannot publish unborn HEAD',icon:y.OcticonSymbol.cloudUpload,disabled:!0}))}function d(e){const t=e?'Rebase in progress':'Cannot publish detached HEAD';return h.createElement(C.ToolbarButton,Object.assign({},v,{title:'Publish branch',description:t,icon:y.OcticonSymbol.cloudUpload,disabled:!0}))}function l(e,t,n){const o=e?'Publish this branch to GitHub':'Publish this branch to the remote',r=b(v.className,'nudge-arrow',{"nudge-arrow-up":n});return h.createElement(C.ToolbarButton,Object.assign({},v,{title:'Publish branch',description:o,icon:y.OcticonSymbol.cloudUpload,onClick:t,className:r}))}function c(e,t,n,i,a){const s=`Fetch ${e}`;return h.createElement(C.ToolbarButton,Object.assign({},v,{title:s,description:r(i),icon:y.OcticonSymbol.sync,onClick:a}),o(t,n))}function p(e,t,n,i,a,s){const d=a?`Pull ${e} with rebase`:`Pull ${e}`;return h.createElement(C.ToolbarButton,Object.assign({},v,{title:d,description:r(i),icon:y.OcticonSymbol.arrowDown,onClick:s}),o(t,n))}function u(e,t,n,i,a){return h.createElement(C.ToolbarButton,Object.assign({},v,{title:`Push ${e}`,description:r(i),icon:y.OcticonSymbol.arrowUp,onClick:a}),o(t,n))}function m(e,t,n,i,a){return h.createElement(C.ToolbarButton,Object.assign({},v,{title:`Force push ${e}`,description:r(i),icon:E,onClick:a}),o(t,n))}Object.defineProperty(t,'__esModule',{value:!0});const h=n(0),f=n(31),g=n(130),y=n(4),S=n(116),C=n(113),b=n(5),v={className:'push-pull-button',style:C.ToolbarButtonStyle.Subtitle},E=new y.OcticonSymbol(10,16,'M3 11H0l5-6 5 6H7v4H3v-4zM5 1l5 6H8.33L5 3 1.662 7H0l5-6z');class w extends h.Component{constructor(){super(...arguments),this.push=()=>{this.props.dispatcher.push(this.props.repository)},this.forcePushWithLease=()=>{this.props.dispatcher.confirmOrForcePush(this.props.repository)},this.pull=()=>{this.props.dispatcher.pull(this.props.repository)},this.fetch=()=>{this.props.dispatcher.fetch(this.props.repository,g.FetchType.UserInitiatedTask)}}render(){const{progress:e,networkActionInProgress:t,aheadBehind:n,numTagsToPush:o,remoteName:r,repository:h,tipState:g,rebaseInProgress:y,lastFetched:S,pullWithRebase:C,isForcePush:b}=this.props;if(null!==e)return i(e,t);if(null===r)return a(this.push);if(g===f.TipState.Unborn)return s();if(g===f.TipState.Detached)return d(y);if(null===n){const e=null!==h.gitHubRepository;return l(e,this.push,this.props.shouldNudge)}const{ahead:v,behind:E}=n;return 0===v&&0===E&&0===o?c(r,n,o,S,this.fetch):b?m(r,n,o,S,this.forcePushWithLease):0<E?p(r,n,o,S,C||!1,this.pull):u(r,n,o,S,this.push)}}t.PushPullButton=w},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.rectEquals=function(e,t){return!(e!==t)||e.left===t.left&&e.right===t.right&&e.top===t.top&&e.bottom===t.bottom&&e.width===t.width&&e.height===t.height}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{render(){return o.createElement('div',{id:this.props.id,className:'toolbar'},this.props.children)}}t.Toolbar=r},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(92);class a extends o.Component{render(){const e=this.props.progress.value||void 0;return o.createElement(i.UiView,{id:'cloning-repository-view'},o.createElement('div',{className:'title-container'},o.createElement(r.Octicon,{symbol:r.OcticonSymbol.desktopDownload}),o.createElement('div',{className:'title'},'Cloning ',this.props.repository.name)),o.createElement('progress',{value:e}),o.createElement('div',{className:'details'},this.props.progress.description))}}t.CloningRepositoryView=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(36),i=n(3),a=n(21),s=n(7);class d extends o.Component{constructor(e){super(e),this.onIncludeRemoteChanged=(e)=>{const t=e.currentTarget.checked;this.setState({includeRemoteBranch:t})},this.deleteBranch=async()=>{const{dispatcher:e,repository:t,branch:n}=this.props;this.setState({isDeleting:!0}),await e.deleteBranch(t,n,this.state.includeRemoteBranch),this.props.onDeleted(t),await e.closePopup()},this.state={includeRemoteBranch:!1,isDeleting:!1}}render(){return o.createElement(i.Dialog,{id:'delete-branch',title:'Delete branch',type:'warning',onSubmit:this.deleteBranch,onDismissed:this.props.onDismissed,disabled:this.state.isDeleting,loading:this.state.isDeleting},o.createElement(i.DialogContent,null,o.createElement('p',null,'Delete branch ',o.createElement(a.Ref,null,this.props.branch.name),'?',o.createElement('br',null),'This action cannot be undone.'),this.renderDeleteOnRemote()),o.createElement(i.DialogFooter,null,o.createElement(s.OkCancelButtonGroup,{destructive:!0,okButtonText:'Delete'})))}renderDeleteOnRemote(){return this.props.branch.remote&&this.props.existsOnRemote?o.createElement('div',null,o.createElement('p',null,o.createElement('strong',null,'The branch also exists on the remote, do you wish to delete it there as well?')),o.createElement(r.Checkbox,{label:'Yes, delete this branch on the remote',value:this.state.includeRemoteBranch?r.CheckboxValue.On:r.CheckboxValue.Off,onChange:this.onIncludeRemoteChanged})):null}}t.DeleteBranch=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(484);t.DeleteBranch=o.DeleteBranch},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(143),i=n(29),a=n(18),s=n(3),d=n(200),l=n(7);class c extends o.Component{constructor(e){super(e),this.onNameChange=(e)=>{this.setState({newName:e})},this.renameBranch=()=>{const e=r.sanitizedRefName(this.state.newName);this.props.dispatcher.renameBranch(this.props.repository,this.props.branch,e),this.props.onDismissed()},this.state={newName:e.branch.name}}render(){const e=!this.state.newName.length||/^\s*$/.test(this.state.newName);return o.createElement(s.Dialog,{id:'rename-branch',title:'Rename branch',onDismissed:this.props.onDismissed,onSubmit:this.renameBranch},o.createElement(s.DialogContent,null,o.createElement(a.Row,null,o.createElement(i.TextBox,{label:'Name',value:this.state.newName,onValueChanged:this.onNameChange})),d.renderBranchNameWarning(this.state.newName,r.sanitizedRefName(this.state.newName)),d.renderBranchHasRemoteWarning(this.props.branch),d.renderStashWillBeLostWarning(this.props.stash)),o.createElement(s.DialogFooter,null,o.createElement(l.OkCancelButtonGroup,{okButtonText:`Rename ${this.props.branch.name}`,okButtonDisabled:e})))}}t.RenameBranch=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(486);t.RenameBranch=o.RenameBranch},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(3),i=n(7);class a extends o.Component{render(){return o.createElement(r.Dialog,{title:'Exit tutorial',onDismissed:this.props.onDismissed,onSubmit:this.props.onContinue,type:'normal'},o.createElement(r.DialogContent,null,o.createElement('p',null,'Are you sure you want to leave the tutorial? This will bring you back to the home screen.')),o.createElement(r.DialogFooter,null,o.createElement(i.OkCancelButtonGroup,{okButtonText:'Exit tutorial'})))}}t.ConfirmExitTutorial=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=n(24),a=n(4),s=n(114),d=n(114),l=r.encodePathAsUrl(__dirname,'static/admin-mentoring.svg'),c=o.createElement(a.Octicon,{symbol:a.OcticonSymbol.telescope}),p=o.createElement(a.Octicon,{symbol:a.OcticonSymbol.plus}),u=o.createElement(a.Octicon,{symbol:a.OcticonSymbol.fileDirectory});class m extends o.Component{constructor(){super(...arguments),this.openDotcomExplore=()=>{this.props.dispatcher.showGitHubExplore(this.props.repository)},this.onCreateNewRepository=()=>{this.props.dispatcher.showPopup({type:i.PopupType.CreateRepository})},this.onAddExistingRepository=()=>{this.props.dispatcher.showPopup({type:i.PopupType.AddRepository})}}render(){return o.createElement('div',{id:'tutorial-done'},o.createElement('div',{className:'content'},o.createElement('div',{className:'header'},o.createElement('div',{className:'text'},o.createElement('h1',null,'You\'re done!'),o.createElement('p',null,'You\u2019ve learned the basics on how to use GitHub Desktop. Here are some suggestions for what to do next.')),o.createElement('img',{src:l,className:'image'})),o.createElement(d.SuggestedActionGroup,null,o.createElement(s.SuggestedAction,{title:'Explore projects on GitHub',description:'Contribute to a project that interests you',buttonText:'Open in browser',onClick:this.openDotcomExplore,type:'normal',image:c}),o.createElement(s.SuggestedAction,{title:'Create a new repository',description:'Get started on a brand new project',buttonText:'Create repository',onClick:this.onCreateNewRepository,type:'normal',image:p}),o.createElement(s.SuggestedAction,{title:'Add a local repository',description:'Work on an existing project in GitHub Desktop',buttonText:'Add repository',onClick:this.onAddExistingRepository,type:'normal',image:u}))))}}t.TutorialDone=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=r.encodePathAsUrl(__dirname,'static/code.svg'),a=r.encodePathAsUrl(__dirname,'static/github-for-teams.svg'),s=r.encodePathAsUrl(__dirname,'static/github-for-business.svg');class d extends o.Component{render(){return o.createElement('div',{id:'tutorial-welcome'},o.createElement('div',{className:'header'},o.createElement('h1',null,'Welcome to GitHub Desktop'),o.createElement('p',null,'Use this tutorial to get comfortable with Git, GitHub, and GitHub Desktop.')),o.createElement('ul',{className:'definitions'},o.createElement('li',null,o.createElement('img',{src:i}),o.createElement('p',null,o.createElement('strong',null,'Git'),' is the version control system.')),o.createElement('li',null,o.createElement('img',{src:a}),o.createElement('p',null,o.createElement('strong',null,'GitHub'),' is where you store your code and collaborate with others.')),o.createElement('li',null,o.createElement('img',{src:s}),o.createElement('p',null,o.createElement('strong',null,'GitHub Desktop'),' helps you work with GitHub locally.'))))}}t.TutorialWelcome=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(1),i=n(13),a=n(12),s=n(65),d=n(4),l=n(97),c=n(34),p=n(24),u=n(164),m=c.encodePathAsUrl(__dirname,'static/required-status-check.svg');class h extends o.Component{constructor(e){super(e),this.openTutorialFileInEditor=()=>{this.props.dispatcher.openInExternalEditor(r.join(this.props.repository.path,'README.md'))},this.openPullRequest=()=>{this.props.dispatcher.createPullRequest(this.props.repository)},this.skipEditorInstall=()=>{this.props.dispatcher.skipPickEditorTutorialStep(this.props.repository)},this.skipCreatePR=()=>{this.props.dispatcher.markPullRequestTutorialStepAsComplete(this.props.repository)},this.isStepComplete=(e)=>l.orderedTutorialSteps.indexOf(e)<l.orderedTutorialSteps.indexOf(this.props.currentTutorialStep),this.isStepNextTodo=(e)=>e===this.props.currentTutorialStep,this.onStepSummaryClick=(e)=>{this.setState({currentlyOpenSectionId:e})},this.onPreferencesClick=()=>{this.props.dispatcher.showPopup({type:p.PopupType.Preferences,initialSelectedTab:u.PreferencesTab.Advanced})},this.state={currentlyOpenSectionId:this.props.currentTutorialStep}}componentWillReceiveProps(e){this.props.currentTutorialStep!==e.currentTutorialStep&&this.setState({currentlyOpenSectionId:e.currentTutorialStep})}render(){return o.createElement('div',{className:'tutorial-panel-component panel'},o.createElement('div',{className:'titleArea'},o.createElement('h3',null,'Get started'),o.createElement('img',{src:m})),o.createElement('ol',null,o.createElement(f,{summaryText:'Install a text editor',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.PickEditor,currentlyOpenSectionId:this.state.currentlyOpenSectionId,skipLinkButton:o.createElement(g,{onClick:this.skipEditorInstall}),onSummaryClick:this.onStepSummaryClick},this.isStepComplete(l.TutorialStep.PickEditor)?o.createElement('p',{className:'description'},'Your default editor is',' ',o.createElement('strong',null,this.props.resolvedExternalEditor),'. You can change your preferred editor in',' ',o.createElement(i.LinkButton,{onClick:this.onPreferencesClick},'options')):o.createElement(o.Fragment,null,o.createElement('p',{className:'description'},'It doesn\u2019t look like you have a text editor installed. We can recommend',' ',o.createElement(i.LinkButton,{uri:'https://atom.io',title:'Open the Atom website'},'Atom'),` or `,o.createElement(i.LinkButton,{uri:'https://code.visualstudio.com',title:'Open the VS Code website'},'Visual Studio Code'),', but feel free to use any.'),o.createElement('div',{className:'action'},o.createElement(i.LinkButton,{onClick:this.skipEditorInstall},'I have an editor')))),o.createElement(f,{summaryText:'Create a branch',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.CreateBranch,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},o.createElement('p',{className:'description'},`A branch allows you to work on different versions of a repository at one time. Create a
                branch by going into the branch menu in the top bar and
              clicking "${'New branch'}".`),o.createElement('div',{className:'action'},o.createElement(o.Fragment,null,o.createElement('kbd',null,'Ctrl'),o.createElement('kbd',null,'Shift'),o.createElement('kbd',null,'N')))),o.createElement(f,{summaryText:'Edit a file',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.EditFile,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},o.createElement('p',{className:'description'},'Open this repository in your preferred text editor. Edit the',` `,o.createElement(s.Monospaced,null,'README.md'),` `,'file, save it, and come back.'),this.props.resolvedExternalEditor&&o.createElement('div',{className:'action'},o.createElement(a.Button,{onClick:this.openTutorialFileInEditor},'Open editor'),o.createElement(o.Fragment,null,o.createElement('kbd',null,'Ctrl'),o.createElement('kbd',null,'Shift'),o.createElement('kbd',null,'A')))),o.createElement(f,{summaryText:'Make a commit',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.MakeCommit,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},o.createElement('p',{className:'description'},'A commit allows you to save sets of changes. In the \u201Csummary\u201C field in the bottom left, write a short message that describes the changes you made. When you\u2019re done, click the blue Commit button to finish.')),o.createElement(f,{summaryText:'Publish to GitHub',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.PushBranch,currentlyOpenSectionId:this.state.currentlyOpenSectionId,onSummaryClick:this.onStepSummaryClick},o.createElement('p',{className:'description'},'Publishing will \u201Cpush\u201D, or upload, your commits to this branch of your repository on GitHub. Publish using the third button in the top bar.'),o.createElement('div',{className:'action'},o.createElement(o.Fragment,null,o.createElement('kbd',null,'Ctrl'),o.createElement('kbd',null,'P')))),o.createElement(f,{summaryText:'Open a pull request',isComplete:this.isStepComplete,isNextStepTodo:this.isStepNextTodo,sectionId:l.TutorialStep.OpenPullRequest,currentlyOpenSectionId:this.state.currentlyOpenSectionId,skipLinkButton:o.createElement(g,{onClick:this.skipCreatePR}),onSummaryClick:this.onStepSummaryClick},o.createElement('p',{className:'description'},'A pull request allows you to propose changes to the code. By opening one, you\u2019re requesting that someone review and merge them. Since this is a demo repository, this pull request will be private.'),o.createElement('div',{className:'action'},o.createElement(a.Button,{onClick:this.openPullRequest},'Open pull request',o.createElement(d.Octicon,{symbol:d.OcticonSymbol.linkExternal})),o.createElement(o.Fragment,null,o.createElement('kbd',null,'Ctrl'),o.createElement('kbd',null,'R'))))),o.createElement('div',{className:'footer'},o.createElement(a.Button,{onClick:this.props.onExitTutorial},'Exit tutorial')))}}t.TutorialPanel=h;class f extends o.Component{constructor(){super(...arguments),this.renderSummary=()=>{const e=this.props.skipLinkButton!==void 0&&this.props.currentlyOpenSectionId===this.props.sectionId&&this.props.isNextStepTodo(this.props.sectionId);return o.createElement('summary',null,this.renderTutorialStepIcon(),o.createElement('span',{className:'summary-text'},this.props.summaryText),o.createElement('span',{className:'hang-right'},e?this.props.skipLinkButton:o.createElement(d.Octicon,{symbol:d.OcticonSymbol.chevronDown})))},this.onSummaryClick=(t)=>{t.preventDefault(),this.props.onSummaryClick(this.props.sectionId)}}render(){return o.createElement('li',{key:this.props.sectionId,onClick:this.onSummaryClick},o.createElement('details',{open:this.props.sectionId===this.props.currentlyOpenSectionId,onClick:this.onSummaryClick},this.renderSummary(),o.createElement('div',{className:'contents'},this.props.children)))}renderTutorialStepIcon(){if(this.props.isComplete(this.props.sectionId))return o.createElement('div',{className:'green-circle'},o.createElement(d.Octicon,{symbol:d.OcticonSymbol.check}));const e=l.orderedTutorialSteps.indexOf(this.props.sectionId)+1;return this.props.isNextStepTodo(this.props.sectionId)?o.createElement('div',{className:'blue-circle'},e):o.createElement('div',{className:'empty-circle'},e)}}const g=(e)=>o.createElement(i.LinkButton,{onClick:e.onClick},'Skip')},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(24),i=n(4),a=n(7);class s extends o.Component{constructor(e){super(e),this.onDiscardClick=()=>{const{dispatcher:e,repository:t,stashEntry:n}=this.props;e.showPopup({type:r.PopupType.ConfirmDiscardStash,stash:n,repository:t})},this.onRestoreClick=async()=>{const{dispatcher:e,repository:t,stashEntry:n}=this.props;this.setState({isRestoring:!0},()=>{e.popStash(t,n)})},this.state={isRestoring:!1}}render(){const{isWorkingTreeClean:e}=this.props,{isRestoring:t}=this.state;return o.createElement('div',{className:'header'},o.createElement('h3',null,'Stashed changes'),o.createElement('div',{className:'row'},o.createElement(a.OkCancelButtonGroup,{okButtonText:'Restore',okButtonDisabled:t||!e,onOkButtonClick:this.onRestoreClick,cancelButtonText:'Discard',cancelButtonDisabled:t,onCancelButtonClick:this.onDiscardClick}),this.renderExplanatoryText()))}renderExplanatoryText(){const{isWorkingTreeClean:e}=this.props;return e||this.state.isRestoring?o.createElement('div',{className:'explanatory-text'},o.createElement('span',{className:'text'},o.createElement('strong',null,'Restore'),' will move your stashed files to the Changes list.')):o.createElement('div',{className:'explanatory-text'},o.createElement(i.Octicon,{symbol:i.OcticonSymbol.alert}),o.createElement('span',{className:'text'},'Unable to restore stash when changes are present on your branch.'))}}t.StashDiffHeader=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(79),i=n(209),a=n(145),s=n(492),d=n(146);class l extends o.PureComponent{constructor(){super(...arguments),this.onSelectedFileChanged=(e)=>this.props.dispatcher.selectStashedFile(this.props.repository,e),this.onResize=(e)=>this.props.dispatcher.setStashedFilesWidth(e),this.onReset=()=>this.props.dispatcher.resetStashedFilesWidth()}render(){const{stashEntry:e,selectedStashedFile:t,stashedFileDiff:n,repository:l,dispatcher:c,imageDiffType:p,isWorkingTreeClean:u,fileListWidth:m,onOpenBinaryFile:h,onChangeImageDiffType:f}=this.props,g=e.files.kind===r.StashedChangesLoadStates.Loaded?e.files.files:[],y=null===t?null:o.createElement(d.SeamlessDiffSwitcher,{repository:l,readOnly:!0,file:t,diff:n,imageDiffType:p,hideWhitespaceInDiff:!1,onOpenBinaryFile:h,onChangeImageDiffType:f});return o.createElement('section',{id:'stash-diff-viewer'},o.createElement(s.StashDiffHeader,{stashEntry:e,repository:l,dispatcher:c,isWorkingTreeClean:u}),o.createElement('div',{className:'commit-details'},o.createElement(a.Resizable,{width:this.props.fileListWidth,onResize:this.onResize,onReset:this.onReset},o.createElement(i.FileList,{files:g,onSelectedFileChanged:this.onSelectedFileChanged,selectedFile:t,availableWidth:m})),y))}}t.StashDiffViewer=l},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(493))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(28),i=n(12),a=n(144),s=n(70);class d extends o.Component{constructor(){super(...arguments),this.onMergeClicked=async()=>{const{comparisonBranch:e,repository:t,mergeStatus:n}=this.props;this.props.dispatcher.recordCompareInitiatedMerge(),await this.props.dispatcher.mergeBranch(t,e.name,n),this.props.dispatcher.executeCompare(t,{kind:r.HistoryTabMode.History}),this.props.dispatcher.updateCompareForm(t,{showBranchList:!1,filterText:''}),this.props.onMerged()}}render(){const{commitsBehind:e}=this.props,t=null!=this.props.mergeStatus&&this.props.mergeStatus.kind===s.ComputedAction.Invalid,n=0<e?this.renderMergeStatus():null;return o.createElement('div',{className:'merge-cta'},n,o.createElement(i.Button,{type:'submit',disabled:0>=e||t,onClick:this.onMergeClicked},'Merge into ',o.createElement('strong',null,this.props.currentBranch.name)))}renderMergeStatus(){return o.createElement('div',{className:'merge-status-component'},o.createElement(a.ActionStatusIcon,{status:this.props.mergeStatus,classNamePrefix:'merge-status'}),this.renderMergeDetails(this.props.currentBranch,this.props.comparisonBranch,this.props.mergeStatus,this.props.commitsBehind))}renderMergeDetails(e,t,n,o){return null===n?null:n.kind===s.ComputedAction.Loading?this.renderLoadingMergeMessage():n.kind===s.ComputedAction.Clean?this.renderCleanMergeMessage(e,t,o):n.kind===s.ComputedAction.Invalid?this.renderInvalidMergeMessage():n.kind===s.ComputedAction.Conflicts?this.renderConflictedMergeMessage(e,t,n.conflictedFiles):null}renderLoadingMergeMessage(){return o.createElement('div',{className:'merge-message merge-message-loading'},'Checking for ability to merge automatically...')}renderCleanMergeMessage(e,t,n){if(0<n){const r=1===n?'commit':'commits';return o.createElement('div',{className:'merge-message'},'This will merge',o.createElement('strong',null,` ${n} ${r}`),` from `,o.createElement('strong',null,t.name),` into `,o.createElement('strong',null,e.name))}return null}renderInvalidMergeMessage(){return o.createElement('div',{className:'merge-message'},'Unable to merge unrelated histories in this repository')}renderConflictedMergeMessage(e,t,n){const r=1===n?'file':'files';return o.createElement('div',{className:'merge-message'},'There will be',o.createElement('strong',null,` ${n} conflicted ${r}`),` when merging `,o.createElement('strong',null,t.name),` into `,o.createElement('strong',null,e.name))}}t.MergeCallToActionWithConflicts=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(21),i=n(4),a=n(12),s=n(28),d=n(24);var l;(function(e){e.Close='close',e.Compare='compare',e.Merge='merge'})(l=t.DismissalReason||(t.DismissalReason={}));class c extends o.Component{constructor(){super(...arguments),this.onDismissed=()=>{this.props.onDismiss(l.Close)},this.onComparedClicked=()=>{const{repository:e,dispatcher:t}=this.props;t.executeCompare(e,{kind:s.HistoryTabMode.Compare,branch:this.props.baseBranch,comparisonMode:s.ComparisonMode.Behind}),t.recordDivergingBranchBannerInitiatedCompare(),this.props.onDismiss(l.Compare)},this.onMergeClicked=()=>{const{repository:e,dispatcher:t}=this.props;t.showPopup({type:d.PopupType.MergeBranch,branch:this.props.baseBranch,repository:e}),t.recordDivergingBranchBannerInitatedMerge(),this.props.onDismiss(l.Merge)}}render(){const e=1<this.props.commitsBehindBaseBranch;return o.createElement('div',{className:'notification-banner diverge-banner'},o.createElement(i.Octicon,{symbol:i.OcticonSymbol.lightBulb,className:'notification-icon'}),o.createElement('div',{className:'notification-banner-content'},o.createElement('div',{className:'notification-banner-content-body'},o.createElement('p',null,'We have noticed that your branch is',' ',o.createElement('strong',null,this.props.commitsBehindBaseBranch,' commit',e?'s':''),' ','behind ',o.createElement(r.Ref,null,this.props.baseBranch.name),'.')),o.createElement('div',null,o.createElement(a.Button,{className:'small-button',onClick:this.onComparedClicked},'View commits'),o.createElement(a.Button,{className:'small-button',type:'submit',onClick:this.onMergeClicked},'Merge...'))),o.createElement('a',{className:'close',"aria-label":'Dismiss banner',onClick:this.onDismissed},o.createElement(i.Octicon,{symbol:i.OcticonSymbol.x})))}}t.NewCommitsBanner=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(29),a=n(5);class s extends o.Component{constructor(e){super(e),this.onFocus=()=>{this.props.onFocus!==void 0&&this.props.onFocus(),this.setState({isFocused:!0})},this.onBlur=()=>{this.props.onBlur!==void 0&&this.props.onBlur(),this.setState({isFocused:!1})},this.state={isFocused:!1}}render(){const e=a('fancy-text-box-component',this.props.className,{disabled:this.props.disabled},{focused:this.state.isFocused}),t=a('fancy-octicon');return o.createElement('div',{className:e},o.createElement(r.Octicon,{className:t,symbol:this.props.symbol}),o.createElement(i.TextBox,{value:this.props.value,onFocus:this.onFocus,onBlur:this.onBlur,autoFocus:this.props.autoFocus,disabled:this.props.disabled,type:this.props.type,placeholder:this.props.placeholder,onKeyDown:this.props.onKeyDown,onValueChanged:this.props.onValueChanged,onSearchCleared:this.props.onSearchCleared,tabIndex:this.props.tabIndex,ref:this.props.onRef}))}}t.FancyTextBox=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4),i=n(96);class a extends o.Component{render(){const e=this.props.isCurrentBranch,t=this.props.branch,n=e?r.OcticonSymbol.check:r.OcticonSymbol.gitBranch,a=this.props.aheadBehind,s=a?o.createElement('div',{className:'branch-commit-counter'},o.createElement('span',{className:'branch-commit-counter-item'},a.behind,o.createElement(r.Octicon,{className:'icon',symbol:r.OcticonSymbol.arrowDown})),o.createElement('span',{className:'branch-commit-counter-item'},a.ahead,o.createElement(r.Octicon,{className:'icon',symbol:r.OcticonSymbol.arrowUp}))):null;return o.createElement('div',{className:'branches-list-item'},o.createElement(r.Octicon,{className:'icon',symbol:n}),o.createElement('div',{className:'name',title:t.name},o.createElement(i.HighlightText,{text:t.name,highlight:this.props.matches.title})),s)}}t.CompareBranchListItem=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(204);class i extends o.Component{render(){const e=`refs/pull/${this.props.number}/head`;return o.createElement('div',{className:'pr-badge'},o.createElement('span',{className:'number'},'#',this.props.number),o.createElement(r.CIStatus,{commitRef:e,dispatcher:this.props.dispatcher,repository:this.props.repository}))}}t.PullRequestBadge=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=n(21),a=n(13),s=r.encodePathAsUrl(__dirname,'static/empty-no-pull-requests.svg');class d extends o.Component{render(){return o.createElement('div',{className:'no-pull-requests'},o.createElement('img',{src:s,className:'blankslate-image'}),this.renderTitle(),this.renderCallToAction())}renderTitle(){return this.props.isSearch?o.createElement('div',{className:'title'},'Sorry, I can\'t find that pull request!'):this.props.isLoadingPullRequests?o.createElement('div',{className:'title'},'Hang tight'):o.createElement('div',null,o.createElement('div',{className:'title'},'You\'re all set!'),o.createElement('div',{className:'no-prs'},'No open pull requests in ',o.createElement(i.Ref,null,this.props.repositoryName)))}renderCallToAction(){return this.props.isLoadingPullRequests?o.createElement('div',{className:'call-to-action'},'Loading pull requests as fast as I can!'):this.props.isOnDefaultBranch?o.createElement('div',{className:'call-to-action'},'Would you like to',' ',o.createElement(a.LinkButton,{onClick:this.props.onCreateBranch},'create a new branch'),' ','and get going on your next project?'):o.createElement('div',{className:'call-to-action'},'Would you like to',' ',o.createElement(a.LinkButton,{onClick:this.props.onCreatePullRequest},'create a pull request'),' ','from the current branch?')}}t.NoPullRequests=d},function(e,t,n){'use strict';function o(e){return'failure'===e?'Commit status: failed':'pending'===e||'success'===e?`Commit status: ${e}`:i.assertNever(e,`Unknown APIRefState value: ${e}`)}function r(e){const t=e.state,n=t.charAt(0).toUpperCase()+t.substring(1,t.length);return`${n}: ${e.description}`}Object.defineProperty(t,'__esModule',{value:!0});const i=n(2);t.getRefStatusSummary=function(e){const t=e.statuses.length||0;if(0===t)return o(e.state);if(1===t)return r(e.statuses[0]);const n=e.statuses.filter((e)=>'success'===e.state).length;return`${n}/${t} checks OK`}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(57),i=n(5),a=n(4),s=n(204),d=n(96);class l extends o.Component{getSubtitle(){if(!0!==this.props.loading){const e=r(this.props.created).fromNow();return`#${this.props.number} opened ${e} by ${this.props.author}`}}render(){const e=!0===this.props.loading?void 0:this.props.title,t=this.getSubtitle(),n=this.props.matches,r=i('pull-request-item',{loading:!0===this.props.loading});return o.createElement('div',{className:r},o.createElement(a.Octicon,{className:'icon',symbol:a.OcticonSymbol.gitPullRequest}),o.createElement('div',{className:'info'},o.createElement('div',{className:'title',title:e},o.createElement(d.HighlightText,{text:e||'',highlight:n.title})),o.createElement('div',{className:'subtitle',title:t},o.createElement(d.HighlightText,{text:t||'',highlight:n.subtitle}))),this.renderPullRequestStatus())}renderPullRequestStatus(){const e=`refs/pull/${this.props.number}/head`;return o.createElement(s.CIStatus,{dispatcher:this.props.dispatcher,repository:this.props.repository,commitRef:e})}}t.PullRequestListItem=l},function(e,t,n){'use strict';function o(e,t,n){let o=null;return null!=t.selectedPullRequest&&(o=a(e,t.selectedPullRequest)),null==o&&null!=n&&(o=a(e,n.pullRequest)),o}function r(e){const t=d(e.created).fromNow();return`#${e.pullRequestNumber} opened ${t} by ${e.author}`}function i(e){const t=e.map((e)=>({text:[e.title,r(e)],id:e.pullRequestNumber.toString(),pullRequest:e}));return{identifier:'pull-requests',items:t}}function a(e,t){return e.items.find((e)=>e.pullRequest.pullRequestNumber===t.pullRequestNumber)||null}Object.defineProperty(t,'__esModule',{value:!0});const s=n(0),d=n(57),l=n(120),c=n(502),p=n(500),u=n(26),m=n(12),h=n(4),f=n(28),g=n(76);t.RowHeight=47;class y extends s.Component{constructor(e){super(e),this.renderNoItems=()=>s.createElement(p.NoPullRequests,{isSearch:0<this.state.filterText.length,isLoadingPullRequests:this.props.isLoadingPullRequests,repositoryName:this.getRepositoryName(),isOnDefaultBranch:this.props.isOnDefaultBranch,onCreateBranch:this.props.onCreateBranch,onCreatePullRequest:this.onCreatePullRequest}),this.renderPullRequest=(e,t)=>{const n=e.pullRequest;return s.createElement(c.PullRequestListItem,{title:n.title,number:n.pullRequestNumber,created:n.created,author:n.author,matches:t,dispatcher:this.props.dispatcher,repository:n.base.gitHubRepository})},this.onItemClick=(e,t)=>{const n=e.pullRequest;this.props.dispatcher.closeFoldout(f.FoldoutType.Branch);const o=g.startTimer('checkout pull request from list',this.props.repository);this.props.dispatcher.checkoutPullRequest(this.props.repository,n).then(()=>o.done()),this.props.onSelectionChanged(n,t)},this.onSelectionChanged=(e,t)=>{this.props.onSelectionChanged(null==e?null:e.pullRequest,t)},this.renderListHeader=()=>s.createElement('div',{className:'filter-list-group-header'},'Pull requests in ',this.getRepositoryName()),this.onRefreshPullRequests=()=>{this.props.dispatcher.refreshPullRequests(this.props.repository)},this.renderPostFilter=()=>s.createElement(m.Button,{disabled:this.props.isLoadingPullRequests,onClick:this.onRefreshPullRequests,tooltip:'Refresh the list of pull requests'},s.createElement(h.Octicon,{symbol:h.OcticonSymbol.sync,className:this.props.isLoadingPullRequests?'spin':void 0})),this.onFilterTextChanged=(e)=>{this.setState({filterText:e})},this.onCreatePullRequest=()=>{this.props.dispatcher.closeFoldout(f.FoldoutType.Branch),this.props.dispatcher.createPullRequest(this.props.repository)};const t=i(e.pullRequests),n=o(t,e,null);this.state={filterText:'',groupedItems:[t],selectedItem:n}}componentWillReceiveProps(e){const t=i(e.pullRequests),n=o(t,e,this.state.selectedItem);this.setState({groupedItems:[t],selectedItem:n})}render(){return s.createElement(l.FilterList,{className:'pull-request-list',rowHeight:t.RowHeight,groups:this.state.groupedItems,selectedItem:this.state.selectedItem,renderItem:this.renderPullRequest,filterText:this.state.filterText,onFilterTextChanged:this.onFilterTextChanged,invalidationProps:this.props.pullRequests,onItemClick:this.onItemClick,onSelectionChanged:this.onSelectionChanged,onFilterKeyDown:this.props.onFilterKeyDown,renderGroupHeader:this.renderListHeader,renderNoItems:this.renderNoItems,renderPostFilter:this.renderPostFilter})}getRepositoryName(){return u.getNonForkGitHubRepository(this.props.repository).fullName}}t.PullRequestList=y},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(26),i=n(282),a=n(24),s=n(28),d=n(2),l=n(50),c=n(18),p=n(4),u=n(12),m=n(206),h=n(503),f=n(203),g=n(76),y=n(61);class S extends o.Component{constructor(e){super(e),this.getBranchName=()=>{const{currentBranch:e,defaultBranch:t}=this.props;return null==e?null==t?'master':t.name:e.name},this.renderBranch=(e,t)=>f.renderDefaultBranch(e,t,this.props.currentBranch),this.onTabClicked=(e)=>{this.props.dispatcher.changeBranchesTab(e)},this.onDismiss=()=>{this.props.dispatcher.closeFoldout(s.FoldoutType.Branch)},this.onMergeClick=()=>{this.props.dispatcher.closeFoldout(s.FoldoutType.Branch),this.props.dispatcher.showPopup({type:a.PopupType.MergeBranch,repository:this.props.repository})},this.onBranchItemClick=(e)=>{this.props.dispatcher.closeFoldout(s.FoldoutType.Branch);const{currentBranch:t,repository:n,currentBranchProtected:o,dispatcher:r,couldOverwriteStash:i}=this.props;if(null==t||t.name!==e.name){if(!o&&this.props.selectedUncommittedChangesStrategy.kind===y.stashOnCurrentBranch.kind&&i)return void r.showPopup({type:a.PopupType.ConfirmOverwriteStash,repository:n,branchToCheckout:e});const t=g.startTimer('checkout branch from list',n),s=o?{kind:y.UncommittedChangesStrategyKind.MoveToNewBranch,transientStashEntry:null}:this.props.selectedUncommittedChangesStrategy;this.props.dispatcher.checkoutBranch(n,e,s).then(()=>t.done())}},this.onBranchSelectionChanged=(e)=>{this.setState({selectedBranch:e})},this.onBranchFilterTextChanged=(e)=>{this.setState({branchFilterText:e})},this.onCreateBranchWithName=(e)=>{const{repository:t,currentBranchProtected:n}=this.props;this.props.dispatcher.closeFoldout(s.FoldoutType.Branch),this.props.dispatcher.showPopup({type:a.PopupType.CreateBranch,repository:t,currentBranchProtected:n,initialName:e})},this.onCreateBranch=()=>{this.onCreateBranchWithName('')},this.onPullRequestSelectionChanged=(e)=>{this.setState({selectedPullRequest:e})},this.state={selectedBranch:e.currentBranch,selectedPullRequest:e.currentPullRequest,branchFilterText:''}}render(){const e=this.getBranchName();return o.createElement('div',{className:'branches-container'},this.renderTabBar(),this.renderSelectedTab(),o.createElement(c.Row,{className:'merge-button-row'},o.createElement(u.Button,{className:'merge-button',onClick:this.onMergeClick},o.createElement(p.Octicon,{className:'icon',symbol:p.OcticonSymbol.gitMerge}),o.createElement('span',{title:`Merge a branch into ${e}`},'Choose a branch to merge into ',o.createElement('strong',null,e)))))}renderOpenPullRequestsBubble(){const e=this.props.pullRequests;return 0<e.length?o.createElement('span',{className:'count'},e.length):null}renderTabBar(){return this.props.repository.gitHubRepository?o.createElement(l.TabBar,{onTabClicked:this.onTabClicked,selectedIndex:this.props.selectedTab},o.createElement('span',null,'Branches'),o.createElement('span',{className:'pull-request-tab'},'Pull requests',this.renderOpenPullRequestsBubble())):null}renderSelectedTab(){let e=this.props.selectedTab;return this.props.repository.gitHubRepository||(e=i.BranchesTab.Branches),e===i.BranchesTab.Branches?o.createElement(m.BranchList,{defaultBranch:this.props.defaultBranch,currentBranch:this.props.currentBranch,allBranches:this.props.allBranches,recentBranches:this.props.recentBranches,onItemClick:this.onBranchItemClick,filterText:this.state.branchFilterText,onFilterTextChanged:this.onBranchFilterTextChanged,selectedBranch:this.state.selectedBranch,onSelectionChanged:this.onBranchSelectionChanged,canCreateNewBranch:!0,onCreateNewBranch:this.onCreateBranchWithName,renderBranch:this.renderBranch}):e===i.BranchesTab.PullRequests?this.renderPullRequests():d.assertNever(e,`Unknown Branches tab: ${e}`)}renderPullRequests(){const e=this.props.repository;if(!r.isRepositoryWithGitHubRepository(e))return null;const t=this.props.defaultBranch&&this.props.currentBranch&&this.props.defaultBranch.name===this.props.currentBranch.name;return o.createElement(h.PullRequestList,{key:'pr-list',pullRequests:this.props.pullRequests,selectedPullRequest:this.props.currentPullRequest,isOnDefaultBranch:!!t,onSelectionChanged:this.onPullRequestSelectionChanged,onCreateBranch:this.onCreateBranch,onDismiss:this.onDismiss,dispatcher:this.props.dispatcher,repository:e,isLoadingPullRequests:this.props.isLoadingPullRequests})}}t.BranchesContainer=S},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=n(12),a=r.encodePathAsUrl(__dirname,'static/empty-no-branches.svg');class s extends o.Component{render(){return this.props.canCreateNewBranch?o.createElement('div',{className:'no-branches'},o.createElement('img',{src:a,className:'blankslate-image'}),o.createElement('div',{className:'title'},'Sorry, I can\'t find that branch'),o.createElement('div',{className:'subtitle'},'Do you want to create a new branch instead?'),o.createElement(i.Button,{className:'create-branch-button',onClick:this.props.onCreateNewBranch,type:'submit'},'Create new branch'),o.createElement('div',{className:'protip'},'ProTip! Press ',this.renderShortcut(),' to quickly create a new branch from anywhere within the app')):o.createElement('div',{className:'no-branches'},'Sorry, I can\'t find that branch')}renderShortcut(){return o.createElement('span',null,o.createElement('kbd',null,'Ctrl'),' + ',o.createElement('kbd',null,'Shift'),' + ',o.createElement('kbd',null,'N'))}}t.NoBranches=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(7),i=n(207);class a extends o.Component{render(){return o.createElement(i.DialogFooter,null,o.createElement(r.OkCancelButtonGroup,{okButtonText:this.props.buttonText||'Close',okButtonTitle:this.props.buttonTitle,onOkButtonClick:this.props.onButtonClick,okButtonDisabled:this.props.disabled,cancelButtonVisible:!1}))}}t.DefaultDialogFooter=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4);class i extends o.Component{render(){return o.createElement('div',{className:'dialog-error'},o.createElement(r.Octicon,{symbol:r.OcticonSymbol.stop}),o.createElement('div',null,this.props.children))}}t.DialogError=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4);class i extends o.Component{constructor(){super(...arguments),this.onCloseButtonClick=()=>{this.props.onDismissed&&this.props.onDismissed()}}renderCloseButton(){return this.props.dismissable?o.createElement('a',{className:'close',onClick:this.onCloseButtonClick,"aria-label":'close',role:'button'},o.createElement(r.Octicon,{symbol:r.OcticonSymbol.x})):null}renderTitle(){return o.createElement('h1',{id:this.props.titleId},this.props.title)}render(){const e=this.props.loading?o.createElement(r.Octicon,{className:'icon spin',symbol:r.OcticonSymbol.sync}):null;return o.createElement('header',{className:'dialog-header'},this.renderTitle(),e,this.renderCloseButton(),this.props.children)}}t.DialogHeader=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(508),a=n(68),s=28;class d extends o.Component{constructor(e){super(e),this.dialogElement=null,this.disableClickDismissalTimeoutId=null,this.disableClickDismissal=!1,this.resizeDebounceId=null,this.scheduleResizeEvent=()=>{null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized)},this.onResized=()=>{if(this.dialogElement){const{offsetTop:e,offsetHeight:t}=this.dialogElement;if(!(t>window.innerHeight-s)){const n=e+t+10-window.innerHeight;if(0<n){const t=Math.max(s,e-n);this.dialogElement.style.top=`${t}px`}}}},this.onDismissGraceTimer=()=>{this.setState({isAppearing:!1})},this.onWindowFocus=()=>{this.clearClickDismissalTimer(),this.disableClickDismissal=!0,this.disableClickDismissalTimeoutId=window.setTimeout(()=>{this.disableClickDismissal=!1,this.disableClickDismissalTimeoutId=null},500)},this.onDialogCancel=(t)=>{t.preventDefault(),this.onDismiss()},this.onDialogMouseDown=(t)=>t.defaultPrevented||!1===this.isDismissable()?void 0:t.target===this.dialogElement?this.disableClickDismissal?(this.disableClickDismissal=!1,void this.clearClickDismissalTimer()):void(!this.mouseEventIsInsideDialog(t)&&document.addEventListener('mouseup',this.onDocumentMouseUp,{once:!0})):void 0,this.onDocumentMouseUp=(t)=>{t.defaultPrevented||this.mouseEventIsInsideDialog(t)||(t.preventDefault(),this.onDismiss())},this.onDialogRef=(t)=>{t?(t.addEventListener('cancel',this.onDialogCancel),t.addEventListener('keydown',this.onKeyDown)):this.dialogElement&&(this.dialogElement.removeEventListener('cancel',this.onDialogCancel),this.dialogElement.removeEventListener('keydown',this.onKeyDown)),this.dialogElement=t},this.onKeyDown=(e)=>{const t=e.ctrlKey;(t&&'w'===e.key||'Escape'===e.key)&&this.onDialogCancel(e)},this.onDismiss=()=>{this.isDismissable()&&!this.state.isAppearing&&this.props.onDismissed&&this.props.onDismissed()},this.onSubmit=(t)=>{t.preventDefault(),this.props.onSubmit?this.props.onSubmit():this.onDismiss()},this.state={isAppearing:!0},this.resizeObserver=new ResizeObserver(this.scheduleResizeEvent)}clearDismissGraceTimeout(){this.dismissGraceTimeoutId!==void 0&&(window.clearTimeout(this.dismissGraceTimeoutId),this.dismissGraceTimeoutId=void 0)}scheduleDismissGraceTimeout(){this.clearDismissGraceTimeout(),this.dismissGraceTimeoutId=window.setTimeout(this.onDismissGraceTimer,250)}isDismissable(){return this.props.dismissable===void 0||this.props.dismissable}updateTitleId(){if(this.state.titleId&&(a.releaseUniqueId(this.state.titleId),this.setState({titleId:void 0})),this.props.title){const e='string'==typeof this.props.title?this.props.title:'???';this.setState({titleId:a.createUniqueId(`Dialog_${this.props.id}_${e}`)})}}componentWillMount(){this.updateTitleId()}componentDidMount(){this.dialogElement&&(this.dialogElement.showModal(),this.dialogElement.dispatchEvent(new CustomEvent('dialog-show',{bubbles:!0,cancelable:!1})),this.setState({isAppearing:!0}),this.scheduleDismissGraceTimeout(),this.focusFirstSuitableChild(),window.addEventListener('focus',this.onWindowFocus),this.resizeObserver.observe(this.dialogElement),window.addEventListener('resize',this.scheduleResizeEvent))}focusFirstSuitableChild(){const e=this.dialogElement;if(null===e)return;let t=[Infinity,null],n=null,o=null,r=null;const i=`input${[':not([type=button])',':not([type=submit])',':not([type=reset])',':not([type=hidden])',':not([type=checkbox])',':not([type=radio])'].join('')}, textarea`;for(const a of e.querySelectorAll('input:not([type=hidden]):not(:disabled):not([tabindex="-1"]), textarea:not(:disabled):not([tabindex="-1"]), button:not(:disabled):not([tabindex="-1"]), [tabindex]:not(:disabled):not([tabindex="-1"])')){if(!(a instanceof HTMLElement))continue;const e=parseInt(a.getAttribute('tabindex')||'',10);0<e&&e<t[0]?t=[e,a]:null===r&&(0===e||a.matches(i))?r=a:null===n&&a.matches('input[type=submit], button[type=submit]')?n=a:null===o&&a.matches('input[type=button], input[type=submit] input[type=reset], button')&&(o=a)}const a=t[1]||r||n||o;null!==a&&a.focus()}clearClickDismissalTimer(){this.disableClickDismissalTimeoutId&&(window.clearTimeout(this.disableClickDismissalTimeoutId),this.disableClickDismissalTimeoutId=null)}componentWillUnmount(){this.clearDismissGraceTimeout(),this.state.titleId&&a.releaseUniqueId(this.state.titleId),window.removeEventListener('focus',this.onWindowFocus),document.removeEventListener('mouseup',this.onDocumentMouseUp),this.resizeObserver.disconnect(),window.removeEventListener('resize',this.scheduleResizeEvent)}componentDidUpdate(){!this.props.title&&this.state.titleId&&this.updateTitleId()}mouseEventIsInsideDialog(t){if(null===this.dialogElement)return!1;const e=t.clientY<=s;if(e)return!1;const n=this.dialogElement.getBoundingClientRect(),o=n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width;return o}renderHeader(){return this.props.title?o.createElement(i.DialogHeader,{title:this.props.title,titleId:this.state.titleId,dismissable:this.isDismissable(),onDismissed:this.onDismiss,loading:this.props.loading}):null}render(){const e=r({error:'error'===this.props.type,warning:'warning'===this.props.type},this.props.className);return o.createElement('dialog',{ref:this.onDialogRef,id:this.props.id,onMouseDown:this.onDialogMouseDown,className:e,"aria-labelledby":this.state.titleId,tabIndex:-1},this.renderHeader(),o.createElement('form',{onSubmit:this.onSubmit,onReset:this.onDismiss},o.createElement('fieldset',{disabled:this.props.disabled},this.props.children)))}}t.Dialog=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{render(){const e=r('dialog-content',this.props.className);return o.createElement('div',{className:e,ref:this.props.onRef},this.props.children)}}t.DialogContent=i},function(e,t,n){'use strict';function o(e,t){return 1===e?`${e} ${t}`:`${e} ${t}s`}function r(e){return e===void 0}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(3),s=n(21),d=n(7);class l extends i.Component{constructor(e){super(e),this.onCreateWithoutPushButtonClick=(t)=>{t.preventDefault(),this.props.onConfirm(this.props.repository,this.props.branch),this.props.onDismissed()},this.onSubmit=async()=>{const{repository:e,branch:t}=this.props;this.setState({isPushingOrPublishing:!0});try{await this.props.dispatcher.push(e)}finally{this.setState({isPushingOrPublishing:!1})}this.props.onConfirm(e,t),this.props.onDismissed()},this.state={isPushingOrPublishing:!1}}render(){return i.createElement(a.Dialog,{id:'push-branch-commits',key:'push-branch-commits',title:this.renderDialogTitle(),onDismissed:this.props.onDismissed,onSubmit:this.onSubmit,loading:this.state.isPushingOrPublishing,disabled:this.state.isPushingOrPublishing},this.renderDialogContent(),i.createElement(a.DialogFooter,null,this.renderButtonGroup()))}renderDialogContent(){if(r(this.props.unPushedCommits))return i.createElement(a.DialogContent,null,i.createElement('p',null,'Your branch must be published before opening a pull request.'),i.createElement('p',null,'Would you like to publish ',i.createElement(s.Ref,null,this.props.branch.name),' now and open a pull request?'));const e=o(this.props.unPushedCommits,'local commit');return i.createElement(a.DialogContent,null,i.createElement('p',null,'You have ',e,' that haven\'t been pushed to the remote yet.'),i.createElement('p',null,'Would you like to push your changes to',' ',i.createElement(s.Ref,null,this.props.branch.name),' before creating your pull request?'))}renderDialogTitle(){return r(this.props.unPushedCommits)?'Publish branch?':`Push local changes?`}renderButtonGroup(){return r(this.props.unPushedCommits)?i.createElement(d.OkCancelButtonGroup,{okButtonText:'Publish branch'}):i.createElement(d.OkCancelButtonGroup,{okButtonText:'Push commits',cancelButtonText:'Create without pushing',onCancelButtonClick:this.onCreateWithoutPushButtonClick})}}t.PushBranchCommits=l},function(e,t,n){'use strict';function o(e){return`${e.sha} ${e.tags}`}function r(e){return e.map(o).join(' ')}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(67),s=n(208),d=n(77),l=n(69),c=50;class p extends i.Component{constructor(){super(...arguments),this.commitsHash=a.default(r,l.arrayEquals),this.renderCommit=(e)=>{const t=this.props.commitSHAs[e],n=this.props.commitLookup.get(t);if(null==n)return!1,null;const o=new Set(this.props.tagsToPush||[]),r=this.props.localCommitSHAs.includes(n.sha),a=n.tags.filter((e)=>o.has(e)),d=(r||0<a.length)&&!1===this.props.isLocalRepository;return i.createElement(s.CommitListItem,{key:n.sha,gitHubRepository:this.props.gitHubRepository,isLocal:r,showUnpushedIndicator:d,unpushedIndicatorTitle:this.getUnpushedIndicatorTitle(r,a.length),unpushedTags:a,commit:n,gitHubUsers:this.props.gitHubUsers,emoji:this.props.emoji,onCreateTag:this.props.onCreateTag,onDeleteTag:this.props.onDeleteTag,onRevertCommit:this.props.onRevertCommit,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub})},this.onSelectedRowChanged=(e)=>{const t=this.props.commitSHAs[e],n=this.props.commitLookup.get(t);n&&this.props.onCommitSelected(n)},this.onScroll=(e,t)=>{const n=Math.ceil(t/c),o=Math.floor(e/c);this.props.onScroll(o,o+n),null!=this.props.onCompareListScrolled&&this.props.onCompareListScrolled(e)}}getVisibleCommits(){const e=[];for(const t of this.props.commitSHAs){const n=this.props.commitLookup.get(t);n!==void 0&&e.push(n)}return e}getUnpushedIndicatorTitle(e,t){return e?'This commit has not been pushed to the remote repository':0<t?`This commit has ${t} tag${1<t?'s':''} to push`:void 0}rowForSHA(e){const t=e;return t?this.props.commitSHAs.findIndex((e)=>e===t):-1}render(){return 0===this.props.commitSHAs.length?i.createElement('div',{className:'panel blankslate'},this.props.emptyListMessage):i.createElement('div',{id:'commit-list'},i.createElement(d.List,{rowCount:this.props.commitSHAs.length,rowHeight:c,selectedRows:[this.rowForSHA(this.props.selectedSHA)],rowRenderer:this.renderCommit,onSelectedRowChanged:this.onSelectedRowChanged,onScroll:this.onScroll,invalidationProps:{commits:this.props.commitSHAs,gitHubUsers:this.props.gitHubUsers,localCommitSHAs:this.props.localCommitSHAs,commitLookupHash:this.commitsHash(this.getVisibleCommits()),tagsToPush:this.props.tagsToPush},setScrollTop:this.props.compareListScrollTop}))}}t.CommitList=p},function(e,t,n){'use strict';function o(e){const{allBranches:t,formState:n}=e;return 0===t.length?'No branches to compare':n.kind===s.HistoryTabMode.History?'Select branch to compare...':void 0}function r(e){return e.kind===s.HistoryTabMode.History||e.comparisonMode===s.ComparisonMode.Ahead}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(88),s=n(28),d=n(512),l=n(150),c=n(90),p=n(50),u=n(498),m=n(497),h=n(4),f=n(21),g=n(496),y=n(495),S=n(2),C=n(25);class b extends i.Component{constructor(e){super(e),this.textbox=null,this.loadChangedFilesScheduler=new l.ThrottledScheduler(200),this.branchList=null,this.loadingMoreCommitsPromise=null,this.resultCount=0,this.onBranchesListRef=(e)=>{this.branchList=e},this.filterListResultsChanged=(e)=>{this.resultCount=e},this.viewHistoryForBranch=()=>{this.props.dispatcher.executeCompare(this.props.repository,{kind:s.HistoryTabMode.History}),this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.onTabClicked=(e)=>{const t=this.props.compareState.formState;if(t.kind!==s.HistoryTabMode.History){const n=0===e?s.ComparisonMode.Behind:s.ComparisonMode.Ahead,o=t.comparisonBranch;this.props.dispatcher.executeCompare(this.props.repository,{kind:s.HistoryTabMode.Compare,branch:o,comparisonMode:n})}},this.renderCompareBranchListItem=(e,t)=>{const n=this.props.currentBranch,o=null==n?null:n.name,r=e.branch,a=n?this.props.compareState.aheadBehindCache.get(n.tip.sha,r.tip.sha):null;return i.createElement(u.CompareBranchListItem,{branch:r,isCurrentBranch:r.name===o,matches:t,aheadBehind:a})},this.onBranchFilterKeyDown=(e)=>{const t=e.key;if('Enter'===t){if(0===this.resultCount)return void e.preventDefault();const t=this.state.focusedBranch;null===t?this.viewHistoryForBranch():(this.props.dispatcher.executeCompare(this.props.repository,{kind:s.HistoryTabMode.Compare,comparisonMode:s.ComparisonMode.Behind,branch:t}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:t.name})),this.textbox&&this.textbox.blur()}else'Escape'===t?this.handleEscape():'ArrowDown'===t?null!==this.branchList&&this.branchList.selectNextItem(!0,'down'):'ArrowUp'===t&&null!==this.branchList&&this.branchList.selectNextItem(!0,'up')},this.handleEscape=()=>{this.clearFilterState(),this.textbox&&this.textbox.blur()},this.onCommitSelected=(e)=>{this.props.dispatcher.changeCommitSelection(this.props.repository,e.sha),this.loadChangedFilesScheduler.queue(()=>{this.props.dispatcher.loadChangedFilesForCurrentSelection(this.props.repository)})},this.onScroll=(e,t)=>{const n=this.props.compareState,o=n.formState;if(o.kind!==s.HistoryTabMode.Compare){const e=n.commitSHAs;if(e.length-t<=10){if(null!=this.loadingMoreCommitsPromise)return;this.loadingMoreCommitsPromise=this.props.dispatcher.loadNextCommitBatch(this.props.repository).then(()=>{window.setTimeout(()=>{this.loadingMoreCommitsPromise=null},500)})}}},this.onBranchFilterTextChanged=(e)=>{0===e.length&&this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:e})},this.clearFilterState=()=>{this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:''}),this.viewHistoryForBranch()},this.onBranchItemClicked=(e)=>{this.props.dispatcher.executeCompare(this.props.repository,{kind:s.HistoryTabMode.Compare,comparisonMode:s.ComparisonMode.Behind,branch:e}),this.setState({focusedBranch:null}),this.props.dispatcher.updateCompareForm(this.props.repository,{filterText:e.name,showBranchList:!1})},this.onSelectionChanged=(e)=>{this.setState({focusedBranch:e})},this.onTextBoxFocused=()=>{this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!0})},this.onTextBoxRef=(e)=>{this.textbox=e},this.onNotificationBannerDismissed=(e)=>{e===g.DismissalReason.Close&&this.props.dispatcher.dismissDivergingBranchBanner(this.props.repository),this.props.dispatcher.recordDivergingBranchBannerDismissal();e===g.DismissalReason.Close?this.setState({hasConsumedNotification:!1}):e===g.DismissalReason.Compare||e===g.DismissalReason.Merge?this.setState({hasConsumedNotification:!0}):S.assertNever(e,'Unknown reason')},this.onMerge=()=>{this.state.hasConsumedNotification&&this.props.dispatcher.recordDivergingBranchBannerInfluencedMerge()},this.onCreateTag=(e)=>{this.props.dispatcher.showCreateTagDialog(this.props.repository,e,this.props.localTags)},this.onDeleteTag=(e)=>{this.props.dispatcher.showDeleteTagDialog(this.props.repository,e)},this.state={focusedBranch:null,hasConsumedNotification:!1}}componentDidMount(){this.props.dispatcher.setDivergingBranchNudgeVisibility(this.props.repository,!1)}componentWillReceiveProps(e){const t=e.compareState.formState,n=this.props.compareState.formState;if(t.kind!==n.kind&&t.kind===s.HistoryTabMode.History)return void this.setState({focusedBranch:null});if(t.kind!==s.HistoryTabMode.History&&n.kind!==s.HistoryTabMode.History){const e=n.comparisonBranch,o=t.comparisonBranch;e.name!==o.name&&this.setState({focusedBranch:o})}}componentDidUpdate(){const{showBranchList:e}=this.props.compareState;null!==this.textbox&&(e?this.textbox.focus():!e&&this.textbox.blur())}componentWillMount(){this.props.dispatcher.initializeCompare(this.props.repository)}componentWillUnmount(){this.textbox=null,this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})}render(){const{allBranches:e,filterText:t,showBranchList:n}=this.props.compareState,r=o(this.props.compareState),s=300;return i.createElement('div',{id:'compare-view'},C.enableNDDBBanner()&&i.createElement(a.CSSTransitionGroup,{transitionName:'diverge-banner',transitionAppear:!0,transitionAppearTimeout:s,transitionEnterTimeout:s,transitionLeaveTimeout:s},this.renderNotificationBanner()),i.createElement('div',{className:'compare-form'},i.createElement(m.FancyTextBox,{symbol:h.OcticonSymbol.gitBranch,type:'search',placeholder:r,onFocus:this.onTextBoxFocused,value:t,disabled:0===e.length,onRef:this.onTextBoxRef,onValueChanged:this.onBranchFilterTextChanged,onKeyDown:this.onBranchFilterKeyDown,onSearchCleared:this.handleEscape})),n?this.renderFilterList():this.renderCommits())}renderNotificationBanner(){const e=this.props.compareState.divergingBranchBannerState;if(!e.isPromptVisible||e.isPromptDismissed)return null;const{inferredComparisonBranch:t}=this.props.compareState;return null!==t.branch&&null!==t.aheadBehind&&0<t.aheadBehind.behind?i.createElement('div',{className:'diverge-banner-wrapper'},i.createElement(g.NewCommitsBanner,{dispatcher:this.props.dispatcher,repository:this.props.repository,commitsBehindBaseBranch:t.aheadBehind.behind,baseBranch:t.branch,onDismiss:this.onNotificationBannerDismissed})):null}renderCommits(){const e=this.props.compareState.formState;return i.createElement('div',{className:'compare-commit-list'},e.kind===s.HistoryTabMode.History?this.renderCommitList():this.renderTabBar(e))}renderCommitList(){const{formState:e,commitSHAs:t}=this.props.compareState;let n;if(e.kind===s.HistoryTabMode.History)n='No history';else{const t=e.comparisonBranch.name;n=e.comparisonMode===s.ComparisonMode.Ahead?i.createElement('p',null,'The compared branch (',i.createElement(f.Ref,null,t),') is up to date with your branch'):i.createElement('p',null,'Your branch is up to date with the compared branch (',i.createElement(f.Ref,null,t),')')}return i.createElement(d.CommitList,{gitHubRepository:this.props.repository.gitHubRepository,isLocalRepository:this.props.isLocalRepository,commitLookup:this.props.commitLookup,commitSHAs:t,selectedSHA:this.props.selectedCommitSha,gitHubUsers:this.props.gitHubUsers,localCommitSHAs:this.props.localCommitSHAs,emoji:this.props.emoji,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,onRevertCommit:r(this.props.compareState.formState)?this.props.onRevertCommit:void 0,onCommitSelected:this.onCommitSelected,onScroll:this.onScroll,onCreateTag:this.onCreateTag,onDeleteTag:this.onDeleteTag,emptyListMessage:n,onCompareListScrolled:this.props.onCompareListScrolled,compareListScrollTop:this.props.compareListScrollTop,tagsToPush:this.props.tagsToPush})}renderActiveTab(e){return i.createElement('div',{className:'compare-commit-list'},this.renderCommitList(),e.comparisonMode===s.ComparisonMode.Behind?this.renderMergeCallToAction(e):null)}renderFilterList(){const{defaultBranch:e,allBranches:t,recentBranches:n,filterText:o}=this.props.compareState;return i.createElement(c.BranchList,{ref:this.onBranchesListRef,defaultBranch:e,currentBranch:this.props.currentBranch,allBranches:t,recentBranches:n,filterText:o,textbox:this.textbox,selectedBranch:this.state.focusedBranch,canCreateNewBranch:!1,onSelectionChanged:this.onSelectionChanged,onItemClick:this.onBranchItemClicked,onFilterTextChanged:this.onBranchFilterTextChanged,renderBranch:this.renderCompareBranchListItem,onFilterListResultsChanged:this.filterListResultsChanged})}renderMergeCallToAction(e){return null==this.props.currentBranch?null:i.createElement(y.MergeCallToActionWithConflicts,{repository:this.props.repository,dispatcher:this.props.dispatcher,mergeStatus:this.props.compareState.mergeStatus,currentBranch:this.props.currentBranch,comparisonBranch:e.comparisonBranch,commitsBehind:e.aheadBehind.behind,onMerged:this.onMerge})}renderTabBar(e){const t=e.comparisonMode===s.ComparisonMode.Behind?0:1;return i.createElement('div',{className:'compare-content'},i.createElement(p.TabBar,{selectedIndex:t,onTabClicked:this.onTabClicked},i.createElement('span',null,`Behind (${e.aheadBehind.behind})`),i.createElement('span',null,`Ahead (${e.aheadBehind.ahead})`)),this.renderActiveTab(e))}}t.CompareSidebar=b},function(e,t,n){'use strict';function o(){return r('\u2026')}function r(e){return{kind:a.TokenType.Text,text:e}}function i(e,t){return{kind:a.TokenType.Link,text:e,url:t}}Object.defineProperty(t,'__esModule',{value:!0});const a=n(147),s=n(2);t.wrapRichTextCommitMessage=function(e,t,n,d=72){const l=n.tokenize(e.trimRight()),c=[],p=[];let u=d;for(const o of l){const e=o.kind===a.TokenType.Emoji?2:o.text.length;if(0>=u)p.push(o);else if(u>=e)c.push(o),u-=e;else{if(o.kind===a.TokenType.Text)c.push(r(o.text.substr(0,u))),p.push(r(o.text.substr(u)));else if(o.kind===a.TokenType.Emoji)p.push(o);else if(o.kind===a.TokenType.Link)!o.text.startsWith('#')&&5<u?(c.push(i(o.text.substr(0,u),o.text)),p.push(i(o.text.substr(u),o.text))):p.push(o);else return s.assertNever(o,`Unknown token type`);u=0}}let m=n.tokenize(t.trimRight());return 0<p.length&&(c.push(o()),m=0<m.length?[o(),...p,r('\n\n'),...m]:[o(),...p]),{summary:c,body:m}}},function(e,t,n){'use strict';function o(e,t){const n=new h.Tokenizer(t.emoji,t.repository),{summary:o,body:r}=f.wrapRichTextCommitMessage(t.commit.summary,t.commit.body,n),i=l.getAvatarUsersForCommit(t.repository.gitHubRepository,t.gitHubUsers,t.commit);return{isOverflowed:e,summary:o,body:r,avatarUsers:i}}function r(e,t){return e.summary===t.summary&&e.body===t.body}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(5),s=n(4),d=n(91),l=n(213),c=n(211),p=n(210),u=n(36),m=n(25),h=n(147),f=n(514);class g extends i.Component{constructor(e){super(e),this.descriptionScrollViewRef=null,this.resizeObserver=null,this.updateOverflowTimeoutId=null,this.descriptionRef=null,this.onHideWhitespaceInDiffChanged=(e)=>{const t=e.currentTarget.checked;this.props.onHideWhitespaceInDiffChanged(t)},this.onResized=()=>{if(this.descriptionRef){const e=this.descriptionRef.getBoundingClientRect().bottom;this.props.onDescriptionBottomChanged(e)}this.props.isExpanded||this.updateOverflow()},this.onDescriptionScrollViewRef=(e)=>{this.descriptionScrollViewRef=e,this.resizeObserver&&(this.resizeObserver.disconnect(),e?this.resizeObserver.observe(e):this.setState({isOverflowed:!1}))},this.onDescriptionRef=(e)=>{this.descriptionRef=e},this.onExpand=()=>{this.props.onExpandChanged(!0)},this.onCollapse=()=>{this.descriptionScrollViewRef&&(this.descriptionScrollViewRef.scrollTop=0),this.props.onExpandChanged(!1)},this.state=o(!1,e);const t=window.ResizeObserver;(t||!1)&&(this.resizeObserver=new t((e)=>{for(const t of e)t.target===this.descriptionScrollViewRef&&(null!==this.updateOverflowTimeoutId&&clearImmediate(this.updateOverflowTimeoutId),this.updateOverflowTimeoutId=setImmediate(this.onResized))}))}renderExpander(){if(!this.state.body.length||!this.props.isExpanded&&!this.state.isOverflowed)return null;const e=this.props.isExpanded,t=e?this.onCollapse:this.onExpand,n=e?s.OcticonSymbol.fold:s.OcticonSymbol.unfold;return i.createElement('a',{onClick:t,className:'expander'},i.createElement(s.Octicon,{symbol:n}),e?'Collapse':'Expand')}updateOverflow(){const e=this.descriptionScrollViewRef;e?this.setState({isOverflowed:e.scrollHeight>e.offsetHeight}):this.state.isOverflowed&&this.setState({isOverflowed:!1})}componentDidMount(){this.props.isExpanded||this.updateOverflow()}componentWillUpdate(e){r(e.commit,this.props.commit)||this.setState(o(!1,e))}componentDidUpdate(e,t){this.props.isExpanded?this.state.isOverflowed&&this.setState({isOverflowed:!1}):(t.body!==this.state.body||e.isExpanded)&&this.updateOverflow()}renderDescription(){return 0===this.state.body.length?null:i.createElement('div',{className:'commit-summary-description-container',ref:this.onDescriptionRef},i.createElement('div',{className:'commit-summary-description-scroll-view',ref:this.onDescriptionScrollViewRef},i.createElement(d.RichText,{className:'commit-summary-description',emoji:this.props.emoji,repository:this.props.repository,text:this.state.body})),this.renderExpander())}render(){const e=this.props.files.length,t=1===e?'file':'files',n=`${e} changed ${t}`,o=this.props.commit.shortSha,r=a({expanded:this.props.isExpanded,collapsed:!this.props.isExpanded,"has-expander":this.props.isExpanded||this.state.isOverflowed,"hide-description-border":this.props.hideDescriptionBorder});return i.createElement('div',{id:'commit-summary',className:r},i.createElement('div',{className:'commit-summary-header'},i.createElement(d.RichText,{className:'commit-summary-title',emoji:this.props.emoji,repository:this.props.repository,text:this.state.summary}),i.createElement('ul',{className:'commit-summary-meta'},i.createElement('li',{className:'commit-summary-meta-item without-truncation',"aria-label":'Author'},i.createElement(c.AvatarStack,{users:this.state.avatarUsers}),i.createElement(p.CommitAttribution,{gitHubRepository:this.props.repository.gitHubRepository,commit:this.props.commit})),i.createElement('li',{className:'commit-summary-meta-item without-truncation',"aria-label":'SHA'},i.createElement('span',{"aria-hidden":'true'},i.createElement(s.Octicon,{symbol:s.OcticonSymbol.gitCommit})),i.createElement('span',{className:'sha'},o)),i.createElement('li',{className:'commit-summary-meta-item without-truncation',title:n},i.createElement('span',{"aria-hidden":'true'},i.createElement(s.Octicon,{symbol:s.OcticonSymbol.diff})),n),this.renderTags(),i.createElement('li',{className:'commit-summary-meta-item without-truncation',title:n},i.createElement(u.Checkbox,{label:'Hide Whitespace',value:this.props.hideWhitespaceInDiff?u.CheckboxValue.On:u.CheckboxValue.Off,onChange:this.onHideWhitespaceInDiffChanged})))),this.renderDescription())}renderTags(){if(!m.enableGitTagsDisplay())return null;const e=this.props.commit.tags||[];return 0===e.length?null:i.createElement('li',{className:'commit-summary-meta-item',title:e.join('\n')},i.createElement('span',{"aria-label":'Tags'},i.createElement(s.Octicon,{symbol:s.OcticonSymbol.tag})),i.createElement('span',{className:'tags'},e.join(', ')))}}t.CommitSummary=g},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0);class r extends o.Component{constructor(){super(...arguments),this.startWidth=null,this.startX=null,this.handleDragStart=(t)=>{this.startX=t.clientX,this.startWidth=this.getCurrentWidth()||null,document.addEventListener('mousemove',this.handleDragMove),document.addEventListener('mouseup',this.handleDragStop),t.preventDefault()},this.handleDragMove=(t)=>{if(null!=this.startWidth&&null!=this.startX){const e=t.clientX-this.startX,n=this.startWidth+e,o=this.clampWidth(n);this.props.onResize&&this.props.onResize(o),t.preventDefault()}},this.handleDragStop=(t)=>{document.removeEventListener('mousemove',this.handleDragMove),document.removeEventListener('mouseup',this.handleDragStop),t.preventDefault()},this.handleDoubleClick=()=>{this.props.onReset&&this.props.onReset()}}getCurrentWidth(){return this.clampWidth(this.props.width)}clampWidth(e){return Math.max(this.props.minimumWidth,Math.min(this.props.maximumWidth,e))}render(){const e={width:this.getCurrentWidth(),maxWidth:this.props.maximumWidth,minWidth:this.props.minimumWidth};return o.createElement('div',{id:this.props.id,className:'resizable-component',style:e},this.props.children,o.createElement('div',{onMouseDown:this.handleDragStart,onDoubleClick:this.handleDoubleClick,className:'resize-handle'}))}}r.defaultProps={width:250,maximumWidth:350,minimumWidth:200},t.Resizable=r},function(e,t,n){'use strict';function o(){const e=d.encodePathAsUrl(__dirname,'static/empty-no-commit.svg');return r.createElement('div',{className:'panel blankslate'},r.createElement('img',{src:e,className:'blankslate-image'}),'No commit selected')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(22),a=n(19),s=n(1),d=n(34),l=n(40),c=n(115),p=n(78),u=n(150),m=n(145),h=n(27),f=n(515),g=n(209),y=n(146);class S extends r.Component{constructor(e){super(e),this.loadChangedFilesScheduler=new u.ThrottledScheduler(200),this.historyRef=null,this.onFileSelected=(e)=>{this.props.dispatcher.changeFileSelection(this.props.repository,e)},this.onHistoryRef=(e)=>{this.historyRef=e},this.onExpandChanged=(e)=>{this.setState({isExpanded:e})},this.onDescriptionBottomChanged=(e)=>{if(this.historyRef){const t=this.historyRef.getBoundingClientRect().bottom;this.setState({hideDescriptionBorder:e>=t})}},this.onHideWhitespaceInDiffChanged=(e)=>{this.props.dispatcher.onHideWhitespaceInDiffChanged(e,this.props.repository,this.props.selectedFile)},this.onCommitSummaryReset=()=>{this.props.dispatcher.resetCommitSummaryWidth()},this.onCommitSummaryResize=(e)=>{this.props.dispatcher.setCommitSummaryWidth(e)},this.onOpenItem=(e)=>{const t=s.join(this.props.repository.path,e);c.openFile(t,this.props.dispatcher)},this.onContextMenu=async(e)=>{if(e.preventDefault(),null==this.props.selectedFile)return;const t=this.props.selectedFile.path,n=s.join(this.props.repository.path,t),o=await a.pathExists(n);if(!o)return void h.showContextualMenu([{label:'File does not exist on disk',enabled:!1}]);const r=s.extname(t),d=p.isSafeFileExtension(r),c=this.props.externalEditorLabel?`Open in ${this.props.externalEditorLabel}`:p.DefaultEditorLabel,u=[{label:p.CopyFilePathLabel,action:()=>i.clipboard.writeText(n)},{label:p.RevealInFileManagerLabel,action:()=>l.revealInFileManager(this.props.repository,t),enabled:o},{label:c,action:()=>this.props.onOpenInExternalEditor(n),enabled:d&&o},{label:p.OpenWithDefaultProgramLabel,action:()=>this.onOpenItem(t),enabled:d&&o}];h.showContextualMenu(u)},this.state={isExpanded:!1,hideDescriptionBorder:!1}}componentWillUpdate(e){const t=this.props.selectedCommit?this.props.selectedCommit.sha:void 0,n=e.selectedCommit?e.selectedCommit.sha:void 0;(t||n)&&t!==n&&this.state.isExpanded&&this.setState({isExpanded:!1})}componentWillUnmount(){this.loadChangedFilesScheduler.clear()}renderDiff(){const e=this.props.selectedFile,t=this.props.currentDiff;if(null==e){const e=0===this.props.changedFiles.length?'':'No file selected';return r.createElement('div',{className:'panel blankslate',id:'diff'},e)}return r.createElement(y.SeamlessDiffSwitcher,{repository:this.props.repository,imageDiffType:this.props.selectedDiffType,file:e,diff:t,readOnly:!0,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onOpenBinaryFile:this.props.onOpenBinaryFile,onChangeImageDiffType:this.props.onChangeImageDiffType})}renderCommitSummary(e){return r.createElement(f.CommitSummary,{commit:e,files:this.props.changedFiles,emoji:this.props.emoji,repository:this.props.repository,gitHubUsers:this.props.gitHubUsers,onExpandChanged:this.onExpandChanged,isExpanded:this.state.isExpanded,onDescriptionBottomChanged:this.onDescriptionBottomChanged,hideDescriptionBorder:this.state.hideDescriptionBorder,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onHideWhitespaceInDiffChanged:this.onHideWhitespaceInDiffChanged})}renderFileList(){const e=this.props.changedFiles;if(0===e.length)return r.createElement('div',{className:'fill-window'},'No files in commit');const t=this.props.commitSummaryWidth-1;return r.createElement(g.FileList,{files:e,onSelectedFileChanged:this.onFileSelected,selectedFile:this.props.selectedFile,availableWidth:t,onContextMenu:this.onContextMenu})}render(){const e=this.props.selectedCommit;if(null==e)return r.createElement(o,null);const t=this.state.isExpanded?'expanded':'collapsed';return r.createElement('div',{id:'history',ref:this.onHistoryRef,className:t},this.renderCommitSummary(e),r.createElement('div',{className:'commit-details'},r.createElement(m.Resizable,{width:this.props.commitSummaryWidth,onResize:this.onCommitSummaryResize,onReset:this.onCommitSummaryReset},this.renderFileList()),this.renderDiff()))}}t.SelectedCommit=S},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(517);t.SelectedCommit=o.SelectedCommit;var r=n(513);t.CompareSidebar=r.CompareSidebar},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=300;class i extends o.Component{render(){const e=this.props.filesChangedCount,t=e>r?`${r}+`:e;return o.createElement('span',{className:'counter'},t)}}t.FilesChangedBadge=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(34),i=r.encodePathAsUrl(__dirname,'static/multiple-files-selected.svg');class a extends o.Component{render(){return o.createElement('div',{className:'panel blankslate',id:'no-changes'},o.createElement('img',{src:i,className:'blankslate-image'}),o.createElement('div',null,this.props.count,' files selected'))}}t.MultipleSelection=a},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&e[r]===void 0&&Object.defineProperty(e,r,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function s(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?r(e,t):r(e,t))}function d(t,n){return w.length?w.forEach(function(o){return t.addEventListener(o,n,!1)}):setTimeout(n,0),function(){w.length&&w.forEach(function(o){return t.removeEventListener(o,n,!1)})}}Object.defineProperty(t,'__esModule',{value:!0});var l=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c=n(306),p=o(c),u=n(305),m=o(u),h=n(182),f=o(h),g=n(304),y=n(0),S=o(y),C=n(15),b=o(C),v=n(43),E=n(214),w=[],k,T;g.transitionEnd&&w.push(g.transitionEnd),g.animationEnd&&w.push(g.animationEnd);var _={children:b.default.node,name:E.nameShape.isRequired,appear:b.default.bool,enter:b.default.bool,leave:b.default.bool,appearTimeout:b.default.number,enterTimeout:b.default.number,leaveTimeout:b.default.number},R=(T=k=function(e){function t(){var n,o,r;i(this,t);for(var s=arguments.length,d=Array(s),l=0;l<s;l++)d[l]=arguments[l];return r=(n=(o=a(this,e.call.apply(e,[this].concat(d))),o),o.componentWillAppear=function(e){o.props.appear?o.transition('appear',e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition('enter',e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition('leave',e,o.props.leaveTimeout):e()},n),a(o,r)}return s(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,v.findDOMNode)(this);if(!o)return void(t&&t());var r=this.props.name[e]||this.props.name+'-'+e,i=this.props.name[e+'Active']||r+'-active',a=null,s=void 0;(0,p.default)(o,r),this.queueClassAndNode(i,o);var l=function(n){n&&n.target!==o||(clearTimeout(a),s&&s(),(0,m.default)(o,r),(0,m.default)(o,i),s&&s(),t&&t())};n?(a=setTimeout(l,n),this.transitionTimeouts.push(a)):g.transitionEnd&&(s=d(o,l))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,f.default)(function(){return n.flushClassNameAndNodeQueueOnNextFrame()}))},t.prototype.flushClassNameAndNodeQueueOnNextFrame=function(){var e=this;this.rafHandle=(0,f.default)(function(){return e.flushClassNameAndNodeQueue()})},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,p.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=l({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,S.default.cloneElement(S.default.Children.only(this.props.children),e)},t}(S.default.Component),k.displayName='CSSTransitionGroupChild',T);t.default=R,e.exports=t['default']},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&e[r]===void 0&&Object.defineProperty(e,r,i)}return e}function i(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function d(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?r(e,t):r(e,t))}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},c=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},p=n(0),u=o(p),m=n(43),h=n(15),f=o(h),g=n(308),y=o(g),S=n(307),C=o(S),b=n(182),v=o(b),E=n(521),w=o(E),k=n(214),T=u.default.createFactory(w.default),_=(x=R=function(e){function t(n,o){a(this,t);var r=s(this,e.call(this,n,o));return r.handleDoneAppearing=function(e){delete r.transitioningKeys[e],e!==r.state.currentKey&&r.performLeave(e)},r.performLeave=function(e){r.transitioningKeys[e]=!0,r.childRefs[e].componentWillLeave(r.handleDoneLeaving.bind(r,e)),r.state.currentChild&&(0,m.findDOMNode)(r.childRefs[r.state.currentKey])||r.enqueueHeightTransition()},r.performHeightTransition=function(){if(!r.unmounted){var e=r.state,t=e.currentChild?(0,m.findDOMNode)(r.childRefs[e.currentKey]):null;r.setState({height:t?t.offsetHeight:0,width:r.props.changeWidth?t?t.offsetWidth:0:null})}r.rafHandle=null},r.childRefs=Object.create(null),r.state={currentKey:'1',currentChild:r.props.children?u.default.Children.only(r.props.children):void 0,prevChildren:{},height:null,width:null},r}return d(t,e),t.prototype.componentWillMount=function(){this.shouldEnterCurrent=!1,this.keysToLeave=[],this.transitioningKeys={}},t.prototype.componentDidMount=function(){this.props.transitionAppear&&this.state.currentChild&&this.performAppear(this.state.currentKey)},t.prototype.componentWillUnmount=function(){this.unmounted=!0},t.prototype.componentWillReceiveProps=function(e){var t=e.children?u.default.Children.only(e.children):void 0,n=this.state.currentChild;if(n&&t&&t.key===n.key&&!this.state.nextChild)return this.setState({currentChild:t});var o=this.state,r=o.currentKey,i=o.prevChildren,a={currentKey:+r+1+'',currentChild:t,height:0,width:this.props.changeWidth?0:null};if(t&&(this.shouldEnterCurrent=!0),n){var s=(0,m.findDOMNode)(this.childRefs[r]),d;a.height=s?s.offsetHeight:0,a.width=this.props.changeWidth?s?s.offsetWidth:0:null,a.prevChildren=c({},i,(d={},d[r]=n,d)),this.transitioningKeys[r]||this.keysToLeave.push(r)}this.setState(a)},t.prototype.componentDidUpdate=function(){this.shouldEnterCurrent&&(this.shouldEnterCurrent=!1,(0,m.findDOMNode)(this.childRefs[this.state.currentKey])&&this.performEnter(this.state.currentKey));var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},t.prototype.performAppear=function(e){this.transitioningKeys[e]=!0,this.childRefs[e].componentWillAppear(this.handleDoneAppearing.bind(this,e))},t.prototype.performEnter=function(e){this.transitioningKeys[e]=!0,this.childRefs[e].componentWillEnter(this.handleDoneEntering.bind(this,e)),this.enqueueHeightTransition()},t.prototype.handleDoneEntering=function(e){delete this.transitioningKeys[e],e===this.state.currentKey?this.setState({height:null}):this.performLeave(e)},t.prototype.handleDoneLeaving=function(e){delete this.transitioningKeys[e];var t={prevChildren:c({},this.state.prevChildren)};delete t.prevChildren[e],delete this.childRefs[e],this.state.currentChild&&(0,m.findDOMNode)(this.childRefs[this.state.currentKey])||(t.height=null),this.setState(t)},t.prototype.enqueueHeightTransition=function(){this.rafHandle||(this.rafHandle=(0,v.default)(this.performHeightTransition))},t.prototype.wrapChild=function(e,t){var n=this.props.transitionName;return'object'===('undefined'==typeof n?'undefined':l(n))&&null!==n&&(n=c({},n),delete n.height),T(c({name:n,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t),e)},t.prototype.storeChildRef=function(e,t){var n=this,o='string'!=typeof e.ref;return(0,C.default)(o,'string refs are not supported on children of ReactCSSTransitionReplace and will be ignored. Please use a callback ref instead: https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute'),(0,y.default)(o?e.ref:null,function(e){n.childRefs[t]=e})},t.prototype.render=function(){var e=this,t=this.state,n=t.currentKey,o=t.currentChild,r=t.prevChildren,a=t.height,s=t.width,d=[],l=this.props,p=l.overflowHidden,m=l.transitionName,h=l.component,f=l.childComponent,g=l.notifyLeaving,y=l.transitionAppear,S=l.transitionEnter,C=l.transitionLeave,b=l.changeWidth,v=l.transitionAppearTimeout,E=l.transitionEnterTimeout,w=l.transitionLeaveTimeout,k=i(l,['overflowHidden','transitionName','component','childComponent','notifyLeaving','transitionAppear','transitionEnter','transitionLeave','changeWidth','transitionAppearTimeout','transitionEnterTimeout','transitionLeaveTimeout']),T=this.shouldEnterCurrent||this.keysToLeave.length||Object.keys(this.transitioningKeys).length;if(k.style=c({},k.style),T&&(k.style.position='relative',p&&(k.style.overflow='hidden')),null!==a){var _='string'==typeof m?m+'-height':m&&m.height||'';k.className=(k.className||'')+' '+(_+''),k.style.height=a}null!==s&&(k.style.width=s);var R={position:'absolute',top:0,left:0,right:0,bottom:0,userSelect:'none'};return Object.keys(r).forEach(function(t){var n=r[t];d.push(u.default.createElement(f,{key:t,style:R},e.wrapChild(g&&'string'!=typeof n.type?u.default.cloneElement(n,{isLeaving:!0}):n,{ref:e.storeChildRef(n,t)})))}),o&&d.push(u.default.createElement(f,{key:n,style:this.transitioningKeys[n]?R:T?{position:'relative'}:null},this.wrapChild(o,{ref:this.storeChildRef(o,n)}))),u.default.createElement(h,k,d)},t}(u.default.Component),R.displayName='ReactCSSTransitionReplace',R.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0,overflowHidden:!0,changeWidth:!1,notifyLeaving:!1,component:'div',childComponent:'span'},x),R,x;t.default=_,e.exports=t['default']},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(522);t.SuggestedActionGroup=(e)=>{const t='suggested-action-group '+(e.type?e.type:'normal');if('replace'===e.transitions){const n=!(e.enableTransitions!==void 0)||e.enableTransitions;return o.createElement(r,{transitionAppear:!1,overflowHidden:!1,transitionEnter:n,transitionLeave:n,transitionName:e.transitions,component:'div',className:t,transitionEnterTimeout:750,transitionLeaveTimeout:500},e.children)}return o.createElement('div',{className:t},e.children)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(215),i=n(27);class a extends o.Component{constructor(){super(...arguments),this.onClick=(t)=>{this.props.onClick!==void 0&&this.props.onClick(t),t.defaultPrevented||i.executeMenuItemById(this.props.menuItemId)}}render(){return o.createElement(r.SuggestedAction,{title:this.props.title,description:this.props.description,discoverabilityContent:this.props.discoverabilityContent,buttonText:this.props.buttonText,onClick:this.onClick,type:this.props.type,disabled:this.props.disabled})}}t.MenuBackedSuggestedAction=a},function(e,t,n){'use strict';function o(e){return e.replace('&','')}function r(e){const t=e.parentMenuLabels.join(' -> ');return o(t)}function i(e){return'separator'===e.type||'submenuItem'===e.type?[]:null===e.accelerator?[]:e.accelerator.split('+').map(p.getPlatformSpecificNameOrSymbolForModifier)}function a(e,t=new Map,n){for(const o of e.items){if('separator'===o.type)continue;const e={label:o.label,acceleratorKeys:i(o),parentMenuLabels:n===void 0?[]:[n.label,...n.parentMenuLabels],enabled:o.enabled};t.set(o.id,e),'submenuItem'===o.type&&a(o.menu,t,e)}return t}Object.defineProperty(t,'__esModule',{value:!0});const s=n(0),d=n(34),l=n(13),c=n(67),p=n(216),u=n(114),m=n(27),h=n(31),f=n(21),g=n(81),y=n(79),S=n(114),C=d.encodePathAsUrl(__dirname,'static/paper-stack.svg');class b extends s.Component{constructor(e){super(e),this.getMenuInfoMap=c.default((e)=>e===void 0?new Map:a(e)),this.transitionTimer=null,this.onShowInFileManagerClicked=()=>this.props.dispatcher.recordSuggestedStepOpenWorkingDirectory(),this.onViewOnGitHubClicked=()=>this.props.dispatcher.recordSuggestedStepViewOnGitHub(),this.openPreferences=()=>{m.executeMenuItemById('preferences')},this.onOpenInExternalEditorClicked=()=>this.props.dispatcher.recordSuggestedStepOpenInExternalEditor(),this.onViewStashClicked=()=>this.props.dispatcher.recordSuggestedStepViewStash(),this.onPublishRepositoryClicked=()=>this.props.dispatcher.recordSuggestedStepPublishRepository(),this.onPublishBranchClicked=()=>this.props.dispatcher.recordSuggestedStepPublishBranch(),this.onCreatePullRequestClicked=()=>this.props.dispatcher.recordSuggestedStepCreatePullRequest(),this.state={enableTransitions:!1}}getMenuItemInfo(e){return this.getMenuInfoMap(this.props.appMenu).get(e)}getPlatformFileManagerName(){return'Explorer'}renderDiscoverabilityElements(e){const t=r(e);return s.createElement(s.Fragment,null,t,' menu or',' ',this.renderDiscoverabilityKeyboardShortcut(e))}renderDiscoverabilityKeyboardShortcut(e){return e.acceleratorKeys.map((e,t)=>s.createElement('kbd',{key:e+t},e))}renderMenuBackedAction(e,t,n,r){const i=this.getMenuItemInfo(e);return void 0===i?(log.error(`Could not find matching menu item for ${e}`),null):s.createElement(u.MenuBackedSuggestedAction,{title:t,description:n,discoverabilityContent:this.renderDiscoverabilityElements(i),menuItemId:e,buttonText:o(i.label),disabled:!i.enabled,onClick:r})}renderShowInFileManager(){const e=this.getPlatformFileManagerName();return this.renderMenuBackedAction('open-working-directory',`View the files of your repository in ${e}`,void 0,this.onShowInFileManagerClicked)}renderViewOnGitHub(){const e=null!==this.props.repository.gitHubRepository;return e?this.renderMenuBackedAction('view-repository-on-github',`Open the repository page on GitHub in your browser`,void 0,this.onViewOnGitHubClicked):null}renderOpenInExternalEditor(){if(!this.props.isExternalEditorAvailable)return null;const e='open-external-editor',t=this.getMenuItemInfo(e);if(void 0===t)return log.error(`Could not find matching menu item for ${e}`),null;const n=this.getMenuItemInfo('preferences');if(void 0===n)return log.error(`Could not find matching menu item for ${e}`),null;const o=`Open the repository in your external editor`,r=s.createElement(s.Fragment,null,'Select your editor in',' ',s.createElement(l.LinkButton,{onClick:this.openPreferences},'Options'));return this.renderMenuBackedAction(e,o,r,this.onOpenInExternalEditorClicked)}renderRemoteAction(){const{remote:e,aheadBehind:t,branchesState:n,tagsToPush:o}=this.props.repositoryState,{tip:r,defaultBranch:i,currentPullRequest:a}=n;if(r.kind!==h.TipState.Valid)return null;if(null===e)return this.renderPublishRepositoryAction();if(null===t)return this.renderPublishBranchAction(r);const s=g.isCurrentBranchForcePush(n,t);if(s)return null;if(0<t.behind)return this.renderPullBranchAction(r,e,t);if(0<t.ahead||null!==o&&0<o.length)return this.renderPushBranchAction(r,e,t,o);const d=null!==this.props.repository.gitHubRepository,l=null!==i&&r.branch.name===i.name;return!d||null!==a||l?null:this.renderCreatePullRequestAction(r)}renderViewStashAction(){const{changesState:e,branchesState:t}=this.props.repositoryState,{tip:n}=t;if(n.kind!==h.TipState.Valid)return null;const{stashEntry:o}=e;if(null===o)return null;if(o.files.kind!==y.StashedChangesLoadStates.Loaded)return null;const r=o.files.files.length,i=s.createElement(s.Fragment,null,'You have ',r,' ',1===r?'change':'changes',' in progress that you have not yet committed.'),a=s.createElement(s.Fragment,null,'When a stash exists, access it at the bottom of the Changes tab to the left.'),d='toggle-stashed-changes',l=this.getMenuItemInfo(d);return void 0===l?(log.error(`Could not find matching menu item for ${d}`),null):s.createElement(u.MenuBackedSuggestedAction,{key:'view-stash-action',title:'View your stashed changes',menuItemId:d,description:i,discoverabilityContent:a,buttonText:'View stash',type:'primary',disabled:null!==l&&!l.enabled,onClick:this.onViewStashClicked})}renderPublishRepositoryAction(){const e='push',t=this.getMenuItemInfo(e);if(void 0===t)return log.error(`Could not find matching menu item for ${e}`),null;const n=s.createElement(s.Fragment,null,'Always available in the toolbar for local repositories or',' ',this.renderDiscoverabilityKeyboardShortcut(t));return s.createElement(u.MenuBackedSuggestedAction,{key:'publish-repository-action',title:'Publish your repository to GitHub',description:'This repository is currently only available on your local machine. By publishing it on GitHub you can share it, and collaborate with others.',discoverabilityContent:n,buttonText:'Publish repository',menuItemId:e,type:'primary',disabled:!t.enabled,onClick:this.onPublishRepositoryClicked})}renderPublishBranchAction(e){const t='push',n=this.getMenuItemInfo(t);if(void 0===n)return log.error(`Could not find matching menu item for ${t}`),null;const o=null!==this.props.repository.gitHubRepository,r=s.createElement(s.Fragment,null,'The current branch (',s.createElement(f.Ref,null,e.branch.name),') hasn\'t been published to the remote yet. By publishing it ',o?'to GitHub':'',' you can share it, ',o?'open a pull request, ':'','and collaborate with others.'),i=s.createElement(s.Fragment,null,'Always available in the toolbar or',' ',this.renderDiscoverabilityKeyboardShortcut(n));return s.createElement(u.MenuBackedSuggestedAction,{key:'publish-branch-action',title:'Publish your branch',menuItemId:t,description:r,discoverabilityContent:i,buttonText:'Publish branch',type:'primary',disabled:!n.enabled,onClick:this.onPublishBranchClicked})}renderPullBranchAction(e,t,n){const o='pull',r=this.getMenuItemInfo(o);if(void 0===r)return log.error(`Could not find matching menu item for ${o}`),null;const i=null!==this.props.repository.gitHubRepository,a=s.createElement(s.Fragment,null,'The current branch (',s.createElement(f.Ref,null,e.branch.name),') has',' ',1===n.behind?'a commit':'commits',' on',' ',i?'GitHub':'the remote',' that',' ',1===n.behind?'does not':'do not',' exist on your machine.'),d=s.createElement(s.Fragment,null,'Always available in the toolbar when there are remote changes or',' ',this.renderDiscoverabilityKeyboardShortcut(r)),l=`Pull ${n.behind} ${1===n.behind?'commit':'commits'} from the ${t.name} remote`,c=`Pull ${t.name}`;return s.createElement(u.MenuBackedSuggestedAction,{key:'pull-branch-action',title:l,menuItemId:o,description:a,discoverabilityContent:d,buttonText:c,type:'primary',disabled:!r.enabled})}renderPushBranchAction(e,t,n,o){const r='push',i=this.getMenuItemInfo(r);if(void 0===i)return log.error(`Could not find matching menu item for ${r}`),null;const a=null!==this.props.repository.gitHubRepository,d=[],l=[];0<n.ahead&&(d.push('commits'),l.push(1===n.ahead?'1 local commit':`${n.ahead} local commits`)),null!==o&&0<o.length&&(d.push('tags'),l.push(1===o.length?'1 tag':`${o.length} tags`));const c=`You have ${l.join(' and ')} waiting to be pushed to ${a?'GitHub':'the remote'}.`,p=s.createElement(s.Fragment,null,'Always available in the toolbar when there are local commits waiting to be pushed or ',this.renderDiscoverabilityKeyboardShortcut(i)),m=`Push ${d.join(' and ')} to the ${t.name} remote`,h=`Push ${t.name}`;return s.createElement(u.MenuBackedSuggestedAction,{key:'push-branch-action',title:m,menuItemId:r,description:c,discoverabilityContent:p,buttonText:h,type:'primary',disabled:!i.enabled})}renderCreatePullRequestAction(e){const t='create-pull-request',n=this.getMenuItemInfo(t);if(void 0===n)return log.error(`Could not find matching menu item for ${t}`),null;const o=s.createElement(s.Fragment,null,'The current branch (',s.createElement(f.Ref,null,e.branch.name),') is already published to GitHub. Create a pull request to propose and collaborate on your changes.'),r=`Create a Pull Request from your current branch`,i=`Create Pull Request`;return s.createElement(u.MenuBackedSuggestedAction,{key:'create-pr-action',title:r,menuItemId:t,description:o,buttonText:i,discoverabilityContent:this.renderDiscoverabilityElements(n),type:'primary',disabled:!n.enabled,onClick:this.onCreatePullRequestClicked})}renderActions(){return s.createElement(s.Fragment,null,s.createElement(S.SuggestedActionGroup,{type:'primary',transitions:'replace',enableTransitions:this.state.enableTransitions},this.renderViewStashAction()||this.renderRemoteAction()),s.createElement(S.SuggestedActionGroup,null,this.renderOpenInExternalEditor(),this.renderShowInFileManager(),this.renderViewOnGitHub()))}componentDidMount(){this.transitionTimer=window.setTimeout(()=>{this.setState({enableTransitions:!0}),this.transitionTimer=null},500)}componentWillUnmount(){null!==this.transitionTimer&&clearTimeout(this.transitionTimer)}render(){return s.createElement('div',{id:'no-changes'},s.createElement('div',{className:'content'},s.createElement('div',{className:'header'},s.createElement('div',{className:'text'},s.createElement('h1',null,'No local changes'),s.createElement('p',null,'There are no uncommitted changes in this repository. Here are some friendly suggestions for what to do next.')),s.createElement('img',{src:C,className:'blankslate-image'})),this.renderActions()))}}t.NoChanges=b},function(e,t){'use strict';function n(e){return e.location+e.length}function o(e,t,o,i,a){const s=Math.min(t.length,i.length),d=a?n(t)-1:t.location,l=a?n(i)-1:i.location,c=a?-1:1;let p=0;for(;r(p)<s&&!(e[d+p]!==o[l+p]);)p+=c;return r(p)}var r=Math.abs;Object.defineProperty(t,'__esModule',{value:!0}),t.relativeChanges=function(e,t){let n={location:0,length:t.length},r={location:0,length:e.length};const i=o(t,n,e,r,!1);n={location:n.location+i,length:n.length-i},r={location:r.location+i,length:r.length-i};const a=o(t,n,e,r,!0);return n.length-=a,r.length-=a,{stringARange:r,stringBRange:n}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(34),r=[],i=o.encodePathAsUrl(__dirname,'highlighter.js');t.highlight=function(e,t,n,o,a){if(!e.length||!a.length)return Promise.resolve({});const s=r.shift()||new Worker(i);return new Promise((i,d)=>{let l=null;const c=()=>{l&&(window.clearTimeout(l),l=null)};s.onerror=(e)=>{c(),s.terminate(),d(e.error||new Error(e.message))},s.onmessage=(e)=>{c(),r.length<2?r.push(s):s.terminate(),i(e.data)};s.postMessage({contents:e,basename:t,extension:n,tabSize:o,lines:a,addModeClass:!0}),l=window.setTimeout(()=>{s.terminate(),d(new Error('timed out'))},5000)})}},function(e,t,n){'use strict';async function o(e,t){if(t.status.kind===c.AppFileStatusKind.New||t.status.kind===c.AppFileStatusKind.Untracked)return Buffer.alloc(0);let n;if(t instanceof c.WorkingDirectoryFileChange)n='HEAD';else if(t instanceof c.CommittedFileChange)n=`${t.commitish}^`;else return a.assertNever(t,'Unknown file change type');return s.getPartialBlobContents(e,n,u.getOldPathOrDefault(t),m)}async function r(e,t){if(t.status.kind===c.AppFileStatusKind.Deleted)return Buffer.alloc(0);return t instanceof c.WorkingDirectoryFileChange?d.readPartialFile(i.join(e.path,t.path),0,m-1):t instanceof c.CommittedFileChange?s.getPartialBlobContents(e,t.commitish,t.path,m):a.assertNever(t,'Unknown file change type')}Object.defineProperty(t,'__esModule',{value:!0});const i=n(1),a=n(2),s=n(265),d=n(127),l=n(527),c=n(23),p=n(30),u=n(264),m=262144;t.getFileContents=async function(e,t,n){const i=n.oldLineFilter.length?o(e,t):Promise.resolve(Buffer.alloc(0)),a=n.newLineFilter.length?r(e,t):Promise.resolve(Buffer.alloc(0)),[s,d]=await Promise.all([i.catch((t)=>(log.error('Could not load old contents for syntax highlighting',t),Buffer.alloc(0))),a.catch((t)=>(log.error('Could not load new contents for syntax highlighting',t),Buffer.alloc(0)))]);return{file:t,oldContents:s,newContents:d}},t.getLineFilters=function(e){const t=[],n=[],o=[];let r=!1,i=!1;for(const t of e)for(const e of t.lines)r=r||e.type===p.DiffLineType.Add,i=i||e.type===p.DiffLineType.Delete,o.push(e);for(const a of o)null!==a.oldLineNumber&&null!==a.newLineNumber?r&&!i?n.push(a.newLineNumber-1):t.push(a.oldLineNumber-1):null===a.oldLineNumber?null!==a.newLineNumber&&n.push(a.newLineNumber-1):t.push(a.oldLineNumber-1);return{oldLineFilter:t,newLineFilter:n}},t.highlightContents=async function(e,t,n){const{file:o,oldContents:r,newContents:a}=e,s=u.getOldPathOrDefault(o),[d,c]=await Promise.all([l.highlight(r.toString('utf8'),i.basename(s),i.extname(s),t,n.oldLineFilter).catch((t)=>(log.error('Highlighter worked failed for old contents',t),{})),l.highlight(a.toString('utf8'),i.basename(o.path),i.extname(o.path),t,n.newLineFilter).catch((t)=>(log.error('Highlighter worked failed for new contents',t),{}))]);return{oldTokens:d,newTokens:c}}},function(e,t,n){(function(e){e(n(44))})(function(t){function e(e,n,o){var r=e.getWrapperElement(),i;return i=r.appendChild(document.createElement('div')),i.className=o?'CodeMirror-dialog CodeMirror-dialog-bottom':'CodeMirror-dialog CodeMirror-dialog-top','string'==typeof n?i.innerHTML=n:i.appendChild(n),t.addClass(r,'dialog-opened'),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}t.defineExtension('openDialog',function(o,r,i){function a(e){if('string'==typeof e)c.value=e;else{if(d)return;d=!0,t.rmClass(s.parentNode,'dialog-opened'),s.parentNode.removeChild(s),l.focus(),i.onClose&&i.onClose(s)}}i||(i={}),n(this,null);var s=e(this,o,i.bottom),d=!1,l=this,c=s.getElementsByTagName('input')[0],p;return c?(c.focus(),i.value&&(c.value=i.value,!1!==i.selectValueOnOpen&&c.select()),i.onInput&&t.on(c,'input',function(t){i.onInput(t,c.value,a)}),i.onKeyUp&&t.on(c,'keyup',function(t){i.onKeyUp(t,c.value,a)}),t.on(c,'keydown',function(n){i&&i.onKeyDown&&i.onKeyDown(n,c.value,a)||((27==n.keyCode||!1!==i.closeOnEnter&&13==n.keyCode)&&(c.blur(),t.e_stop(n),a()),13==n.keyCode&&r(c.value,n))}),!1!==i.closeOnBlur&&t.on(c,'blur',a)):(p=s.getElementsByTagName('button')[0])&&(t.on(p,'click',function(){a(),l.focus()}),!1!==i.closeOnBlur&&t.on(p,'blur',a),p.focus()),a}),t.defineExtension('openConfirm',function(o,r,a){function s(){c||(c=!0,t.rmClass(d.parentNode,'dialog-opened'),d.parentNode.removeChild(d),p.focus())}n(this,null);var d=e(this,o,a&&a.bottom),l=d.getElementsByTagName('button'),c=!1,p=this,u=1;l[0].focus();for(var m=0,i;m<l.length;++m)i=l[m],function(n){t.on(i,'click',function(o){t.e_preventDefault(o),s(),n&&n(p)})}(r[m]),t.on(i,'blur',function(){--u,setTimeout(function(){0>=u&&s()},200)}),t.on(i,'focus',function(){++u})}),t.defineExtension('openNotification',function(o,r){function i(){s||(s=!0,clearTimeout(l),t.rmClass(a.parentNode,'dialog-opened'),a.parentNode.removeChild(a))}n(this,i);var a=e(this,o,r&&r.bottom),s=!1,d=r&&'undefined'!=typeof r.duration?r.duration:5e3,l;return t.on(a,'click',function(n){t.e_preventDefault(n),i()}),d&&(l=setTimeout(i,d)),i})})},function(e,t,n){(function(e){e(n(44))})(function(e){'use strict';function t(e){var t=e.flags;return null==t?(e.ignoreCase?'i':'')+(e.global?'g':'')+(e.multiline?'m':''):t}function n(e,n){for(var o=t(e),r=o,a=0;a<n.length;a++)-1==r.indexOf(n.charAt(a))&&(r+=n.charAt(a));return o==r?e:new RegExp(e.source,r)}function o(e){return /\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function r(e,t,o){t=n(t,'g');for(var r=o.line,i=o.ch,a=e.lastLine();r<=a;r++,i=0){t.lastIndex=i;var s=e.getLine(r),d=t.exec(s);if(d)return{from:m(r,d.index),to:m(r,d.index+d[0].length),match:d}}}function i(e,t,a){if(!o(t))return r(e,t,a);t=n(t,'gm');for(var s=1,d=a.line,l=e.lastLine(),c;d<=l;){for(var p=0;p<s&&!(d>l);p++){var i=e.getLine(d++);c=null==c?i:c+'\n'+i}s*=2,t.lastIndex=a.ch;var u=t.exec(c);if(u){var h=c.slice(0,u.index).split('\n'),f=u[0].split('\n'),g=a.line+h.length-1,y=h[h.length-1].length;return{from:m(g,y),to:m(g+f.length-1,1==f.length?y+f[0].length:f[f.length-1].length),match:u}}}}function a(e,t){for(var n=0,o;;){t.lastIndex=n;var r=t.exec(e);if(!r)return o;if(o=r,n=o.index+(o[0].length||1),n==e.length)return o}}function s(e,t,o){t=n(t,'g');for(var r=o.line,i=o.ch,s=e.firstLine(),d;r>=s;r--,i=-1){d=e.getLine(r),-1<i&&(d=d.slice(0,i));var l=a(d,t);if(l)return{from:m(r,l.index),to:m(r,l.index+l[0].length),match:l}}}function d(e,t,o){t=n(t,'gm');for(var r=1,s=o.line,d=e.firstLine(),l;s>=d;){for(var c=0,i;c<r;c++)i=e.getLine(s--),l=null==l?i.slice(0,o.ch):i+'\n'+l;r*=2;var p=a(l,t);if(p){var u=l.slice(0,p.index).split('\n'),h=p[0].split('\n'),f=s+u.length,g=u[u.length-1].length;return{from:m(f,g),to:m(f+h.length-1,1==h.length?g+h[0].length:h[h.length-1].length),match:p}}}}function l(e,t,n,o){if(e.length==t.length)return n;for(var r=0,i=n+Math.max(0,e.length-t.length);;){if(r==i)return r;var a=r+i>>1,s=o(e.slice(0,a)).length;if(s==n)return a;s>n?i=a:r=a+1}}function c(e,t,n,o){if(!t.length)return null;var r=o?h:f,a=r(t).split(/\r|\n\r?/);search:for(var s=n.line,d=n.ch,c=e.lastLine()+1-a.length;s<=c;s++,d=0){var p=e.getLine(s).slice(d),u=r(p);if(1==a.length){var g=u.indexOf(a[0]);if(-1==g)continue search;var n=l(p,u,g,r)+d;return{from:m(s,l(p,u,g,r)+d),to:m(s,l(p,u,g+a[0].length,r)+d)}}var y=u.length-a[0].length;if(u.slice(y)!=a[0])continue search;for(var S=1;S<a.length-1;S++)if(r(e.getLine(s+S))!=a[S])continue search;var i=e.getLine(s+a.length-1),C=r(i),b=a[a.length-1];if(C.slice(0,b.length)!=b)continue search;return{from:m(s,l(p,u,y,r)+d),to:m(s+a.length-1,l(i,C,b.length,r))}}}function p(e,t,n,o){if(!t.length)return null;var r=o?h:f,a=r(t).split(/\r|\n\r?/);search:for(var s=n.line,d=n.ch,c=e.firstLine()-1+a.length,p;s>=c;s--,d=-1){p=e.getLine(s),-1<d&&(p=p.slice(0,d));var u=r(p);if(1==a.length){var g=u.lastIndexOf(a[0]);if(-1==g)continue search;return{from:m(s,l(p,u,g,r)),to:m(s,l(p,u,g+a[0].length,r))}}var y=a[a.length-1];if(u.slice(0,y.length)!=y)continue search;for(var S=1,n=s-a.length+1;S<a.length-1;S++)if(r(e.getLine(n+S))!=a[S])continue search;var i=e.getLine(s+1-a.length),C=r(i);if(C.slice(C.length-a[0].length)!=a[0])continue search;return{from:m(s+1-a.length,l(i,C,i.length-a[0].length,r)),to:m(s,l(p,u,y.length,r))}}}function u(e,t,o,a){this.atOccurrence=!1,this.doc=e,o=o?e.clipPos(o):m(0,0),this.pos={from:o,to:o};var l;'object'==typeof a?l=a.caseFold:(l=a,a=null),'string'==typeof t?(null==l&&(l=!1),this.matches=function(n,o){return(n?p:c)(e,t,o,l)}):(t=n(t,'gm'),this.matches=a&&!1===a.multiline?function(n,o){return(n?s:r)(e,t,o)}:function(n,o){return(n?d:i)(e,t,o)})}var m=e.Pos,h,f;String.prototype.normalize?(h=function(e){return e.normalize('NFD').toLowerCase()},f=function(e){return e.normalize('NFD')}):(h=function(e){return e.toLowerCase()},f=function(e){return e}),u.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=m(n.from.line,n.from.ch-1):n.from.line==this.doc.firstLine()?n=null:n=this.matches(t,this.doc.clipPos(m(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=m(n.to.line,n.to.ch+1):n.to.line==this.doc.lastLine()?n=null:n=this.matches(t,m(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var o=m(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var o=e.splitLines(t);this.doc.replaceRange(o,this.pos.from,this.pos.to,n),this.pos.to=m(this.pos.from.line+o.length-1,o[o.length-1].length+(1==o.length?this.pos.from.ch:0))}}},e.defineExtension('getSearchCursor',function(e,t,n){return new u(this.doc,e,t,n)}),e.defineDocExtension('getSearchCursor',function(e,t,n){return new u(this,e,t,n)}),e.defineExtension('selectMatches',function(t,n){for(var o=[],r=this.getSearchCursor(t,this.getCursor('from'),n);r.findNext()&&!(0<e.cmpPos(r.to(),this.getCursor('to')));)o.push({anchor:r.from(),head:r.to()});o.length&&this.setSelections(o,0)})})},function(e,t,n){(function(e){e(n(44),n(530),n(529))})(function(e){'use strict';function t(e,t){return'string'==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,'\\$&'),t?'gi':'g'):!e.global&&(e=new RegExp(e.source,e.ignoreCase?'gi':'g')),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length||1,'searching'):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function o(e){return e.state.search||(e.state.search=new n)}function r(e){return'string'==typeof e&&e==e.toLowerCase()}function i(e,t,n){return e.getSearchCursor(t,n,{caseFold:r(t),multiline:!0})}function a(e,t,n,o,r){e.openDialog(t,o,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){h(e)},onKeyDown:r})}function s(e,t,n,o,r){e.openDialog?e.openDialog(t,r,{value:o,selectValueOnOpen:!0}):r(prompt(n,o))}function d(e,t,n,o){e.openConfirm?e.openConfirm(t,o):confirm(n)&&o[0]()}function l(e){return e.replace(/\\([nrt\\])/g,function(e,t){return'n'==t?'\n':'r'==t?'\r':'t'==t?'\t':'\\'==t?'\\':e})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf('i')?'':'i')}catch(t){}else e=l(e);return('string'==typeof e?''==e:e.test(''))&&(e=/x^/),e}function p(e,n,o){n.queryText=o,n.query=c(o),e.removeOverlay(n.overlay,r(n.query)),n.overlay=t(n.query,r(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,r(n.query)))}function u(t,n,r,i){var d=o(t);if(d.query)return m(t,n);var l=t.getSelection()||d.lastQuery;if(l instanceof RegExp&&'x^'==l.source&&(l=null),r&&t.openDialog){var c=null,u=function(n,o){e.e_stop(o),n&&(n!=d.queryText&&(p(t,d,n),d.posFrom=d.posTo=t.getCursor()),c&&(c.style.opacity=1),m(t,o.shiftKey,function(e,n){var o;3>n.line&&document.querySelector&&(o=t.display.wrapper.querySelector('.CodeMirror-dialog'))&&o.getBoundingClientRect().bottom-4>t.cursorCoords(n,'window').top&&((c=o).style.opacity=.4)}))};a(t,f(t),l,u,function(n,r){var i=e.keyName(n),a=t.getOption('extraKeys'),s=a&&a[i]||e.keyMap[t.getOption('keyMap')][i];'findNext'==s||'findPrev'==s||'findPersistentNext'==s||'findPersistentPrev'==s?(e.e_stop(n),p(t,o(t),r),t.execCommand(s)):('find'==s||'findPersistent'==s)&&(e.e_stop(n),u(r,n))}),i&&l&&(p(t,d,l),m(t,n))}else s(t,f(t),'Search for:',l,function(e){e&&!d.query&&t.operation(function(){p(t,d,e),d.posFrom=d.posTo=t.getCursor(),m(t,n)})})}function m(t,n,r){t.operation(function(){var a=o(t),s=i(t,a.query,n?a.posFrom:a.posTo);!s.find(n)&&(s=i(t,a.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),!s.find(n))||(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()},20),a.posFrom=s.from(),a.posTo=s.to(),r&&r(s.from(),s.to()))})}function h(e){e.operation(function(){var t=o(e);t.lastQuery=t.query;t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function f(e){return'<span class="CodeMirror-search-label">'+e.phrase('Search:')+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase('(Use /re/ syntax for regexp search)')+'</span>'}function g(e){return' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase('(Use /re/ syntax for regexp search)')+'</span>'}function y(e){return'<span class="CodeMirror-search-label">'+e.phrase('With:')+'</span> <input type="text" style="width: 10em" class="CodeMirror-search-field"/>'}function S(e){return'<span class="CodeMirror-search-label">'+e.phrase('Replace?')+'</span> <button>'+e.phrase('Yes')+'</button> <button>'+e.phrase('No')+'</button> <button>'+e.phrase('All')+'</button> <button>'+e.phrase('Stop')+'</button> '}function C(e,t,n){e.operation(function(){for(var o=i(e,t);o.findNext();)if('string'!=typeof t){var r=e.getRange(o.from(),o.to()).match(t);o.replace(n.replace(/\$(\d)/g,function(e,t){return r[t]}))}else o.replace(n)})}function b(e,t){if(!e.getOption('readOnly')){var n=e.getSelection()||o(e).lastQuery,r='<span class="CodeMirror-search-label">'+(t?e.phrase('Replace all:'):e.phrase('Replace:'))+'</span>';s(e,r+g(e),r,n,function(n){n&&(n=c(n),s(e,y(e),e.phrase('Replace with:'),'',function(o){if(o=l(o),t)C(e,n,o);else{h(e);var r=i(e,n,e.getCursor('from')),a=function(){var t=r.from(),l;!(l=r.findNext())&&(r=i(e,n),!(l=r.findNext())||t&&r.from().line==t.line&&r.from().ch==t.ch)||(e.setSelection(r.from(),r.to()),e.scrollIntoView({from:r.from(),to:r.to()}),d(e,S(e),e.phrase('Replace?'),[function(){s(l)},a,function(){C(e,n,o)}]))},s=function(e){r.replace('string'==typeof n?o:o.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}}e.commands.find=function(e){h(e),u(e)},e.commands.findPersistent=function(e){h(e),u(e,!1,!0)},e.commands.findPersistentNext=function(e){u(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){u(e,!0,!0,!0)},e.commands.findNext=u,e.commands.findPrev=function(e){u(e,!0)},e.commands.clearSearch=h,e.commands.replace=b,e.commands.replaceAll=function(e){b(e,!0)}})},function(e,t,n){var o=Math.max;(function(e){e(n(44))})(function(e){'use strict';function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor('start'),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on('cursorActivity',this.activityFunc=function(){n.cursorActivity()})}function n(e,t,n){var o=e.options.hintOptions,r={};for(var i in h)r[i]=h[i];if(o)for(var i in o)void 0!==o[i]&&(r[i]=o[i]);if(n)for(var i in n)void 0!==n[i]&&(r[i]=n[i]);return r.hint.resolve&&(r.hint=r.hint.resolve(e,t)),r}function r(e){return'string'==typeof e?e:e.text}function a(e,t){function n(e,n){var r;r='string'==typeof n?o.hasOwnProperty(n)?o[n]:n:function(e){return n(e,t)},a[e]=r}var o={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=/Mac/.test(navigator.platform);r&&(o['Ctrl-P']=function(){t.moveFocus(-1)},o['Ctrl-N']=function(){t.moveFocus(1)});var i=e.options.customKeys,a=i?{}:o;if(i)for(var s in i)i.hasOwnProperty(s)&&n(s,i[s]);var d=e.options.extraKeys;if(d)for(var s in d)d.hasOwnProperty(s)&&n(s,d[s]);return a}function i(e,t){for(;t&&t!=e;){if('LI'===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(n,t){this.completion=n,this.data=t,this.picked=!1;var s=this,d=n.cm,l=d.getInputField().ownerDocument,u=l.defaultView||l.parentWindow,m=this.hints=l.createElement('ul'),h=n.cm.options.theme;m.className='CodeMirror-hints '+h,this.selectedHint=t.selectedHint||0;for(var f=t.list,g=0;g<f.length;++g){var y=m.appendChild(l.createElement('li')),S=f[g],C=c+(g==this.selectedHint?' '+p:'');null!=S.className&&(C=S.className+' '+C),y.className=C,S.render?S.render(y,t,S):y.appendChild(l.createTextNode(S.displayText||r(S))),y.hintId=g}var b=n.options.container||l.body,v=d.cursorCoords(n.options.alignWithWord?t.from:null),E=v.left,w=v.bottom,k=!0,T=0,_=0;if(b!==l.body){var R=-1!==['absolute','relative','fixed'].indexOf(u.getComputedStyle(b).position),x=R?b:b.offsetParent,P=x.getBoundingClientRect(),D=l.body.getBoundingClientRect();T=P.left-D.left-x.scrollLeft,_=P.top-D.top-x.scrollTop}m.style.left=E-T+'px',m.style.top=w-_+'px';var M=u.innerWidth||o(l.body.offsetWidth,l.documentElement.offsetWidth),A=u.innerHeight||o(l.body.offsetHeight,l.documentElement.offsetHeight);b.appendChild(m);var I=m.getBoundingClientRect(),L=I.bottom-A,F=m.scrollHeight>m.clientHeight+1,B=d.getScrollInfo();if(0<L){var N=I.bottom-I.top,O=v.top-(v.bottom-I.top);if(0<O-N)m.style.top=(w=v.top-N-_)+'px',k=!1;else if(N>A){m.style.height=A-5+'px',m.style.top=(w=v.bottom-I.top-_)+'px';var H=d.getCursor();t.from.ch!=H.ch&&(v=d.cursorCoords(H),m.style.left=(E=v.left-T)+'px',I=m.getBoundingClientRect())}}var z=I.right-M;if(0<z&&(I.right-I.left>M&&(m.style.width=M-5+'px',z-=I.right-I.left-M),m.style.left=(E=v.left-z-T)+'px'),F)for(var U=m.firstChild;U;U=U.nextSibling)U.style.paddingRight=d.display.nativeBarWidth+'px';if(d.addKeyMap(this.keyMap=a(n,{moveFocus:function(e,t){s.changeActive(s.selectedHint+e,t)},setFocus:function(e){s.changeActive(e)},menuSize:function(){return s.screenAmount()},length:f.length,close:function(){n.close()},pick:function(){s.pick()},data:t})),n.options.closeOnUnfocus){var W;d.on('blur',this.onBlur=function(){W=setTimeout(function(){n.close()},100)}),d.on('focus',this.onFocus=function(){clearTimeout(W)})}return d.on('scroll',this.onScroll=function(){var e=d.getScrollInfo(),t=d.getWrapperElement().getBoundingClientRect(),o=w+B.top-e.top,r=o-(u.pageYOffset||(l.documentElement||l.body).scrollTop);return k||(r+=m.offsetHeight),r<=t.top||r>=t.bottom?n.close():void(m.style.top=o+'px',m.style.left=E+B.left-e.left+'px')}),e.on(m,'dblclick',function(n){var e=i(m,n.target||n.srcElement);e&&null!=e.hintId&&(s.changeActive(e.hintId),s.pick())}),e.on(m,'click',function(o){var e=i(m,o.target||o.srcElement);e&&null!=e.hintId&&(s.changeActive(e.hintId),n.options.completeOnSingleClick&&s.pick())}),e.on(m,'mousedown',function(){setTimeout(function(){d.focus()},20)}),e.signal(t,'select',f[this.selectedHint],m.childNodes[this.selectedHint]),!0}function d(e,t){if(!e.somethingSelected())return t;for(var n=[],o=0;o<t.length;o++)t[o].supportsSelection&&n.push(t[o]);return n}function l(e,t,n,o){if(e.async)e(t,o,n);else{var r=e(t,n);r&&r.then?r.then(o):o(r)}}var c='CodeMirror-hint',p='CodeMirror-hint-active';e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var o={hint:t};if(n)for(var r in n)o[r]=n[r];return e.showHint(o)},e.defineExtension('showHint',function(o){o=n(this,this.getCursor('start'),o);var r=this.listSelections();if(!(1<r.length)){if(this.somethingSelected()){if(!o.hint.supportsSelection)return;for(var a=0;a<r.length;a++)if(r[a].head.line!=r[a].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var i=this.state.completionActive=new t(this,o);i.options.hint&&(e.signal(this,'startCompletion',this),i.update(!0))}}),e.defineExtension('closeHint',function(){this.state.completionActive&&this.state.completionActive.close()});var u=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off('cursorActivity',this.activityFunc),this.widget&&this.data&&e.signal(this.data,'close'),this.widget&&this.widget.close(),e.signal(this.cm,'endCompletion',this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var o=t.list[n];o.hint?o.hint(this.cm,t,o):this.cm.replaceRange(r(o),o.from||t.from,o.to||t.to,'complete'),e.signal(t,'pick',o),this.close()},cursorActivity:function(){this.debounce&&(m(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=u(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;l(this.options.hint,this.cm,this.options,function(o){t.tick==n&&t.finishUpdate(o,e)})}},finishUpdate:function(t,n){this.data&&e.signal(this.data,'update');var o=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(o&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,'shown')))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off('blur',this.onBlur),e.off('focus',this.onFocus)),e.off('scroll',this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:0>t&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var o=this.hints.childNodes[this.selectedHint];o&&(o.className=o.className.replace(' '+p,'')),o=this.hints.childNodes[this.selectedHint=t],o.className+=' '+p,o.offsetTop<this.hints.scrollTop?this.hints.scrollTop=o.offsetTop-3:o.offsetTop+o.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=o.offsetTop+o.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,'select',this.data.list[this.selectedHint],o)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper('hint','auto',{resolve:function(t,n){var o=t.getHelpers(n,'hint'),r;if(o.length){var i=function(e,t,n){function r(o){return o==a.length?t(null):void l(a[o],e,n,function(e){e&&0<e.list.length?t(e):r(o+1)})}var a=d(e,o);r(0)};return i.async=!0,i.supportsSelection=!0,i}return(r=t.getHelper(t.getCursor(),'hintWords'))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper('hint','fromList',function(t,n){var o=t.getCursor(),r=t.getTokenAt(o),a=e.Pos(o.line,r.start),s;r.start<o.ch&&/\w/.test(r.string.charAt(o.ch-r.start-1))?s=r.string.substr(0,o.ch-r.start):(s='',a=o);for(var d=[],l=0,i;l<n.words.length;l++)i=n.words[l],i.slice(0,s.length)==s&&d.push(i);if(d.length)return{list:d,from:a,to:o}}),e.commands.autocomplete=e.showHint;var h={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption('hintOptions',null)})},function(e,t,n){(function(e){e(n(44))})(function(e){'use strict';function t(e){e.state.markedSelection&&e.operation(function(){a(e)})}function n(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){r(e)})}function o(e,t,n,o){if(0!=l(t,n))for(var r=e.state.markedSelection,i=e.state.markedSelectionStyle,a=t.line;;){var c=a==t.line?t:d(a,0),p=a+s,u=p>=n.line,m=u?n:d(p,0),h=e.markText(c,m,{className:i});if(null==o?r.push(h):r.splice(o++,0,h),u)break;a=p}}function r(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function i(e){r(e);for(var t=e.listSelections(),n=0;n<t.length;n++)o(e,t[n].from(),t[n].to())}function a(e){if(!e.somethingSelected())return r(e);if(1<e.listSelections().length)return i(e);var t=e.getCursor('start'),n=e.getCursor('end'),a=e.state.markedSelection;if(!a.length)return o(e,t,n);var d=a[0].find(),c=a[a.length-1].find();if(!d||!c||n.line-t.line<=s||0<=l(t,c.to)||0>=l(n,d.from))return i(e);for(;0<l(t,d.from);)a.shift().clear(),d=a[0].find();for(0>l(t,d.from)&&(d.to.line-t.line<s?(a.shift().clear(),o(e,t,d.to,0)):o(e,t,d.from,0));0>l(n,c.to);)a.pop().clear(),c=a[a.length-1].find();0<l(n,c.to)&&(n.line-c.from.line<s?(a.pop().clear(),o(e,c.from,n)):o(e,c.to,n))}e.defineOption('styleSelectedText',!1,function(o,a,s){var d=s&&s!=e.Init;a&&!d?(o.state.markedSelection=[],o.state.markedSelectionStyle='string'==typeof a?a:'CodeMirror-selectedtext',i(o),o.on('cursorActivity',t),o.on('change',n)):!a&&d&&(o.off('cursorActivity',t),o.off('change',n),r(o),o.state.markedSelection=o.state.markedSelectionStyle=null)});var s=8,d=e.Pos,l=e.cmpPos})},function(e,t,n){'use strict';function o(e){if(e.state&&e.state.selectingText instanceof Function)try{e.state.selectingText(new CustomEvent('fake-event'))}catch(e){log.info('Unable to cancel CodeMirror selection',e)}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(44);n(533),n(532),!1,n(531);class a extends r.Component{constructor(e){super(e),this.wrapper=null,this.codeMirror=null,this.resizeDebounceId=null,this.lastKnownWidth=null,this.onSwapDoc=(e,t)=>{this.props.onSwapDoc&&this.props.onSwapDoc(e,t)},this.onContextMenu=(e,t)=>{this.props.onContextMenu&&this.props.onContextMenu(e,t)},this.onCopy=(e,t)=>{this.props.onCopy&&this.props.onCopy(e,t)},this.beforeSelectionChanged=(e,t)=>{this.props.isSelectionEnabled&&!this.props.isSelectionEnabled()&&t.update([{head:{line:0,ch:0},anchor:{line:0,ch:0}}])},this.onChanges=(e,t)=>{this.props.onChanges&&this.props.onChanges(e,t)},this.onViewportChange=(e,t,n)=>{this.props.onViewportChange&&this.props.onViewportChange(e,t,n)},this.onRenderLine=(e,t,n)=>{this.props.onRenderLine&&this.props.onRenderLine(e,t,n)},this.onResized=()=>{this.resizeDebounceId=null,this.codeMirror&&this.codeMirror.refresh()},this.onRef=(e)=>{this.wrapper=e},this.resizeObserver=new ResizeObserver((e)=>{if(1===e.length&&this.codeMirror){const t=e[0].contentRect.width;null===this.lastKnownWidth?this.lastKnownWidth=t:this.lastKnownWidth!==t&&(this.lastKnownWidth=t,null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized))}})}static updateDoc(e,t){'string'==typeof t?e.setValue(t):(o(e),e.swapDoc(t))}getEditor(){return this.codeMirror}componentDidMount(){this.codeMirror=i(this.wrapper,this.props.options),this.codeMirror.on('renderLine',this.onRenderLine),this.codeMirror.on('changes',this.onChanges),this.codeMirror.on('viewportChange',this.onViewportChange),this.codeMirror.on('beforeSelectionChange',this.beforeSelectionChanged),this.codeMirror.on('copy',this.onCopy),this.codeMirror.on('contextmenu',this.onContextMenu),this.codeMirror.on('swapDoc',this.onSwapDoc),a.updateDoc(this.codeMirror,this.props.value),this.resizeObserver.observe(this.codeMirror.getWrapperElement())}componentWillUnmount(){const e=this.codeMirror;e&&(e.off('changes',this.onChanges),e.off('viewportChange',this.onViewportChange),e.off('renderLine',this.onRenderLine),e.off('beforeSelectionChange',this.beforeSelectionChanged),e.off('copy',this.onCopy),e.off('swapDoc',this.onSwapDoc),this.codeMirror=null),this.resizeObserver.disconnect()}componentDidUpdate(e){if(this.codeMirror&&this.props.value!==e.value){const e=this.codeMirror.getDoc();a.updateDoc(this.codeMirror,this.props.value);const t=this.codeMirror.getDoc();this.props.onAfterSwapDoc&&this.props.onAfterSwapDoc(this.codeMirror,e,t)}}render(){return r.createElement('div',{className:this.props.className,ref:this.onRef})}}t.CodeMirrorHost=a},function(e,t,n){(function(e){e(n(44))})(function(e){'use strict';e.defineMode('javascript',function(t,n){function o(e){for(var t=!1,n=!1,o;null!=(o=e.next());){if(!t){if('/'==o&&!n)return;'['==o?n=!0:n&&']'==o&&(n=!1)}t=!t&&'\\'==o}}function r(e,t,n){return Je=e,et=n,t}function a(e,t){var n=e.next();if('"'==n||'\''==n)return t.tokenize=i(n),t.tokenize(e,t);if('.'==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return r('number','number');if('.'==n&&e.match('..'))return r('spread','meta');if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if('='==n&&e.eat('>'))return r('=>','operator');if('0'==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return r('number','number');if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),r('number','number');if('/'==n)return e.eat('*')?(t.tokenize=s,s(e,t)):e.eat('/')?(e.skipToEnd(),r('comment','comment')):He(e,t,1)?(o(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),r('regexp','string-2')):(e.eat('='),r('operator','operator',e.current()));if('`'==n)return t.tokenize=d,d(e,t);if('#'==n)return e.skipToEnd(),r('error','error');if('<'==n&&e.match('!--')||'-'==n&&e.match('->'))return e.skipToEnd(),r('comment','comment');if(qe.test(n))return'>'==n&&t.lexical&&'>'==t.lexical.type||(e.eat('=')?('!'==n||'='==n)&&e.eat('='):/[<>*+\-]/.test(n)&&(e.eat(n),'>'==n&&e.eat(n))),r('operator','operator',e.current());if(Ke.test(n)){e.eatWhile(Ke);var a=e.current();if('.'!=t.lastType){if(je.propertyIsEnumerable(a)){var l=je[a];return r(l.type,l.style,a)}if('async'==a&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return r('async','keyword',a)}return r('variable','variable',a)}}function i(e){return function(t,n){var o=!1,i;if(We&&'@'==t.peek()&&t.match(Ye))return n.tokenize=a,r('jsonld-keyword','meta');for(;null!=(i=t.next())&&(i!=e||o);)o=!o&&'\\'==i;return o||(n.tokenize=a),r('string','string')}}function s(e,t){for(var n=!1,o;o=e.next();){if('/'==o&&n){t.tokenize=a;break}n='*'==o}return r('comment','comment')}function d(e,t){for(var n=!1,o;null!=(o=e.next());){if(!n&&('`'==o||'$'==o&&e.eat('{'))){t.tokenize=a;break}n=!n&&'\\'==o}return r('quasi','string-2',e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf('=>',e.start);if(!(0>n)){if(Ge){var o=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));o&&(n=o.index)}for(var r=0,i=!1,a=n-1;0<=a;--a){var s=e.string.charAt(a),d=Xe.indexOf(s);if(0<=d&&3>d){if(!r){++a;break}if(0==--r){'('==s&&(i=!0);break}}else if(3<=d&&6>d)++r;else if(Ke.test(s))i=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var l=e.string.charAt(a-1);if(l==s&&'\\'!=e.string.charAt(a-2)){a--;break}}else if(i&&!r){++a;break}}i&&!r&&(t.fatArrowAt=a)}}function c(e,t,n,o,r,i){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=i,null!=o&&(this.align=o)}function p(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var o=e.context;o;o=o.prev)for(var n=o.vars;n;n=n.next)if(n.name==t)return!0}function u(e,t,n,o,r){var i=e.cc;for($e.state=e,$e.stream=r,$e.marked=null,$e.cc=i,$e.style=t,e.lexical.hasOwnProperty('align')||(e.lexical.align=!0);;){var a=i.length?i.pop():Ve?P:R;if(a(n,o)){for(;i.length&&i[i.length-1].lex;)i.pop()();return $e.marked?$e.marked:'variable'==n&&p(e,o)?'variable-2':t}}}function h(){for(var e=arguments.length-1;0<=e;e--)$e.cc.push(arguments[e])}function f(){return h.apply(null,arguments),!0}function m(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function g(e){var t=$e.state;if($e.marked='def',t.context)if('var'==t.lexical.info&&t.context&&t.context.block){var o=y(e,t.context);if(null!=o)return void(t.context=o)}else if(!m(e,t.localVars))return void(t.localVars=new b(e,t.localVars));n.globalVars&&!m(e,t.globalVars)&&(t.globalVars=new b(e,t.globalVars))}function y(e,t){if(!t)return null;if(t.block){var n=y(e,t.prev);return n?n==t.prev?t:new C(n,t.vars,!0):null}return m(e,t.vars)?t:new C(t.prev,new b(e,t.vars),!1)}function S(e){return'public'==e||'private'==e||'protected'==e||'abstract'==e||'readonly'==e}function C(e,t,n){this.prev=e,this.vars=t,this.block=n}function b(e,t){this.name=e,this.next=t}function v(){$e.state.context=new C($e.state.context,$e.state.localVars,!1),$e.state.localVars=Ze}function E(){$e.state.context=new C($e.state.context,$e.state.localVars,!0),$e.state.localVars=null}function w(){$e.state.localVars=$e.state.context.vars,$e.state.context=$e.state.context.prev}function k(e,t){var n=function(){var n=$e.state,o=n.indented;if('stat'==n.lexical.type)o=n.lexical.indented;else for(var r=n.lexical;r&&')'==r.type&&r.align;r=r.prev)o=r.indented;n.lexical=new c(o,$e.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function T(){var e=$e.state;e.lexical.prev&&(')'==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function _(e){function t(n){return n==e?f():';'==e||'}'==n||')'==n||']'==n?h():f(t)}return t}function R(e,t){return'var'==e?f(k('vardef',t),le,_(';'),T):'keyword a'==e?f(k('form'),M,R,T):'keyword b'==e?f(k('form'),R,T):'keyword d'==e?$e.stream.match(/^\s*$/,!1)?f():f(k('stat'),I,_(';'),T):'debugger'==e?f(_(';')):'{'==e?f(k('}'),E,Q,T,w):';'==e?f():'if'==e?('else'==$e.state.lexical.info&&$e.state.cc[$e.state.cc.length-1]==T&&$e.state.cc.pop()(),f(k('form'),M,R,T,fe)):'function'==e?f(Ce):'for'==e?f(k('form'),ge,R,T):'class'==e||Ge&&'interface'==t?($e.marked='keyword',f(k('form','class'==e?e:t),ke,T)):'variable'==e?Ge&&'declare'==t?($e.marked='keyword',f(R)):Ge&&('module'==t||'enum'==t||'type'==t)&&$e.stream.match(/^\s*\w/,!1)?($e.marked='keyword','enum'==t?f(Be):'type'==t?f(ve,_('operator'),te,_(';')):f(k('form'),ce,_('{'),k('}'),Q,T,T)):Ge&&'namespace'==t?($e.marked='keyword',f(k('form'),P,R,T)):Ge&&'abstract'==t?($e.marked='keyword',f(R)):f(k('stat'),V):'switch'==e?f(k('form'),M,_('{'),k('}','switch'),E,Q,T,T,w):'case'==e?f(P,_(':')):'default'==e?f(_(':')):'catch'==e?f(k('form'),v,x,R,T,w):'export'==e?f(k('stat'),xe,T):'import'==e?f(k('stat'),De,T):'async'==e?f(R):'@'==t?f(P,R):h(k('stat'),P,_(';'),T)}function x(e){if('('==e)return f(Ee,_(')'))}function P(e,t){return A(e,t,!1)}function D(e,t){return A(e,t,!0)}function M(e){return'('==e?f(k(')'),P,_(')'),T):h()}function A(e,t,n){if($e.state.fatArrowAt==$e.stream.start){var o=n?H:O;if('('==e)return f(v,k(')'),Y(Ee,')'),T,_('=>'),o,w);if('variable'==e)return h(v,ce,_('=>'),o,w)}var r=n?F:L;return Qe.hasOwnProperty(e)?f(r):'function'==e?f(Ce,r):'class'==e||Ge&&'interface'==t?($e.marked='keyword',f(k('form'),we,T)):'keyword c'==e||'async'==e?f(n?D:P):'('==e?f(k(')'),I,_(')'),T,r):'operator'==e||'spread'==e?f(n?D:P):'['==e?f(k(']'),Fe,T,r):'{'==e?X(K,'}',null,r):'quasi'==e?h(B,r):'new'==e?f(z(n)):'import'==e?f(P):f()}function I(e){return e.match(/[;\}\)\],]/)?h():h(P)}function L(e,t){return','==e?f(P):F(e,t,!1)}function F(e,t,n){var o=!1==n?L:F,r=!1==n?P:D;return'=>'==e?f(v,n?H:O,w):'operator'==e?/\+\+|--/.test(t)||Ge&&'!'==t?f(o):Ge&&'<'==t&&$e.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?f(k('>'),Y(te,'>'),T,o):'?'==t?f(P,_(':'),r):f(r):'quasi'==e?h(B,o):';'==e?void 0:'('==e?X(D,')','call',o):'.'==e?f(G,o):'['==e?f(k(']'),I,_(']'),T,o):Ge&&'as'==t?($e.marked='keyword',f(te,o)):'regexp'==e?($e.state.lastType=$e.marked='operator',$e.stream.backUp($e.stream.pos-$e.stream.start-1),f(r)):void 0}function B(e,t){return'quasi'==e?'${'==t.slice(t.length-2)?f(P,N):f(B):h()}function N(e){if('}'==e)return $e.marked='string-2',$e.state.tokenize=d,f(B)}function O(e){return l($e.stream,$e.state),h('{'==e?R:P)}function H(e){return l($e.stream,$e.state),h('{'==e?R:D)}function z(e){return function(t){return'.'==t?f(e?W:U):'variable'==t&&Ge?f(ae,e?F:L):h(e?D:P)}}function U(e,t){if('target'==t)return $e.marked='keyword',f(L)}function W(e,t){if('target'==t)return $e.marked='keyword',f(F)}function V(e){return':'==e?f(T,R):h(L,_(';'),T)}function G(e){if('variable'==e)return $e.marked='property',f()}function K(e,t){if('async'==e)return $e.marked='property',f(K);if('variable'==e||'keyword'==$e.style){if($e.marked='property','get'==t||'set'==t)return f(j);var n;return Ge&&$e.state.fatArrowAt==$e.stream.start&&(n=$e.stream.match(/^\s*:\s*/,!1))&&($e.state.fatArrowAt=$e.stream.pos+n[0].length),f(q)}return'number'==e||'string'==e?($e.marked=We?'property':$e.style+' property',f(q)):'jsonld-keyword'==e?f(q):Ge&&S(t)?($e.marked='keyword',f(K)):'['==e?f(P,$,_(']'),q):'spread'==e?f(D,q):'*'==t?($e.marked='keyword',f(K)):':'==e?h(q):void 0}function j(e){return'variable'==e?($e.marked='property',f(Ce)):h(q)}function q(e){return':'==e?f(D):'('==e?h(Ce):void 0}function Y(e,t,n){function o(r,i){if(n?-1<n.indexOf(r):','==r){var a=$e.state.lexical;return'call'==a.info&&(a.pos=(a.pos||0)+1),f(function(n,o){return n==t||o==t?h():h(e)},o)}return r==t||i==t?f():n&&-1<n.indexOf(';')?h(e):f(_(t))}return function(n,r){return n==t||r==t?f():h(e,o)}}function X(e,t,n){for(var o=3;o<arguments.length;o++)$e.cc.push(arguments[o]);return f(k(t,n),Y(e,t),T)}function Q(e){return'}'==e?f():h(R,Q)}function $(e,t){if(Ge){if(':'==e)return f(te);if('?'==t)return f($)}}function Z(e,t){if(Ge&&(':'==e||'in'==t))return f(te)}function J(e){if(Ge&&':'==e)return $e.stream.match(/^\s*\w+\s+is\b/,!1)?f(P,ee,te):f(te)}function ee(e,t){if('is'==t)return $e.marked='keyword',f()}function te(e,t){return'keyof'==t||'typeof'==t||'infer'==t?($e.marked='keyword',f('typeof'==t?D:te)):'variable'==e||'void'==t?($e.marked='type',f(ie)):'|'==t||'&'==t?f(te):'string'==e||'number'==e||'atom'==e?f(ie):'['==e?f(k(']'),Y(te,']',','),T,ie):'{'==e?f(k('}'),Y(oe,'}',',;'),T,ie):'('==e?f(Y(re,')'),ne,ie):'<'==e?f(Y(te,'>'),te):void 0}function ne(e){if('=>'==e)return f(te)}function oe(e,t){return'variable'==e||'keyword'==$e.style?($e.marked='property',f(oe)):'?'==t||'number'==e||'string'==e?f(oe):':'==e?f(te):'['==e?f(_('variable'),Z,_(']'),oe):'('==e?h(be,oe):void 0}function re(e,t){return'variable'==e&&$e.stream.match(/^\s*[?:]/,!1)||'?'==t?f(re):':'==e?f(te):'spread'==e?f(re):h(te)}function ie(e,t){return'<'==t?f(k('>'),Y(te,'>'),T,ie):'|'==t||'.'==e||'&'==t?f(te):'['==e?f(te,_(']'),ie):'extends'==t||'implements'==t?($e.marked='keyword',f(te)):'?'==t?f(te,_(':'),te):void 0}function ae(e,t){if('<'==t)return f(k('>'),Y(te,'>'),T,ie)}function se(){return h(te,de)}function de(e,t){if('='==t)return f(te)}function le(e,t){return'enum'==t?($e.marked='keyword',f(Be)):h(ce,$,me,he)}function ce(e,t){return Ge&&S(t)?($e.marked='keyword',f(ce)):'variable'==e?(g(t),f()):'spread'==e?f(ce):'['==e?X(ue,']'):'{'==e?X(pe,'}'):void 0}function pe(e,t){return'variable'!=e||$e.stream.match(/^\s*:/,!1)?('variable'==e&&($e.marked='property'),'spread'==e?f(ce):'}'==e?h():'['==e?f(P,_(']'),_(':'),pe):f(_(':'),ce,me)):(g(t),f(me))}function ue(){return h(ce,me)}function me(e,t){if('='==t)return f(D)}function he(e){if(','==e)return f(le)}function fe(e,t){if('keyword b'==e&&'else'==t)return f(k('form','else'),R,T)}function ge(e,t){return'await'==t?f(ge):'('==e?f(k(')'),ye,T):void 0}function ye(e){return'var'==e?f(le,Se):'variable'==e?f(Se):h(Se)}function Se(e,t){return')'==e?f():';'==e?f(Se):'in'==t||'of'==t?($e.marked='keyword',f(P,Se)):h(P,Se)}function Ce(e,t){return'*'==t?($e.marked='keyword',f(Ce)):'variable'==e?(g(t),f(Ce)):'('==e?f(v,k(')'),Y(Ee,')'),T,J,R,w):Ge&&'<'==t?f(k('>'),Y(se,'>'),T,Ce):void 0}function be(e,t){return'*'==t?($e.marked='keyword',f(be)):'variable'==e?(g(t),f(be)):'('==e?f(v,k(')'),Y(Ee,')'),T,J,w):Ge&&'<'==t?f(k('>'),Y(se,'>'),T,be):void 0}function ve(e,t){return'keyword'==e||'variable'==e?($e.marked='type',f(ve)):'<'==t?f(k('>'),Y(se,'>'),T):void 0}function Ee(e,t){return'@'==t&&f(P,Ee),'spread'==e?f(Ee):Ge&&S(t)?($e.marked='keyword',f(Ee)):Ge&&'this'==e?f($,me):h(ce,$,me)}function we(e,t){return'variable'==e?ke(e,t):Te(e,t)}function ke(e,t){if('variable'==e)return g(t),f(Te)}function Te(e,t){return'<'==t?f(k('>'),Y(se,'>'),T,Te):'extends'==t||'implements'==t||Ge&&','==e?('implements'==t&&($e.marked='keyword'),f(Ge?te:P,Te)):'{'==e?f(k('}'),_e,T):void 0}function _e(e,t){return'async'==e||'variable'==e&&('static'==t||'get'==t||'set'==t||Ge&&S(t))&&$e.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?($e.marked='keyword',f(_e)):'variable'==e||'keyword'==$e.style?($e.marked='property',f(Ge?Re:Ce,_e)):'number'==e||'string'==e?f(Ge?Re:Ce,_e):'['==e?f(P,$,_(']'),Ge?Re:Ce,_e):'*'==t?($e.marked='keyword',f(_e)):Ge&&'('==e?h(be,_e):';'==e||','==e?f(_e):'}'==e?f():'@'==t?f(P,_e):void 0}function Re(e,t){if('?'==t)return f(Re);if(':'==e)return f(te,me);if('='==t)return f(D);var n=$e.state.lexical.prev,o=n&&'interface'==n.info;return h(o?be:Ce)}function xe(e,t){return'*'==t?($e.marked='keyword',f(Le,_(';'))):'default'==t?($e.marked='keyword',f(P,_(';'))):'{'==e?f(Y(Pe,'}'),Le,_(';')):h(R)}function Pe(e,t){return'as'==t?($e.marked='keyword',f(_('variable'))):'variable'==e?h(D,Pe):void 0}function De(e){return'string'==e?f():'('==e?h(P):h(Me,Ae,Le)}function Me(e,t){return'{'==e?X(Me,'}'):('variable'==e&&g(t),'*'==t&&($e.marked='keyword'),f(Ie))}function Ae(e){if(','==e)return f(Me,Ae)}function Ie(e,t){if('as'==t)return $e.marked='keyword',f(Me)}function Le(e,t){if('from'==t)return $e.marked='keyword',f(P)}function Fe(e){return']'==e?f():h(Y(D,']'))}function Be(){return h(k('form'),ce,_('{'),k('}'),Y(Ne,'}'),T,T)}function Ne(){return h(ce,me)}function Oe(e,t){return'operator'==e.lastType||','==e.lastType||qe.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function He(e,t,n){return t.tokenize==a&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||'quasi'==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var ze=t.indentUnit,Ue=n.statementIndent,We=n.jsonld,Ve=n.json||We,Ge=n.typescript,Ke=n.wordCharacters||/[\w$\xa1-\uffff]/,je=function(){function e(e){return{type:e,style:'keyword'}}var t=e('keyword a'),n=e('keyword b'),o=e('keyword c'),r=e('keyword d'),i=e('operator'),a={type:'atom',style:'atom'};return{if:e('if'),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e('new'),delete:o,void:o,throw:o,debugger:e('debugger'),var:e('var'),const:e('var'),let:e('var'),function:e('function'),catch:e('catch'),for:e('for'),switch:e('switch'),case:e('case'),default:e('default'),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e('this'),class:e('class'),super:e('atom'),yield:o,export:e('export'),import:e('import'),extends:o,await:o}}(),qe=/[+\-*&%=<>!?|~^@]/,Ye=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Xe='([{}])',Qe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},$e={state:null,column:null,marked:null,cc:null},Ze=new b('this',new b('arguments',null)),Je,et;return w.lex=!0,T.lex=!0,{startState:function(e){var t={tokenize:a,lastType:'sof',cc:[],lexical:new c((e||0)-ze,0,'block',!1),localVars:n.localVars,context:n.localVars&&new C(null,null,!1),indented:e||0};return n.globalVars&&'object'==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(!t.lexical.hasOwnProperty('align')&&(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return'comment'==Je?n:(t.lastType='operator'==Je&&('++'==et||'--'==et)?'incdec':Je,u(t,n,Je,et,e))},indent:function(t,o){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var r=o&&o.charAt(0),d=t.lexical,l;if(!/^\s*else\b/.test(o))for(var p=t.cc.length-1,i;0<=p;--p)if(i=t.cc[p],i==T)d=d.prev;else if(i!=fe)break;for(;('stat'==d.type||'form'==d.type)&&('}'==r||(l=t.cc[t.cc.length-1])&&(l==L||l==F)&&!/^[,\.=+\-*:?[\(]/.test(o));)d=d.prev;Ue&&')'==d.type&&'stat'==d.prev.type&&(d=d.prev);var c=d.type,u=r==c;return'vardef'==c?d.indented+('operator'==t.lastType||','==t.lastType?d.info.length+1:0):'form'==c&&'{'==r?d.indented:'form'==c?d.indented+ze:'stat'==c?d.indented+(Oe(t,o)?Ue||ze:0):'switch'!=d.info||u||!1==n.doubleIndentSwitch?d.align?d.column+(u?0:1):d.indented+(u?0:ze):d.indented+(/^(?:case|default)\b/.test(o)?ze:2*ze)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ve?null:'/*',blockCommentEnd:Ve?null:'*/',blockCommentContinue:Ve?null:' * ',lineComment:Ve?null:'//',fold:'brace',closeBrackets:'()[]{}\'\'""``',helperType:Ve?'json':'javascript',jsonldMode:We,jsonMode:Ve,expressionAllowed:He,skipExpression:function(e){var t=e.cc[e.cc.length-1];(t==P||t==D)&&e.cc.pop()}}}),e.registerHelper('wordChars','javascript',/[\w$]/),e.defineMIME('text/javascript','javascript'),e.defineMIME('text/ecmascript','javascript'),e.defineMIME('application/javascript','javascript'),e.defineMIME('application/x-javascript','javascript'),e.defineMIME('application/ecmascript','javascript'),e.defineMIME('application/json',{name:'javascript',json:!0}),e.defineMIME('application/x-json',{name:'javascript',json:!0}),e.defineMIME('application/ld+json',{name:'javascript',jsonld:!0}),e.defineMIME('text/typescript',{name:'javascript',typescript:!0}),e.defineMIME('application/typescript',{name:'javascript',typescript:!0})})},function(e,t,n){'use strict';function o(e,t){return e.skipToEnd(),t.diffLineIndex++,null}function r(e,t,n){return t&&e.oldLineNumber&&t[e.oldLineNumber-1]?t[e.oldLineNumber-1]:n&&e.newLineNumber&&n[e.newLineNumber-1]?n[e.newLineNumber-1]:null}Object.defineProperty(t,'__esModule',{value:!0});const i=n(44),a=n(217);n(535);const s={"+":'diff-add',"-":'diff-delete',"@":'diff-hunk'," ":'diff-context'};class d{constructor(e,t,n){this.token=(e,t)=>{if(e.sol()){const n=e.next();e.eol()&&t.diffLineIndex++;const o=n?s[n]:null;return o?`line-${o} line-background-${o}`:null}if(null==this.hunks)return o(e,t);const n=a.diffLineForIndex(this.hunks,t.diffLineIndex);if(!n)return o(e,t);const i=r(n,this.oldTokens,this.newTokens);if(!i)return o(e,t);const d=i[e.pos-e.lineStart-1];if(!d)do e.pos++;while(!e.eol()&&!i[e.pos-e.lineStart-1]);else e.pos+=d.length;return e.eol()&&t.diffLineIndex++,d?d.token:null},this.hunks=e,this.oldTokens=t,this.newTokens=n}startState(){return{diffLineIndex:0}}blankLine(e){e.diffLineIndex++}}d.ModeName='github-diff-syntax',t.DiffSyntaxMode=d,i.defineMode(d.ModeName,function(e,t){if(!t)throw new Error('I needs me some options');return new d(t.hunks,t.oldTokens,t.newTokens)})},function(e,t,n){'use strict';function o(e,t){return e===t||e.file.id===t.file.id&&e.diff.text===t.diff.text}function r(){const e=document.createElement('span'),t=R.uuid(),{w:n,h:o,d:r}=M,i='http://www.w3.org/2000/svg',a=document.createElementNS(i,'svg');a.setAttribute('version','1.1'),a.setAttribute('viewBox',`0 0 ${n} ${o}`),a.setAttribute('role','img'),a.setAttribute('aria-labelledby',t),a.classList.add('no-newline');const s=document.createElementNS(i,'title');s.setAttribute('id',t),s.setAttribute('lang','en'),s.textContent='No newline at end of file',a.appendChild(s);const d=document.createElementNS(i,'path');return d.setAttribute('role','presentation'),d.setAttribute('d',r),d.textContent='No newline at end of file',a.appendChild(d),e.appendChild(a),e}function i(e,t){return null!==e&&t>=p(e.from,e.to)&&t<=c(e.to,e.from)}function a(e,t){return e instanceof HTMLElement&&e.classList.contains(t)}function s(e){return e instanceof g.WorkingDirectoryFileChange}function d(e){e.execCommand('findPersistent');const t=e.getWrapperElement();if(t){const e=t.querySelector('.CodeMirror-dialog');if(e){e.classList.add('CodeMirror-search-dialog');const t=e.querySelector('.CodeMirror-search-label'),n=e.querySelector('.CodeMirror-search-field');t instanceof HTMLElement&&n instanceof HTMLInputElement&&(t.style.display='none',n.placeholder='Search',n.style.width=null)}}}function l(e,t){return(n)=>{const o=Math.round(n.defaultTextHeight()+4),r=n.getScrollInfo();if('line'===t)n.scrollTo(void 0,r.top+e*o);else{const t=r.clientHeight-o;n.scrollTo(void 0,r.top+e*t)}}}var c=Math.max,p=Math.min;Object.defineProperty(t,'__esModule',{value:!0});const u=n(0),m=n(22),h=n(44),f=n(30),g=n(23),y=n(4),S=n(536),C=n(534),b=n(217),v=n(528),E=n(526),w=n(67),k=n(69),T=n(2),_=n(124),R=n(106),x=n(27),P=n(25),D=4096,M=new y.OcticonSymbol(16,8,'m 16,1 0,3 c 0,0.55 -0.45,1 -1,1 l -3,0 0,2 -3,-3 3,-3 0,2 2,0 0,-2 2,0 z M 8,4 C 8,6.2 6.2,8 4,8 1.8,8 0,6.2 0,4 0,1.8 1.8,0 4,0 6.2,0 8,1.8 8,4 Z M 1.5,5.66 5.66,1.5 C 5.18,1.19 4.61,1 4,1 2.34,1 1,2.34 1,4 1,4.61 1.19,5.17 1.5,5.66 Z M 7,4 C 7,3.39 6.81,2.83 6.5,2.34 L 2.34,6.5 C 2.82,6.81 3.39,7 4,7 5.66,7 7,5.66 7,4 Z'),A='diff-gutter',I={lineNumbers:!1,readOnly:!0,showCursorWhenSelecting:!1,cursorBlinkRate:-1,lineWrapping:!0,mode:{name:S.DiffSyntaxMode.ModeName},extraKeys:{Tab:!1,"Shift-Tab":!1,['Ctrl-F']:d,['Ctrl-G']:!1,['Shift-Ctrl-G']:!1,['Shift-Ctrl-F']:!1,['Shift-Ctrl-R']:!1,Down:l(1,'line'),Up:l(-1,'line'),PageDown:l(1,'page'),PageUp:l(-1,'page')},scrollbarStyle:'native',styleSelectedText:!0,lineSeparator:'\n',specialChars:/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/,gutters:[A]};class L extends u.Component{constructor(){super(...arguments),this.codeMirror=null,this.getCodeMirrorDocument=w.default((e,t)=>{const{mode:n,firstLineNumber:o,lineSeparator:i}=I;-1!==e.indexOf('\r')&&(e=e.replace(/\r(?=\n|$)/g,''));const a=new h.Doc(e,n,o,i);for(const n of t)a.setBookmark({line:n,ch:Infinity},{widget:r()});return a},k.structuralEquals),this.getNoNewlineIndicatorLines=w.default((e)=>{const t=[];for(const n of e)for(const o of n.lines)o.noTrailingNewLine&&t.push(b.lineNumberForDiffLine(o,e));return t}),this.selection=null,this.hunkHighlightRange=null,this.swappedDocumentHasUpdatedViewport=!0,this.onDocumentMouseMove=(e)=>{if(null!==this.codeMirror&&null!==this.selection&&'range'===this.selection.kind){const t=c(0,this.codeMirror.getDoc().lineCount()-1),n=_.clamp(this.codeMirror.lineAtHeight(e.y),0,t);this.codeMirror.scrollIntoView({line:n,ch:0}),n!==this.selection.to&&(this.selection=Object.assign({},this.selection,{to:n}),this.updateViewport())}},this.onDocumentMouseUp=(e)=>{if(e.preventDefault(),0===e.button){if(null===this.selection||null===this.codeMirror)return this.cancelSelection();if('hunk'!==this.selection.kind){if('range'!==this.selection.kind)return T.assertNever(this.selection.kind,`Unknown selection kind ${this.selection.kind}`);if(this.selection.from===this.selection.to&&!a(e.target,'diff-line-number')&&!a(e.target,'diff-line-gutter'))return this.cancelSelection()}else if(!a(e.target,'hunk-handle')||!i(this.selection,this.codeMirror.lineAtHeight(e.y)))return this.cancelSelection();this.endSelection()}},this.isSelectionEnabled=()=>null===this.selection,this.getAndStoreCodeMirrorInstance=(e)=>{this.codeMirror=null===e?null:e.getEditor()},this.onContextMenu=(e,t)=>{const n=e.getDoc().listSelections(),o=[{label:'Copy',action:()=>{null!==this.onCopy&&this.onCopy(e,t)},enabled:this.onCopy&&null!=n}],r=this.buildDiscardMenuItems(e,t);null!==r&&o.push({type:'separator'},...r),x.showContextualMenu(o)},this.onCopy=(e,t)=>{t.preventDefault();const n=e.getDoc(),o=n.getSelections(),r=n.listSelections(),a=[];for(let n=0;n<o.length;n++){const e=r[n],t=o[n],s=t.split('\n');for(const[t,n]of s.entries())0===t&&0<e.head.ch?a.push(n):a.push(n.substr(1));const i=a.join('\n');m.clipboard.writeText(i)}},this.onSwapDoc=(e)=>{this.swappedDocumentHasUpdatedViewport=!1,this.initDiffSyntaxMode(),this.markIntraLineChanges(e.getDoc(),this.props.diff.hunks)},this.onAfterSwapDoc=()=>{this.swappedDocumentHasUpdatedViewport||this.updateViewport()},this.onViewportChange=(e,t,n)=>{const o=e.getDoc(),r=[];this.swappedDocumentHasUpdatedViewport=!0,o.eachLine(t,n,(t)=>{const n=o.getLineNumber(t);if(null!==n){const o=b.diffLineForIndex(this.props.diff.hunks,n);if(null!==o){const i=e.lineInfo(t);if(i.gutterMarkers&&A in i.gutterMarkers){const e=i.gutterMarkers[A];e instanceof HTMLElement&&this.updateGutterMarker(e,n,o)}else r.push(()=>{const r=this.createGutterMarker(n,o);e.setGutterMarker(t,A,r)})}}}),0<r.length&&e.operation(()=>r.forEach((e)=>e()))},this.onHunkHandleMouseEnter=(e)=>{if(!(null===this.codeMirror||this.props.readOnly||null!==this.selection&&'range'===this.selection.kind)){const t=this.codeMirror.lineAtHeight(e.y),n=b.diffLineForIndex(this.props.diff.hunks,t);if(n&&n.isIncludeableLine()){const e=b.findInteractiveDiffRange(this.props.diff.hunks,t);if(null!==e){const{from:t,to:n}=e;this.hunkHighlightRange={from:t,to:n,kind:'hunk',isSelected:!1},this.updateViewport()}}}},this.onDiffLineGutterMouseDown=(e)=>{if(!(e.defaultPrevented||null===this.codeMirror)&&0===e.button){const{file:t,diff:n,readOnly:o}=this.props;if(s(t)&&!o){e.preventDefault();const o=this.codeMirror.lineAtHeight(e.y);this.startSelection(t,n.hunks,o,'range')}}},this.onHunkHandleMouseLeave=()=>{null!==this.hunkHighlightRange&&(this.hunkHighlightRange=null,this.updateViewport())},this.onHunkHandleMouseDown=(e)=>{if(this.codeMirror&&0===e.button){const{file:t,diff:n,readOnly:o}=this.props;if(s(t)&&!o){e.preventDefault();const o=this.codeMirror.lineAtHeight(e.y);this.startSelection(t,n.hunks,o,'hunk')}}},this.onFindText=(e)=>{!e.defaultPrevented&&this.codeMirror&&(e.preventDefault(),d(this.codeMirror))}}async initDiffSyntaxMode(){if(this.codeMirror){const{file:e,diff:t,repository:n}=this.props,r=this.props,i=v.getLineFilters(t.hunks),a=this.codeMirror.getOption('tabSize'),s='number'==typeof a?a:4,d=await v.getFileContents(n,e,i);if(o(this.props,r)){const e=await v.highlightContents(d,s,i);if(o(this.props,r)){const t={name:S.DiffSyntaxMode.ModeName,hunks:this.props.diff.hunks,oldTokens:e.oldTokens,newTokens:e.newTokens};this.codeMirror&&this.codeMirror.setOption('mode',t)}}}}startSelection(e,t,n,o){null!==this.selection&&this.cancelSelection();const r=!e.selection.isSelected(n);if('hunk'===o){const e=b.findInteractiveDiffRange(t,n);if(!e)return void console.error('unable to find range for given line in diff');const{from:i,to:a}=e;this.selection={isSelected:r,from:i,to:a,kind:o}}else'range'===o?(this.selection={isSelected:r,from:n,to:n,kind:o},document.addEventListener('mousemove',this.onDocumentMouseMove)):T.assertNever(o,`Unknown selection kind ${o}`);document.addEventListener('mouseup',this.onDocumentMouseUp,{once:!0})}cancelSelection(){this.selection&&(document.removeEventListener('mouseup',this.onDocumentMouseUp),document.removeEventListener('mousemove',this.onDocumentMouseMove),this.selection=null,this.updateViewport())}endSelection(){const{onIncludeChanged:e,file:t}=this.props;if(e&&this.selection&&s(t)){const n=t.selection,{isSelected:o}=this.selection,r=p(this.selection.from,this.selection.to),i=c(this.selection.from,this.selection.to);e(n.withRangeSelection(r,i-r+1,o)),this.selection=null}}buildDiscardMenuItems(e,t){if(!P.enableDiscardLines())return null;const n=this.props.file;if(this.props.readOnly||!s(n))return null;if(!(t instanceof MouseEvent))return null;if(!this.props.onDiscardChanges)return null;const o=e.lineAtHeight(t.y),r=b.diffLineForIndex(this.props.diff.hunks,o);if(null===r||!r.isIncludeableLine())return null;const i=b.findInteractiveDiffRange(this.props.diff.hunks,o);return null===i?null:null===i.type?null:a(t.target,'hunk-handle')?[{label:this.getDiscardLabel(i.type,i.to-i.from+1),action:()=>this.onDiscardChanges(n,i.from,i.to)}]:a(t.target,'diff-line-number')?[{label:this.getDiscardLabel(i.type,1),action:()=>this.onDiscardChanges(n,o),enabled:i.type!==b.DiffRangeType.Mixed}]:null}onDiscardChanges(e,t,n=t){if(this.props.onDiscardChanges){const o=e.selection.withSelectNone().withRangeSelection(t,n-t+1,!0);this.props.onDiscardChanges(this.props.diff,o)}}getDiscardLabel(e,t){const n=this.props.askForConfirmationOnDiscardChanges?'\u2026':'';let o='';e===b.DiffRangeType.Additions?o='added':e===b.DiffRangeType.Deletions?o='removed':e===b.DiffRangeType.Mixed?o='modified':T.assertNever(e,`Invalid range type: ${e}`);const r=1<t?'s':'';return`Discard ${o} line${r}${n}`}markIntraLineChanges(e,t){for(const n of t){const o=n.lines.filter((e)=>e.type===f.DiffLineType.Add),r=n.lines.filter((e)=>e.type===f.DiffLineType.Delete);if(o.length===r.length)for(let n=0;n<o.length;n++){const i=o[n],a=r[n];if(i.text.length>D||a.text.length>D)continue;const s=E.relativeChanges(i.content,a.content),d=s.stringARange;if(0<d.length){const n=b.lineNumberForDiffLine(i,t);if(-1<n){const t={line:n,ch:d.location+1},o={line:n,ch:d.location+d.length+1};e.markText(t,o,{className:'cm-diff-add-inner'})}}const l=s.stringBRange;if(0<l.length){const n=b.lineNumberForDiffLine(a,t);if(-1<n){const t={line:n,ch:l.location+1},o={line:n,ch:l.location+l.length+1};e.markText(t,o,{className:'cm-diff-delete-inner'})}}}}}isIncluded(e){const{file:t}=this.props;return i(this.selection,e)?this.selection.isSelected:s(t)&&t.selection.isSelected(e)}getGutterLineClassNameInfo(e,t){const n=t.isIncludeableLine(),o=n&&this.isIncluded(e),r=n&&i(this.hunkHighlightRange,e);return{"diff-line-gutter":!0,"diff-add":t.type===f.DiffLineType.Add,"diff-delete":t.type===f.DiffLineType.Delete,"diff-context":t.type===f.DiffLineType.Context,"diff-hunk":t.type===f.DiffLineType.Hunk,"read-only":this.props.readOnly,"diff-line-selected":o,"diff-line-hover":r,includeable:n&&!this.props.readOnly}}createGutterMarker(e,t){const n=document.createElement('div');n.className='diff-line-gutter',n.addEventListener('mousedown',this.onDiffLineGutterMouseDown);const o=document.createElement('div');o.classList.add('diff-line-number','before'),n.appendChild(o);const r=document.createElement('div');r.classList.add('diff-line-number','after'),n.appendChild(r);const i=document.createElement('div');return i.addEventListener('mouseenter',this.onHunkHandleMouseEnter),i.addEventListener('mouseleave',this.onHunkHandleMouseLeave),i.addEventListener('mousedown',this.onHunkHandleMouseDown),i.classList.add('hunk-handle'),n.appendChild(i),this.updateGutterMarker(n,e,t),n}updateGutterMarker(e,t,n){const o=this.getGutterLineClassNameInfo(t,n);for(const[r,i]of Object.entries(o))i?e.classList.add(r):e.classList.remove(r);!this.props.readOnly&&n.isIncludeableLine()?e.setAttribute('role','button'):e.removeAttribute('role');const r=e.childNodes[0];r.textContent=null===n.oldLineNumber?'':`${n.oldLineNumber}`;const i=e.childNodes[1];i.textContent=null===n.newLineNumber?'':`${n.newLineNumber}`}updateViewport(){if(this.codeMirror){const{from:e,to:t}=this.codeMirror.getViewport();this.onViewportChange(this.codeMirror,e,t)}}componentWillUnmount(){this.cancelSelection(),this.codeMirror=null,document.removeEventListener('find-text',this.onFindText)}componentDidUpdate(e,t,n){null===this.codeMirror||(s(this.props.file)&&(!s(e.file)||this.props.file.selection!==e.file.selection)&&this.props.diff.text===e.diff.text&&this.updateViewport(),null!==n&&this.codeMirror.scrollTo(void 0,n.top))}getSnapshotBeforeUpdate(e){return null!==this.codeMirror&&this.props.file!==e.file&&this.props.file.id===e.file.id&&this.props.diff.text!==e.diff.text?this.codeMirror.getScrollInfo():null}componentDidMount(){this.initDiffSyntaxMode(),document.addEventListener('find-text',this.onFindText)}render(){const e=this.getCodeMirrorDocument(this.props.diff.text,this.getNoNewlineIndicatorLines(this.props.diff.hunks));return u.createElement(C.CodeMirrorHost,{className:'diff-code-mirror',value:e,options:I,isSelectionEnabled:this.isSelectionEnabled,onSwapDoc:this.onSwapDoc,onAfterSwapDoc:this.onAfterSwapDoc,onViewportChange:this.onViewportChange,ref:this.getAndStoreCodeMirrorInstance,onContextMenu:this.onContextMenu,onCopy:this.onCopy})}}t.TextDiff=L},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(1),i=n(13);class a extends o.Component{constructor(){super(...arguments),this.open=()=>{const e=r.join(this.props.repository.path,this.props.path);this.props.onOpenBinaryFile(e)}}render(){return o.createElement('div',{className:'panel binary',id:'diff'},o.createElement('div',{className:'image-header'},'This binary file has changed.'),o.createElement('div',{className:'image-header'},o.createElement(i.LinkButton,{onClick:this.open},'Open file in external program.')))}}t.BinaryFile=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75);class i extends o.Component{render(){return o.createElement('div',{className:'panel image',id:'diff'},o.createElement('div',{className:'image-diff-previous'},o.createElement('div',{className:'image-diff-header'},'Deleted'),o.createElement(r.ImageContainer,{image:this.props.previous})))}}t.DeletedImageDiff=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75);class i extends o.Component{render(){return o.createElement('div',{className:'panel image',id:'diff'},o.createElement('div',{className:'image-diff-current'},o.createElement('div',{className:'image-diff-header'},'Added'),o.createElement(r.ImageContainer,{image:this.props.current})))}}t.NewImageDiff=i},function(e,t){'use strict';function n(e,t){const n=t.height<e.height?e.height/t.height:1,r=t.width<e.width?e.width/t.width:1;let i=o(1,r);return r<n&&(i=o(1,n)),{width:e.width/i,height:e.height/i}}var o=Math.max;Object.defineProperty(t,'__esModule',{value:!0}),t.getAspectFitSize=n,t.getMaxFitSize=function(e,t,r){const i=n(e,r),a=n(t,r),s=o(i.width,a.width),d=o(i.height,a.height);return{width:s,height:d}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75);class i extends o.Component{constructor(e){super(e),this.onValueChange=(t)=>{const e=t.currentTarget.valueAsNumber;this.setState({percentage:e})},this.state={percentage:1}}render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return o.createElement('div',{className:'image-diff-swipe'},o.createElement('div',{className:'sizing-container',ref:this.props.onContainerRef},o.createElement('div',{className:'image-container',style:e},o.createElement('div',{className:'image-diff-current',style:e},o.createElement(r.ImageContainer,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:t})),o.createElement('div',{className:'swiper',style:{width:this.props.maxSize.width*(1-this.state.percentage),height:this.props.maxSize.height}},o.createElement('div',{className:'image-diff-previous',style:e},o.createElement(r.ImageContainer,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:t}))))),o.createElement('input',{style:{width:this.props.maxSize.width+14},className:'slider',type:'range',max:1,min:0,value:this.state.percentage,step:.001,onChange:this.onValueChange}))}}t.Swipe=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75);class i extends o.Component{constructor(e){super(e),this.onValueChange=(t)=>{this.setState({crossfade:t.currentTarget.valueAsNumber})},this.state={crossfade:1}}render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return o.createElement('div',{className:'image-diff-onion-skin'},o.createElement('div',{className:'sizing-container',ref:this.props.onContainerRef},o.createElement('div',{className:'image-container',style:e},o.createElement('div',{className:'image-diff-previous',style:e},o.createElement(r.ImageContainer,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:t})),o.createElement('div',{className:'image-diff-current',style:Object.assign({},e,{opacity:this.state.crossfade})},o.createElement(r.ImageContainer,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:t})))),o.createElement('input',{style:{width:this.props.maxSize.width/2},className:'slider',type:'range',max:1,min:0,value:this.state.crossfade,step:.001,onChange:this.onValueChange}))}}t.OnionSkin=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75);class i extends o.Component{render(){const e={height:this.props.maxSize.height,width:this.props.maxSize.width},t={maxHeight:this.props.maxSize.height,maxWidth:this.props.maxSize.width};return o.createElement('div',{className:'image-diff-difference',ref:this.props.onContainerRef},o.createElement('div',{className:'sizing-container'},o.createElement('div',{className:'image-container',style:e},o.createElement('div',{className:'image-diff-previous'},o.createElement(r.ImageContainer,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad,style:t})),o.createElement('div',{className:'image-diff-current'},o.createElement(r.ImageContainer,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad,style:Object.assign({},t,{mixBlendMode:'difference'})})))))}}t.DifferenceBlend=i},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.formatBytes=(e,t=0)=>{if(!Number.isFinite(e))return'Unknown';const n=Math.floor(Math.log(Math.abs(e))/6.931471805599453),o=1===t&&0<e?'+':'',r=Math.round(e/Math.pow(1024,n));return`${o}${r}${['B','KB','MB','GB','TB','PB'][n]}`}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(75),i=n(545),a=n(5);class s extends o.Component{render(){const e={width:0,height:0},t=this.props.previousImageSize||e,n=this.props.currentImageSize||e,s=((e,t)=>{const n=Math.round(100*(t-e)/e),o=0<n?'+':'';return o+n+'%'})(this.props.previous.bytes,this.props.current.bytes),d=this.props.current.bytes-this.props.previous.bytes;return o.createElement('div',{className:'image-diff-container',ref:this.props.onContainerRef},o.createElement('div',{className:'image-diff-two-up'},o.createElement('div',{className:'image-diff-previous'},o.createElement('div',{className:'image-diff-header'},'Deleted'),o.createElement(r.ImageContainer,{image:this.props.previous,onElementLoad:this.props.onPreviousImageLoad}),o.createElement('div',{className:'image-diff-footer'},o.createElement('span',{className:'strong'},'W:'),' ',t.width,'px | ',o.createElement('span',{className:'strong'},'H:'),' ',t.height,'px | ',o.createElement('span',{className:'strong'},'Size:'),' ',i.formatBytes(this.props.previous.bytes))),o.createElement('div',{className:'image-diff-current'},o.createElement('div',{className:'image-diff-header'},'Added'),o.createElement(r.ImageContainer,{image:this.props.current,onElementLoad:this.props.onCurrentImageLoad}),o.createElement('div',{className:'image-diff-footer'},o.createElement('span',{className:'strong'},'W:'),' ',n.width,'px | ',o.createElement('span',{className:'strong'},'H:'),' ',n.height,'px | ',o.createElement('span',{className:'strong'},'Size:'),' ',i.formatBytes(this.props.current.bytes)))),o.createElement('div',{className:'image-diff-summary'},'Diff:',' ',o.createElement('span',{className:a({added:0<d,removed:0>d})},0==d?'No size difference':`${i.formatBytes(d,1)} (${s})`)))}}t.TwoUp=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(30),i=n(50),a=n(546),s=n(544),d=n(543),l=n(542),c=n(2),p=n(541);class u extends o.Component{constructor(e){super(e),this.container=null,this.resizedTimeoutID=null,this.onPreviousImageLoad=(e)=>{const t={width:e.naturalWidth,height:e.naturalHeight};this.setState({previousImageSize:t})},this.onCurrentImageLoad=(e)=>{const t={width:e.naturalWidth,height:e.naturalHeight};this.setState({currentImageSize:t})},this.onResized=(e,t)=>{this.resizedTimeoutID=null;const n={width:t.width,height:t.height};this.setState({containerSize:n})},this.onContainerRef=(e)=>{this.container=e,this.resizeObserver.disconnect(),e&&this.resizeObserver.observe(e)},this.resizeObserver=new ResizeObserver((e)=>{for(const t of e)t.target===this.container&&(null!==this.resizedTimeoutID&&clearImmediate(this.resizedTimeoutID),this.resizedTimeoutID=setImmediate(this.onResized,t.target,t.contentRect))}),this.state={previousImageSize:null,currentImageSize:null,containerSize:null}}getMaxSize(){const e={width:0,height:0,containerWidth:0},t=this.state.containerSize;if(!t)return e;const{previousImageSize:n,currentImageSize:o}=this.state;if(!n||!o)return e;const r=p.getMaxFitSize(n,o,t);return r}render(){return o.createElement('div',{className:'panel image',id:'diff'},this.renderCurrentDiffType(),o.createElement(i.TabBar,{selectedIndex:this.props.diffType,onTabClicked:this.props.onChangeDiffType,type:i.TabBarType.Switch},o.createElement('span',null,'2-up'),o.createElement('span',null,'Swipe'),o.createElement('span',null,'Onion Skin'),o.createElement('span',null,'Difference')))}renderCurrentDiffType(){const e=this.getMaxSize(),t=this.props.diffType;return t===r.ImageDiffType.TwoUp?o.createElement(a.TwoUp,Object.assign({},this.getCommonProps(e),{previousImageSize:this.state.previousImageSize,currentImageSize:this.state.currentImageSize})):t===r.ImageDiffType.Swipe?o.createElement(l.Swipe,Object.assign({},this.getCommonProps(e))):t===r.ImageDiffType.OnionSkin?o.createElement(d.OnionSkin,Object.assign({},this.getCommonProps(e))):t===r.ImageDiffType.Difference?o.createElement(s.DifferenceBlend,Object.assign({},this.getCommonProps(e))):c.assertNever(t,`Unknown diff type: ${t}`)}getCommonProps(e){return{maxSize:e,previous:this.props.previous,current:this.props.current,onPreviousImageLoad:this.onPreviousImageLoad,onCurrentImageLoad:this.onCurrentImageLoad,onContainerRef:this.onContainerRef}}}t.ModifiedImageDiff=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(547);t.ModifiedImageDiff=o.ModifiedImageDiff;var r=n(540);t.NewImageDiff=r.NewImageDiff;var i=n(539);t.DeletedImageDiff=i.DeletedImageDiff},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(2),i=n(34),a=n(23),s=n(30),d=n(12),l=n(548),c=n(538),p=n(537),u=i.encodePathAsUrl(__dirname,'static/ufo-alert.svg');class m extends o.Component{constructor(e){super(e),this.showLargeDiff=()=>{this.setState({forceShowLargeDiff:!0})},this.state={forceShowLargeDiff:!1}}render(){const e=this.props.diff;switch(e.kind){case s.DiffType.Text:return this.renderText(e);case s.DiffType.Binary:return this.renderBinaryFile();case s.DiffType.Image:return this.renderImage(e);case s.DiffType.LargeText:return this.state.forceShowLargeDiff?this.renderLargeText(e):this.renderLargeTextDiff();case s.DiffType.Unrenderable:return this.renderUnrenderableDiff();default:return r.assertNever(e,`Unsupported diff type: ${e}`);}}renderImage(e){return e.current&&e.previous?o.createElement(l.ModifiedImageDiff,{onChangeDiffType:this.props.onChangeImageDiffType,diffType:this.props.imageDiffType,current:e.current,previous:e.previous}):e.current&&(this.props.file.status.kind===a.AppFileStatusKind.New||this.props.file.status.kind===a.AppFileStatusKind.Untracked)?o.createElement(l.NewImageDiff,{current:e.current}):e.previous&&this.props.file.status.kind===a.AppFileStatusKind.Deleted?o.createElement(l.DeletedImageDiff,{previous:e.previous}):null}renderLargeTextDiff(){return o.createElement('div',{className:'panel empty large-diff'},o.createElement('img',{src:u,className:'blankslate-image'}),o.createElement('p',null,'The diff is too large to be displayed by default.',o.createElement('br',null),'You can try to show it anyway, but performance may be negatively impacted.'),o.createElement(d.Button,{onClick:this.showLargeDiff},'Show diff'))}renderUnrenderableDiff(){return o.createElement('div',{className:'panel empty large-diff'},o.createElement('img',{src:u}),o.createElement('p',null,'The diff is too large to be displayed.'))}renderLargeText(e){const t={text:e.text,hunks:e.hunks,kind:s.DiffType.Text,lineEndingsChange:e.lineEndingsChange};return this.renderTextDiff(t)}renderText(e){return 0===e.hunks.length?this.props.file.status.kind===a.AppFileStatusKind.New||this.props.file.status.kind===a.AppFileStatusKind.Untracked?o.createElement('div',{className:'panel empty'},'The file is empty'):this.props.file.status.kind===a.AppFileStatusKind.Renamed?o.createElement('div',{className:'panel renamed'},'The file was renamed but not changed'):a.isConflictedFileStatus(this.props.file.status)&&a.isManualConflict(this.props.file.status)?o.createElement('div',{className:'panel empty'},'The file is in conflict and must be resolved via the command line.'):this.props.hideWhitespaceInDiff?o.createElement('div',{className:'panel empty'},'Only whitespace changes found'):o.createElement('div',{className:'panel empty'},'No content changes found'):this.renderTextDiff(e)}renderBinaryFile(){return o.createElement(c.BinaryFile,{path:this.props.file.path,repository:this.props.repository,onOpenBinaryFile:this.props.onOpenBinaryFile})}renderTextDiff(e){return o.createElement(p.TextDiff,{repository:this.props.repository,file:this.props.file,readOnly:this.props.readOnly,onIncludeChanged:this.props.onIncludeChanged,onDiscardChanges:this.props.onDiscardChanges,diff:e,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges})}}t.Diff=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(148),i=n(30),a=n(4),s=n(38);class d extends o.Component{render(){const e=this.props.status,t=s.mapStatus(e);return o.createElement('div',{className:'header'},o.createElement(r.PathLabel,{path:this.props.path,status:this.props.status}),this.renderDecorator(),o.createElement(a.Octicon,{symbol:a.iconForStatus(e),className:'status status-'+t.toLowerCase(),title:t}))}renderDecorator(){const e=this.props.diff;if(null===e)return null;if(e.kind===i.DiffType.Text&&e.lineEndingsChange){const t=`Warning: line endings will be changed from '${e.lineEndingsChange.from}' to '${e.lineEndingsChange.to}'.`;return o.createElement(a.Octicon,{symbol:a.OcticonSymbol.alert,className:'line-endings',title:t})}return null}}t.ChangedFileDetails=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(550),i=n(146),a=n(24);class s extends o.Component{constructor(){super(...arguments),this.onDiffLineIncludeChanged=(e)=>{const t=this.props.file;this.props.dispatcher.changeFileLineSelection(this.props.repository,t,e)},this.onDiscardChanges=(e,t)=>{this.props.askForConfirmationOnDiscardChanges?this.props.dispatcher.showPopup({type:a.PopupType.ConfirmDiscardSelection,repository:this.props.repository,file:this.props.file,diff:e,selection:t}):this.props.dispatcher.discardChangesFromSelection(this.props.repository,this.props.file.path,e,t)}}render(){const e=this.props.diff,t=this.props.file,n=this.props.isCommitting;return o.createElement('div',{className:'changed-file'},o.createElement(r.ChangedFileDetails,{path:t.path,status:t.status,diff:e}),o.createElement(i.SeamlessDiffSwitcher,{repository:this.props.repository,imageDiffType:this.props.imageDiffType,file:t,readOnly:n,onIncludeChanged:this.onDiffLineIncludeChanged,onDiscardChanges:this.onDiscardChanges,diff:e,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onOpenBinaryFile:this.props.onOpenBinaryFile,onChangeImageDiffType:this.props.onChangeImageDiffType}))}}t.Changes=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(30),r=n(19),i=n(1);t.getLargeFilePaths=async function(e,t,n){const a=[],s=t.files,d=s.filter((e)=>e.selection.getSelectionType()!==o.DiffSelectionType.None);for(const o of d){const t=i.join(e.path,o.path);try{const e=await r.stat(t),i=e.size;i>1e6*n&&a.push(o.path)}catch(e){log.debug(`Unable to get the file size for ${t}`,e)}}return a}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(91),i=n(116),a=n(12);class s extends o.Component{render(){const e=this.props.isPushPullFetchInProgress||this.props.isCommitting,t=e?'Undo is disabled while the repository is being updated':void 0,n=this.props.commit.author.date;return o.createElement('div',{id:'undo-commit',role:'group',"aria-label":'Undo commit'},o.createElement('div',{className:'commit-info'},o.createElement('div',{className:'ago'},'Committed ',o.createElement(i.RelativeTime,{date:n})),o.createElement(r.RichText,{emoji:this.props.emoji,className:'summary',text:this.props.commit.summary,renderUrlsAsLinks:!1})),o.createElement('div',{className:'actions',title:t},o.createElement(a.Button,{size:'small',disabled:e,onClick:this.props.onUndo},'Undo')))}}t.UndoCommit=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(12),i=n(51),a=n(38);class s extends o.Component{constructor(){super(...arguments),this.onSubmit=async()=>{const{rebaseConflictState:e}=this.props;await this.props.dispatcher.continueRebase(this.props.repository,this.props.workingDirectory,e)}}render(){const{manualResolutions:e}=this.props.rebaseConflictState;let t=!0,n='Continue rebase';const s=a.getConflictedFiles(this.props.workingDirectory,e).length;0<s&&(n='Resolve all conflicts before continuing',t=!1);const d=t&&!this.props.isCommitting,l=this.props.isCommitting?o.createElement(i.Loading,null):void 0,c=this.props.hasUntrackedChanges?o.createElement('div',{className:'warning-untracked-files'},'Untracked files will be excluded'):void 0;return o.createElement('div',{id:'continue-rebase'},o.createElement(r.Button,{type:'submit',className:'commit-button',onClick:this.onSubmit,disabled:!d,tooltip:n},l,o.createElement('span',null,l===void 0?'Continue rebase':'Rebasing')),c)}}t.ContinueRebase=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(148),i=n(4),a=n(36),s=n(38);class d extends o.Component{constructor(){super(...arguments),this.handleCheckboxChange=(e)=>{const t=e.currentTarget.checked;this.props.onIncludeChanged(this.props.file.path,t)},this.onContextMenu=(e)=>{this.props.onContextMenu(this.props.file,e)}}get checkboxValue(){return!0===this.props.include?a.CheckboxValue.On:!1===this.props.include?a.CheckboxValue.Off:a.CheckboxValue.Mixed}render(){const{status:e,path:t}=this.props.file,n=s.mapStatus(e),d=this.props.availableWidth-20-20-5-16;return o.createElement('div',{className:'file',onContextMenu:this.onContextMenu},o.createElement(a.Checkbox,{tabIndex:-1,value:this.checkboxValue,onChange:this.handleCheckboxChange,disabled:this.props.disableSelection}),o.createElement(r.PathLabel,{path:t,status:e,availableWidth:d}),o.createElement(i.Octicon,{symbol:i.iconForStatus(e),className:'status status-'+n.toLowerCase(),title:n}))}}t.ChangedFile=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(4);t.PermissionsCommitWarning=(e)=>o.createElement('div',{id:'permissions-commit-warning',onContextMenu:i},o.createElement('div',{className:'warning-icon-container'},o.createElement(r.Octicon,{className:'warning-icon',symbol:r.OcticonSymbol.alert})),o.createElement('div',{className:'warning-message'},e.children));const i=(e)=>{e.preventDefault()}},function(e,t,n){'use strict';function o(e,t){return e.posFromIndex(e.indexFromPos(t)-1)}function r(e,t){return e.posFromIndex(e.indexFromPos(t)+1)}function i(e,t){const n=e.findMarksAt(t),o=e.indexFromPos(t);return n.some((t)=>{const n=t.find();if(!n)return!1;const r=e.indexFromPos(n.from),i=e.indexFromPos(n.to);return o>r&&o<i})}function a(e,t){const n=e.getLine(t.line);return!!/\s/.test(n.charAt(t.ch))||i(e,t)}function s(e,t){return e.line===t.line&&e.ch===t.ch}function d(e,t,n,o){let r=t;for(let i=o(e,t);n(e,i)&&!s(r,i);i=o(e,i))r=i;return r}function l(e,t,n,o){return d(e,t,(e,t)=>!n(e,t),o)}function c(e,t,n){const o=e.getDoc(),r=o.posFromIndex(Infinity);o.replaceRange(t,r);const i=o.posFromIndex(Infinity);return o.markText(r,i,n)}function p(e,t){const n=e.find(),o=t.find();return void 0===n||void 0===o?_.compare(n,o):_.compare(n.from,o.from)}function u(e,t,n){const o=n.username,r=document.createElement('div');r.classList.add('user','unknown');const i=document.createElement('span');i.className='username',i.innerText=o,r.appendChild(i);const a=document.createElement('span');a.className='description',a.innerText=`Search for user`,r.appendChild(a),e.appendChild(r)}function m(e,t,n){const o=n.author,r=document.createElement('div');if(r.className='user',o.username){const e=document.createElement('span');e.className='username',e.innerText=o.username,r.appendChild(e)}const i=document.createElement('span');i.className='name',i.innerText=o.name,r.appendChild(i),e.appendChild(r)}function h(e){if(e.email&&0<e.email.length)return e.email;const t=w.parse(e.endpoint),n=t.hostname&&T.getDotComAPIEndpoint()!==e.endpoint?t.hostname:'github.com';return`${e.username}@users.noreply.${n}`}function f(e){return null===e.username?e.name:`@${e.username}`}function g(e){const t=document.createElement('span');return t.classList.add('handle'),t.title=`${e.name} <${e.email}>`,t.innerText=f(e),t}function y(e,t){const n=document.createElement('span');n.classList.add('handle',t?'error':'progress'),n.title=t?`Could not find user with username ${e}`:`Searching for @${e}`;const o=t?x.OcticonSymbol.stop:x.OcticonSymbol.sync,r=document.createElementNS('http://www.w3.org/2000/svg','svg');r.classList.add('icon'),t||r.classList.add('spin');const i=document.createElementNS('http://www.w3.org/2000/svg','path');return r.viewBox.baseVal.width=o.w,r.viewBox.baseVal.height=o.h,i.setAttribute('d',o.d),r.appendChild(i),n.appendChild(document.createTextNode(`@${e}`)),n.appendChild(r),n}function S(e,t,n,o){const r=g(o);return e.markText(t,n,{atomic:!0,className:'handle',readOnly:!1,replacedWith:r,handleMouseEvents:!0})}function C(e){const t=e.getDoc();if(!t.somethingSelected()){const n=t.getCursor(),r=l(t,n,a,o);s(n,r)||e.showHint()}}function b(e){return{name:e.name||e.username,email:h(e),username:e.username}}Object.defineProperty(t,'__esModule',{value:!0});const v=n(0),E=n(44),w=n(42),k=n(5),T=n(10),_=n(47),R=n(69),x=n(4),P=n(27);class D extends v.Component{constructor(e){super(e),this.editor=null,this.resizeDebounceId=null,this.lastKnownWidth=null,this.hintActive=!1,this.label=null,this.placeholder=null,this.authors=[],this.markAuthorMap=new Map,this.authorMarkMap=new Map,this.onResized=()=>{this.resizeDebounceId=null,this.editor&&this.editor.refresh()},this.onContainerRef=(e)=>{e?(this.editor=this.initializeCodeMirror(e),this.resizeObserver.observe(e)):(this.editor=null,this.resizeObserver.disconnect())},this.applyCompletion=(e,t,n)=>{const o=n.from||t.from,r=n.to||t.to,i=n.author;this.insertAuthor(e,i,o,r),this.updateAuthors(e)},this.applyUnknownUserCompletion=(e,t,n)=>{const o=n.from||t.from,r=n.to||t.to,i=n.username,a=`@${i}`,s=e.getDoc();s.replaceRange(a,o,r,'complete');const d=s.posFromIndex(s.indexFromPos(o)+a.length),l=s.markText(o,d,{atomic:!0,className:'handle progress',readOnly:!1,replacedWith:y(i,!1),handleMouseEvents:!0});return this.props.autoCompleteProvider.exactMatch(i).then((t)=>{e.operation(()=>{const n=l.find();if(n)return l.clear(),t?void this.insertAuthor(e,b(t),n.from,n.to):void s.markText(n.from,n.to,{atomic:!0,className:'handle error',readOnly:!1,replacedWith:y(i,!0),handleMouseEvents:!0})})})},this.onAutocompleteUser=async(e)=>{const t=e.getDoc(),n=t.getCursor(),i=l(t,n,a,o),s=l(t,n,a,r),d=t.getRange(i,s),c=d.replace(/^@/,''),p=await this.props.autoCompleteProvider.getAutocompletionItems(c),h=p.some((e)=>e.username.toLowerCase()===c.toLowerCase()),g=new Set(this.authors.map((e)=>e.username)),y=p.map(b).filter((e)=>null===e.username||!g.has(e.username)).map((e)=>({author:e,text:f(e),render:m,className:'autocompletion-item',hint:this.applyCompletion}));return!h&&0<c.length&&y.push({text:`@${c}`,username:c,render:u,className:'autocompletion-item',hint:this.applyUnknownUserCompletion}),{list:y,from:i,to:s}},this.resizeObserver=new ResizeObserver((e)=>{if(1===e.length&&this.editor){const t=e[0].contentRect.width;if(!this.lastKnownWidth)return void(this.lastKnownWidth=t);this.lastKnownWidth!==t&&(this.lastKnownWidth=t,null!==this.resizeDebounceId&&(cancelAnimationFrame(this.resizeDebounceId),this.resizeDebounceId=null),this.resizeDebounceId=requestAnimationFrame(this.onResized))}}),this.state={}}componentWillUnmount(){if(this.editor){const e=this.editor.state;e.completionActive&&e.completionActive.close&&e.completionActive.close()}}componentWillReceiveProps(e){const t=this.editor;t&&(e.authors!==this.props.authors&&!R.arrayEquals(this.authors,e.authors)&&t.operation(()=>{this.reset(t,e.authors)}),e.disabled!==this.props.disabled&&t.setOption('readOnly',!!e.disabled&&'nocursor'))}insertAuthor(e,t,n,o){const r=f(t),i=e.getDoc();i.replaceRange(r,n,o,'complete');const a=i.posFromIndex(i.indexFromPos(n)+r.length),s=S(i,n,a,t);return this.markAuthorMap.set(s,t),this.authorMarkMap.set(t,s),s}appendAuthor(e,t){const n=e.getDoc();return this.insertAuthor(e,t,n.posFromIndex(Infinity))}updatePlaceholderVisibility(e){if(this.label&&this.placeholder){const t=this.label.find(),n=this.placeholder.find();if(!t||!n)return;const o=e.getDoc(),r=o.indexFromPos(t.to)!==o.indexFromPos(n.from);this.placeholder.collapsed!==r&&(this.placeholder.collapsed=r,this.placeholder.changed())}}getAllHandleMarks(e){return e.getDoc().getAllMarks()}initializeCodeMirror(e){const t={mode:null,lineWrapping:!0,extraKeys:{Tab:!1,Enter:!1,"Shift-Tab":!1,"Ctrl-Space":'autocomplete',"Ctrl-Enter":!1,"Cmd-Enter":!1,['Ctrl-F']:!1,['Ctrl-G']:!1,['Shift-Ctrl-G']:!1,['Shift-Ctrl-F']:!1,['Shift-Ctrl-R']:!1},readOnly:!!this.props.disabled&&'nocursor',hintOptions:{completeOnSingleClick:!0,completeSingle:!1,closeOnUnfocus:!0,closeCharacters:/\s/,hint:this.onAutocompleteUser}},n=E(e,t);n.operation(()=>{this.reset(n,this.props.authors)}),n.on('startCompletion',()=>{this.hintActive=!0}),n.on('endCompletion',()=>{this.hintActive=!1}),n.on('change',()=>{this.updatePlaceholderVisibility(n),this.hintActive||C(n)}),n.on('focus',()=>{this.hintActive||C(n)}),n.on('changes',()=>{this.updateAuthors(n)});const o=n.getWrapperElement();return o.addEventListener('keypress',(t)=>{t.defaultPrevented||'Enter'!==t.key||t.preventDefault()}),o.addEventListener('contextmenu',(t)=>{this.onContextMenu(n,t)}),n}onContextMenu(t,n){n.preventDefault();const e=[{label:'Undo',action:()=>t.getDoc().undo()},{label:'Redo',action:()=>t.getDoc().redo()},{type:'separator'},{role:'cut'},{role:'copy'},{role:'paste'}];e.push({type:'separator'}),e.push({label:'Select all',action:()=>{t.execCommand('selectAll')}}),P.showContextualMenu(e)}updateAuthors(e){const t=this.getAllHandleMarks(e).sort(p),n=[];for(const o of t){const e=this.markAuthorMap.get(o);e&&n.push(e)}R.arrayEquals(this.authors,n)||(this.authors=n,this.props.onAuthorsUpdated(n))}reset(e,t){const n=e.getDoc();e.setValue(''),n.clearHistory(),this.authors=[],this.authorMarkMap.clear(),this.markAuthorMap.clear(),this.label=c(e,'Co-Authors ',{atomic:!0,inclusiveLeft:!0,className:'label',readOnly:!0});for(const n of t)this.appendAuthor(e,n);this.authors=this.props.authors,this.placeholder=c(e,'@username',{atomic:!0,inclusiveRight:!0,className:'placeholder',readOnly:!0,collapsed:0<t.length}),n.setCursor(this.placeholder.find().from)}render(){const e=k('author-input-component',this.props.className,{disabled:this.props.disabled});return v.createElement('div',{className:e,ref:this.onContainerRef})}}t.AuthorInput=D},function(e,t,n){'use strict';async function o(e){let t=null;try{const n=await fetch(e,d);if(n.ok){const e=n.headers.get('Content-Type');if(e&&e.startsWith('text/html'));else{const e=await n.blob();t=URL.createObjectURL(e)}}}catch(e){}return a.set(e,t),t}async function r(e,t){const n=a.get(e);if(n)return n;if(void 0===n){const t=await o(e);if(t)return t}const r=i.generateGravatarUrl(t),s=a.get(r);if(s)return s;if(void 0===s){const e=await o(r);if(e)return e}return null}Object.defineProperty(t,'__esModule',{value:!0});const i=n(105),a=new Map,s=new Headers,d={method:'GET',headers:s,mode:'cors',cache:'default'};t.lookupAvatar=r,t.fetchAvatarUrl=async function(e,t){if(!t)return e;const n=await r(t.avatarURL,t.email);return n||e}},function(e,t,n){'use strict';function o(e){return{username:e.login,name:e.name,email:e.email,endpoint:e.endpoint}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0);t.UserAutocompletionProvider=class{constructor(e,t,n){this.kind='user',this.gitHubUserStore=e,this.repository=t,this.account=n||null}getRegExp(){return /(?:^|\n| )(?:@)([a-z\d\\+-][a-z\d_-]*)?/g}async getAutocompletionItems(e){const t=await this.gitHubUserStore.getMentionableUsersMatching(this.repository,e),n=this.account,r=n?t.filter((e)=>e.login!==n.login):t;return r.map(o)}renderItem(e){return r.createElement('div',{className:'user',key:e.username},r.createElement('span',{className:'username'},e.username),r.createElement('span',{className:'name'},e.name))}getCompletionText(e){return`@${e.username}`}async exactMatch(e){if(null===this.account)return null;const t=await this.gitHubUserStore.getByLogin(this.account,e);return t?o(t):null}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(150);t.IssuesAutocompletionProvider=class{constructor(e,t,n){this.kind='issue',this.updateIssuesScheduler=new r.ThrottledScheduler(60000),this.issuesStore=e,this.repository=t,this.dispatcher=n}getRegExp(){return /(?:^|\n| )(?:#)([a-z\d\\+-][a-z\d_]*)?/g}getAutocompletionItems(e){return this.updateIssuesScheduler.queue(()=>{this.dispatcher.refreshIssues(this.repository)}),this.issuesStore.getIssuesMatching(this.repository,e)}renderItem(e){return o.createElement('div',{className:'issue',key:e.number},o.createElement('span',{className:'number'},'#',e.number),o.createElement('span',{className:'title'},e.title))}getCompletionText(e){return`#${e.number}`}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(47);t.EmojiAutocompletionProvider=class{constructor(e){this.kind='emoji',this.emoji=e}getRegExp(){return /(?:^|\n| )(?::)([a-z\d\\+-][a-z\d_]*)?/g}async getAutocompletionItems(e){if(!e)return Array.from(this.emoji.keys()).map((e)=>({emoji:e,matchStart:0,matchLength:0}));const t=[],n=e.toLowerCase();for(const o of this.emoji.keys()){const e=o.indexOf(n);-1!==e&&t.push({emoji:o,matchStart:e,matchLength:n.length})}return t.sort((e,t)=>r.compare(e.matchStart,t.matchStart)||r.compare(e.emoji.length,t.emoji.length)||r.compare(e.emoji,t.emoji))}renderItem(e){const t=e.emoji;return o.createElement('div',{className:'emoji',key:t},o.createElement('img',{className:'icon',src:this.emoji.get(t)}),this.renderHighlightedTitle(e))}renderHighlightedTitle(e){const t=e.emoji;return e.matchLength?o.createElement('div',{className:'title'},t.substr(0,e.matchStart),o.createElement('mark',null,t.substr(e.matchStart,e.matchLength)),t.substr(e.matchStart+e.matchLength)):o.createElement('div',{className:'title'},t)}getCompletionText(e){return e.emoji}}},function(e){(function(){function t(e,t,i){if(!o)throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');var a=i&&i.debug||!1;if(a){var s=document.querySelector('#input-textarea-caret-position-mirror-div');s&&s.parentNode.removeChild(s)}var d=document.createElement('div');d.id='input-textarea-caret-position-mirror-div',document.body.appendChild(d);var l=d.style,c=window.getComputedStyle?getComputedStyle(e):e.currentStyle;l.whiteSpace='pre-wrap','INPUT'!==e.nodeName&&(l.wordWrap='break-word'),l.position='absolute',a||(l.visibility='hidden'),n.forEach(function(e){l[e]=c[e]}),r?e.scrollHeight>parseInt(c.height)&&(l.overflowY='scroll'):l.overflow='hidden',d.textContent=e.value.substring(0,t),'INPUT'===e.nodeName&&(d.textContent=d.textContent.replace(/\s/g,'\xA0'));var p=document.createElement('span');p.textContent=e.value.substring(t)||'.',d.appendChild(p);var u={top:p.offsetTop+parseInt(c.borderTopWidth),left:p.offsetLeft+parseInt(c.borderLeftWidth)};return a?p.style.backgroundColor='#aaa':document.body.removeChild(d),u}var n=['direction','boxSizing','width','height','overflowX','overflowY','borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth','borderStyle','paddingTop','paddingRight','paddingBottom','paddingLeft','fontStyle','fontVariant','fontWeight','fontStretch','fontSize','fontSizeAdjust','lineHeight','fontFamily','textAlign','textTransform','textIndent','textDecoration','letterSpacing','wordSpacing','tabSize','MozTabSize'],o='undefined'!=typeof window,r=o&&null!=window.mozInnerScreenX;'undefined'!=typeof e&&'undefined'!=typeof e.exports?e.exports=t:o&&(window.getCaretCoordinates=t)})()},function(e,t,n){'use strict';var o=Math.min;Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(77),a=n(2),s=n(5),d=n(562),l=n(27),c=29,p=20,u=100;class m extends r.Component{constructor(e){super(e),this.element=null,this.autocompletionRequestID=0,this.renderItem=(e)=>{const t=this.state.autocompletionState;if(!t)return null;const n=t.items[e],o=n===t.selectedItem?'selected':'';return r.createElement('div',{className:`autocompletion-item ${o}`},t.provider.renderItem(n))},this.onRowMouseDown=(e)=>{const t=this.state.autocompletionState;if(t){const n=t.items[e];n&&this.insertCompletion(n,'mouseclick')}},this.onSelectedRowChanged=(e)=>{const t=this.state.autocompletionState;if(t){const n=t.items[e],o=Object.assign({},t,{selectedItem:n});this.setState({autocompletionState:o})}},this.insertCompletionOnClick=(e)=>{const t=this.state.autocompletionState;if(t){const n=t.items;if(n.length){const t=n[e];this.insertCompletion(t,'mouseclick')}}},this.onContextMenu=(e)=>{this.props.onContextMenu?this.props.onContextMenu(e):(e.preventDefault(),l.showContextualMenu([{role:'editMenu'}]))},this.onBlur=()=>{this.close()},this.onRef=(e)=>{this.element=e,this.props.onElementRef&&this.props.onElementRef(e)},this.onKeyDown=(e)=>{if(this.props.onKeyDown&&this.props.onKeyDown(e),!e.defaultPrevented){const t=this.state.autocompletionState;if(t&&t.items.length){const n=t.selectedItem?t.items.indexOf(t.selectedItem):-1,o=this.getMovementDirection(e);if(o){e.preventDefault();const r=t.items.length,a=i.findNextSelectableRow(r,{direction:o,row:n});if(null!==a){const e=t.items[a],n=Object.assign({},t,{selectedItem:e});this.setState({autocompletionState:n})}}else if('Enter'===e.key||'Tab'===e.key){const n=t.selectedItem;n&&(e.preventDefault(),this.insertCompletion(n,'keyboard'))}else'Escape'===e.key&&this.close()}}},this.onChange=async(e)=>{const t=e.currentTarget.value;this.props.onValueChanged&&this.props.onValueChanged(t);const n=this.element;if(null!==n){const e=n.selectionStart;if(null!==e){const n=++this.autocompletionRequestID,o=await this.attemptAutocompletion(t,e);n!==this.autocompletionRequestID||this.setState({autocompletionState:o})}}},this.state={autocompletionState:null}}renderAutocompletions(){const e=this.state.autocompletionState;if(!e)return null;const t=e.items;if(!t.length)return null;const n=this.element;let a=d(n,e.range.start);a=Object.assign({},a,{top:a.top-n.scrollTop,left:a.left-n.scrollLeft});const l=a.left,m=a.top+p,h=e.selectedItem?t.indexOf(e.selectedItem):-1,f=n.getBoundingClientRect(),g=f.top+a.top;let y;if(null!==n.ownerDocument&&null!==n.ownerDocument.defaultView){const e=n.ownerDocument.defaultView.innerHeight;y=o(u,e-g-p)}else y=u;const S=c*t.length,C=o(S,y),b=e.rangeText,v=s('autocompletion-popup',e.provider.kind);return r.createElement('div',{className:v,style:{top:m,left:l,height:C}},r.createElement(i.List,{rowCount:t.length,rowHeight:c,selectedRows:[h],rowRenderer:this.renderItem,scrollToRow:h,selectOnHover:!0,focusOnHover:!1,onRowMouseDown:this.onRowMouseDown,onRowClick:this.insertCompletionOnClick,onSelectedRowChanged:this.onSelectedRowChanged,invalidationProps:b}))}renderTextInput(){const e={type:'text',placeholder:this.props.placeholder,value:this.props.value,ref:this.onRef,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onContextMenu:this.onContextMenu,disabled:this.props.disabled,"aria-required":!!this.props.isRequired};return r.createElement(this.getElementTagName(),e)}focus(){this.element&&this.element.focus()}render(){const e=this.getElementTagName(),t=s('autocompletion-container',this.props.className,{"text-box-component":'input'===e,"text-area-component":'textarea'===e});return r.createElement('div',{className:t},this.renderAutocompletions(),this.renderTextInput())}setCursorPosition(e){return null==this.element?void log.warn('Unable to set cursor position when element is null'):void(this.element.selectionStart=e,this.element.selectionEnd=e)}insertCompletion(e,t){const n=this.element,o=this.state.autocompletionState,r=n.value,i=o.range,a=o.provider.getCompletionText(e),s=r.substr(0,i.start-1)+a+' ',d=s+r.substr(i.start+i.length);n.value=d,this.props.onValueChanged&&this.props.onValueChanged(d);const l=s.length;'mouseclick'===t?window.setTimeout(()=>{n.focus(),this.setCursorPosition(l)},0):this.setCursorPosition(l),this.close()}getMovementDirection(e){switch(e.key){case'ArrowUp':return'up';case'ArrowDown':return'down';}return null}close(){this.setState({autocompletionState:null})}async attemptAutocompletion(e,t){for(const n of this.props.autocompletionProviders){const o=new RegExp(n.getRegExp());if(!o.global){a.fatalError(`The regex (${o}) returned from ${n} isn't global, but it should be!`);continue}for(let r=null;r=o.exec(e);){const e=o.lastIndex,i=r[1]||'';if(e===t){const t={start:e-i.length,length:i.length},o=await n.getAutocompletionItems(i),r=o[0];return{provider:n,items:o,range:t,selectedItem:r,rangeText:i}}}}return null}}t.AutocompletingTextInput=m},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(563);class r extends o.AutocompletingTextInput{getElementTagName(){return'textarea'}}t.AutocompletingTextArea=r;class i extends o.AutocompletingTextInput{getElementTagName(){return'input'}}t.AutocompletingInput=i},function(e,t,n){'use strict';function o(e){for(const t of e)if(t instanceof a.UserAutocompletionProvider)return t;return null}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(5),a=n(218),s=n(26),d=n(12),l=n(149),c=n(51),p=n(105),u=n(557),m=n(152),h=n(27),f=n(4),g=n(76),y=n(556),S=n(13),C=n(28),b=new f.OcticonSymbol(12,7,'M9.875 2.125H12v1.75H9.875V6h-1.75V3.875H6v-1.75h2.125V0h1.75v2.125zM6 6.5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5V6c0-1.316 2-2 2-2s.114-.204 0-.5c-.42-.31-.472-.795-.5-2C1.587.293 2.434 0 3 0s1.413.293 1.5 1.5c-.028 1.205-.08 1.69-.5 2-.114.295 0 .5 0 .5s2 .684 2 2v.5z');class v extends r.Component{constructor(e){super(e),this.descriptionComponent=null,this.summaryTextInput=null,this.descriptionTextArea=null,this.descriptionTextAreaScrollDebounceId=null,this.onSummaryChanged=(e)=>{this.setState({summary:e})},this.onDescriptionChanged=(e)=>{this.setState({description:e})},this.onSubmit=()=>{this.createCommit()},this.onKeyDown=(e)=>{if(!e.defaultPrevented){const t=e.ctrlKey;t&&'Enter'===e.key&&this.canCommit()&&(this.createCommit(),e.preventDefault())}},this.onCoAuthorsUpdated=(e)=>{this.props.dispatcher.setCoAuthors(this.props.repository,e)},this.onToggleCoAuthors=()=>{this.props.dispatcher.setShowCoAuthoredBy(this.props.repository,!this.props.showCoAuthoredBy)},this.onContextMenu=(e)=>{if(!e.defaultPrevented){e.preventDefault();const t=[this.getAddRemoveCoAuthorsMenuItem()];h.showContextualMenu(t)}},this.onAutocompletingInputContextMenu=(e)=>{e.preventDefault();const t=[this.getAddRemoveCoAuthorsMenuItem(),{type:'separator'},{role:'editMenu'}];h.showContextualMenu(t)},this.onCoAuthorToggleButtonClick=(t)=>{t.preventDefault(),this.onToggleCoAuthors()},this.onDescriptionFieldRef=(e)=>{this.descriptionComponent=e},this.onDescriptionTextAreaScroll=()=>{this.descriptionTextAreaScrollDebounceId=null;const e=this.descriptionTextArea,t=null!==e&&e.scrollTop+e.offsetHeight<e.scrollHeight;this.state.descriptionObscured!==t&&this.setState({descriptionObscured:t})},this.onDescriptionTextAreaRef=(e)=>{if(e){const t=()=>{null!==this.descriptionTextAreaScrollDebounceId&&(cancelAnimationFrame(this.descriptionTextAreaScrollDebounceId),this.descriptionTextAreaScrollDebounceId=null),this.descriptionTextAreaScrollDebounceId=requestAnimationFrame(this.onDescriptionTextAreaScroll)};e.addEventListener('input',t),e.addEventListener('scroll',t)}this.descriptionTextArea=e},this.onSummaryInputRef=(e)=>{this.summaryTextInput=e},this.onFocusContainerClick=()=>{this.descriptionComponent&&this.descriptionComponent.focus()},this.renderPermissionsCommitWarning=(e)=>{const{showBranchProtected:t,showNoWriteAccess:n,repository:o}=this.props;return n?r.createElement(y.PermissionsCommitWarning,null,'You don\'t have write access to ',r.createElement('strong',null,o.name),'. Want to',' ',r.createElement(S.LinkButton,{onClick:this.onMakeFork},'create a fork'),'?'):t?r.createElement(y.PermissionsCommitWarning,null,r.createElement('strong',null,e),' is a protected branch. Want to',' ',r.createElement(S.LinkButton,{onClick:this.onSwitchBranch},'switch branches'),'?'):null},this.onSwitchBranch=()=>{this.props.dispatcher.showFoldout({type:C.FoldoutType.Branch})},this.onMakeFork=()=>{s.isRepositoryWithGitHubRepository(this.props.repository)&&this.props.dispatcher.showCreateForkDialog(this.props.repository)};const{commitMessage:t}=this.props;this.state={summary:t?t.summary:'',description:t?t.description:null,userAutocompletionProvider:o(e.autocompletionProviders),descriptionObscured:!1}}componentWillUnmount(){this.props.dispatcher.setCommitMessage(this.props.repository,{summary:this.state.summary,description:this.state.description})}componentWillReceiveProps(e){const{commitMessage:t}=e;t&&t!==this.props.commitMessage&&(''!==this.state.summary||this.state.description||this.setState({summary:t.summary,description:t.description}))}componentDidUpdate(e){this.props.autocompletionProviders!==e.autocompletionProviders&&this.setState({userAutocompletionProvider:o(this.props.autocompletionProviders)}),this.props.focusCommitMessage&&this.focusSummary()}clearCommitMessage(){this.setState({summary:'',description:null})}focusSummary(){null!==this.summaryTextInput&&(this.summaryTextInput.focus(),this.props.dispatcher.setCommitMessageFocus(!1))}getCoAuthorTrailers(){return this.isCoAuthorInputEnabled?this.props.coAuthors.map((e)=>({token:'Co-Authored-By',value:`${e.name} <${e.email}>`})):[]}async createCommit(){const{summary:e,description:t}=this.state;if(this.canCommit()){const n=this.getCoAuthorTrailers(),o=this.props.prepopulateCommitSummary&&!this.state.summary?this.props.placeholder:e,r=g.startTimer('create commit',this.props.repository),i=await this.props.onCreateCommit({summary:o,description:t,trailers:n});r.done(),i&&this.clearCommitMessage()}}canCommit(){return this.props.anyFilesSelected&&0<this.state.summary.length||this.props.prepopulateCommitSummary}renderAvatar(){const e=this.props.commitAuthor,t=e?`Committing as ${e.name} <${e.email}>`:void 0;let n;if(e){const t=this.props.gitHubUser?this.props.gitHubUser.avatarURL:p.generateGravatarUrl(e.email);n={email:e.email,name:e.name,avatarURL:t}}return r.createElement(l.Avatar,{user:n,title:t})}get isCoAuthorInputEnabled(){return null!==this.props.repository.gitHubRepository}get isCoAuthorInputVisible(){return this.props.showCoAuthoredBy&&this.isCoAuthorInputEnabled}renderCoAuthorInput(){if(!this.isCoAuthorInputVisible)return null;const e=this.state.userAutocompletionProvider;return e?r.createElement(u.AuthorInput,{onAuthorsUpdated:this.onCoAuthorsUpdated,authors:this.props.coAuthors,autoCompleteProvider:e,disabled:this.props.isCommitting}):null}get toggleCoAuthorsText(){return this.props.showCoAuthoredBy?'Remove co-authors':'Add co-authors'}getAddRemoveCoAuthorsMenuItem(){return{label:this.toggleCoAuthorsText,action:this.onToggleCoAuthors,enabled:null!==this.props.repository.gitHubRepository&&!this.props.isCommitting}}renderCoAuthorToggleButton(){return null===this.props.repository.gitHubRepository?null:r.createElement('button',{className:'co-authors-toggle',onClick:this.onCoAuthorToggleButtonClick,tabIndex:-1,"aria-label":this.toggleCoAuthorsText,disabled:this.props.isCommitting},r.createElement(f.Octicon,{symbol:b}))}get isActionBarEnabled(){return this.isCoAuthorInputEnabled}renderActionBar(){if(!this.isCoAuthorInputEnabled)return null;const e=i('action-bar',{disabled:this.props.isCommitting});return r.createElement('div',{className:e},this.renderCoAuthorToggleButton())}render(){const e=this.props.branch?this.props.branch:'master',t=this.state.summary.match(/^\s+$/g),n=this.canCommit()&&!this.props.isCommitting&&!t,o=this.props.isCommitting?r.createElement(c.Loading,null):void 0,s=i({"with-action-bar":this.isActionBarEnabled,"with-co-authors":this.isCoAuthorInputVisible}),l=i('description-field',{"with-overflow":this.state.descriptionObscured}),p=i('summary-field','nudge-arrow',{"nudge-arrow-left":this.props.shouldNudge});return r.createElement('div',{id:'commit-message',role:'group',"aria-label":'Create commit',className:s,onContextMenu:this.onContextMenu,onKeyDown:this.onKeyDown},r.createElement('div',{className:'summary'},this.renderAvatar(),r.createElement(a.AutocompletingInput,{isRequired:!0,className:p,placeholder:this.props.placeholder,value:this.state.summary,onValueChanged:this.onSummaryChanged,onElementRef:this.onSummaryInputRef,autocompletionProviders:this.props.autocompletionProviders,onContextMenu:this.onAutocompletingInputContextMenu,disabled:this.props.isCommitting})),r.createElement(m.FocusContainer,{className:'description-focus-container',onClick:this.onFocusContainerClick},r.createElement(a.AutocompletingTextArea,{className:l,placeholder:'Description',value:this.state.description||'',onValueChanged:this.onDescriptionChanged,autocompletionProviders:this.props.autocompletionProviders,ref:this.onDescriptionFieldRef,onElementRef:this.onDescriptionTextAreaRef,onContextMenu:this.onAutocompletingInputContextMenu,disabled:this.props.isCommitting}),this.renderActionBar()),this.renderCoAuthorInput(),this.renderPermissionsCommitWarning(e),r.createElement(d.Button,{type:'submit',className:'commit-button',onClick:this.onSubmit,disabled:!n},o,r.createElement('span',{title:`Commit to ${e}`},o?'Committing':'Commit',' to ',r.createElement('strong',null,e))))}}t.CommitMessage=v},function(e,t,n){'use strict';function o(e,t){if(null!==t){if(0===e.files.length)return p.CheckboxValue.Off;const t=e.files.every((e)=>e.status.kind===d.AppFileStatusKind.Untracked);if(t)return p.CheckboxValue.Off;const n=e.files.every((e)=>e.status.kind!==d.AppFileStatusKind.Untracked);return n?p.CheckboxValue.On:p.CheckboxValue.Mixed}const{includeAll:n}=e;return!0===n?p.CheckboxValue.On:!1===n?p.CheckboxValue.Off:p.CheckboxValue.Mixed}function r(e){const t=e.selectedFileIDs,n=[];for(const o of t){const t=e.workingDirectory.findFileIndexByID(o);-1!==t&&n.push(t)}return n}Object.defineProperty(t,'__esModule',{value:!0});const i=n(0),a=n(1),s=n(40),d=n(23),l=n(30),c=n(77),p=n(36),u=n(78),m=n(565),h=n(555),f=n(27),g=n(69),y=n(22),S=n(1),C=n(554),b=n(4),v=n(5),E=n(102),w=n(38),k=new b.OcticonSymbol(16,16,'M3.002 15H15V4c.51 0 1 .525 1 .996V15c0 .471-.49 1-1 1H4.002c-.51 0-1-.529-1-1zm-2-2H13V2c.51 0 1 .525 1 .996V13c0 .471-.49 1-1 1H2.002c-.51 0-1-.529-1-1zm10.14-13A.86.86 0 0 1 12 .857v10.286a.86.86 0 0 1-.857.857H.857A.86.86 0 0 1 0 11.143V.857A.86.86 0 0 1 .857 0h10.286zM11 11V1H1v10h10zM3 6c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z'),T='.gitignore';class _ extends i.Component{constructor(e){super(e),this.onIncludeAllChanged=(e)=>{const t=e.currentTarget.checked;this.props.onSelectAll(t)},this.renderRow=(e)=>{const{workingDirectory:t,rebaseConflictState:n,isCommitting:o,onIncludeChanged:r,availableWidth:a}=this.props,s=t.files[e],c=s.selection.getSelectionType(),p=!(c!==l.DiffSelectionType.All)||c!==l.DiffSelectionType.None&&null,u=null===n?p:s.status.kind!==d.AppFileStatusKind.Untracked;return i.createElement(h.ChangedFile,{file:s,include:u,key:s.id,onContextMenu:this.onItemContextMenu,onIncludeChanged:r,availableWidth:a,disableSelection:o||null!==n})},this.onDiscardAllChanges=()=>{this.props.onDiscardChangesFromFiles(this.props.workingDirectory.files,!0)},this.onStashChanges=()=>{this.props.dispatcher.createStashForCurrentBranch(this.props.repository)},this.onDiscardChanges=(e)=>{const t=this.props.workingDirectory;if(1===e.length){const n=t.files.find((t)=>t.path===e[0]);null!=n&&this.props.onDiscardChanges(n)}else{const n=[];if(e.forEach((e)=>{const o=t.files.find((t)=>t.path===e);null!=o&&n.push(o)}),0<n.length){const e=n.length===t.files.length;this.props.onDiscardChangesFromFiles(n,e)}}},this.getDiscardChangesMenuItemLabel=(e)=>{const t=1===e.length?`Discard changes`:`Discard ${e.length} selected changes`;return this.props.askForConfirmationOnDiscardChanges?`${t}…`:t},this.onContextMenu=(e)=>{if(e.preventDefault(),!(null!==this.props.rebaseConflictState||this.props.isCommitting)){const e=0<this.props.workingDirectory.files.length,t=null!==this.props.stashEntry,n=null!==this.props.conflictState||w.hasConflictedFiles(this.props.workingDirectory),o='Stash all changes',r='Stash all changes\u2026',i=[{label:'Discard all changes\u2026',action:this.onDiscardAllChanges,enabled:e},{label:t?r:o,action:this.onStashChanges,enabled:e&&null!==this.props.branch&&!n}];f.showContextualMenu(i)}},this.getDiscardChangesMenuItem=(e)=>({label:this.getDiscardChangesMenuItemLabel(e),action:()=>this.onDiscardChanges(e)}),this.getCopyPathMenuItem=(e)=>({label:u.CopyFilePathLabel,action:()=>{const t=a.join(this.props.repository.path,e.path);y.clipboard.writeText(t)}}),this.getRevealInFileManagerMenuItem=(e)=>({label:u.RevealInFileManagerLabel,action:()=>s.revealInFileManager(this.props.repository,e.path),enabled:e.status.kind!==d.AppFileStatusKind.Deleted}),this.getOpenInExternalEditorMenuItem=(e,t)=>{const{externalEditorLabel:n,repository:o}=this.props,r=n?`Open in ${n}`:u.DefaultEditorLabel;return{label:r,action:()=>{const t=a.join(o.path,e.path);this.props.onOpenInExternalEditor(t)},enabled:t}},this.onItemContextMenu=(e,t)=>{if(!this.props.isCommitting){t.preventDefault();const n=null===this.props.rebaseConflictState?this.getDefaultContextMenu(e):this.getRebaseContextMenu(e);f.showContextualMenu(n)}},this.onScroll=(e)=>{this.props.onChangesListScrolled(e)},this.renderCommitMessageForm=()=>{const{rebaseConflictState:e,workingDirectory:t,repository:n,dispatcher:r,isCommitting:a,currentBranchProtected:s}=this.props;if(null!==e){const o=t.files.some((e)=>e.status.kind===d.AppFileStatusKind.Untracked);return i.createElement(C.ContinueRebase,{dispatcher:r,repository:n,rebaseConflictState:e,workingDirectory:t,isCommitting:a,hasUntrackedChanges:o})}const c=t.files.length,u=o(t,e),h=0<c&&u!==p.CheckboxValue.Off,f=t.files.filter((e)=>e.selection.getSelectionType()!==l.DiffSelectionType.None),g=1===f.length&&!n.isTutorialRepository,y=null===this.props.repository.gitHubRepository||E.hasWritePermission(this.props.repository.gitHubRepository);return i.createElement(m.CommitMessage,{onCreateCommit:this.props.onCreateCommit,branch:this.props.branch,gitHubUser:this.props.gitHubUser,commitAuthor:this.props.commitAuthor,anyFilesSelected:h,repository:n,dispatcher:r,commitMessage:this.props.commitMessage,focusCommitMessage:this.props.focusCommitMessage,autocompletionProviders:this.props.autocompletionProviders,isCommitting:a,showCoAuthoredBy:this.props.showCoAuthoredBy,coAuthors:this.props.coAuthors,placeholder:this.getPlaceholderMessage(f,g),prepopulateCommitSummary:g,key:n.id,showBranchProtected:0<c&&s,showNoWriteAccess:0<c&&!y,shouldNudge:this.props.shouldNudgeToCommit})},this.onStashEntryClicked=()=>{const{isShowingStashEntry:e,dispatcher:t,repository:n}=this.props;e?(t.selectWorkingDirectoryFiles(n),t.recordNoActionTakenOnStash()):(t.selectStashedFile(n),t.recordStashView())},this.onRowKeyDown=(e,t)=>{this.props.isCommitting&&('Enter'===t.key||' '===t.key)&&t.preventDefault()},this.state={selectedRows:r(e)}}componentWillReceiveProps(e){g.arrayEquals(e.selectedFileIDs,this.props.selectedFileIDs)&&g.arrayEquals(e.workingDirectory.files,this.props.workingDirectory.files)||this.setState({selectedRows:r(e)})}getDefaultContextMenu(e){const{id:t,path:n,status:o}=e,r=a.extname(n),i=u.isSafeFileExtension(r),{workingDirectory:s,selectedFileIDs:l}=this.props,c=[],p=[],m=new Set,h=(e)=>{const t=s.findFileWithID(e);if(t){c.push(t),p.push(t.path);const e=a.extname(t.path);e.length&&m.add(e)}};l.includes(t)?l.forEach(h):h(t);const f=[this.getDiscardChangesMenuItem(p),{type:'separator'}];1===p.length?f.push({label:'Ignore file (add to .gitignore)',action:()=>this.props.onIgnore(n),enabled:a.basename(n)!==T}):1<p.length&&f.push({label:`Ignore ${p.length} selected files (add to .gitignore)`,action:()=>{this.props.onIgnore(p.filter((e)=>a.basename(e)!==T))},enabled:p.some((e)=>a.basename(e)!==T)}),Array.from(m).slice(0,5).forEach((e)=>{f.push({label:`Ignore all ${e} files (add to .gitignore)`,action:()=>this.props.onIgnore(`*${e}`)})});const g=i&&o.kind!==d.AppFileStatusKind.Deleted;return f.push({type:'separator'},this.getCopyPathMenuItem(e),this.getRevealInFileManagerMenuItem(e),this.getOpenInExternalEditorMenuItem(e,g),{label:u.OpenWithDefaultProgramLabel,action:()=>this.props.onOpenItem(n),enabled:g}),f}getRebaseContextMenu(e){const{path:t,status:n}=e,o=a.extname(t),r=u.isSafeFileExtension(o),i=[];e.status.kind===d.AppFileStatusKind.Untracked&&i.push(this.getDiscardChangesMenuItem([e.path]),{type:'separator'});const s=r&&n.kind!==d.AppFileStatusKind.Deleted;return i.push(this.getCopyPathMenuItem(e),this.getRevealInFileManagerMenuItem(e),this.getOpenInExternalEditorMenuItem(e,s),{label:u.OpenWithDefaultProgramLabel,action:()=>this.props.onOpenItem(t),enabled:s}),i}getPlaceholderMessage(e,t){if(!t)return'Summary (required)';const n=e[0],o=S.basename(n.path);switch(n.status.kind){case d.AppFileStatusKind.New:case d.AppFileStatusKind.Untracked:return`Create ${o}`;case d.AppFileStatusKind.Deleted:return`Delete ${o}`;default:return`Update ${o}`;}}renderStashedChanges(){if(null===this.props.stashEntry)return null;const e=v('stashed-changes-button',this.props.isShowingStashEntry?'selected':null);return i.createElement('button',{className:e,onClick:this.onStashEntryClicked,tabIndex:0,"aria-selected":this.props.isShowingStashEntry},i.createElement(b.Octicon,{className:'stack-icon',symbol:k}),i.createElement('div',{className:'text'},'Stashed Changes'),i.createElement(b.Octicon,{symbol:b.OcticonSymbol.chevronRight}))}render(){const e=this.props.workingDirectory.files.length,t=1===e?'file':'files',n=`${e} changed ${t}`,r=o(this.props.workingDirectory,this.props.rebaseConflictState),a=0===e||this.props.isCommitting||null!==this.props.rebaseConflictState;return i.createElement('div',{className:'changes-list-container file-list'},i.createElement('div',{className:'header',onContextMenu:this.onContextMenu},i.createElement(p.Checkbox,{label:n,value:r,onChange:this.onIncludeAllChanged,disabled:a})),i.createElement(c.List,{id:'changes-list',rowCount:this.props.workingDirectory.files.length,rowHeight:29,rowRenderer:this.renderRow,selectedRows:this.state.selectedRows,selectionMode:'multi',onSelectionChanged:this.props.onFileSelectionChanged,invalidationProps:this.props.workingDirectory,onRowClick:this.props.onRowClick,onScroll:this.onScroll,setScrollTop:this.props.changesListScrollTop,onRowKeyDown:this.onRowKeyDown}),this.renderStashedChanges(),this.renderCommitMessageForm())}}t.ChangesList=_},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(0),i=n(566),a=n(30),s=n(28),d=n(553),l=n(218),c=n(88),p=n(115),u=n(24),m=n(248),h=n(552),g=n(38),f=500;class y extends r.Component{constructor(e){super(e),this.autocompletionProviders=null,this.onCreateCommit=async(e)=>{const{workingDirectory:t}=this.props.changes,n=await h.getLargeFilePaths(this.props.repository,t,100),o=await m.filesNotTrackedByLFS(this.props.repository,n);if(0!==o.length)return this.props.dispatcher.showPopup({type:u.PopupType.OversizedFiles,oversizedFiles:o,context:e,repository:this.props.repository}),!1;const r=t.files.filter((e)=>g.isConflictedFile(e.status)&&e.selection.getSelectionType()===a.DiffSelectionType.None);0===r.length&&(this.props.dispatcher.clearBanner(),this.props.dispatcher.recordUnguidedConflictedMergeCompletion());const i=t.files.filter((e)=>g.isConflictedFile(e.status)&&g.hasUnresolvedConflicts(e.status)&&e.selection.getSelectionType()!==a.DiffSelectionType.None);return 0<i.length?(this.props.dispatcher.showPopup({type:u.PopupType.CommitConflictsWarning,files:i,repository:this.props.repository,context:e}),!1):this.props.dispatcher.commitIncludedChanges(this.props.repository,e)},this.onFileSelectionChanged=(e)=>{const t=e.map((e)=>this.props.changes.workingDirectory.files[e]);this.props.dispatcher.selectWorkingDirectoryFiles(this.props.repository,t)},this.onIncludeChanged=(e,t)=>{const n=this.props.changes.workingDirectory,o=n.files.find((t)=>t.path===e);return o?void this.props.dispatcher.changeFileIncluded(this.props.repository,o,t):void console.error('unable to find working directory file to apply included change: '+e)},this.onSelectAll=(e)=>{this.props.dispatcher.changeIncludeAllFiles(this.props.repository,e)},this.onDiscardChanges=(e)=>{this.props.askForConfirmationOnDiscardChanges?this.props.dispatcher.showPopup({type:u.PopupType.ConfirmDiscardChanges,repository:this.props.repository,files:[e]}):this.props.dispatcher.discardChanges(this.props.repository,[e])},this.onDiscardChangesFromFiles=(e,t)=>{this.props.dispatcher.showPopup({type:u.PopupType.ConfirmDiscardChanges,repository:this.props.repository,showDiscardChangesSetting:!1,discardingAllChanges:t,files:e})},this.onIgnore=(e)=>{this.props.dispatcher.appendIgnoreRule(this.props.repository,e)},this.onOpenItem=(e)=>{const t=o.join(this.props.repository.path,e);p.openFile(t,this.props.dispatcher)},this.onChangedItemClick=(e,t)=>{'keyboard'===t.kind&&(e instanceof Array?e.forEach((e)=>this.onToggleInclude(e)):this.onToggleInclude(e))},this.onUndo=()=>{const e=this.props.mostRecentLocalCommit;e&&0===e.tags.length&&this.props.dispatcher.undoCommit(this.props.repository,e)},this.renderUndoCommit=(e)=>null===e?this.renderMostRecentLocalCommit():null,this.receiveProps(e)}componentWillReceiveProps(e){this.receiveProps(e)}receiveProps(e){if(null===this.autocompletionProviders||0===this.props.emoji.size||e.repository.hash!==this.props.repository.hash||e.accounts!==this.props.accounts){const t=[new l.EmojiAutocompletionProvider(e.emoji)],n=e.repository.gitHubRepository;if(n){t.push(new l.IssuesAutocompletionProvider(e.issuesStore,n,e.dispatcher));const o=this.props.accounts.find((e)=>e.endpoint===n.endpoint);t.push(new l.UserAutocompletionProvider(e.gitHubUserStore,n,o))}this.autocompletionProviders=t}}onToggleInclude(e){const t=this.props.changes.workingDirectory,n=t.files[e];if(!n)return void console.error('keyboard selection toggle despite no file - what?');const o=n.selection.getSelectionType();this.props.dispatcher.changeFileIncluded(this.props.repository,n,o===a.DiffSelectionType.None)}renderMostRecentLocalCommit(){const e=this.props.mostRecentLocalCommit;let t=null;return e&&0===e.tags.length&&(t=r.createElement(d.UndoCommit,{isPushPullFetchInProgress:this.props.isPushPullFetchInProgress,commit:e,onUndo:this.onUndo,emoji:this.props.emoji,isCommitting:this.props.isCommitting})),r.createElement(c.CSSTransitionGroup,{transitionName:'undo',transitionAppear:!0,transitionAppearTimeout:f,transitionEnterTimeout:f,transitionLeaveTimeout:f},t)}render(){const{workingDirectory:e,commitMessage:t,showCoAuthoredBy:n,coAuthors:o,conflictState:a,selection:d,currentBranchProtected:l}=this.props.changes,c=this.props.commitAuthor?this.props.commitAuthor.email:null;let p=null;c&&(p=this.props.gitHubUsers.get(c.toLowerCase())||null);let u=null;null!==a&&(u=s.isRebaseConflictState(a)?a:null);const m=d.kind===s.ChangesSelectionKind.WorkingDirectory?d.selectedFileIDs:[],h=d.kind===s.ChangesSelectionKind.Stash;return r.createElement('div',{className:'panel'},r.createElement(i.ChangesList,{dispatcher:this.props.dispatcher,repository:this.props.repository,workingDirectory:e,conflictState:a,rebaseConflictState:u,selectedFileIDs:m,onFileSelectionChanged:this.onFileSelectionChanged,onCreateCommit:this.onCreateCommit,onIncludeChanged:this.onIncludeChanged,onSelectAll:this.onSelectAll,onDiscardChanges:this.onDiscardChanges,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,onDiscardChangesFromFiles:this.onDiscardChangesFromFiles,onOpenItem:this.onOpenItem,onRowClick:this.onChangedItemClick,commitAuthor:this.props.commitAuthor,branch:this.props.branch,gitHubUser:p,commitMessage:t,focusCommitMessage:this.props.focusCommitMessage,autocompletionProviders:this.autocompletionProviders,availableWidth:this.props.availableWidth,onIgnore:this.onIgnore,isCommitting:this.props.isCommitting,showCoAuthoredBy:n,coAuthors:o,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onChangesListScrolled:this.props.onChangesListScrolled,changesListScrollTop:this.props.changesListScrollTop,stashEntry:this.props.changes.stashEntry,isShowingStashEntry:h,currentBranchProtected:l,shouldNudgeToCommit:this.props.shouldNudgeToCommit}),this.renderUndoCommit(u))}}t.ChangesSidebar=y},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(567);t.ChangesSidebar=o.ChangesSidebar;var r=n(551);t.Changes=r.Changes},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(31),i=n(92),a=n(568),s=n(525),d=n(520),l=n(519),c=n(518),p=n(145),u=n(50),m=n(28),h=n(2),f=n(152),g=n(4),y=n(494),S=n(79),C=n(201),b=n(25),v=n(97),E=n(115);class w extends o.Component{constructor(e){super(e),this.previousSection=this.props.state.selectedSection,this.onChangesListScrolled=(e)=>{this.setState({changesListScrollTop:e})},this.onCompareListScrolled=(e)=>{this.setState({compareListScrollTop:e})},this.handleSidebarWidthReset=()=>{this.props.dispatcher.resetSidebarWidth()},this.handleSidebarResize=(e)=>{this.props.dispatcher.setSidebarWidth(e)},this.onSidebarFocusWithinChanged=(e)=>{this.setState({sidebarHasFocusWithin:e}),!1===e&&this.props.state.selectedSection===m.RepositorySectionTab.History&&this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.onOpenBinaryFile=(e)=>{E.openFile(e,this.props.dispatcher)},this.onChangeImageDiffType=(e)=>{this.props.dispatcher.changeImageDiffType(e)},this.onRevertCommit=(e)=>{this.props.dispatcher.revertCommit(this.props.repository,e)},this.onGlobalKeyDown=(e)=>{e.defaultPrevented||this.props.isShowingModal||this.props.isShowingFoldout||e.ctrlKey&&'Tab'===e.key&&(this.changeTab(),e.preventDefault())},this.onTabClicked=(e)=>{const t=1===e?m.RepositorySectionTab.History:m.RepositorySectionTab.Changes;this.props.dispatcher.changeRepositorySection(this.props.repository,t),!t||this.props.dispatcher.updateCompareForm(this.props.repository,{showBranchList:!1})},this.state={sidebarHasFocusWithin:!1,changesListScrollTop:0,compareListScrollTop:0}}renderChangesBadge(){const e=this.props.state.changesState.workingDirectory.files.length;return 0>=e?null:o.createElement(l.FilesChangedBadge,{filesChangedCount:e})}renderTabs(){const e=this.props.state.selectedSection===m.RepositorySectionTab.Changes?0:1;return o.createElement(u.TabBar,{selectedIndex:e,onTabClicked:this.onTabClicked},o.createElement('span',{className:'with-indicator'},o.createElement('span',null,'Changes'),this.renderChangesBadge()),o.createElement('div',{className:'with-indicator'},o.createElement('span',null,'History'),b.enableNDDBBanner()&&this.props.state.compareState.divergingBranchBannerState.isNudgeVisible?o.createElement(g.Octicon,{className:'indicator',symbol:g.OcticonSymbol.primitiveDot}):null))}renderChangesSidebar(){const e=this.props.state.branchesState.tip,t=e.kind===r.TipState.Valid?e.branch:null,n=this.props.state.localCommitSHAs,i=0<n.length?n[0]:null,s=(i?this.props.state.commitLookup.get(i):null)||null,d=this.props.sidebarWidth-1,l=this.previousSection===m.RepositorySectionTab.History?this.state.changesListScrollTop:void 0;return this.previousSection=m.RepositorySectionTab.Changes,o.createElement(a.ChangesSidebar,{repository:this.props.repository,dispatcher:this.props.dispatcher,changes:this.props.state.changesState,branch:t?t.name:null,commitAuthor:this.props.state.commitAuthor,gitHubUsers:this.props.state.gitHubUsers,emoji:this.props.emoji,mostRecentLocalCommit:s,issuesStore:this.props.issuesStore,availableWidth:d,gitHubUserStore:this.props.gitHubUserStore,isCommitting:this.props.state.isCommitting,isPushPullFetchInProgress:this.props.state.isPushPullFetchInProgress,focusCommitMessage:this.props.focusCommitMessage,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges,accounts:this.props.accounts,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,onChangesListScrolled:this.onChangesListScrolled,changesListScrollTop:l,shouldNudgeToCommit:this.props.currentTutorialStep===v.TutorialStep.MakeCommit})}renderCompareSidebar(){const e=this.props.state.branchesState.tip,t=e.kind===r.TipState.Valid?e.branch:null,n=this.previousSection===m.RepositorySectionTab.Changes?this.state.compareListScrollTop:void 0;return this.previousSection=m.RepositorySectionTab.History,o.createElement(c.CompareSidebar,{repository:this.props.repository,isLocalRepository:null===this.props.state.remote,compareState:this.props.state.compareState,selectedCommitSha:this.props.state.commitSelection.sha,currentBranch:t,gitHubUsers:this.props.state.gitHubUsers,emoji:this.props.emoji,commitLookup:this.props.state.commitLookup,localCommitSHAs:this.props.state.localCommitSHAs,localTags:this.props.state.localTags,dispatcher:this.props.dispatcher,onRevertCommit:this.onRevertCommit,onViewCommitOnGitHub:this.props.onViewCommitOnGitHub,onCompareListScrolled:this.onCompareListScrolled,compareListScrollTop:n,tagsToPush:this.props.state.tagsToPush})}renderSidebarContents(){const e=this.props.state.selectedSection;return e===m.RepositorySectionTab.Changes?this.renderChangesSidebar():e===m.RepositorySectionTab.History?this.renderCompareSidebar():h.assertNever(e,'Unknown repository section')}renderSidebar(){return o.createElement(f.FocusContainer,{onFocusWithinChanged:this.onSidebarFocusWithinChanged},o.createElement(p.Resizable,{id:'repository-sidebar',width:this.props.sidebarWidth,onReset:this.handleSidebarWidthReset,onResize:this.handleSidebarResize,maximumWidth:495},this.renderTabs(),this.renderSidebarContents()))}renderStashedChangesContent(){const{changesState:e}=this.props.state,{selection:t,stashEntry:n,workingDirectory:r}=e,i=0===r.files.length;return t.kind!==m.ChangesSelectionKind.Stash||null===n?null:n.files.kind===S.StashedChangesLoadStates.Loaded?o.createElement(y.StashDiffViewer,{stashEntry:n,selectedStashedFile:t.selectedStashedFile,stashedFileDiff:t.selectedStashedFileDiff,imageDiffType:this.props.imageDiffType,fileListWidth:this.props.stashedFilesWidth,repository:this.props.repository,dispatcher:this.props.dispatcher,isWorkingTreeClean:i,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType}):null}renderContentForHistory(){const{commitSelection:e}=this.props.state,t=e.sha,n=null==t?null:this.props.state.commitLookup.get(t)||null,{changedFiles:r,file:i,diff:a}=e;return o.createElement(c.SelectedCommit,{repository:this.props.repository,dispatcher:this.props.dispatcher,selectedCommit:n,changedFiles:r,selectedFile:i,currentDiff:a,emoji:this.props.emoji,commitSummaryWidth:this.props.commitSummaryWidth,gitHubUsers:this.props.state.gitHubUsers,selectedDiffType:this.props.imageDiffType,externalEditorLabel:this.props.externalEditorLabel,onOpenInExternalEditor:this.props.onOpenInExternalEditor,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType})}renderTutorialPane(){return this.props.currentTutorialStep===v.TutorialStep.AllDone?o.createElement(C.TutorialDone,{dispatcher:this.props.dispatcher,repository:this.props.repository}):o.createElement(C.TutorialWelcome,null)}renderContentForChanges(){const{changesState:e}=this.props.state,{workingDirectory:t,selection:n}=e;if(n.kind===m.ChangesSelectionKind.Stash)return this.renderStashedChangesContent();const{selectedFileIDs:r,diff:i}=n;if(1<r.length)return o.createElement(d.MultipleSelection,{count:r.length});if(0===t.files.length)return this.props.currentTutorialStep===v.TutorialStep.NotApplicable?o.createElement(s.NoChanges,{key:this.props.repository.id,appMenu:this.props.appMenu,repository:this.props.repository,repositoryState:this.props.state,isExternalEditorAvailable:void 0!==this.props.externalEditorLabel,dispatcher:this.props.dispatcher}):this.renderTutorialPane();else{if(0===r.length)return null;const e=t.findFileWithID(r[0]);return null===e?null:o.createElement(a.Changes,{repository:this.props.repository,dispatcher:this.props.dispatcher,file:e,diff:i,isCommitting:this.props.state.isCommitting,imageDiffType:this.props.imageDiffType,hideWhitespaceInDiff:this.props.hideWhitespaceInDiff,onOpenBinaryFile:this.onOpenBinaryFile,onChangeImageDiffType:this.onChangeImageDiffType,askForConfirmationOnDiscardChanges:this.props.askForConfirmationOnDiscardChanges})}}renderContent(){const e=this.props.state.selectedSection;return e===m.RepositorySectionTab.Changes?this.renderContentForChanges():e===m.RepositorySectionTab.History?this.renderContentForHistory():h.assertNever(e,'Unknown repository section')}render(){return o.createElement(i.UiView,{id:'repository'},this.renderSidebar(),this.renderContent(),this.maybeRenderTutorialPanel())}componentDidMount(){window.addEventListener('keydown',this.onGlobalKeyDown)}componentWillUnmount(){window.removeEventListener('keydown',this.onGlobalKeyDown)}changeTab(){const e=this.props.state.selectedSection===m.RepositorySectionTab.History?m.RepositorySectionTab.Changes:m.RepositorySectionTab.History;this.props.dispatcher.changeRepositorySection(this.props.repository,e)}maybeRenderTutorialPanel(){return v.isValidTutorialStep(this.props.currentTutorialStep)?o.createElement(C.TutorialPanel,{dispatcher:this.props.dispatcher,repository:this.props.repository,resolvedExternalEditor:this.props.resolvedExternalEditor,currentTutorialStep:this.props.currentTutorialStep,onExitTutorial:this.props.onExitTutorial}):null}}t.RepositoryView=w},function(e,t,n){(function(){var e,o,r,a,i,s,d,l,c,p;p=n(117),r=p.isMatch,a=p.isWordStart,c=p.scoreConsecutives,l=p.scoreCharacter,d=p.scoreAcronyms,t.match=i=function(t,n,i){var a,d,l,c,p,u;return(a=i.allowErrors,p=i.preparedQuery,c=i.pathSeparator,!(a||r(t,p.core_lw,p.core_up)))?[]:(u=t.toLowerCase(),l=o(t,u,p),0===l.length)?l:(-1<t.indexOf(c)&&(d=e(t,u,p,c),l=s(l,d)),l)},t.wrap=function(e,t,n){var o,r,a,s,d,l,c,p,u;if(null!=n.wrap&&(u=n.wrap,l=u.tagClass,p=u.tagOpen,c=u.tagClose),null==l&&(l='highlight'),null==p&&(p='<strong class="'+l+'">'),null==c&&(c='</strong>'),e===t)return p+e+c;if(a=i(e,t,n),0===a.length)return e;for(s='',o=-1,d=0;++o<a.length;){for(r=a[o],r>d&&(s+=e.substring(d,r),d=r);++o<a.length;)if(a[o]===r+1)r++;else{o--;break}r++,r>d&&(s+=p,s+=e.substring(d,r),s+=c,d=r)}return d<=e.length-1&&(s+=e.substring(d)),s},e=function(e,t,n,r){var i,a,s;for(s=e.length-1;e[s]===r;)s--;if(i=e.lastIndexOf(r,s),-1===i)return[];for(a=n.depth;0<a--;)if(i=e.lastIndexOf(r,i-1),-1===i)return[];return i++,s++,o(e.slice(i,s),t.slice(i,s),n,i)},s=function(e,t){var o,r,a,i,s,d,n;if(s=e.length,d=t.length,0===d)return e.slice();if(0===s)return t.slice();for(a=-1,i=0,r=t[i],n=[];++a<s;){for(o=e[a];r<=o&&++i<d;)r<o&&n.push(r),r=t[i];n.push(o)}for(;i<d;)n.push(t[i++]);return n},o=function(e,t,o,r){var s,p,u,h,f,g,y,S,C,b,v,i,E,m,w,k,n,T,_,R,x,P,D,M,A,I;for(null==r&&(r=0),T=o.query,_=o.query_lw,E=e.length,k=T.length,f=d(e,t,T,_).score,P=Array(k),C=Array(k),u=0,h=1,p=2,s=3,I=Array(E*k),n=-1,i=-1;++i<k;)P[i]=0,C[i]=0;for(v=-1;++v<E;)for(R=0,D=0,S=0,M=t[v],i=-1;++i<k;)b=0,g=0,x=D,_[i]===M&&(A=a(v,e,t),b=0<S?S:c(e,t,T,_,v,i,A),g=x+l(v,i,A,f,b)),D=P[i],S=C[i],R>D?w=p:(R=D,w=h),g>R?(R=g,w=s):b=0,P[i]=R,C[i]=b,I[++n]=0<R?w:u;for(v=E-1,i=k-1,n=v*k+i,y=!0,m=[];y&&0<=v&&0<=i;)switch(I[n]){case h:v--,n-=k;break;case p:i--,n--;break;case s:m.push(v+r),i--,v--,n-=k+1;break;default:y=!1;}return m.reverse(),m}}).call(this)},function(e,t,n){(function(){var t,o,r,i,a;i=n(117),o=n(151),t=n(219),r=function(e){return e.candidate},a=function(e,t){return t.score-e.score},e.exports=function(e,t,n){var s,d,l,c,p,u,m,h,f,g,y,S,C;for(h=[],l=n.key,p=n.maxResults,c=n.maxInners,y=n.usePathScoring,f=null!=c&&0<c?c:e.length+1,s=null!=l,m=y?o:i,(S=0,C=e.length);S<C&&!((d=e[S],g=s?d[l]:d,!!g)&&(u=m.score(g,t,n),0<u&&(h.push({candidate:d,score:u}),! --f)));S++);return h.sort(a),e=h.map(r),null!=p&&(e=e.slice(0,p)),e}}).call(this)},function(e,t,n){(function(){var t,o,r,i,a,s,d,l;r=n(571),i=n(570),l=n(117),s=n(151),t=n(219),d=null,o='win32'===('undefined'!=typeof process&&null!==process?'win32':void 0)?'\\':'/',e.exports={filter:function(e,t,n){return(null==n&&(n={}),!((null==t?void 0:t.length)&&(null==e?void 0:e.length)))?[]:(n=a(n,t),r(e,t,n))},score:function(e,t,n){return(null==n&&(n={}),!((null==e?void 0:e.length)&&(null==t?void 0:t.length)))?0:(n=a(n,t),n.usePathScoring?s.score(e,t,n):l.score(e,t,n))},match:function(e,t,n){var o;return(null==n&&(n={}),!e)?[]:t?e===t?function(){o=[];for(var t=0,n=e.length;0<=n?t<n:t>n;0<=n?t++:t--)o.push(t);return o}.apply(this):(n=a(n,t),i.match(e,t,n)):[]},wrap:function(e,t,n){return(null==n&&(n={}),!e)?[]:t?(n=a(n,t),i.wrap(e,t,n)):[]},prepareQuery:function(e,t){return null==t&&(t={}),t=a(t,e),t.preparedQuery}},a=function(e,n){return null==e.allowErrors&&(e.allowErrors=!1),null==e.usePathScoring&&(e.usePathScoring=!0),null==e.useExtensionBonus&&(e.useExtensionBonus=!1),null==e.pathSeparator&&(e.pathSeparator=o),null==e.optCharRegEx&&(e.optCharRegEx=null),null==e.wrap&&(e.wrap=null),null==e.preparedQuery&&(e.preparedQuery=d&&d.query===n?d:d=new t(n,e)),e}}).call(this)},function(e,t,n){'use strict';function o(e,t,n){return r.score(e,t)/n}Object.defineProperty(t,'__esModule',{value:!0});const r=n(572),i=n(47);t.match=function(e,t,n){const a=o(e,e,1),s=t.map((t)=>{const i=[],s=n(t);return s.forEach((t)=>{i.push(r.match(t,e))}),{score:o(s.join(''),e,a),item:t,matches:{title:i[0],subtitle:1<i.length?i[1]:[]}}}).filter(({matches:e})=>0<e.title.length||0<e.subtitle.length).sort(({score:e},{score:t})=>i.compareDescending(e,t));return s}},function(e,t){'use strict';function n(e,t,n){null===t&&(t=e||0,e=0),n||(n=t<e?-1:1);const o=Math.max(Math.ceil((t-e)/n),0),r=Array(o);for(let i=0;i<o;i++,e+=n)r[i]=e;return r}Object.defineProperty(t,'__esModule',{value:!0}),t.range=n},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5);class i extends o.Component{constructor(){super(...arguments),this.onRowMouseOver=(t)=>{this.props.onRowMouseOver(this.props.rowIndex,t)},this.onRowMouseDown=(t)=>{this.props.onRowMouseDown(this.props.rowIndex,t)},this.onRowClick=(t)=>{this.props.onRowClick(this.props.rowIndex,t)},this.onRowKeyDown=(t)=>{this.props.onRowKeyDown(this.props.rowIndex,t)}}render(){const e=this.props.selected,t=r('list-item',{selected:e},{"not-selectable":!1===this.props.selectable},this.props.className),n='menu'===this.props.ariaMode?'menuitem':'option',i=Object.assign({},this.props.style,{width:'100%'});return o.createElement('div',{id:this.props.id,"aria-setsize":this.props.rowCount,"aria-posinset":this.props.rowIndex+1,"aria-selected":this.props.selected,role:n,className:t,tabIndex:this.props.tabIndex,ref:this.props.onRef,onMouseOver:this.onRowMouseOver,onMouseDown:this.onRowMouseDown,onClick:this.onRowClick,onKeyDown:this.onRowKeyDown,style:i},this.props.children)}}t.ListRow=i},function(e,t,n){var o=n(221),r=n(60)('iterator'),i=n(94);e.exports=n(45).getIteratorMethod=function(e){if(e!=void 0)return e[r]||e['@@iterator']||i[o(e)]}},function(e,t,n){var o=n(153),r=n(576);e.exports=n(45).getIterator=function(e){var t=r(e);if('function'!=typeof t)throw TypeError(e+' is not iterable!');return o(t.call(e))}},function(e,t,n){n(155),n(160),e.exports=n(577)},function(e,t,n){e.exports={default:n(578),__esModule:!0}},function(e,t,n){var o=n(221),r=n(60)('iterator'),i=n(94);e.exports=n(45).isIterable=function(e){var t=Object(e);return t[r]!==void 0||'@@iterator'in t||i.hasOwnProperty(o(t))}},function(e,t,n){n(155),n(160),e.exports=n(580)},function(e,t,n){e.exports={default:n(581),__esModule:!0}},function(e,t,n){'use strict';n.r(t),n.d(t,'bpfrpt_proptype_RowRendererParams',function(){return s}),n.d(t,'bpfrpt_proptype_RowRenderer',function(){return d}),n.d(t,'bpfrpt_proptype_RenderedRows',function(){return l}),n.d(t,'bpfrpt_proptype_Scroll',function(){return c});var o=n(0),r=n.n(o),i=n(15),a=n.n(i),s=null,d=null,l=null,c=null},function(e,t,n){var o=n(93);n(161)('getOwnPropertyDescriptor',function(e){return function(t,n){return e(o(t),n)}})},function(e,t,n){var o=n(37);n(584),e.exports=function(e,t){return o.getDesc(e,t)}},function(e,t,n){var o=n(163);n(161)('keys',function(e){return function(t){return e(o(t))}})},function(e,t,n){n(586),e.exports=n(45).Object.keys},function(e,t,n){var o=n(37),r=n(163),i=n(223);e.exports=n(118)(function(){var e=Object.assign,t={},n={},o=Symbol(),r='abcdefghijklmnopqrst';return t[o]=7,r.split('').forEach(function(e){n[e]=e}),7!=e({},t)[o]||Object.keys(e({},n)).join('')!=r})?function(e){for(var t=r(e),n=arguments,a=n.length,s=1,d=o.getKeys,l=o.getSymbols,c=o.isEnum;a>s;)for(var p=i(n[s++]),u=l?d(p).concat(l(p)):d(p),m=u.length,h=0,f;m>h;)c.call(p,f=u[h++])&&(t[f]=p[f]);return t}:Object.assign},function(e,t,n){var o=n(95);o(o.S+o.F,'Object',{assign:n(588)})},function(e,t,n){n(589),e.exports=n(45).Object.assign},function(e,t,n){'use strict';n.r(t),n.d(t,'bpfrpt_proptype_ScrollIndices',function(){return i});var o=n(15),r=n.n(o),i=null},function(e,t,n){var o=n(37);e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){e.exports={default:n(592),__esModule:!0}},function(e,t,n){var o=n(37).getDesc,r=n(222),i=n(153),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+': can\'t set as prototype!')};e.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(e,t,r){try{r=n(232)(Function.call,o(Object.prototype,'__proto__').set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){var o=n(95);o(o.S,'Object',{setPrototypeOf:n(594).set})},function(e,t,n){n(595),e.exports=n(45).Object.setPrototypeOf},function(e,t,n){e.exports={default:n(596),__esModule:!0}},function(){},function(e,t,n){var o=n(154);e.exports=Array.isArray||function(e){return'Array'==o(e)}},function(e,t,n){var o=n(37);e.exports=function(e){var t=o.getKeys(e),n=o.getSymbols;if(n)for(var r=n(e),a=o.isEnum,s=0,i;r.length>s;)a.call(e,i=r[s++])&&t.push(i);return t}},function(e,t,n){var o=n(93),r=n(37).getNames,i={}.toString,a='object'==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(t){return a.slice()}};e.exports.get=function(e){return a&&'[object Window]'==i.call(e)?s(e):r(o(e))}},function(e,t,n){var o=n(37),r=n(93);e.exports=function(e,t){for(var n=r(e),i=o.getKeys(n),a=i.length,s=0,d;a>s;)if(n[d=i[s++]]===t)return d}},function(e,t,n){'use strict';var o=n(37),r=n(119),a=n(157),i=n(226),s=n(95),d=n(227),l=n(118),c=n(225),p=n(156),u=n(224),m=n(60),h=n(602),f=n(601),g=n(600),y=n(599),S=n(153),C=n(93),b=n(158),v=o.getDesc,E=o.setDesc,w=o.create,k=f.get,T=r.Symbol,_=r.JSON,R=_&&_.stringify,x=!1,P=m('_hidden'),D=o.isEnum,M=c('symbol-registry'),A=c('symbols'),I='function'==typeof T,L=Object.prototype,F=i&&l(function(){return 7!=w(E({},'a',{get:function(){return E(this,'a',{value:7}).a}})).a})?function(e,t,n){var o=v(L,t);o&&delete L[t],E(e,t,n),o&&e!==L&&E(L,t,o)}:E,B=function(e){var t=A[e]=w(T.prototype);return t._k=e,i&&x&&F(L,e,{configurable:!0,set:function(t){a(this,P)&&a(this[P],e)&&(this[P][e]=!1),F(this,e,b(1,t))}}),t},N=function(e){return'symbol'==typeof e},O=function(e,t,n){return n&&a(A,t)?(n.enumerable?(a(e,P)&&e[P][t]&&(e[P][t]=!1),n=w(n,{enumerable:b(0,!1)})):(!a(e,P)&&E(e,P,b(1,{})),e[P][t]=!0),F(e,t,n)):E(e,t,n)},H=function(e,t){S(e);for(var n=g(t=C(t)),o=0,r=n.length,i;r>o;)O(e,i=n[o++],t[i]);return e},z=function(e,t){return t===void 0?w(e):H(w(e),t)},U=function(e){var t=D.call(this,e);return!(t||!a(this,e)||!a(A,e)||a(this,P)&&this[P][e])||t},W=function(e,t){var n=v(e=C(e),t);return n&&a(A,t)&&!(a(e,P)&&e[P][t])&&(n.enumerable=!0),n},V=function(e){for(var t=k(C(e)),n=[],o=0,r;t.length>o;)a(A,r=t[o++])||r==P||n.push(r);return n},G=function(e){for(var t=k(C(e)),n=[],o=0,r;t.length>o;)a(A,r=t[o++])&&n.push(A[r]);return n},K=function(e){if(!(void 0===e||N(e))){for(var t=[e],n=1,o=arguments,r,i;o.length>n;)t.push(o[n++]);return r=t[1],'function'==typeof r&&(i=r),(i||!y(r))&&(r=function(e,t){if(i&&(t=i.call(this,e,t)),!N(t))return t}),t[1]=r,R.apply(_,t)}},j=l(function(){var e=T();return'[null]'!=R([e])||'{}'!=R({a:e})||'{}'!=R(Object(e))});I||(T=function(){if(N(this))throw TypeError('Symbol is not a constructor');return B(u(0<arguments.length?arguments[0]:void 0))},d(T.prototype,'toString',function(){return this._k}),N=function(e){return e instanceof T},o.create=z,o.isEnum=U,o.getDesc=W,o.setDesc=O,o.setDescs=H,o.getNames=f.get=V,o.getSymbols=G,i&&!n(228)&&d(L,'propertyIsEnumerable',U,!0));var q={for:function(e){return a(M,e+='')?M[e]:M[e]=T(e)},keyFor:function(e){return h(M,e)},useSetter:function(){x=!0},useSimple:function(){x=!1}};o.each.call('hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','),function(e){var t=m(e);q[e]=I?t:B(t)}),x=!0,s(s.G+s.W,{Symbol:T}),s(s.S,'Symbol',q),s(s.S+s.F*!I,'Object',{create:z,defineProperty:O,defineProperties:H,getOwnPropertyDescriptor:W,getOwnPropertyNames:V,getOwnPropertySymbols:G}),_&&s(s.S+s.F*(!I||j),'JSON',{stringify:K}),p(T,'Symbol'),p(Math,'Math',!0),p(r.JSON,'JSON',!0)},function(e,t,n){n(603),n(598),e.exports=n(45).Symbol},function(e,t,n){e.exports={default:n(604),__esModule:!0}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e){e.exports=function(){}},function(e,t,n){'use strict';var o=n(607),r=n(606),i=n(94),a=n(93);e.exports=n(229)(Array,'Array',function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):'keys'==t?r(0,n):'values'==t?r(0,e[n]):r(0,[n,e[n]])},'values'),i.Arguments=i.Array,o('keys'),o('values'),o('entries')},function(e,t,n){'use strict';var o=n(37),r=n(158),i=n(156),a={};n(159)(a,n(60)('iterator'),function(){return this}),e.exports=function(e,t,n){e.prototype=o.create(a,{next:r(1,n)}),i(e,t+' Iterator')}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){var o=n(610),r=n(162);e.exports=function(e){return function(t,n){var d=r(t)+'',s=o(n),i=d.length,l,a;return 0>s||s>=i?e?'':void 0:(l=d.charCodeAt(s),55296>l||56319<l||s+1===i||56320>(a=d.charCodeAt(s+1))||57343<a?e?d.charAt(s):l:e?d.slice(s,s+2):(l-55296<<10)+(a-56320)+65536)}}},function(e,t,n){n(160),n(155),e.exports=n(60)('iterator')},function(e,t,n){e.exports={default:n(612),__esModule:!0}},function(e,t,n){var o=n(37);e.exports=function(e,t,n){return o.setDesc(e,t,n)}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e,t,n){var o=n(163);n(161)('getPrototypeOf',function(e){return function(t){return e(o(t))}})},function(e,t,n){n(616),e.exports=n(45).Object.getPrototypeOf},function(e,t,n){'use strict';function o(e,t){const n=t>e?t+1:t-1;return u.range(e,n)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(43),a=n(317),s=n(69),d=n(152),l=n(575),c=n(220),p=n(68),u=n(574);class m extends r.Component{constructor(e){super(e),this.focusItem=null,this.fakeScroll=null,this.scrollToRow=-1,this.focusRow=-1,this.gridStyle={overflowX:'hidden'},this.lastScroll=null,this.list=null,this.grid=null,this.resizeObserver=null,this.updateSizeTimeoutId=null,this.onResized=(e)=>{this.updateSizeTimeoutId=null;const[t,n]=[e.offsetWidth,e.offsetHeight];(this.state.width!==t||this.state.height!==n)&&this.setState({width:t,height:n})},this.onSelectAll=(e)=>{const t=this.props.selectionMode;if(('range'===t||'multi'===t)&&(e.preventDefault(),!(0>=this.props.rowCount))){const e={kind:'select-all'},n=0,r=this.props.rowCount-1;if(this.props.onSelectionChanged){const t=o(n,r);this.props.onSelectionChanged(t,e)}'range'===t&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(n,r,e)}},this.onRef=(e)=>{null===e&&null!==this.list&&this.list.removeEventListener('select-all',this.onSelectAll),this.list=e,null!==e&&e.addEventListener('select-all',this.onSelectAll),this.resizeObserver&&(this.resizeObserver.disconnect(),null===e?this.setState({width:void 0,height:void 0}):this.resizeObserver.observe(e))},this.onKeyDown=(e)=>{this.props.selectedRows.forEach((t)=>{this.props.onRowKeyDown&&this.props.onRowKeyDown(t,e)});e.defaultPrevented||('ArrowDown'===e.key?(e.shiftKey&&this.props.selectionMode&&'single'!==this.props.selectionMode?this.addSelection('down',e):this.moveSelection('down',e),e.preventDefault()):'ArrowUp'===e.key?(e.shiftKey&&this.props.selectionMode&&'single'!==this.props.selectionMode?this.addSelection('up',e):this.moveSelection('up',e),e.preventDefault()):'a'===e.key&&e.ctrlKey&&this.onSelectAll(e))},this.onRowKeyDown=(e,t)=>{this.props.onRowKeyDown&&this.props.onRowKeyDown(e,t),t.defaultPrevented||'Enter'!==t.key&&' '!==t.key||(this.toggleSelection(t),t.preventDefault())},this.onFocusContainerKeyDown=(e)=>{e.defaultPrevented||'Enter'!==e.key&&' '!==e.key||(this.toggleSelection(e),e.preventDefault())},this.toggleSelection=(e)=>{this.props.selectedRows.forEach((t)=>{if(this.props.onRowClick){const{rowCount:n}=this.props;return 0>t||t>=n?void log.debug(`[List.toggleSelection] unable to onRowClick for row ${t} as it is outside the bounds of the array [0, ${n}]`):void this.props.onRowClick(t,{kind:'keyboard',event:e})}})},this.onRowMouseOver=(e,t)=>{this.props.selectOnHover&&this.canSelectRow(e)&&this.props.selectedRows.includes(e)&&this.props.onSelectionChanged&&(this.props.onSelectionChanged([e],{kind:'hover',event:t}),this.scrollRowToVisible(e))},this.canSelectRow=(e)=>!this.props.canSelectRow||this.props.canSelectRow(e),this.onFocusedItemRef=(e)=>{this.focusItem=e},this.renderRow=(e)=>{const t=e.rowIndex,n=this.canSelectRow(t),o=-1!==this.props.selectedRows.indexOf(t),i=t===this.focusRow;let a;n&&(a=o&&this.props.selectedRows[0]===t?0:-1);const s=i?this.onFocusedItemRef:void 0,d=this.props.rowRenderer(e.rowIndex),c=this.state.rowIdPrefix?`${this.state.rowIdPrefix}-${t}`:void 0;return r.createElement(l.ListRow,{key:e.key,id:c,onRef:s,rowCount:this.props.rowCount,rowIndex:t,selected:o,ariaMode:this.props.ariaMode,onRowClick:this.onRowClick,onRowKeyDown:this.onRowKeyDown,onRowMouseDown:this.onRowMouseDown,onRowMouseOver:this.onRowMouseOver,style:e.style,tabIndex:a,children:d,selectable:n})},this.onGridRef=(e)=>{this.grid=e},this.onFakeScrollRef=(e)=>{this.fakeScroll=e},this.onFakeScroll=(t)=>{if('grid'===this.lastScroll)return void(this.lastScroll=null);if(this.lastScroll='fake',this.grid){const e=i.findDOMNode(this.grid);e instanceof Element&&(e.scrollTop=t.currentTarget.scrollTop)}},this.onRowMouseDown=(e,t)=>{if(this.canSelectRow(e)){this.props.onRowMouseDown&&this.props.onRowMouseDown(e,t);const n=2===t.button||!1;if(n&&this.props.selectedRows.includes(e))return;const r=t.ctrlKey;if(t.shiftKey&&this.props.selectedRows.length&&this.props.selectionMode&&'single'!==this.props.selectionMode){const n=this.props.selectedRows[0];if(this.props.onSelectionChanged){const r=o(n,e);this.props.onSelectionChanged(r,{kind:'mouseclick',event:t})}'range'===this.props.selectionMode&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(n,e,{kind:'mouseclick',event:t})}else if(r&&'multi'===this.props.selectionMode){if(this.props.onSelectionChanged){let n;if(this.props.selectedRows.includes(e)){if(1===this.props.selectedRows.length)return;n=this.props.selectedRows.filter((t)=>t!==e)}else n=[...this.props.selectedRows,e];this.props.onSelectionChanged(n,{kind:'mouseclick',event:t})}}else if((1!==this.props.selectedRows.length||1===this.props.selectedRows.length&&e!==this.props.selectedRows[0])&&(this.props.onSelectionChanged&&this.props.onSelectionChanged([e],{kind:'mouseclick',event:t}),this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(e,e,{kind:'mouseclick',event:t}),this.props.onSelectedRowChanged)){const{rowCount:n}=this.props;if(0>e||e>=n)return void log.debug(`[List.onRowMouseDown] unable to onSelectedRowChanged for row '${e}' as it is outside the bounds of the array [0, ${n}]`);this.props.onSelectedRowChanged(e,{kind:'mouseclick',event:t})}}},this.onRowClick=(e,t)=>{if(this.canSelectRow(e)&&this.props.onRowClick){const n=this.props.rowCount;if(0>e||e>=n)return void log.debug(`[List.onRowClick] unable to onRowClick for row ${e} as it is outside the bounds of the array [0, ${n}]`);this.props.onRowClick(e,{kind:'mouseclick',event:t})}},this.onScroll=({scrollTop:e,clientHeight:t})=>{if(this.props.onScroll&&this.props.onScroll(e,t),this.fakeScroll){if('fake'===this.lastScroll)return void(this.lastScroll=null);this.lastScroll='grid',this.fakeScroll.scrollTop=e}},0<e.selectedRows.length&&(this.scrollToRow=e.selectedRows[0]),this.state={};const t=window.ResizeObserver;(ResizeObserver||!1)&&(this.resizeObserver=new t((e)=>{for(const t of e)t.target===this.list&&(null!==this.updateSizeTimeoutId&&clearImmediate(this.updateSizeTimeoutId),this.updateSizeTimeoutId=setImmediate(this.onResized,t.target,t.contentRect))}))}addSelection(e,t){if(0===this.props.selectedRows.length)return this.moveSelection(e,t);const n=this.props.selectedRows[this.props.selectedRows.length-1],r=this.props.selectedRows[0],i=c.findNextSelectableRow(this.props.rowCount,{direction:e,row:n,wrap:!1},this.canSelectRow);if(null!=i){if(this.props.onSelectionChanged){const e=o(r,i);this.props.onSelectionChanged(e,{kind:'keyboard',event:t})}'range'===this.props.selectionMode&&this.props.onSelectedRangeChanged&&this.props.onSelectedRangeChanged(r,i,{kind:'keyboard',event:t}),this.scrollRowToVisible(i)}}moveSelection(e,t){const n=0<this.props.selectedRows.length?this.props.selectedRows[this.props.selectedRows.length-1]:-1,o=c.findNextSelectableRow(this.props.rowCount,{direction:e,row:n},this.canSelectRow);if(null!=o){if(this.props.onSelectionChanged&&this.props.onSelectionChanged([o],{kind:'keyboard',event:t}),this.props.onSelectedRowChanged){const e=this.props.rowCount;if(0>o||o>=e)return void log.debug(`[List.moveSelection] unable to onSelectedRowChanged for row '${o}' as it is outside the bounds of the array [0, ${e}]`);this.props.onSelectedRowChanged(o,{kind:'keyboard',event:t})}this.scrollRowToVisible(o)}}scrollRowToVisible(e){this.scrollToRow=e,!1!==this.props.focusOnHover&&(this.focusRow=e),this.forceUpdate()}componentDidUpdate(e,t){if(0<=this.focusRow&&this.focusItem)this.focusItem.focus(),this.focusRow=-1,this.forceUpdate();else if(this.grid){const n=this.props.rowCount!==e.rowCount||this.state.width!==t.width||this.state.height!==t.height;if(!n){const t=!s.arrayEquals(e.selectedRows,this.props.selectedRows),n=!s.shallowEquals(e.invalidationProps,this.props.invalidationProps);(t||n)&&this.grid.forceUpdate()}}}componentWillMount(){this.setState({rowIdPrefix:p.createUniqueId('ListRow')})}componentWillUnmount(){null!==this.updateSizeTimeoutId&&(clearImmediate(this.updateSizeTimeoutId),this.updateSizeTimeoutId=null),this.resizeObserver&&this.resizeObserver.disconnect(),this.state.rowIdPrefix&&p.releaseUniqueId(this.state.rowIdPrefix)}render(){let e=this.resizeObserver?this.state.width&&this.state.height?this.renderContents(this.state.width,this.state.height):null:r.createElement(a.AutoSizer,{disableWidth:!0,disableHeight:!0},({width:e,height:t})=>this.renderContents(e,t));const t=this.props.selectedRows.length&&this.state.rowIdPrefix?`${this.state.rowIdPrefix}-${this.props.selectedRows[this.props.selectedRows.length-1]}`:void 0,n='menu'===this.props.ariaMode?'menu':'listbox';return r.createElement('div',{ref:this.onRef,id:this.props.id,className:'list',onKeyDown:this.onKeyDown,role:n,"aria-activedescendant":t},e)}renderContents(e,t){return r.createElement(r.Fragment,null,this.renderGrid(e,t),this.renderFakeScroll(t))}renderGrid(e,t){let n=this.props.scrollToRow;n===void 0&&(n=this.scrollToRow),this.scrollToRow=-1,this.props.setScrollTop!==void 0&&(n=-1);const o=1>this.props.selectedRows.length&&0<this.props.rowCount?0:-1;return r.createElement(d.FocusContainer,{className:'list-focus-container',onKeyDown:this.onFocusContainerKeyDown},r.createElement(a.Grid,{"aria-label":'',role:'',ref:this.onGridRef,autoContainerWidth:!0,width:e,height:t,columnWidth:e,columnCount:1,rowCount:this.props.rowCount,rowHeight:this.props.rowHeight,cellRenderer:this.renderRow,onScroll:this.onScroll,scrollToRow:n,scrollTop:this.props.setScrollTop,overscanRowCount:4,style:this.gridStyle,tabIndex:o}))}renderFakeScroll(e){let t=0;if('number'==typeof this.props.rowHeight)t=this.props.rowHeight*this.props.rowCount;else for(let e=0;e<this.props.rowCount;e++)t+=this.props.rowHeight({index:e});return r.createElement('div',{className:'fake-scroll',ref:this.onFakeScrollRef,style:{height:e},onScroll:this.onFakeScroll},r.createElement('div',{style:{height:t,pointerEvents:'none'}}))}focus(){if(0<this.props.selectedRows.length&&this.props.selectedRows[this.props.selectedRows.length-1]<this.props.rowCount)this.scrollRowToVisible(this.props.selectedRows[this.props.selectedRows.length-1]);else if(this.grid){const e=i.findDOMNode(this.grid);e&&e.focus()}}forceUpdate(e){super.forceUpdate(e);const t=this.grid;t&&t.forceUpdate()}}t.List=m},function(e,t,n){'use strict';function o(e,t){const n=new Map,o=new Set;for(const a of e){const e=a instanceof i.Repository?a.gitHubRepository:null;let t=s.NonGitHub;e?e.endpoint===r.getDotComAPIEndpoint()?(t=e.owner.login,o.add(t)):t=s.Enterprise:t=s.NonGitHub;let d=n.get(t);d||(d=[],n.set(t,d)),d.push(a)}const l=[],c=(e)=>{const o=n.get(e);if(!o||0===o.length)return;const c=new Map;for(const t of o){const e=c.get(t.name)||0;c.set(t.name,e+1)}o.sort((e,t)=>a.caseInsensitiveCompare(e.name,t.name));const r=o.map((n)=>{const o=c.get(n.name)||0,{aheadBehind:a,changedFilesCount:l}=t.get(n.id)||d,p=n instanceof i.Repository?[n.name,i.nameOf(n)]:[n.name];return{text:p,id:n.id.toString(),repository:n,needsDisambiguation:1<o&&e===s.Enterprise,aheadBehind:a,changedFilesCount:l}});l.push({identifier:e,items:r})},p=[...o.values()];return p.sort(a.caseInsensitiveCompare),p.forEach(c),c(s.Enterprise),c(s.NonGitHub),l}Object.defineProperty(t,'__esModule',{value:!0});const i=n(26),r=n(10),a=n(47);var s;(function(e){e.Enterprise='_Enterprise_',e.NonGitHub='_Non-GitHub_'})(s=t.KnownRepositoryGroup||(t.KnownRepositoryGroup={}));const d={changedFilesCount:0,aheadBehind:null};t.groupRepositories=o,t.makeRecentRepositoriesGroup=function(e,t,n){const o=new Map;for(const i of e){const e=t.find((e)=>e.id===i);if(e!==void 0){const t=o.get(e.name)||0;o.set(e.name,t+1)}}const r=[];for(const a of e){const e=t.find((e)=>e.id===a);if(void 0===e)continue;const{aheadBehind:s,changedFilesCount:l}=n.get(a)||d,c=e instanceof i.Repository?[e.name,i.nameOf(e)]:[e.name],p=o.get(e.name)||0;r.push({text:c,id:a.toString(),repository:e,needsDisambiguation:1<p,aheadBehind:s,changedFilesCount:l})}return{identifier:'Recent',items:r}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(26),i=n(4),a=n(27),s=n(96),d=n(78);class l extends o.Component{constructor(){super(...arguments),this.onContextMenu=(e)=>{e.preventDefault();const t=this.props.repository,n=t instanceof r.Repository&&t.missing,o=this.props.externalEditorLabel?`Open in ${this.props.externalEditorLabel}`:d.DefaultEditorLabel,i=[{label:`Open in ${this.props.shellLabel}`,action:this.openInShell,enabled:!n},{label:d.RevealInFileManagerLabel,action:this.showRepository,enabled:!n},{label:o,action:this.openInExternalEditor,enabled:!n},{type:'separator'},{label:this.props.askForConfirmationOnRemoveRepository?'Remove\u2026':'Remove',action:this.removeRepository}];a.showContextualMenu(i)},this.removeRepository=()=>{this.props.onRemoveRepository(this.props.repository)},this.showRepository=()=>{this.props.onShowRepository(this.props.repository)},this.openInShell=()=>{this.props.onOpenInShell(this.props.repository)},this.openInExternalEditor=()=>{this.props.onOpenInExternalEditor(this.props.repository)}}render(){const e=this.props.repository,t=e.path,n=e instanceof r.Repository?e.gitHubRepository:null,a=0<this.props.changedFilesCount,d=n?n.fullName+'\n'+n.htmlURL+'\n'+t:t;let l=null;return this.props.needsDisambiguation&&n&&(l=`${n.owner.login}/`),o.createElement('div',{onContextMenu:this.onContextMenu,className:'repository-list-item',title:d},o.createElement(i.Octicon,{className:'icon-for-repository',symbol:i.iconForRepository(e)}),o.createElement('div',{className:'name'},l?o.createElement('span',{className:'prefix'},l):null,o.createElement(s.HighlightText,{text:e.name,highlight:this.props.matches.title})),e instanceof r.Repository&&c({aheadBehind:this.props.aheadBehind,hasChanges:a}))}shouldComponentUpdate(e){return!(e.repository instanceof r.Repository&&this.props.repository instanceof r.Repository)||e.repository.id!==this.props.repository.id||e.matches!==this.props.matches}}t.RepositoryListItem=l;const c=(e)=>o.createElement('div',{className:'repo-indicators'},e.aheadBehind&&p(e.aheadBehind),e.hasChanges&&u()),p=(e)=>{const{ahead:t,behind:n}=e;if(0===t&&0===n)return null;const r='The currently checked out branch is'+(n?` ${m(n)} behind `:'')+(n&&t?'and':'')+(t?` ${m(t)} ahead of `:'')+'its tracked branch.';return o.createElement('div',{className:'ahead-behind',title:r},0<t&&o.createElement(i.Octicon,{symbol:i.OcticonSymbol.arrowSmallUp}),0<n&&o.createElement(i.Octicon,{symbol:i.OcticonSymbol.arrowSmallDown}))},u=()=>o.createElement('div',{className:'change-indicator-wrapper',title:'There are uncommitted changes in this repository'},o.createElement(i.Octicon,{symbol:i.OcticonSymbol.primitiveDot})),m=(e)=>`${e} commit${1<e?'s':''}`},function(e,t,n){'use strict';function o(e,t){if(null!==t)for(const n of e)for(const e of n.items)if(e.repository.id===t.id)return e;return null}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(620),a=n(619),s=n(120),d=n(12),l=n(4),c=n(27),p=n(24),u=n(34),m=n(67),h=u.encodePathAsUrl(__dirname,'static/empty-no-repo.svg');class f extends r.Component{constructor(){super(...arguments),this.getRepositoryGroups=m.default((e,t)=>null===e?[]:a.groupRepositories(e,t)),this.getSelectedListItem=m.default(o),this.renderItem=(e,t)=>{const n=e.repository;return r.createElement(i.RepositoryListItem,{key:n.id,repository:n,needsDisambiguation:e.needsDisambiguation,askForConfirmationOnRemoveRepository:this.props.askForConfirmationOnRemoveRepository,onRemoveRepository:this.props.onRemoveRepository,onShowRepository:this.props.onShowRepository,onOpenInShell:this.props.onOpenInShell,onOpenInExternalEditor:this.props.onOpenInExternalEditor,externalEditorLabel:this.props.externalEditorLabel,shellLabel:this.props.shellLabel,matches:t,aheadBehind:e.aheadBehind,changedFilesCount:e.changedFilesCount})},this.renderGroupHeader=(e)=>{const t=e,n=this.getGroupLabel(t);return r.createElement('div',{key:t,className:'filter-list-group-header'},n)},this.onItemClick=(e)=>{const t=0<e.changedFilesCount||null!==e.aheadBehind&&(0<e.aheadBehind.ahead||0<e.aheadBehind.behind);this.props.dispatcher.recordRepoClicked(t),this.props.onSelectionChanged(e.repository)},this.renderPostFilter=()=>r.createElement(d.Button,{className:'new-repository-button',onClick:this.onNewRepositoryButtonClick},'Add',r.createElement(l.Octicon,{symbol:l.OcticonSymbol.triangleDown})),this.renderNoItems=()=>r.createElement('div',{className:'no-items no-results-found'},r.createElement('img',{src:h,className:'blankslate-image'}),r.createElement('div',{className:'title'},'Sorry, I can\'t find that repository'),r.createElement('div',{className:'protip'},'ProTip! Press ',this.renderAddLocalShortcut(),' to quickly add a local repository, and ',this.renderCloneRepositoryShortcut(),' to clone from anywhere within the app')),this.onNewRepositoryButtonClick=()=>{const e=[{label:'Clone repository\u2026',action:this.onCloneRepository},{label:'Create new repository\u2026',action:this.onCreateNewRepository},{label:'Add existing repository\u2026',action:this.onAddExistingRepository}];c.showContextualMenu(e)},this.onCloneRepository=()=>{this.props.dispatcher.showPopup({type:p.PopupType.CloneRepository,initialURL:null})},this.onAddExistingRepository=()=>{this.props.dispatcher.showPopup({type:p.PopupType.AddRepository})},this.onCreateNewRepository=()=>{this.props.dispatcher.showPopup({type:p.PopupType.CreateRepository})}}getGroupLabel(e){return e===a.KnownRepositoryGroup.Enterprise?'Enterprise':e===a.KnownRepositoryGroup.NonGitHub?'Other':e}render(){const e=this.getRepositoryGroups(this.props.repositories,this.props.localRepositoryStateLookup),t=this.getSelectedListItem(e,this.props.selectedRepository),n=this.props.repositories.length>7?[a.makeRecentRepositoriesGroup(this.props.recentRepositories,this.props.repositories,this.props.localRepositoryStateLookup),...e]:e;return r.createElement('div',{className:'repository-list'},r.createElement(s.FilterList,{rowHeight:29,selectedItem:t,filterText:this.props.filterText,onFilterTextChanged:this.props.onFilterTextChanged,renderItem:this.renderItem,renderGroupHeader:this.renderGroupHeader,onItemClick:this.onItemClick,renderPostFilter:this.renderPostFilter,renderNoItems:this.renderNoItems,groups:n,invalidationProps:{repositories:this.props.repositories,filterText:this.props.filterText}}))}renderAddLocalShortcut(){return r.createElement('div',{className:'kbd-shortcut'},r.createElement('kbd',null,'Ctrl'),' + ',r.createElement('kbd',null,'O'))}renderCloneRepositoryShortcut(){return r.createElement('div',{className:'kbd-shortcut'},r.createElement('kbd',null,'Ctrl'),' + ',r.createElement('kbd',null,'Shift'),' + ',r.createElement('kbd',null,'O'))}}t.RepositoriesList=f},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(621);t.RepositoriesList=o.RepositoriesList},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(88),i=100,a=250,s=3e3;class d extends o.Component{constructor(e){super(e),this.infoDisappearTimeoutId=null,this.transitionGroupDisappearTimeoutId=null,this.onInfoDisappearTimeout=()=>{this.setState({renderInfo:!1})},this.onTransitionGroupDisappearTimeout=()=>{this.setState({renderTransitionGroup:!1})},this.state={renderInfo:!1,renderTransitionGroup:!1}}componentWillReceiveProps(e){e.windowState===this.props.windowState||(null!==this.infoDisappearTimeoutId&&window.clearTimeout(this.infoDisappearTimeoutId),null!==this.transitionGroupDisappearTimeoutId&&window.clearTimeout(this.transitionGroupDisappearTimeoutId),'full-screen'===e.windowState?(this.infoDisappearTimeoutId=window.setTimeout(this.onInfoDisappearTimeout,s),this.transitionGroupDisappearTimeoutId=window.setTimeout(this.onTransitionGroupDisappearTimeout,i+s+a),this.setState({renderTransitionGroup:!0,renderInfo:!0})):(this.state.renderInfo||this.state.renderTransitionGroup)&&this.setState({renderTransitionGroup:!1,renderInfo:!1}))}renderFullScreenNotification(){if(!this.state.renderInfo)return null;const e='F11';return o.createElement('div',{key:'notification',className:'toast-notification'},'Press ',o.createElement('kbd',null,e),' to exit fullscreen')}render(){return this.state.renderTransitionGroup?o.createElement(r.CSSTransitionGroup,{className:'toast-notification-container',transitionName:'toast-animation',component:'div',transitionAppear:!0,transitionEnter:!1,transitionLeave:!0,transitionAppearTimeout:i,transitionLeaveTimeout:a},this.renderFullScreenNotification()):null}}t.FullScreenInfo=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(88),i=100,a=750;class s extends o.Component{constructor(e){super(e),this.infoDisappearTimeoutId=null,this.transitionGroupDisappearTimeoutId=null,this.onInfoDisappearTimeout=()=>{this.setState({renderInfo:!1})},this.onTransitionGroupDisappearTimeout=()=>{this.setState({renderTransitionGroup:!1})},this.state={windowZoomFactor:e.windowZoomFactor,renderTransitionGroup:!1,renderInfo:!1,transitionName:'zoom-in'}}componentWillReceiveProps(e){const t=this.state.windowZoomFactor!==e.windowZoomFactor;if(t){null!==this.infoDisappearTimeoutId&&window.clearTimeout(this.infoDisappearTimeoutId),null!==this.transitionGroupDisappearTimeoutId&&window.clearTimeout(this.transitionGroupDisappearTimeoutId),this.infoDisappearTimeoutId=window.setTimeout(this.onInfoDisappearTimeout,a),this.transitionGroupDisappearTimeoutId=window.setTimeout(this.onTransitionGroupDisappearTimeout,i+a+i);const n=e.windowZoomFactor>this.state.windowZoomFactor?'zoom-in':'zoom-out';this.setState({windowZoomFactor:e.windowZoomFactor,renderTransitionGroup:t,renderInfo:t,transitionName:n})}}renderZoomInfo(){if(!this.state.renderInfo)return null;const e=`${(100*this.state.windowZoomFactor).toFixed(0)}%`;return o.createElement('div',null,o.createElement('span',null,e))}render(){return this.state.renderTransitionGroup?o.createElement(r.CSSTransitionGroup,{id:'window-zoom-info',transitionName:this.state.transitionName,component:'div',transitionAppear:!0,transitionEnter:!1,transitionLeave:!0,transitionAppearTimeout:i,transitionLeaveTimeout:i},this.renderZoomInfo()):null}}t.ZoomInfo=s},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(23),r=n(233),i=n(2);t.iconForStatus=function(e){switch(e.kind){case o.AppFileStatusKind.New:case o.AppFileStatusKind.Untracked:return r.OcticonSymbol.diffAdded;case o.AppFileStatusKind.Modified:return r.OcticonSymbol.diffModified;case o.AppFileStatusKind.Deleted:return r.OcticonSymbol.diffRemoved;case o.AppFileStatusKind.Renamed:return r.OcticonSymbol.diffRenamed;case o.AppFileStatusKind.Conflicted:if(o.isConflictWithMarkers(e)){const t=e.conflictMarkerCount;return 0<t?r.OcticonSymbol.alert:r.OcticonSymbol.check}return r.OcticonSymbol.alert;case o.AppFileStatusKind.Copied:return r.OcticonSymbol.diffAdded;}return i.assertNever(e,`Unknown file status ${e}`)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(4),r=n(103);t.iconForRepository=function(e){if(e instanceof r.CloningRepository)return o.OcticonSymbol.desktopDownload;if(e.missing)return o.OcticonSymbol.alert;const t=e.gitHubRepository;return t?t.isPrivate?o.OcticonSymbol.lock:t.fork?o.OcticonSymbol.repoForked:o.OcticonSymbol.repo:o.OcticonSymbol.deviceDesktop}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(5),i=n(68);class a extends o.Component{constructor(){super(...arguments),this.titleId=null}componentWillUnmount(){null!==this.titleId&&i.releaseUniqueId(this.titleId)}render(){const{symbol:e,title:t}=this.props,n=`0 0 ${e.w} ${e.h}`,a=r('octicon',this.props.className);let s=null,d;t&&0<t.length&&(null===this.titleId&&(this.titleId=i.createUniqueId('Octicon_Title')),d=this.titleId,s=o.createElement('title',{id:this.titleId},t));const l=d===void 0?'true':void 0;return o.createElement('svg',{"aria-labelledby":d,"aria-hidden":l,className:a,version:'1.1',viewBox:n},s,o.createElement('path',{d:e.d}))}}t.Octicon=a},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(0),r=n(22),i=n(245),a=n(5);class s extends o.Component{constructor(){super(...arguments),this.onWindowStateChanged=(e,t)=>{this.setState({windowState:t})},this.onMinimize=()=>{r.remote.getCurrentWindow().minimize()},this.onMaximize=()=>{r.remote.getCurrentWindow().maximize()},this.onRestore=()=>{r.remote.getCurrentWindow().unmaximize()},this.onClose=()=>{r.remote.getCurrentWindow().close()}}componentWillMount(){this.setState({windowState:i.getWindowState(r.remote.getCurrentWindow())}),r.ipcRenderer.on(i.windowStateChannelName,this.onWindowStateChanged)}componentWillUnmount(){r.ipcRenderer.removeListener(i.windowStateChannelName,this.onWindowStateChanged)}shouldComponentUpdate(e,t){return t.windowState!==this.state.windowState}renderButton(e,t,n){const r=a('window-control',e),i=e[0].toUpperCase()+e.substring(1);return o.createElement('button',{"aria-label":e,title:i,tabIndex:-1,className:r,onClick:t},o.createElement('svg',{"aria-hidden":'true',version:'1.1',width:'10',height:'10'},o.createElement('path',{d:n})))}render(){const e=this.renderButton('minimize',this.onMinimize,'M 0,5 10,5 10,6 0,6 Z'),t='maximized'===this.state.windowState?this.renderButton('restore',this.onRestore,'m 2,1e-5 0,2 -2,0 0,8 8,0 0,-2 2,0 0,-8 z m 1,1 6,0 0,6 -1,0 0,-5 -5,0 z m -2,2 6,0 0,6 -6,0 z'):this.renderButton('maximize',this.onMaximize,'M 0,0 0,10 10,10 10,0 Z M 1,1 9,1 9,9 1,9 Z'),n=this.renderButton('close',this.onClose,'M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z');return o.createElement('div',{className:'window-controls'},e,t,n)}}t.WindowControls=s},function(e,t,n){'use strict';function o(e){return{style:void 0}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(0),i=n(22),a=n(628),s=n(4);class d extends r.Component{constructor(e){super(e),this.onTitlebarDoubleClickDarwin=()=>{const e=i.remote.systemPreferences.getUserDefault('AppleActionOnDoubleClick','string'),t=i.remote.getCurrentWindow();'Maximize'===e?t.isMaximized()?t.unmaximize():t.maximize():'Minimize'===e?t.minimize():void 0},this.state=o(e)}componentWillReceiveProps(){}render(){const e='full-screen'===this.props.windowState,t='maximized'===this.props.windowState,n=!e?r.createElement(a.WindowControls,null):null,o=!t?r.createElement('div',{className:'resize-handle top'}):null,i=!t?r.createElement('div',{className:'resize-handle left'}):null,d='light'===this.props.titleBarStyle?'light-title-bar':'',l=this.props.showAppIcon?r.createElement(s.Octicon,{className:'app-icon',symbol:s.OcticonSymbol.markGithub}):null,c=(!1,void 0);return r.createElement('div',{className:d,id:'desktop-app-title-bar',onDoubleClick:c,style:this.state.style},o,i,l,this.props.children,n)}}t.TitleBar=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(629);t.TitleBar=o.TitleBar;var r=n(624);t.ZoomInfo=r.ZoomInfo;var i=n(623);t.FullScreenInfo=i.FullScreenInfo},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(56),r='has-seen-usage-stats-note';t.hasSeenUsageStatsNote=function(){return o.getBoolean(r,!1)},t.markUsageStatsNoteSeen=function(){o.setBoolean(r,!0)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=120000;t.PullRequestUpdater=class{constructor(e,t,n){this.repository=e,this.account=t,this.coordinator=n,this.timeoutId=null,this.running=!1}start(){this.running||(this.running=!0,this.scheduleTick(n))}getTimeSinceLastRefresh(){const e=this.coordinator.getLastRefreshed(this.repository),t=e===void 0?Infinity:Date.now()-e;return t}scheduleTick(e=1800000){if(this.running){const t=Math.max(e-this.getTimeSinceLastRefresh(),0);this.timeoutId=window.setTimeout(()=>this.tick(),t)}}tick(){this.running&&(this.timeoutId=null,this.getTimeSinceLastRefresh()<n&&this.scheduleTick(),this.coordinator.refreshPullRequests(this.repository,this.account).catch(()=>{}).then(()=>this.scheduleTick()))}stop(){this.running&&(null!==this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null),this.running=!1)}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.PullRequestRef=class{constructor(e,t,n){this.ref=e,this.sha=t,this.gitHubRepository=n}};t.PullRequest=class{constructor(e,t,n,o,r,i){this.created=e,this.title=t,this.pullRequestNumber=n,this.head=o,this.base=r,this.author=i}}},function(e,t,n){'use strict';function o(e){const t=e.owner.login,n=e.name;return{name:n,owner:t}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(295),i=n(235),a=n(10),s=n(2),d=n(633),l=n(69),c=n(49),p=n(179);t.PullRequestStore=class{constructor(e,t){this.db=e,this.repositoryStore=t,this.emitter=new c.Emitter,this.currentRefreshOperations=new Map,this.lastRefreshForRepository=new Map}emitPullRequestsChanged(e,t){this.emitter.emit('onPullRequestsChanged',{repository:e,pullRequests:t})}onPullRequestsChanged(e){return this.emitter.on('onPullRequestsChanged',(t)=>{const{repository:n,pullRequests:o}=t;e(n,o)})}refreshPullRequests(e,t){const n=e.dbID;if(null===n)return Promise.resolve();const o=this.currentRefreshOperations.get(n);if(void 0!==o)return o;this.lastRefreshForRepository.set(n,Date.now());const r=this.fetchAndStorePullRequests(e,t).catch((t)=>{log.error(`Error refreshing pull requests for '${e.fullName}'`,t)}).then(()=>{this.currentRefreshOperations.delete(n)});return this.currentRefreshOperations.set(n,r),r}async fetchAndStorePullRequests(e,t){const n=a.API.fromAccount(t),o=await this.db.getLastUpdated(e);return o?this.fetchAndStoreUpdatedPullRequests(n,e,o):this.fetchAndStoreOpenPullRequests(n,e)}async fetchAndStoreOpenPullRequests(e,t){const{name:n,owner:r}=o(t),i=await e.fetchAllOpenPullRequests(r,n);await this.storePullRequestsAndEmitUpdate(i,t)}async fetchAndStoreUpdatedPullRequests(e,t,n){const{name:r,owner:i}=o(t),s=await e.fetchUpdatedPullRequests(i,r,n).catch((t)=>t instanceof a.MaxResultsError||t instanceof p.APIError?Promise.resolve(null):Promise.reject(t));return null===s?void(await this.db.deleteAllPullRequestsInRepository(t),await this.fetchAndStoreOpenPullRequests(e,t)):await this.storePullRequestsAndEmitUpdate(s,t)}getLastRefreshed(e){return e.dbID?this.lastRefreshForRepository.get(e.dbID):void 0}async getAll(e){if(null===e.dbID)return[];const t=await this.db.getAllPullRequestsInRepository(e),n=[],o=this.repositoryStore,i=r.default(o.findGitHubRepositoryByID.bind(o));for(const o of t){const e=await i(o.head.repoId),t=await i(o.base.repoId);if(null===e)return s.fatalError('head repository can\'t be null');if(null===t)return s.fatalError('base repository can\'t be null');n.push(new d.PullRequest(new Date(o.createdAt),o.title,o.number,new d.PullRequestRef(o.head.ref,o.head.sha,e),new d.PullRequestRef(o.base.ref,o.base.sha,t),o.author))}return n.reverse()}async storePullRequestsAndEmitUpdate(e,t){(await this.storePullRequests(e,t))&&this.emitPullRequestsChanged(t,(await this.getAll(t)))}async storePullRequests(e,t){if(0===e.length)return!1;let n=e[0].updated_at;const o=[],a=[],{endpoint:d}=t,c=this.repositoryStore,p=r.default(c.upsertGitHubRepository.bind(c),{cacheKey:(e,t)=>t.clone_url});for(const r of e){if(r.updated_at>n&&(n=r.updated_at),null===r.base.repo)return s.fatalError('PR cannot have a null base repo');const e=await p(d,r.base.repo);if(null===e.dbID)return s.fatalError('PR cannot have a null parent database id');if('closed'===r.state){o.push(i.getPullRequestKey(e,r.number));continue}if(null==r.head.repo){log.debug(`Unable to store pull request #${r.number} for repository ${t.fullName} as it has no head repository associated with it`),o.push(i.getPullRequestKey(e,r.number));continue}const l=await p(d,r.head.repo);if(null===l.dbID)return s.fatalError('PR cannot have non-existent repo');a.push({number:r.number,title:r.title,createdAt:r.created_at,updatedAt:r.updated_at,head:{ref:r.head.ref,sha:r.head.sha,repoId:l.dbID},base:{ref:r.base.ref,sha:r.base.sha,repoId:e.dbID},author:r.user.login})}if(0===o.length&&1===a.length){const e=a[0],n=await this.db.getPullRequest(t,e.number);if(void 0!==n&&l.structuralEquals(e,n))return!1}return await this.db.transaction('rw',this.db.pullRequests,this.db.pullRequestsLastUpdated,async()=>{await this.db.deletePullRequests(o),await this.db.putPullRequests(a),await this.db.setLastUpdated(t,new Date(n))}),!0}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.minimumSupportedEnterpriseVersion='2.8.0'},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(42),r=new Set(['https:','http:']);t.InvalidURLErrorName='invalid-url',t.InvalidProtocolErrorName='invalid-protocol',t.validateURL=function(e){const n=e.trim();if(0===n.length){const e=new Error('Unknown address');throw e.name=t.InvalidURLErrorName,e}let i=o.parse(n);if(i.host||(e=`https://${n}`,i=o.parse(e)),!i.protocol){const e=new Error('Invalid URL');throw e.name=t.InvalidURLErrorName,e}if(!r.has(i.protocol)){const e=new Error('Invalid protocol');throw e.name=t.InvalidProtocolErrorName,e}return e}},function(e,t,n){'use strict';function o(e){return`Unable to authenticate. The account ${e} is lacking a verified email address. Please sign in to GitHub.com, confirm your email address in the Emails section under Personal settings, and try again.`}function r(){return Date.now()<f}Object.defineProperty(t,'__esModule',{value:!0});const i=n(2),a=n(236),s=n(636),d=n(10),l=n(635),c=n(62),p=n(122),u=`The GitHub Enterprise Server version does not support GitHub Desktop. Talk to your server's administrator about upgrading to the latest version of GitHub Enterprise Server.`;var m;(function(e){e.EndpointEntry='EndpointEntry',e.Authentication='Authentication',e.TwoFactorAuthentication='TwoFactorAuthentication',e.Success='Success'})(m=t.SignInStep||(t.SignInStep={}));var h;(function(e){e.Basic='basic',e.Web='web'})(h=t.SignInMethod||(t.SignInMethod={}));const f=Date.parse('2020-11-13T16:00:00.000Z');class g extends c.TypedBaseStore{constructor(){super(...arguments),this.state=null,this.endpointSupportBasicAuth=new Map}emitAuthenticate(e,t){this.emitter.emit('did-authenticate',{account:e,method:t})}onDidAuthenticate(e){return this.emitter.on('did-authenticate',({account:t,method:n})=>{e(t,n)})}emitDotComSupportsBasicAuthUpdated(e){this.emitter.emit('dotComSupportsBasicAuthUpdated',{dotComSupportsBasicAuth:e})}onDotComSupportsBasicAuthUpdated(e){return this.endpointSupportBasicAuth.has(d.getDotComAPIEndpoint())||this.endpointSupportsBasicAuth(d.getDotComAPIEndpoint()).catch(()=>{}),this.emitter.on('dotComSupportsBasicAuthUpdated',({dotComSupportsBasicAuth:t})=>{e(t)})}tryGetDotComSupportsBasicAuth(){const e=this.endpointSupportBasicAuth.get(d.getDotComAPIEndpoint());return e===void 0?r():e}getState(){return this.state}setState(e){this.state=e,this.emitUpdate(this.getState())}async endpointSupportsBasicAuth(e){const t=this.endpointSupportBasicAuth.get(e),n=t===void 0?null:{verifiable_password_authentication:t},o=await p.timeout(d.fetchMetadata(e),2e3,n);if(null!==o){const t=!0===o.verifiable_password_authentication;return this.endpointSupportBasicAuth.set(e,t),e===d.getDotComAPIEndpoint()&&this.emitDotComSupportsBasicAuthUpdated(t),t}if(e===d.getDotComAPIEndpoint()){const e=r();return this.emitDotComSupportsBasicAuthUpdated(e),e}throw new Error(`Unable to authenticate with the GitHub Enterprise Server instance. Verify that the URL is correct, that your GitHub Enterprise Server instance is running version ${l.minimumSupportedEnterpriseVersion} or later, that you have an internet connection and try again.`)}getForgotPasswordURL(e){return`${d.getHTMLURL(e)}/password_reset`}reset(){this.setState(null)}beginDotComSignIn(){const e=d.getDotComAPIEndpoint();this.setState({kind:m.Authentication,endpoint:e,supportsBasicAuth:this.tryGetDotComSupportsBasicAuth(),error:null,loading:!1,forgotPasswordUrl:this.getForgotPasswordURL(e)}),this.endpointSupportsBasicAuth(e).then((t)=>{null!==this.state&&this.state.kind===m.Authentication&&this.state.endpoint===e&&this.setState(Object.assign({},this.state,{supportsBasicAuth:t}))}).catch((e)=>log.error('Failed resolving whether GitHub.com supports password authentication',e))}async authenticateWithBasicAuth(e,t){const n=this.state;if(!n||n.kind!==m.Authentication){const e=n?n.kind:'null';return i.fatalError(`Sign in step '${e}' not compatible with authentication`)}const r=n.endpoint;this.setState(Object.assign({},n,{loading:!0}));let a;try{a=await d.createAuthorization(r,e,t,null)}catch(t){return void this.emitError(t)}if(this.state&&this.state.kind===m.Authentication)if(a.kind===d.AuthorizationResponseKind.Authorized){const e=a.token,t=await d.fetchUser(r,e);if(!this.state||this.state.kind!==m.Authentication)return;this.emitAuthenticate(t,h.Basic),this.setState({kind:m.Success})}else if(a.kind===d.AuthorizationResponseKind.TwoFactorAuthenticationRequired)this.setState({kind:m.TwoFactorAuthentication,endpoint:r,username:e,password:t,type:a.type,error:null,loading:!1});else if(a.kind===d.AuthorizationResponseKind.Error)this.emitError(new Error(`The server responded with an error while attempting to authenticate (${a.response.status})\n\n${a.response.statusText}`)),this.setState(Object.assign({},n,{loading:!1}));else if(a.kind===d.AuthorizationResponseKind.Failed)e.includes('@')?this.setState(Object.assign({},n,{loading:!1,error:new Error('Incorrect email or password.')})):this.setState(Object.assign({},n,{loading:!1,error:new Error('Incorrect username or password.')}));else if(a.kind===d.AuthorizationResponseKind.UserRequiresVerification)this.setState(Object.assign({},n,{loading:!1,error:new Error(o(e))}));else if(a.kind===d.AuthorizationResponseKind.PersonalAccessTokenBlocked)this.setState(Object.assign({},n,{loading:!1,error:new Error('A personal access token cannot be used to login to GitHub Desktop.')}));else if(a.kind===d.AuthorizationResponseKind.EnterpriseTooOld)this.setState(Object.assign({},n,{loading:!1,error:new Error(u)}));else if(a.kind===d.AuthorizationResponseKind.WebFlowRequired)this.setState(Object.assign({},n,{loading:!1,supportsBasicAuth:!1,kind:m.Authentication}));else return i.assertNever(a,`Unsupported response: ${a}`)}async authenticateWithBrowser(){const t=this.state;if(!t||t.kind!==m.Authentication){const e=t?t.kind:'null';return i.fatalError(`Sign in step '${e}' not compatible with browser authentication`)}this.setState(Object.assign({},t,{loading:!0}));let e;try{log.info('[SignInStore] initializing OAuth flow'),e=await a.askUserToOAuth(t.endpoint),log.info('[SignInStore] account resolved')}catch(n){return log.info('[SignInStore] error with OAuth flow',n),void this.setState(Object.assign({},t,{error:n,loading:!1}))}this.state&&this.state.kind===m.Authentication&&(this.emitAuthenticate(e,h.Web),this.setState({kind:m.Success}))}beginEnterpriseSignIn(){this.setState({kind:m.EndpointEntry,error:null,loading:!1})}async setEndpoint(e){const t=this.state;if(!t||t.kind!==m.EndpointEntry){const e=t?t.kind:'null';return i.fatalError(`Sign in step '${e}' not compatible with endpoint entry`)}this.setState(Object.assign({},t,{loading:!0}));let n;try{n=s.validateURL(e)}catch(n){let e=n;return n.name===s.InvalidURLErrorName?e=new Error(`The GitHub Enterprise Server instance address doesn't appear to be a valid URL. We're expecting something like https://github.example.com.`):n.name===s.InvalidProtocolErrorName&&(e=new Error('Unsupported protocol. Only http or https is supported when authenticating with GitHub Enterprise Server instances.')),void this.setState(Object.assign({},t,{loading:!1,error:e}))}const o=d.getEnterpriseAPIURL(n);try{const e=await this.endpointSupportsBasicAuth(o);if(!this.state||this.state.kind!==m.EndpointEntry)return;this.setState({kind:m.Authentication,endpoint:o,supportsBasicAuth:e,error:null,loading:!1,forgotPasswordUrl:this.getForgotPasswordURL(o)})}catch(n){let e=n;'ENOTFOUND'===n.code&&(e=new Error('The server could not be found. Please verify that the URL is correct and that you have a stable internet connection.')),this.setState(Object.assign({},t,{loading:!1,error:e}))}}async setTwoFactorOTP(e){const t=this.state;if(!t||t.kind!==m.TwoFactorAuthentication){const e=t?t.kind:'null';return void i.fatalError(`Sign in step '${e}' not compatible with two factor authentication`)}this.setState(Object.assign({},t,{loading:!0}));let n;try{n=await d.createAuthorization(t.endpoint,t.username,t.password,e)}catch(t){return void this.emitError(t)}if(this.state&&this.state.kind===m.TwoFactorAuthentication)if(n.kind===d.AuthorizationResponseKind.Authorized){const e=n.token,o=await d.fetchUser(t.endpoint,e);if(!this.state||this.state.kind!==m.TwoFactorAuthentication)return;this.emitAuthenticate(o,h.Basic),this.setState({kind:m.Success})}else switch(n.kind){case d.AuthorizationResponseKind.Failed:case d.AuthorizationResponseKind.TwoFactorAuthenticationRequired:this.setState(Object.assign({},t,{loading:!1,error:new Error('Two-factor authentication failed.')}));break;case d.AuthorizationResponseKind.Error:this.emitError(new Error(`The server responded with an error (${n.response.status})\n\n${n.response.statusText}`));break;case d.AuthorizationResponseKind.UserRequiresVerification:this.emitError(new Error(o(t.username)));break;case d.AuthorizationResponseKind.PersonalAccessTokenBlocked:this.emitError(new Error('A personal access token cannot be used to login to GitHub Desktop.'));break;case d.AuthorizationResponseKind.EnterpriseTooOld:this.emitError(new Error(u));break;case d.AuthorizationResponseKind.WebFlowRequired:this.setState(Object.assign({},t,{forgotPasswordUrl:this.getForgotPasswordURL(t.endpoint),loading:!1,supportsBasicAuth:!1,kind:m.Authentication,error:null}));break;default:i.assertNever(n,`Unknown response: ${n}`);}}}t.SignInStore=g},function(e,t,n){'use strict';function o(e,t){return`${r(e)}${t}`}function r(e){return`${e}-`}function i(e){return e?e.admin?'admin':e.push?'write':e.pull?'read':null:null}Object.defineProperty(t,'__esModule',{value:!0});const a=n(281),s=n(102),d=n(26),l=n(2),c=n(62),p=n(238);class u extends c.TypedBaseStore{constructor(e){super(),this.lastStashCheckCache=new Map,this.branchProtectionSettingsFoundCache=new Map,this.protectionEnabledForBranchCache=new Map,this.db=e}async upsertGitHubRepository(e,t){return this.db.transaction('rw',this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const n=await this.db.gitHubRepositories.where('cloneURL').equals(t.clone_url).limit(1).first();return null==n?this.putGitHubRepository(e,t):this.buildGitHubRepository(n)})}async buildGitHubRepository(e){const t=await this.db.owners.get(e.ownerID);if(null==t)throw new Error(`Couldn't find repository owner ${e.ownerID}`);let n=null;return e.parentID&&(n=await this.findGitHubRepositoryByID(e.parentID)),new s.GitHubRepository(e.name,new a.Owner(t.login,t.endpoint,t.id),e.id,e.private,e.htmlURL,e.defaultBranch,e.cloneURL,e.issuesEnabled,e.isArchived,e.permissions,n)}async findGitHubRepositoryByID(e){const t=await this.db.gitHubRepositories.get(e);return t?this.buildGitHubRepository(t):null}getAll(){return this.db.transaction('r',this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const e=[],t=await this.db.repositories.toArray();for(const n of t){let t=null,o=null;n.gitHubRepositoryID&&(o=await this.findGitHubRepositoryByID(n.gitHubRepositoryID)),t=new d.Repository(n.path,n.id,o,n.missing,n.workflowPreferences,n.isTutorialRepository),e.push(t)}return e})}async addTutorialRepository(e,t,n){await this.db.transaction('rw',this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const o=await this.upsertGitHubRepository(t,n),r=await this.db.repositories.get({path:e}),i=r&&null!==r.id?r.id:void 0;return await this.db.repositories.put({path:e,gitHubRepositoryID:o.dbID,missing:!1,lastStashCheckDate:null,isTutorialRepository:!0},i)}),this.emitUpdatedRepositories()}async addRepository(e){const t=await this.db.transaction('rw',this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const t=await this.db.repositories.toArray(),n=t.find((t)=>t.path===e);let o=null,r;return null==n?r=await this.db.repositories.add({path:e,gitHubRepositoryID:null,missing:!1,lastStashCheckDate:null}):(r=n.id,null!=n.gitHubRepositoryID&&(o=await this.findGitHubRepositoryByID(n.gitHubRepositoryID))),new d.Repository(e,r,o,!1)});return this.emitUpdatedRepositories(),t}async removeRepository(e){await this.db.repositories.delete(e.id),p.clearTagsToPush(e),this.emitUpdatedRepositories()}async updateRepositoryMissing(e,t){const n=e.id;return n?(await this.db.repositories.update(n,{missing:t}),this.emitUpdatedRepositories(),new d.Repository(e.path,e.id,e.gitHubRepository,t,e.workflowPreferences,e.isTutorialRepository)):l.fatalError('`updateRepositoryMissing` can only update `missing` for a repository which has been added to the database.')}async updateRepositoryWorkflowPreferences(e,t){const n=e.id;return n?void(await this.db.repositories.update(n,{workflowPreferences:t}),this.emitUpdatedRepositories()):l.fatalError('`updateRepositoryWorkflowPreferences` can only update `workflowPreferences` for a repository which has been added to the database.')}async updateRepositoryPath(e,t){const n=e.id;return n?(await this.db.repositories.update(n,{missing:!1,path:t}),this.emitUpdatedRepositories(),new d.Repository(t,e.id,e.gitHubRepository,!1,e.workflowPreferences,e.isTutorialRepository)):l.fatalError('`updateRepositoryPath` can only update the path for a repository which has been added to the database.')}async updateLastStashCheckDate(e,t=Date.now()){const n=e.id;return 0===n?l.fatalError('`updateLastStashCheckDate` can only update the last stash check date for a repository which has been added to the database.'):void(await this.db.repositories.update(n,{lastStashCheckDate:t}),this.lastStashCheckCache.set(n,t))}async getLastStashCheckDate(e){const t=e.id;if(!t)return l.fatalError('`getLastStashCheckDate` - can only retrieve the last stash check date for a repositories that have been stored in the database.');let n=this.lastStashCheckCache.get(t)||null;if(null!==n)return n;const o=await this.db.repositories.get(t);return void 0===o?l.fatalError(`'getLastStashCheckDate' - unable to find repository with ID: ${t}`):(n=o.lastStashCheckDate,null!==n&&this.lastStashCheckCache.set(t,n),n)}async putOwner(e,t){t=t.toLowerCase();const n=await this.db.owners.where('[endpoint+login]').equals([e,t]).first();if(n)return new a.Owner(t,e,n.id);const o={login:t,endpoint:e},r=await this.db.owners.add(o);return new a.Owner(t,e,r)}async putGitHubRepository(e,t){let n=null;t.parent&&(n=await this.putGitHubRepository(e,t.parent));const o=t.owner.login.toLowerCase(),r=await this.putOwner(e,o),a=await this.db.gitHubRepositories.where('[ownerID+name]').equals([r.id,t.name]).first(),d=i(t.permissions)||(a?a.permissions:void 0);let l={ownerID:r.id,name:t.name,private:t.private,htmlURL:t.html_url,defaultBranch:t.default_branch,cloneURL:t.clone_url,parentID:n?n.dbID:null,lastPruneDate:null,issuesEnabled:t.has_issues,isArchived:t.archived,permissions:d};a&&(l=Object.assign({},l,{id:a.id}));const c=await this.db.gitHubRepositories.put(l);return new s.GitHubRepository(l.name,r,c,l.private,l.htmlURL,l.defaultBranch,l.cloneURL,l.issuesEnabled,l.isArchived,l.permissions,n)}async updateGitHubRepository(e,t,n){const o=e.id;if(!o)return l.fatalError('`updateGitHubRepository` can only update a GitHub repository for a repository which has been added to the database.');const r=await this.db.transaction('rw',this.db.repositories,this.db.gitHubRepositories,this.db.owners,async()=>{const e=await this.db.repositories.get(o),r=await this.putGitHubRepository(t,n);return await this.db.repositories.update(e.id,{gitHubRepositoryID:r.dbID}),r});return this.emitUpdatedRepositories(),new d.Repository(e.path,e.id,r,e.missing,e.workflowPreferences,e.isTutorialRepository)}async updateBranchProtections(e,t){const n=e.dbID;return n?void(await this.db.transaction('rw',this.db.protectedBranches,async()=>{const e=r(n);for(const t of this.protectionEnabledForBranchCache.keys())t.startsWith(e)&&this.protectionEnabledForBranchCache.delete(t);const i=t.map((e)=>({repoId:n,name:e.name}));for(const e of i){const t=o(n,e.name);this.protectionEnabledForBranchCache.set(t,!0)}await this.db.protectedBranches.where('repoId').equals(n).delete();const a=0<i.length;this.branchProtectionSettingsFoundCache.set(n,a),0<i.length&&(await this.db.protectedBranches.bulkAdd(i))})):l.fatalError('`updateBranchProtections` can only update a GitHub repository for a repository which has been added to the database.')}async updateLastPruneDate(e,t){const n=e.id;if(0===n)return l.fatalError('`updateLastPruneDate` can only update the last prune date for a repository which has been added to the database.');const o=e.gitHubRepository;if(null===o)return l.fatalError(`'updateLastPruneDate' can only update GitHub repositories`);const r=o.dbID;return null===r?l.fatalError(`'updateLastPruneDate' can only update GitHub repositories with a valid ID: received ID of ${r}`):void(await this.db.gitHubRepositories.update(r,{lastPruneDate:t}))}async getLastPruneDate(e){const t=e.id;if(!t)return l.fatalError('`getLastPruneDate` - can only retrieve the last prune date for a repositories that have been stored in the database.');const n=e.gitHubRepository;if(null===n)return l.fatalError(`'getLastPruneDate' - can only retrieve the last prune date for GitHub repositories.`);const o=n.dbID;if(null===o)return l.fatalError(`'getLastPruneDate' - can only retrieve the last prune date for GitHub repositories that have been stored in the database.`);const r=await this.db.gitHubRepositories.get(o);return void 0===r?l.fatalError(`'getLastPruneDate' - unable to find GitHub repository with ID: ${o}`):r.lastPruneDate}async loadAndCacheBranchProtection(e){const t=await this.db.protectedBranches.where('repoId').equals(e).toArray(),n=0<t.length;this.branchProtectionSettingsFoundCache.set(e,n);for(const n of t){const t=o(e,n.name);this.protectionEnabledForBranchCache.set(t,!0)}return n}async hasBranchProtectionsConfigured(e){if(null===e.dbID)return l.fatalError('unable to get protected branches, GitHub repository has a null dbID');const{dbID:t}=e,n=this.branchProtectionSettingsFoundCache.get(t);return void 0===n?this.loadAndCacheBranchProtection(t):n}async emitUpdatedRepositories(){this.emitUpdate((await this.getAll()))}}t.RepositoriesStore=u},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(10),r=n(2),i=100;t.IssuesStore=class{constructor(e){this.db=e}async getLatestUpdatedAt(e){const t=e.dbID;if(!t)return r.fatalError('Cannot get issues for a repository that hasn\'t been inserted into the database!');const n=this.db,o=await n.issues.where('[gitHubRepositoryID+updated_at]').between([t],[t+1],!0,!1).last();if(!o||!o.updated_at)return null;const i=new Date(o.updated_at);return isNaN(i.getTime())?null:i}async refreshIssues(e,t){const n=o.API.fromAccount(t),r=await this.getLatestUpdatedAt(e),i=r?'all':'open',a=await n.fetchIssues(e.owner.login,e.name,i,r);this.storeIssues(a,e)}async storeIssues(e,t){function n(e,t){return s.issues.where('[gitHubRepositoryID+number]').equals([e,t]).limit(1).first()}const o=t.dbID;if(!o)return void r.fatalError(`Cannot store issues for a repository that hasn't been inserted into the database!`);const i=e.filter((e)=>'closed'===e.state),a=e.filter((e)=>'open'===e.state).map((e)=>({gitHubRepositoryID:o,number:e.number,title:e.title,updated_at:e.updated_at})),s=this.db;await this.db.transaction('rw',this.db.issues,async()=>{for(const e of i){const t=await n(o,e.number);t&&(await this.db.issues.delete(t.id))}for(const e of a){const t=await n(o,e.number);t?await s.issues.update(t.id,e):await s.issues.add(e)}})}async getIssuesMatching(e,t){const n=e.dbID;if(!n)return r.fatalError('Cannot get issues for a repository that hasn\'t been inserted into the database!'),[];if(!t.length){const e=await this.db.issues.where('gitHubRepositoryID').equals(n).limit(i).reverse().sortBy('number');return e}const o=1,s=(e)=>e.number.toString().startsWith(t)?o:e.title.toLowerCase().includes(t.toLowerCase())?o-.1:0,a=await this.db.issues.where('gitHubRepositoryID').equals(n).filter((e)=>0<s(e)),d=await a.limit(i).toArray();return d.sort((e,t)=>s(t)-s(e))}}},function(e,t,n){'use strict';function o(e){return null!==e&&'object'==typeof e&&'avatar_url'in e&&'login'in e}function r(e){return Object.assign({},e,{email:e.email.toLowerCase(),login:e.login.toLowerCase()})}Object.defineProperty(t,'__esModule',{value:!0});const i=n(10),a=n(105),s=n(2),d=n(47),l=n(62);class c extends l.BaseStore{constructor(e){super(),this.requestsInFlight=new Set,this.usersByEndpoint=new Map,this.failedRequests=new Set,this.mentionablesEtags=new Map,this.database=e}getUsersForEndpoint(e){return this.usersByEndpoint.get(e)||null}getUsersForRepository(e){const t=e.gitHubRepository?e.gitHubRepository.endpoint:i.getDotComAPIEndpoint();return this.getUsersForEndpoint(t)||new Map}async getByLogin(e,t){const n=await this.database.users.where('[endpoint+login]').equals([e.endpoint,t]).first();if(n)return n;const o=i.API.fromAccount(e),r=await o.fetchUser(t).catch(()=>null);if(!r||'User'!==r.type)return null;const s=a.getAvatarWithEnterpriseFallback(r.avatar_url,r.email,e.endpoint),d={avatarURL:s,email:r.email||'',endpoint:e.endpoint,name:r.name||r.login,login:r.login};return await this.cacheUser(d,!1)}async updateMentionables(e,t){const n=i.API.fromAccount(t),o=e.dbID;if(!o)return s.fatalError(`Cannot update mentionables for a repository that hasn't been cached yet.`);const r=this.mentionablesEtags.get(o)||null,d=await n.fetchMentionables(e.owner.login,e.name,r);if(d&&d.users){d.etag&&this.mentionablesEtags.set(o,d.etag);const n=d.users.map((e)=>{const n=e.email||'';return Object.assign({},e,{email:n,endpoint:t.endpoint,avatarURL:a.getAvatarWithEnterpriseFallback(e.avatar_url,n,t.endpoint)})}),r=[];for(const e of n){const t=await this.cacheUser(e,!1);t&&r.push(t)}for(const t of r)await this.storeMentionable(t,e);await this.pruneRemovedMentionables(r,e),this.emitUpdate()}}async _loadAndCacheUser(e,t,n,o){const r=t.gitHubRepository?t.gitHubRepository.endpoint:i.getDotComAPIEndpoint(),a=`${r}+${o.toLowerCase()}`;if(this.requestsInFlight.has(a))return;if(this.failedRequests.has(a))return;const s=t.gitHubRepository;if(!s)return;const d=i.getAccountForEndpoint(e,s.endpoint);if(!d)return;this.requestsInFlight.add(a);let l=null;0<o.length&&(l=(await this.database.users.where('[endpoint+email]').equals([d.endpoint,o.toLowerCase()]).limit(1).first())||null),l||(l=await this.findUserWithAPI(d,s,n,o)),this.requestsInFlight.delete(a),l?(await this.cacheUser(l),this.emitUpdate()):this.failedRequests.add(a)}async findUserWithAPI(e,t,n,r){const s=i.API.fromAccount(e),d=await s.fetchCommit(t.owner.login,t.name,n);if(d){const{author:t}=d;if(o(t)){const n=a.getAvatarWithEnterpriseFallback(t.avatar_url,r,e.endpoint);return{email:r,avatarURL:n,login:t.login,endpoint:e.endpoint,name:t.login}}}const l=await s.searchForUserWithEmail(r);if(l){const t=a.getAvatarWithEnterpriseFallback(l.avatar_url,r,e.endpoint);return{email:r,login:l.login,avatarURL:t,endpoint:e.endpoint,name:l.login}}return null}async cacheUser(t,e=!0){t=r(t);let n=this.getUsersForEndpoint(t.endpoint);n||(n=new Map,this.usersByEndpoint.set(t.endpoint,n)),0<t.email.length&&n.set(t.email,t);const o=await this.database.transaction('rw',this.database.users,async()=>{const n=await this.database.users.where('[endpoint+login]').equals([t.endpoint,t.login]).toArray(),o=n.find((n)=>n.email===t.email);o&&(e?t=Object.assign({},t,{id:o.id}):t=Object.assign({},t,{id:o.id,email:o.email}));const r=await this.database.users.put(t);return this.database.users.get(r)});return o||null}async storeMentionable(e,t){const n=e.id;if(!n)return void s.fatalError(`Cannot store a mentionable association for a user that hasn't been cached yet.`);const o=t.dbID;return o?void(await this.database.transaction('rw',this.database.mentionables,async()=>{const e=await this.database.mentionables.where('[userID+repositoryID]').equals([n,o]).limit(1).first();e||(await this.database.mentionables.put({userID:n,repositoryID:o}))})):void s.fatalError(`Cannot store a mentionable association for a repository that hasn't been cached yet.`)}async pruneRemovedMentionables(e,t){const n=t.dbID;if(!n)return void s.fatalError(`Cannot prune removed mentionables for a repository that hasn't been cached yet.`);const o=new Set;for(const n of e){const e=n.id;if(!e)return void s.fatalError(`Cannot prune removed mentionables with a user that hasn't been cached yet: ${n}`);o.add(e)}await this.database.transaction('rw',this.database.mentionables,async()=>{const e=await this.database.mentionables.where('repositoryID').equals(n).toArray();for(const t of e)o.has(t.userID)||(await this.database.mentionables.delete(t.id))})}async getMentionableUsers(e){const t=e.dbID;if(!t)return s.fatalError(`Cannot get mentionables for a repository that hasn't been cached yet.`);const n=[];return await this.database.transaction('r',this.database.mentionables,this.database.users,async()=>{const e=await this.database.mentionables.where('repositoryID').equals(t).toArray();for(const t of e){const e=await this.database.users.get(t.userID);e&&n.push(e)}}),n}async getMentionableUsersMatching(e,t,n=100){const o=await this.getMentionableUsers(e),r=[],a=t.toLowerCase();for(let s=0;s<o.length&&r.length<n;s++){const e=o[s],t=`${e.login} ${e.name}`.trim().toLowerCase().indexOf(a);0<=t&&r.push({user:e,ix:t})}return r.sort((e,t)=>d.compare(e.ix,t.ix)||d.compare(e.user.login,t.user.login)).map((e)=>e.user)}}t.GitHubUserStore=c},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(103),r=n(80),i=n(20),a=n(107),s=n(62);class d extends s.BaseStore{constructor(){super(...arguments),this._repositories=[],this.stateByID=new Map}async clone(t,n,s){const d=new o.CloningRepository(n,t);this._repositories.push(d);const e=`Cloning into ${n}`;this.stateByID.set(d.id,{kind:'clone',title:e,value:0}),this.emitUpdate();let l=!0;try{await i.clone(t,n,s,(e)=>{this.stateByID.set(d.id,e),this.emitUpdate()})}catch(o){l=!1;const e={type:r.RetryActionType.Clone,name:d.name,url:t,path:n,options:s};o=new a.ErrorWithMetadata(o,{retryAction:e,repository:d}),this.emitError(o)}return this.remove(d),l}get repositories(){return Array.from(this._repositories)}getRepositoryState(e){return this.stateByID.get(e.id)||null}remove(e){this.stateByID.delete(e.id);const t=this._repositories.findIndex((t)=>t.id===e.id);-1<t&&this._repositories.splice(t,1),this.emitUpdate()}}t.CloningRepositoriesStore=d},function(e,t,n){'use strict';async function o(e,t){const n=new s.API(e.endpoint,e.token);try{return await n.createRepository(null,t,'GitHub Desktop tutorial repository',!0)}catch(n){if(n instanceof d.APIError&&422===n.responseStatus&&null!==n.apiError&&'Repository creation failed.'===n.apiError.message&&n.apiError.errors&&n.apiError.errors.some((e)=>'name already exists on this account'===e.message))throw new Error('You already have a repository named '+`"${t}" on your account at ${p.friendlyEndpointName(e)}.\n\n`+'Please delete the repository and try again.');throw n}}async function r(e,t,n,o){const r=`Pushing repository to ${p.friendlyEndpointName(t)}`;o(r,0);const i=await l.executionOptionsWithProgress({env:await u.envForRemoteOperation(t,n.url)},new l.PushProgressParser,(e)=>{'progress'===e.kind&&o(r,e.percent,e.details.text)}),a=['push','-u',n.name,'master'];await c.git(a,e,'tutorial:push',i)}Object.defineProperty(t,'__esModule',{value:!0});const i=n(1),a=n(19),s=n(10),d=n(179),l=n(82),c=n(20),p=n(237),u=n(52),m='\r\n',h=`# Welcome to GitHub Desktop!${m}${m}`+`This is your README. READMEs are where you can communicate `+`what your project is and how to use it.${m}${m}`+`Write your name on line 6, save it, and then head `+`back to GitHub Desktop.${m}`;t.createTutorialRepository=async function(e,t,n,s){const d=p.friendlyEndpointName(e);if(s(`Creating repository on ${d}`,0),await a.pathExists(n))throw new Error(`The path '${n}' already exists. Please move it `+'out of the way, or remove it, and then try again.');const l=await o(e,t);s('Initializing local repository',.2),await a.ensureDir(n),await c.git(['init'],n,'tutorial:init'),await a.writeFile(i.join(n,'README.md'),h),await c.git(['add','--','README.md'],n,'tutorial:add'),await c.git(['commit','-m','Initial commit','--','README.md'],n,'tutorial:commit');const u={name:'origin',url:l.clone_url};return await c.git(['remote','add',u.name,u.url],n,'tutorial:add-remote'),await r(n,e,u,(e,t,n)=>{s(e,.3+.6*t,n)}),s('Finalizing tutorial repository',.9),l}},function(e,t,n){'use strict';function o(e,t,n){return t.head.ref===e.upstreamWithoutRemote&&r.repositoryMatchesRemote(t.head.gitHubRepository,n)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(55);t.findAssociatedPullRequest=function(e,t,n){return null==e.upstreamWithoutRemote?null:t.find((t)=>o(e,t,n))||null},t.isPullRequestAssociatedWithBranch=o},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.isBranchPushable=function(e){const{allow_actor:t,required_status_checks:n,required_approving_review_count:o}=e,r=Array.isArray(n)?n.length:0;return!1!==t&&0===r&&0===o}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(97),r=n(31),i=n(56),a='tutorial-install-editor-skipped',s='tutorial-pull-request-step-complete',d='tutorial-paused';t.OnboardingTutorialAssessor=class{constructor(e){this.getResolvedExternalEditor=e,this.installEditorSkipped=i.getBoolean(a,!1),this.prStepComplete=i.getBoolean(s,!1),this.tutorialPaused=i.getBoolean(d,!1),this.skipPickEditor=()=>{this.installEditorSkipped=!0,i.setBoolean(a,this.installEditorSkipped)},this.markPullRequestTutorialStepAsComplete=()=>{this.prStepComplete=!0,i.setBoolean(s,this.prStepComplete)},this.onNewTutorialRepository=()=>{this.installEditorSkipped=!1,localStorage.removeItem(a),this.prStepComplete=!1,localStorage.removeItem(s),this.tutorialPaused=!1,localStorage.removeItem(d)}}async getCurrentStep(e,t){return e?this.tutorialPaused?o.TutorialStep.Paused:(await this.isEditorInstalled())?this.isBranchCheckedOut(t)?this.hasChangedFile(t)?this.hasMultipleCommits(t)?this.commitPushed(t)?this.pullRequestCreated(t)?o.TutorialStep.AllDone:o.TutorialStep.OpenPullRequest:o.TutorialStep.PushBranch:o.TutorialStep.MakeCommit:o.TutorialStep.EditFile:o.TutorialStep.CreateBranch:o.TutorialStep.PickEditor:(this.tutorialPaused&&this.resumeTutorial(),o.TutorialStep.NotApplicable)}async isEditorInstalled(){return this.installEditorSkipped||null!==this.getResolvedExternalEditor()}isBranchCheckedOut(e){const{branchesState:t}=e,{tip:n}=t,o=n.kind===r.TipState.Valid?n.branch.name:null,i=null===t.defaultBranch?null:t.defaultBranch.name;return null!==o&&null!==i&&o!==i}hasChangedFile(e){if(this.hasMultipleCommits(e))return!0;const{changesState:t}=e;return 0<t.workingDirectory.files.length}hasMultipleCommits(e){const{branchesState:t}=e,{tip:n}=t;if(n.kind===r.TipState.Valid){const t=e.commitLookup.get(n.branch.tip.sha);return t!==void 0&&t.parentSHAs.some((e)=>0<e.length)}return!1}commitPushed(e){const{aheadBehind:t}=e;return null!==t&&0===t.ahead}pullRequestCreated(e){return null!==e.branchesState.currentPullRequest&&this.markPullRequestTutorialStepAsComplete(),this.prStepComplete}pauseTutorial(){this.tutorialPaused=!0,i.setBoolean(d,this.tutorialPaused)}resumeTutorial(){this.tutorialPaused=!1,i.setBoolean(d,this.tutorialPaused)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(46),r=n(31),i=20;t.findBranchesForFastForward=function(e){const{allBranches:t,tip:n,defaultBranch:a,recentBranches:s}=e,d=n.kind===r.TipState.Valid?n.branch.name:null,l=t.filter((e)=>o.eligibleForFastForward(e,d));if(l.length<i)return l;log.info(`skipping fast-forward for all branches as there are ${l.length} eligible branches (Threshold is ${i} eligible branches).`);const c=null===a?s:[...s,a],p=c.filter((e)=>o.eligibleForFastForward(e,d));return p}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(55),r=n(42);t.updateRemoteUrl=async function(e,t,n){if(null!==e.defaultRemote){const i=e.defaultRemote.url,a=n.clone_url,s=o.urlMatchesRemote(a,e.defaultRemote),d=r.parse(i),l=r.parse(a),c=null!==d.protocol&&null!==l.protocol&&d.protocol===l.protocol,p=e.defaultRemote&&o.urlMatchesRemote(t.cloneURL,e.defaultRemote);c&&p&&!s&&(await e.setRemoteURL(e.defaultRemote.name,a))}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(31),r=n(55);t.findRemoteBranchName=function(e,t,n){return e.kind===o.TipState.Valid?null!==e.branch.upstreamWithoutRemote&&null!==t&&r.urlMatchesCloneURL(t.url,n)?e.branch.upstreamWithoutRemote:e.branch.nameWithoutRemote:null}},function(e,t){function n(e){return'[object Arguments]'==Object.prototype.toString.call(e)}function o(e){return e&&'object'==typeof e&&'number'==typeof e.length&&Object.prototype.hasOwnProperty.call(e,'callee')&&!Object.prototype.propertyIsEnumerable.call(e,'callee')||!1}var r='[object Arguments]'==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:o,t.supported=n;t.unsupported=o},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports='function'==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t,n){function o(e){return null===e||e===void 0}function r(e){return!!(e&&'object'==typeof e&&'number'==typeof e.length)&&'function'==typeof e.copy&&'function'==typeof e.slice&&!(0<e.length&&'number'!=typeof e[0])}function i(e,t,n){var p,i;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=s.call(e),t=s.call(t),c(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(p=0;p<e.length;p++)if(e[p]!==t[p])return!1;return!0}try{var u=d(e),m=d(t)}catch(t){return!1}if(u.length!=m.length)return!1;for(u.sort(),m.sort(),p=u.length-1;0<=p;p--)if(u[p]!=m[p])return!1;for(p=u.length-1;0<=p;p--)if(i=u[p],!c(e[i],t[i],n))return!1;return typeof e==typeof t}var s=Array.prototype.slice,d=n(650),l=n(649),c=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e&&t&&('object'==typeof e||'object'==typeof t)?i(e,t,n):n.strict?e===t:e==t)}},function(e,t,n){'use strict';function o(e,t){const n=t.find((t)=>r.formatAsLocalRef(t.name)===e);if(void 0!==n){const{upstream:e}=n;return null===e?void 0:r.formatAsLocalRef(e)}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(20),i=n(2),a=n(57),s=['HEAD','refs/heads/master','refs/heads/gh-pages','refs/heads/develop','refs/heads/dev','refs/heads/development','refs/heads/trunk','refs/heads/devel','refs/heads/release'],d={enforcePruneThreshold:!0,deleteBranch:!0};t.BranchPruner=class{constructor(e,t,n,o,r){this.repository=e,this.gitStoreCache=t,this.repositoriesStore=n,this.repositoriesStateCache=o,this.onPruneCompleted=r,this.timer=null}async start(){null!==this.timer&&i.fatalError(`A background prune task is already active and cannot begin pruning on ${this.repository.name}`),await this.pruneLocalBranches(d),this.timer=window.setInterval(()=>this.pruneLocalBranches(d),14400000)}stop(){null===this.timer||(clearInterval(this.timer),this.timer=null)}async testPrune(){return this.pruneLocalBranches({enforcePruneThreshold:!1,deleteBranch:!1})}async findBranchesMergedIntoDefaultBranch(e,t){const n=this.gitStoreCache.get(e),o=await n.performFailableOperation(()=>r.getMergedBranches(e,t.name));if(void 0===o)return new Map;const i=await r.getSymbolicRef(e,'HEAD');return i&&o.delete(i),o}async pruneLocalBranches(e){const{gitHubRepository:t}=this.repository;if(null===t)return;const n=await this.repositoriesStore.getLastPruneDate(this.repository),i=a(),d=i.subtract(24,'hours');if(e.enforcePruneThreshold&&null!=n&&d.isBefore(n))return void log.info(`[BranchPruner] Last prune took place ${a(n).from(i)} - skipping`);await this.repositoriesStore.updateLastPruneDate(this.repository,Date.now());const{branchesState:l}=this.repositoriesStateCache.get(this.repository),{defaultBranch:c,allBranches:p}=l;if(null===c)return;const u=await this.findBranchesMergedIntoDefaultBranch(this.repository,c);if(0===u.size)return void log.info('[BranchPruner] No branches to prune.');const m=a().subtract(2,'weeks').toDate(),h=await r.getBranchCheckouts(this.repository,m),f=new Set([...h.keys()].map(r.formatAsLocalRef)),g=(await r.getBranches(this.repository,`refs/remotes/`)).map((e)=>r.formatAsLocalRef(e.name)),y=Array.from(u.keys()).filter((e)=>{if(s.includes(e))return!1;if(f.has(e))return!1;const t=o(e,p);return void 0!==t&&!g.includes(t)});log.info(`[BranchPruner] Pruning ${y.length} branches that have been merged into the default branch, ${c.name} (${c.tip.sha}), from '${this.repository.name}`);const S=this.gitStoreCache.get(this.repository),C=`refs/heads/`;for(const t of y){if(!t.startsWith(C))continue;const n=t.substr(C.length);if(e.deleteBranch){const e=await S.performFailableOperation(()=>r.deleteLocalBranch(this.repository,n));e&&log.info(`[BranchPruner] Pruned branch ${n} ((was ${u.get(t)}))`)}else log.info(`[BranchPruner] Branch '${n}' marked for deletion`)}this.onPruneCompleted(this.repository)}}},function(e,t,n){'use strict';function o(e,t){if(e.mergeHeadFound){const{currentBranch:n,currentTip:o}=e;return null==n||null==o?null:{kind:'merge',currentBranch:n,currentTip:o,manualResolutions:t}}if(null!==e.rebaseInternalState){const{currentTip:n}=e;if(null==n)return null;const{targetBranch:o,originalBranchTip:r,baseBranchTip:i}=e.rebaseInternalState;return{kind:'rebase',currentTip:n,manualResolutions:t,targetBranch:o,originalBranchTip:r,baseBranchTip:i}}return null}function r(e,t,n,o){const r=null==e?null:e.currentBranch,i=null==t?null:t.currentBranch;if(null!=r&&null!=i&&r!==i)return void o.recordMergeAbortedAfterConflicts();const{currentTip:a}=n;if(null!=e&&null==t&&null!=a){const t=e.currentTip;t===a?o.recordMergeAbortedAfterConflicts():o.recordMergeSuccessAfterConflicts()}}function i(e,t,n,o){const r=null==e?null:e.targetBranch,i=null==t?null:t.targetBranch;if(null!=r&&null!=i&&r!==i)return void o.recordRebaseAbortedAfterConflicts();const{currentTip:a,currentBranch:s}=n;if(null!=e&&null==t&&null!=a&&null!=s){const t=e.originalBranchTip,n=t!==a&&s===e.targetBranch;n||o.recordRebaseAbortedAfterConflicts()}}Object.defineProperty(t,'__esModule',{value:!0});const a=n(23),s=n(28),d=n(30),l=n(47),c=n(2);t.updateChangedFiles=function(e,t,n){const o=new Map;e.workingDirectory.files.forEach((e)=>o.set(e.id,e));const r=t.workingDirectory.files.map((e)=>{const t=o.get(e.id);return t?n&&t.selection.getSelectionType()===d.DiffSelectionType.Partial?e.withIncludeAll(!1):e.withSelection(t.selection):e}).sort((e,t)=>l.caseInsensitiveCompare(e.path,t.path)),i=new Set(r.map((e)=>e.id)),p=a.WorkingDirectoryStatus.fromFiles(r),u=e.selection.kind;if(e.selection.kind===s.ChangesSelectionKind.WorkingDirectory){let t=e.selection.selectedFileIDs.filter((e)=>i.has(e));0===t.length&&0<r.length&&(t=[r[0].id]);const n=1===t.length&&1===e.selection.selectedFileIDs.length&&e.selection.selectedFileIDs[0]===t[0]?e.selection.diff:null;return{workingDirectory:p,selection:{kind:s.ChangesSelectionKind.WorkingDirectory,selectedFileIDs:t,diff:n}}}return e.selection.kind===s.ChangesSelectionKind.Stash?{workingDirectory:p,selection:e.selection}:c.assertNever(e.selection,`Unknown selection kind ${u}`)},t.updateConflictState=function(e,t,n){const a=e.conflictState,d=null===a?new Map:a.manualResolutions,l=o(t,d);return null==a&&null==l?null:(null==a||s.isMergeConflictState(a))&&(null==l||s.isMergeConflictState(l))?(r(a,l,t,n),l):(null==a||s.isRebaseConflictState(a))&&(null==l||s.isRebaseConflictState(l))?(i(a,l,t,n),l):l},t.selectWorkingDirectoryFiles=function(e,t){let n;if(t===void 0){if(e.selection.kind===s.ChangesSelectionKind.WorkingDirectory)return{selection:e.selection};n=0<e.workingDirectory.files.length?[e.workingDirectory.files[0].id]:[]}else n=t.map((e)=>e.id);return{selection:{kind:s.ChangesSelectionKind.WorkingDirectory,selectedFileIDs:n,diff:null}}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.findDefaultRemote=function(e){return e.find((e)=>'origin'===e.name)||e[0]||null}},function(e,t){'use strict';async function n(){return new Promise((e)=>{requestAnimationFrame(e)})}Object.defineProperty(t,'__esModule',{value:!0});t.queueWorkHigh=async function(e,t){const o=e[Symbol.iterator]();for(let r=o.next();!r.done;){const e=await n();do await Promise.resolve(t(r.value)),r=o.next();while(!r.done&&performance.now()-e<10)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(242);t.GitStoreCache=class{constructor(e,t,n,o,r){this.shell=e,this.statsStore=t,this.onGitStoreUpdated=n,this.onDidLoadNewCommits=o,this.onDidError=r,this.gitStores=new Map}remove(e){this.gitStores.has(e.hash)&&this.gitStores.delete(e.hash)}get(e){let t=this.gitStores.get(e.hash);return void 0===t&&(t=new o.GitStore(e,this.shell,this.statsStore),t.onDidUpdate(()=>this.onGitStoreUpdated(e,t)),t.onDidLoadNewCommits((t)=>this.onDidLoadNewCommits(e,t)),t.onDidError((e)=>this.onDidError(e)),this.gitStores.set(e.hash,t)),t}}},function(e,t,n){'use strict';const o=n(1);e.exports=(e,t)=>{if('string'!=typeof e)throw new TypeError(`Expected a string, got ${typeof e}`);t=Object.assign({resolve:!0},t);let n=e;return t.resolve&&(n=o.resolve(e)),n=n.replace(/\\/g,'/'),'/'!==n[0]&&(n=`/${n}`),encodeURI(`file://${n}`).replace(/[?#]/g,encodeURIComponent)}},function(e,t,n){'use strict';function o(e){return d.encodePathAsUrl(__dirname,'emoji',e)}function r(e){const t=e.toString(16);return 4<=t.length?t:('0000'+t).substring(t.length)}function i(e){const t=e.codePointAt(0);if(!t)return null;let n=r(t);if(2<e.length){const t=e.codePointAt(2);t&&65039!==t&&(n=`${n}-${r(t)}`)}return o(`unicode/${n}.png`)}Object.defineProperty(t,'__esModule',{value:!0});const a=n(33),s=n(1),d=n(34);t.readEmoji=function(e){return new Promise((t,n)=>{const r=s.join(e,'emoji.json');a.readFile(r,'utf8',(e,r)=>{if(e)return void n(e);const a=new Map;try{const e=JSON.parse(r);e.forEach((e)=>{const t=e.emoji?i(e.emoji):o(`${e.aliases[0]}.png`);return t?void e.aliases.forEach((e)=>{a.set(`:${e}:`,t)}):void log.error(`Could not calculate location of emoji: ${e}`)})}catch(t){n(t)}const s=new Map,d=Array.from(a.keys()).sort();d.forEach((e)=>{const t=a.get(e);t&&s.set(e,t)}),t(s)})})}},function(e,t,n){'use strict';function o(e){return s(e,'master')}function r(e,t){return null===t.defaultBranch?null:s(e,t.defaultBranch)}function i(e,t){return s(e,t.base.ref)}async function a(e,t,n){const o=d.getNonForkGitHubRepository(e),r=await n(e),i=r.find((e)=>l.urlMatchesCloneURL(e.url,o));if(void 0===i)return log.warn(`Could not find remote with URL ${o.cloneURL}.`),null;const a=`${i.name}/${o.defaultBranch}`;return s(t,a)}function s(e,t){return e.find((e)=>e.name===t)||null}Object.defineProperty(t,'__esModule',{value:!0});const d=n(26),l=n(55);t.inferComparisonBranch=async function(e,t,n,s){if(null!==n){const e=i(t,n);if(null!==e)return e}if(d.isRepositoryWithGitHubRepository(e)){if(e.gitHubRepository.fork){const n=await a(e,t,s);if(null!==n)return n}const n=r(t,e.gitHubRepository);if(null!==n)return n}return o(t)}},function(e,t,n){'use strict';function o(){if(null!==d)return d;const e=Math.ceil(Math.random()*s);return d=e,e}Object.defineProperty(t,'__esModule',{value:!0});const r=n(10),i=n(2),a=3600000,s=30000;t.BackgroundFetcher=class{constructor(e,t,n,o){this.timeoutHandle=null,this.stopped=!1,this.repository=e,this.account=t,this.fetch=n,this.shouldPerformFetch=o}start(e){if(this.stopped)return void i.fatalError('Cannot start a background fetcher that has been stopped.');const t=this.repository.gitHubRepository;t&&(e?this.timeoutHandle=window.setTimeout(()=>this.performAndScheduleFetch(t),o()):this.performAndScheduleFetch(t))}stop(){this.stopped=!0;const e=this.timeoutHandle;e&&(window.clearTimeout(e),this.timeoutHandle=null)}async performAndScheduleFetch(e){if(!this.stopped){const t=this.shouldPerformFetch(this.repository);if(t)try{await this.fetch(this.repository)}catch(t){const e=this.repository.gitHubRepository,n=null===e?this.repository.name:e.fullName;log.error(`Error performing periodic fetch for '${n}'`,t)}if(!this.stopped){const t=await this.getFetchInterval(e);this.stopped||(this.timeoutHandle=window.setTimeout(()=>this.performAndScheduleFetch(e),t))}}}async getFetchInterval(e){const t=r.API.fromAccount(this.account);let n=a;try{const o=await t.getFetchPollInterval(e.owner.login,e.name);n=o?Math.max(o,300000):a}catch(t){log.error('Error fetching poll interval',t)}return n+o()}};let d=null},function(e){e.exports='function'==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function o(e){return this instanceof o?void(d.call(this),e=e||{},this.concurrency=e.concurrency||Infinity,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}):new o(e)}function r(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function i(e){function t(e){o.end(e)}function n(r){o.removeListener('error',t),o.removeListener('end',n),e(r,this.results)}var o=this;this.on('error',t),this.on('end',n)}function a(e){this.session++,this.running=!1,this.emit('end',e)}var s=n(661),d=n(244).EventEmitter;e.exports=o,s(o,d);['pop','shift','indexOf','lastIndexOf'].forEach(function(e){o.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}}),o.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},o.prototype.reverse=function(){return this.jobs.reverse(),this};['push','unshift','splice'].forEach(function(e){o.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}}),Object.defineProperty(o.prototype,'length',{get:function(){return this.pending+this.jobs.length}}),o.prototype.start=function(e){function t(e,t){r&&n.session===s&&(r=!1,n.pending--,null!==d&&(delete n.timers[d],clearTimeout(d)),e?n.emit('error',e,o):!1===l&&(null!==c&&(n.results[c]=Array.prototype.slice.call(arguments,1)),n.emit('success',t,o)),n.session===s&&(0===n.pending&&0===n.jobs.length?a.call(n):n.running&&n.start()))}if(e&&i.call(this,e),this.running=!0,!(this.pending>=this.concurrency)){if(0===this.jobs.length)return void(0===this.pending&&a.call(this));var n=this,o=this.jobs.shift(),r=!0,s=this.session,d=null,l=!1,c=null;this.timeout&&(d=setTimeout(function(){l=!0,0<n.listeners('timeout').length?n.emit('timeout',t,o):t()},this.timeout),this.timers[d]=d),this.results&&(c=this.results.length,this.results[c]=null),this.pending++;var p=o(t);p&&p.then&&'function'==typeof p.then&&p.then(function(e){t(null,e)}).catch(function(e){t(e||!0)}),this.running&&0<this.jobs.length&&this.start()}},o.prototype.stop=function(){this.running=!1},o.prototype.end=function(e){r.call(this),this.jobs.length=0,this.pending=0,a.call(this,e)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(662),r=n(20),i=n(20),a=n(243);t.AheadBehindUpdater=class{constructor(e,t){this.repository=e,this.onCacheUpdate=t,this.comparisonCache=new a.ComparisonCache,this.aheadBehindQueue=o({concurrency:1,autostart:!0}),this.executeTask=(e,t,n)=>{if(this.comparisonCache.has(e,t))return;const o=r.revSymmetricDifference(e,t);i.getAheadBehind(this.repository,o).then((r)=>{null==r?log.debug(`[AheadBehindUpdater] unable to cache '${o}' as no result returned`):this.comparisonCache.set(e,t,r),n(null,r)})}}start(){this.aheadBehindQueue.on('success',(e)=>{null!=e&&this.onCacheUpdate(this.comparisonCache)}),this.aheadBehindQueue.on('error',(e)=>{log.debug('[AheadBehindUpdater] an error with the queue was reported',e)}),this.aheadBehindQueue.on('end',(e)=>{null!=e&&log.debug(`[AheadBehindUpdater] ended with an error`,e)}),this.aheadBehindQueue.start()}stop(){this.aheadBehindQueue.end()}async executeAsyncTask(e,t){return new Promise((n,o)=>this.comparisonCache.has(e,t)?void n(this.comparisonCache.get(e,t)):void this.executeTask(e,t,(e,t)=>null===e?n(t):o(e)))}insert(e,t,n){this.comparisonCache.has(e,t)||this.comparisonCache.set(e,t,n)}clear(){this.aheadBehindQueue.end()}schedule(e,t,n,o){this.clear();const r=e.tip.sha,i=[...n,...o],a=null===t?i:[t,...i],s=new Set(((e)=>e.map((e)=>e.tip.sha).filter((e)=>!this.comparisonCache.has(r,e)))(a));log.debug(`[AheadBehindUpdater] - found ${s.size} comparisons to perform`);for(const i of s)this.aheadBehindQueue.push((e)=>requestIdleCallback(()=>{this.executeTask(r,i,e)}))}}},function(e,t,n){'use strict';function o(e){return e===p.Gnome?p.Gnome:e===p.Mate?p.Mate:e===p.Tilix?p.Tilix:e===p.Terminator?p.Terminator:e===p.Urxvt?p.Urxvt:e===p.Konsole?p.Konsole:e===p.Xterm?p.Xterm:e===p.Terminology?p.Terminology:t.Default}async function r(e){return(await l.pathExists(e))?e:null}function i(e){return e===p.Gnome?r('/usr/bin/gnome-terminal'):e===p.Mate?r('/usr/bin/mate-terminal'):e===p.Tilix?r('/usr/bin/tilix'):e===p.Terminator?r('/usr/bin/terminator'):e===p.Urxvt?r('/usr/bin/urxvt'):e===p.Konsole?r('/usr/bin/konsole'):e===p.Xterm?r('/usr/bin/xterm'):e===p.Terminology?r('/usr/bin/terminology'):c.assertNever(e,`Unknown shell: ${e}`)}async function a(){const[e,t,n,o,r,a,s,d]=await Promise.all([i(p.Gnome),i(p.Mate),i(p.Tilix),i(p.Terminator),i(p.Urxvt),i(p.Konsole),i(p.Xterm),i(p.Terminology)]),l=[];return e&&l.push({shell:p.Gnome,path:e}),t&&l.push({shell:p.Mate,path:t}),n&&l.push({shell:p.Tilix,path:n}),o&&l.push({shell:p.Terminator,path:o}),r&&l.push({shell:p.Urxvt,path:r}),a&&l.push({shell:p.Konsole,path:a}),s&&l.push({shell:p.Xterm,path:s}),d&&l.push({shell:p.Terminology,path:d}),l}function s(e,t){const n=e.shell;return n===p.Gnome||n===p.Mate||n===p.Tilix||n===p.Terminator?d.spawn(e.path,['--working-directory',t]):n===p.Urxvt?d.spawn(e.path,['-cd',t]):n===p.Konsole?d.spawn(e.path,['--workdir',t]):n===p.Xterm?d.spawn(e.path,['-e','/bin/bash'],{cwd:t}):n===p.Terminology?d.spawn(e.path,['-d',t]):c.assertNever(n,`Unknown shell: ${n}`)}Object.defineProperty(t,'__esModule',{value:!0});const d=n(48),l=n(19),c=n(2);var p;(function(e){e.Gnome='GNOME Terminal',e.Mate='MATE Terminal',e.Tilix='Tilix',e.Terminator='Terminator',e.Urxvt='URxvt',e.Konsole='Konsole',e.Xterm='XTerm',e.Terminology='Terminology'})(p=t.Shell||(t.Shell={})),t.Default=p.Gnome,t.parse=o,t.getAvailableShells=a,t.launch=s},function(e,t,n){'use strict';function o(e){return e===b.Cmd?b.Cmd:e===b.PowerShell?b.PowerShell:e===b.PowerShellCore?b.PowerShellCore:e===b.Hyper?b.Hyper:e===b.GitBash?b.GitBash:e===b.Cygwin?b.Cygwin:e===b.WSL?b.WSL:e===b.WindowTerminal?b.WindowTerminal:t.Default}async function r(){const e=await C.findGitOnPath(),t=[{shell:b.Cmd,path:process.env.comspec||'C:\\Windows\\System32\\cmd.exe',extraArgs:e?['/K',`"doskey git=^"${e}^" $*"`]:[]}],n=await i();null!=n&&t.push({shell:b.PowerShell,path:n});const o=await a();null!=o&&t.push({shell:b.PowerShellCore,path:o});const r=await s();null!=r&&t.push({shell:b.Hyper,path:r});const u=await d();null!=u&&t.push({shell:b.GitBash,path:u});const m=await l();if(null!=m&&t.push({shell:b.Cygwin,path:m}),S.enableWSLDetection()){const e=await c();null!=e&&t.push({shell:b.WSL,path:e})}const h=await p();return null!=h&&t.push({shell:b.WindowTerminal,path:h}),t}async function i(){const e=f.enumerateValues(f.HKEY.HKEY_LOCAL_MACHINE,'Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\PowerShell.exe');if(0===e.length)return null;const t=e[0];if(t.type===f.RegistryValueType.REG_EXPAND_SZ||t.type===f.RegistryValueType.REG_SZ){const e=t.data.replace(/^%SystemRoot%/i,process.env.SystemRoot||'C:\\Windows');if(await g.pathExists(e))return e;log.debug(`[PowerShell] registry entry found but does not exist at '${e}'`)}return null}async function a(){const e=f.enumerateValues(f.HKEY.HKEY_LOCAL_MACHINE,'Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\pwsh.exe');if(0===e.length)return null;const t=e[0];if(t.type===f.RegistryValueType.REG_SZ){const e=t.data;if(await g.pathExists(e))return e;log.debug(`[PowerShellCore] registry entry found but does not exist at '${e}'`)}return null}async function s(){const e=f.enumerateValues(f.HKEY.HKEY_CURRENT_USER,'Software\\Classes\\Directory\\Background\\shell\\Hyper\\command');if(0===e.length)return null;const t=e[0];if(t.type===f.RegistryValueType.REG_SZ){const e=t.data.match(/(["'])(.*?)\1/),n=process.env.LocalAppData,o=e?e[2]:null==n?null:n.concat('\\hyper\\Hyper.exe');if(null==o)log.debug(`[Hyper] LOCALAPPDATA environment variable is unset, aborting fallback behavior`);else{if(await g.pathExists(o))return o;log.debug(`[Hyper] registry entry found but does not exist at '${o}'`)}}return null}async function d(){const e=f.enumerateValues(f.HKEY.HKEY_LOCAL_MACHINE,'SOFTWARE\\GitForWindows');if(0===e.length)return null;const t=e.find((t)=>'InstallPath'===t.name);if(t&&t.type===f.RegistryValueType.REG_SZ){const e=h.join(t.data,'git-bash.exe');if(await g.pathExists(e))return e;log.debug(`[Git Bash] registry entry found but does not exist at '${e}'`)}return null}async function l(){const e=f.enumerateValues(f.HKEY.HKEY_LOCAL_MACHINE,'SOFTWARE\\Cygwin\\setup'),t=f.enumerateValues(f.HKEY.HKEY_LOCAL_MACHINE,'SOFTWARE\\WOW6432Node\\Cygwin\\setup');if(null==e||null==t)return null;const n=e.find((t)=>'rootdir'===t.name),o=t.find((t)=>'rootdir'===t.name);if(n&&n.type===f.RegistryValueType.REG_SZ){const e=h.join(n.data,'bin\\mintty.exe');if(await g.pathExists(e))return e;if(o&&o.type===f.RegistryValueType.REG_SZ){const e=h.join(o.data,'bin\\mintty.exe');if(await g.pathExists(e))return e}else log.debug(`[Cygwin] registry entry found but does not exist at '${e}'`)}return null}async function c(){const e=h.join(process.env.SystemRoot||'C:\\Windows','System32'),t=h.join(e,'wsl.exe'),n=h.join(e,'wslconfig.exe');if(!(await g.pathExists(t)))return log.debug(`[WSL] wsl.exe does not exist at '${t}'`),null;if(!(await g.pathExists(n)))return log.debug(`[WSL] found wsl.exe, but wslconfig.exe does not exist at '${n}'`),null;const o=new Promise((e,t)=>{const o=m.spawn(n,['/list']);o.on('error',t),o.on('exit',e)});try{const e=await o;return 0===e?t:(log.debug(`[WSL] found wsl.exe and wslconfig.exe, but no distros are installed. Error Code: ${e}`),null)}catch(e){log.error(`[WSL] unhandled error when invoking 'wsl /list'`,e)}return null}async function p(){const e=process.env.LocalAppData;if(null!=e){const t=h.join(e,'\\Microsoft\\WindowsApps\\wt.exe');if(await g.pathExists(t))return t;log.debug(`[Windows Terminal] wt.exe doest not exist at '${t}'`)}return null}function u(e,t){const n=e.shell;switch(n){case b.PowerShell:const o=`"Set-Location -LiteralPath '${t}'"`;return m.spawn('START',['"PowerShell"',`"${e.path}"`,'-NoExit','-Command',o],{shell:!0,cwd:t});case b.PowerShellCore:const r=`"Set-Location -LiteralPath '${t}'"`;return m.spawn('START',['"PowerShell Core"',`"${e.path}"`,'-NoExit','-Command',r],{shell:!0,cwd:t});case b.Hyper:const i=`"${e.path}"`;return log.info(`launching ${n} at path: ${i}`),m.spawn(i,[`"${t}"`],{shell:!0,cwd:t});case b.GitBash:const a=`"${e.path}"`;return log.info(`launching ${n} at path: ${a}`),m.spawn(a,[`--cd="${t}"`],{shell:!0,cwd:t});case b.Cygwin:const s=`"${e.path}"`;return log.info(`launching ${n} at path: ${s}`),m.spawn(s,[`/bin/sh -lc 'cd "$(cygpath "${t}")"; exec bash`],{shell:!0,cwd:t});case b.WSL:return m.spawn('START',['"WSL"',`"${e.path}"`],{shell:!0,cwd:t});case b.Cmd:return m.spawn('START',['"Command Prompt"',`"${e.path}"`,...e.extraArgs],{shell:!0,cwd:t});case b.WindowTerminal:const d=`"${e.path}"`;return log.info(`launching ${n} at path: ${d}`),m.spawn(d,['-d .'],{shell:!0,cwd:t});default:return y.assertNever(n,`Unknown shell: ${n}`);}}Object.defineProperty(t,'__esModule',{value:!0});const m=n(48),h=n(1),f=n(275),g=n(19),y=n(2),S=n(25),C=n(247);var b;(function(e){e.Cmd='Command Prompt',e.PowerShell='PowerShell',e.PowerShellCore='PowerShell Core',e.Hyper='Hyper',e.GitBash='Git Bash',e.Cygwin='Cygwin',e.WSL='WSL',e.WindowTerminal='Windows Terminal'})(b=t.Shell||(t.Shell={})),t.Default=b.Cmd,t.parse=o,t.getAvailableShells=r,t.launch=u},function(e,t,n){'use strict';function o(e){return e===p.Terminal?p.Terminal:e===p.Hyper?p.Hyper:e===p.iTerm2?p.iTerm2:e===p.PowerShellCore?p.PowerShellCore:e===p.Kitty?p.Kitty:t.Default}function r(e){return e===p.Terminal?'com.apple.Terminal':e===p.iTerm2?'com.googlecode.iterm2':e===p.Hyper?'co.zeit.hyper':e===p.PowerShellCore?'com.microsoft.powershell':e===p.Kitty?'net.kovidgoyal.kitty':l.assertNever(e,`Unknown shell: ${e}`)}async function i(e){const t=r(e);try{return await c(t)}catch(t){return null}}async function a(){const[e,t,n,o,r]=await Promise.all([i(p.Terminal),i(p.Hyper),i(p.iTerm2),i(p.PowerShellCore),i(p.Kitty)]),a=[];if(e&&a.push({shell:p.Terminal,path:e}),t&&a.push({shell:p.Hyper,path:t}),n&&a.push({shell:p.iTerm2,path:n}),o&&a.push({shell:p.PowerShellCore,path:o}),r){const e=`${r}/Contents/MacOS/kitty`;a.push({shell:p.Kitty,path:e})}return a}function s(e,t){if(e.shell===p.Kitty)return d.spawn(e.path,['--single-instance','--directory',t]);else{const n=r(e.shell);return d.spawn('open',['-b',n,t])}}Object.defineProperty(t,'__esModule',{value:!0});const d=n(48),l=n(2),c=n(277);var p;(function(e){e.Terminal='Terminal',e.Hyper='Hyper',e.iTerm2='iTerm2',e.PowerShellCore='PowerShell Core',e.Kitty='Kitty'})(p=t.Shell||(t.Shell={})),t.Default=p.Terminal,t.parse=o,t.getAvailableShells=a,t.launch=s},function(e,t,n){'use strict';async function o(){return c?c:(c=await s.getAvailableShells(),c)}function r(e,t,n){t.stderr.on('data',(t)=>{const n=t instanceof Buffer?t.toString():t;log.debug(`[${e}] stderr: '${n}'`)}),t.on('error',(t)=>{log.debug(`[${e}] an error was encountered`,t),n(t)}),t.on('exit',(t)=>{0!==t&&log.debug(`[${e}] exit code: ${t}`)})}Object.defineProperty(t,'__esModule',{value:!0});const i=n(19),a=n(666),s=n(665),d=n(664),l=n(246);t.Default=function(){return s.Default}();let c=null;t.parse=function(e){return s.parse(e)},t.getAvailableShells=o,t.findShellOrDefault=async function(e){const n=await o(),r=n.find((t)=>t.shell===e);return r?r:n.find((e)=>e.shell===t.Default)},t.launchShell=async function(e,t,n){const o=await i.pathExists(e.path);if(!o){const t='Options';throw new l.ShellError(`Could not find executable for '${e.shell}' at path '${e.path}'.  Please open ${t} and select an available shell.`)}let a=null;return a=s.launch(e,t),null==a?Promise.reject(`Platform not currently supported for launching shells: ${'win32'}`):(r(e.shell,a,n),Promise.resolve())}},function(e,t,n){'use strict';function o(e){return!!(e&&!(e instanceof f.CloningRepository)&&e.gitHubRepository)&&null!==e.gitHubRepository.htmlURL}function r(e,t){return void 0===e.enabled||'separator'===t.type||t.enabled===e.enabled}function i(){const e=new C;for(const t of b)e.disable(t);return e}function a(e){const t=e.selectedState,n=!!t&&o(t.repository);let r=!1,i=!1,a=!1,s=!1,d=!1,l=!1,c=!1,u=!1,f=!1,y=!1,b=!1,v=!1,E=!1;const w=null!==t&&t.repository instanceof h.Repository&&p(t.repository);if(t&&t.type===m.SelectionType.Repository){r=!0;const{branchesState:e,changesState:n}=t.state,o=e.tip,p=e.defaultBranch;c=!!p,a=o.kind===g.TipState.Valid,s=o.kind===g.TipState.Detached,y=o.kind===g.TipState.Unknown,b=o.kind===g.TipState.Unborn,o.kind===g.TipState.Valid?(null!==p&&(i=o.branch.name!==p.name),u=!!o.branch.upstream,E=null!==n.stashEntry):i=!0,f=t.state.isPushPullFetchInProgress;const{conflictState:m,workingDirectory:h}=t.state.changesState;v=null!==m&&'rebase'===m.kind,l=null!==n.conflictState||S.hasConflictedFiles(h),d=0<h.files.length}const k=['branch','repository','remove-repository','open-in-shell','open-working-directory','show-repository-settings','go-to-commit-message','show-changes','show-history','show-branches-list','open-external-editor','compare-to-branch'],T=new C,_='hidden'!==e.windowState,R=e.showWelcomeFlow,x=_&&r&&!R;if(x){for(const e of k)T.enable(e);T.setEnabled('rename-branch',i&&!b&&!s),T.setEnabled('delete-branch',i&&!b&&!s),T.setEnabled('update-branch',i&&c&&!s),T.setEnabled('merge-branch',a),T.setEnabled('rebase-branch',a),T.setEnabled('compare-on-github',n&&u),T.setEnabled('view-repository-on-github',n),T.setEnabled('create-issue-in-repository-on-github',w),T.setEnabled('create-pull-request',n&&!b&&!s),T.setEnabled('push',!b&&!s&&!f),T.setEnabled('pull',u&&!f),T.setEnabled('create-branch',!y&&!b&&!v),T.setEnabled('discard-all-changes',x&&d&&!v),T.setEnabled('stash-all-changes',d&&a&&!v&&!l),T.setEnabled('compare-to-branch',!s),T.setEnabled('toggle-stashed-changes',E),t&&t.type===m.SelectionType.MissingRepository&&T.disable('open-external-editor')}else{for(const e of k)T.disable(e);T.disable('view-repository-on-github'),T.disable('create-pull-request'),t&&t.type===m.SelectionType.MissingRepository&&(t.repository.gitHubRepository&&T.enable('view-repository-on-github'),T.enable('remove-repository')),T.disable('create-branch'),T.disable('rename-branch'),T.disable('delete-branch'),T.disable('discard-all-changes'),T.disable('stash-all-changes'),T.disable('update-branch'),T.disable('merge-branch'),T.disable('rebase-branch'),T.disable('push'),T.disable('pull'),T.disable('compare-to-branch'),T.disable('compare-on-github'),T.disable('toggle-stashed-changes')}return T}function s(e){return e.currentPopup?i().state:d().merge(a(e)).merge(l(e.showWelcomeFlow)).merge(c(e)).state}function d(){const e=new C;for(const t of b)e.enable(t);return e}function l(e){const t=['new-repository','add-local-repository','clone-repository','preferences','about'],n=new C;if(e)for(const e of t)n.disable(e);else for(const e of t)n.enable(e);return n}function c(e){const t=['show-repository-list'],n=new C;if(0===e.repositories.length)for(const e of t)n.disable(e);return n}function p(e){if(h.isRepositoryWithGitHubRepository(e)){const t=e.gitHubRepository;return t.parent?!1!==t.parent.issuesEnabled&&!0!==t.parent.isArchived:!1!==t.issuesEnabled&&!0!==t.isArchived}return!1}Object.defineProperty(t,'__esModule',{value:!0});const u=n(54),m=n(28),h=n(26),f=n(103),g=n(31),y=n(27),S=n(38);class C{constructor(e=new Map){this._state=e}get state(){return new Map(this._state)}updateMenuItem(e,t){const n=this._state.get(e)||{};this._state.set(e,u.merge(n,t))}enable(e){return this.updateMenuItem(e,{enabled:!0}),this}disable(e){return this.updateMenuItem(e,{enabled:!1}),this}setEnabled(e,t){return this.updateMenuItem(e,{enabled:t}),this}merge(e){const t=new Map(this._state);for(const[n,o]of e._state)t.set(n,o);return new C(t)}}const b=['rename-branch','delete-branch','discard-all-changes','stash-all-changes','preferences','update-branch','compare-to-branch','merge-branch','rebase-branch','view-repository-on-github','compare-on-github','open-in-shell','push','pull','branch','repository','go-to-commit-message','create-branch','show-changes','show-history','show-repository-list','show-branches-list','open-working-directory','show-repository-settings','open-external-editor','remove-repository','new-repository','add-local-repository','clone-repository','about','create-pull-request'];t.updateMenuState=function(e,t){const n=s(e);if(t)for(const[e,o]of n.entries()){const i=t.getItemById(e);i&&r(o,i)&&n.delete(e)}if(0===n.size)return;const o=[];n.forEach((e,t)=>o.push({id:t,state:e})),y.updateMenuState(o)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(267),r=n(10),i=n(55);t.inferLastPushForRepository=async function(e,t,n){const a=o.getAccountForRepository(e,n);if(null==a)return null;await t.loadRemotes();const s=r.API.fromAccount(a);let d=null;if(null!==t.currentRemote){const n=i.matchGitHubRepository(e,t.currentRemote.url);if(null!==n){const{owner:e,name:t}=n,o=await s.fetchRepository(e,t);null!==o&&(d=new Date(o.pushed_at))}}if(null!==n.gitHubRepository){const{owner:e,name:t}=n.gitHubRepository,o=await s.fetchRepository(e.login,t);null!==o&&(d=new Date(o.pushed_at))}return await t.updateLastFetched(),d}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(52);t.createTag=async function(e,t,n){await o.git(['tag','-a','-m','',t,n],e.path,'createTag')},t.deleteTag=async function(e,t){await o.git(['tag','-d',t],e.path,'deleteTag')},t.getAllTags=async function(e){const t=await o.git(['show-ref','--tags','-d'],e.path,'getAllTags',{successExitCodes:new Set([0,1])}),n=t.stdout.split('\n').filter((e)=>''!==e).map((e)=>{const[t,n]=e.split(' '),o=n.replace(/^refs\/tags\//,'').replace(/\^\{\}$/,'');return[o,t]});return new Map(n)},t.fetchTagsToPush=async function(e,t,n,i){const a=await o.gitNetworkArguments(e,t),s=[...a,'push',n.name,i,'--follow-tags','--dry-run','--no-verify','--porcelain'],d=await o.git(s,e.path,'fetchTagsToPush',{env:await r.envForRemoteOperation(t,n.url),successExitCodes:new Set([0,1,128])});if(0!==d.exitCode&&1!==d.exitCode)throw d.gitError;const l=d.stdout.split('\n');let c=1;const p=[];for(;c<l.length&&'Done'!==l[c];){const e=l[c],t=e.split('\t');if('*'===t[0]&&'[new tag]'===t[2]){const[e]=t[1].split(':');e!==void 0&&p.push(e.replace(/^refs\/tags\//,''))}c++}return p}},function(e,t,n){function o(e,t,o){var r=t&&o||0,i=t||[];e=e||{};var p=void 0===e.clockseq?d:e.clockseq,u=void 0===e.msecs?new Date().getTime():e.msecs,m=void 0===e.nsecs?c+1:e.nsecs,h=u-l+(m-c)/1e4;if(0>h&&void 0===e.clockseq&&(p=16383&p+1),(0>h||u>l)&&void 0===e.nsecs&&(m=0),1e4<=m)throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');l=u,c=m,d=p,u+=122192928e5;var f=(1e4*(268435455&u)+m)%4294967296;i[r++]=255&f>>>24,i[r++]=255&f>>>16,i[r++]=255&f>>>8,i[r++]=255&f;var g=268435455&1e4*(u/4294967296);i[r++]=255&g>>>8,i[r++]=255&g,i[r++]=16|15&g>>>24,i[r++]=255&g>>>16,i[r++]=128|p>>>8,i[r++]=255&p;for(var y=e.node||s,S=0;6>S;++S)i[r+S]=y[S];return t?t:a(i)}var r=n(301),a=n(300),i=r(),s=[1|i[0],i[1],i[2],i[3],i[4],i[5]],d=16383&(i[6]<<8|i[7]),l=0,c=0;e.exports=o},function(e,t,n){var o=n(671),r=n(302),i=r;i.v1=o,i.v4=r,e.exports=i},function(e,t,n){'use strict';async function o(e){const t=await c.git(['worktree','list','--porcelain'],e.path,'listWorkTrees'),n=[],o=/worktree (.*)\nHEAD ([a-f0-9]*)\n(branch .*|detached)\n/gm;return u.getMatches(t.stdout,o).forEach((e)=>{4===e.length?n.push({path:e[1],head:e[2]}):log.debug(`[listWorkTrees] match '${e[0]}' does not have the expected data or output. Skipping...`)}),n}async function r(e,t){return await c.git(['worktree','remove','-f',t.path],e.path,'removeWorkTree'),!0}function i(){return d.join(s.tmpdir(),`${m}${p.v4()}`)}async function a(e){const t=await o(e),n=t.slice(1);return n.filter((e)=>{const t=d.basename(e.path);return t.startsWith(m)})}Object.defineProperty(t,'__esModule',{value:!0});const s=n(63),d=n(1),l=n(19),c=n(11),p=n(672),u=n(126),m='github-desktop-worktree-';t.listWorkTrees=o,t.createTemporaryWorkTree=async function(e,t){const n=await l.mkdtemp(i());await c.git(['worktree','add','-f',n,t],e.path,'addWorkTree');const r=await o(e),a=d.basename(n),s=r.find((e)=>d.basename(e.path)===a);if(!s)throw new Error(`[addWorkTree] Unable to find created worktree "${a}"`);return s},t.destroyWorkTree=r,t.cleanupTemporaryWorkTrees=async function(e){const t=await a(e);for(const n of t)await r(e,n)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(168),r=n(83);t.formatPatch=async function(e,t,n){const i=o.revRange(t,n),{output:a}=await r.spawnAndComplete(['format-patch','--unified=1','--minimal','--stdout',i],e.path,'formatPatch');return a.toString('utf8')}},function(e,t,n){'use strict';async function o(e){const t=a.join(e.path,'.gitignore');return new Promise((e,n)=>{s.readFile(t,'utf8',(t,o)=>{t?'ENOENT'===t.code?e(null):n(t):e(o)})})}async function r(e,t){const n=a.join(e.path,'.gitignore');if(''===t)return new Promise((e,t)=>{s.unlink(n,(n)=>{n?t(n):e()})});const o=await i(t,e);return new Promise((e,t)=>{s.writeFile(n,o,(n)=>{n?t(n):e()})})}async function i(e,t){const n=await d.getConfigValue(t,'core.autocrlf'),o=await d.getConfigValue(t,'core.safecrlf');return new Promise((t)=>{if('true'===n&&'true'===o){const n=e.replace(/\r\n|\n\r|\n|\r/g,'\r\n');return void t(n)}if(e.endsWith('\n'))return void t(e);if(null==n)t(`${e}\n`);else{'true'===n?t(`${e}\n`):t(`${e}\r\n`)}})}Object.defineProperty(t,'__esModule',{value:!0});const a=n(1),s=n(33),d=n(84);t.readGitIgnoreAtRoot=o,t.saveGitIgnore=r,t.appendIgnoreRule=async function(e,t){const n=(await o(e))||'',a=await i(n,e),s=t instanceof Array?t.join('\n'):t,d=await i(`${a}${s}`,e);await r(e,d)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.SubmoduleEntry=class{constructor(e,t,n){this.sha=e,this.path=t,this.describe=n}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(1),r=n(19),i=n(11),a=n(676);t.listSubmodules=async function(e){const[t,n]=await Promise.all([r.pathExists(o.join(e.path,'.gitmodules')),r.pathExists(o.join(e.path,'.git','modules'))]);if(!t&&!n)return log.info('No submodules found. Skipping "git submodule status"'),[];const s=await i.git(['submodule','status','--'],e.path,'listSubmodules',{successExitCodes:new Set([0,128])});if(128===s.exitCode)return[];const d=[];for(const t of s.stdout.split('\n')){if(0===t.length)continue;const e=t.substr(1,40),[n,o]=t.substr(42).split(/\s+/);if(null!=o){const t=o.substr(1,o.length-2);d.push(new a.SubmoduleEntry(e,n,t))}}return d},t.resetSubmodulePaths=async function(e,t){for(const n of t)await i.git(['submodule','update','--recursive','--',n],e.path,'updateSubmodule')}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.unstageAllFiles=async function(e){await o.git(['rm','--cached','-r','-f','.'],e.path,'unstageAllFiles')}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'',weight:0}];class i extends o.GitProgressParser{constructor(){super(r)}}t.RevertProgressParser=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(259),i=n(679),a=n(52);t.revertCommit=async function(e,t,n,s){const d=await o.gitNetworkArguments(e,n),l=[...d,'revert'];1<t.parentSHAs.length&&l.push('-m','1'),l.push(t.sha);let c={};if(s){const t=await a.envForRemoteOperation(n,a.getFallbackUrlForProxyResolve(n,e));c=await r.executionOptionsWithProgress({env:t,trackLFSProgress:!0},new i.RevertProgressParser,(e)=>{const t='progress'===e.kind?e.details.text:e.text,n='progress'===e.kind?e.details.title:'',o=e.percent;s({kind:'revert',description:t,value:o,title:n})})}await o.git(l,e.path,'revert',c)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.checkoutIndex=async function(e,t){t.length&&(await o.git(['checkout-index','-f','-u','-q','--stdin','-z'],e.path,'checkoutIndex',{stdin:t.join('\0')}))}},function(e,t,n){'use strict';function o(e){switch(e[0]){case'A':return a.Added;case'C':return a.Copied;case'D':return a.Deleted;case'M':return a.Modified;case'R':return a.Renamed;case'T':return a.TypeChanged;case'U':return a.Unmerged;case'X':return a.Unknown;default:throw new Error(`Unknown index status: ${e}`);}}function r(e){const t=o(e);switch(t){case a.Copied:case a.Renamed:throw new Error(`Invalid index status for no-rename index status: ${t}`);}return t}Object.defineProperty(t,'__esModule',{value:!0});const i=n(11);var a;(function(e){e[e.Unknown=0]='Unknown',e[e.Added=1]='Added',e[e.Copied=2]='Copied',e[e.Deleted=3]='Deleted',e[e.Modified=4]='Modified',e[e.Renamed=5]='Renamed',e[e.TypeChanged=6]='TypeChanged',e[e.Unmerged=7]='Unmerged'})(a=t.IndexStatus||(t.IndexStatus={}));t.getIndexChanges=async function(e){const t=['diff-index','--cached','--name-status','--no-renames','-z'];let n=await i.git([...t,'HEAD','--'],e.path,'getIndexChanges',{successExitCodes:new Set([0,128])});128===n.exitCode&&(n=await i.git([...t,'4b825dc642cb6eb9a060e54bf8d69288fbee4904'],e.path,'getIndexChanges'));const o=new Map,a=n.stdout.split('\0');for(let t=0;t<a.length-1;t+=2){const e=r(a[t]),n=a[t+1];o.set(n,e)}return o}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(125);t.getAuthorIdentity=async function(e){const t=await o.git(['var','GIT_AUTHOR_IDENT'],e.path,'getAuthorIdentity',{successExitCodes:new Set([0,128])});return 128===t.exitCode?null:r.CommitIdentity.parseIdentity(t.stdout)}},function(e,t,n){'use strict';function o(e,t,n){const o=e||{context:t,diff:''},r={sha:n.sha,mode:n.mode,path:n.path};switch(n.type){case'base':return Object.assign({},o,{base:r});case'result':return Object.assign({},o,{result:r});case'our':return Object.assign({},o,{our:r});case'their':return Object.assign({},o,{their:r});default:return o;}}Object.defineProperty(t,'__esModule',{value:!0});const r=n(70),a=/^(merged|added in remote|removed in remote|changed in both|removed in local|added in both)$/,s=/^\s{2}(result|our|their|base)\s+(\d{6})\s([0-9a-f]{40})\s(.+)$/;t.parseMergeResult=function(e){const t=[],n=e.split('\n');let d,l;for(let r=0;r<n.length;r++){const e=n[r],i=a.exec(e);if(null!=i){d=i[1],null!=l&&(t.push(l),l=void 0);continue}const c=s.exec(e);if(null!=c){const e=c[1],t=c[2],n=c[3],i=c[4];if(null==d){log.warn(`An unknown header was set while trying to parse the blob on line ${r}`);continue}switch(e){case'base':case'result':case'our':case'their':l=o(l,d,{type:e,mode:t,sha:n,path:i});break;default:throw new Error(`invalid state - unexpected entry ${e} found when parsing rows`);}continue}if(null==l)throw new Error(`invalid state - trying to append the diff to a merge entry that isn't defined on line ${r}`);else{const t=l.diff;l=Object.assign({},l,{diff:t+e+'\n'});const n=e.startsWith('+<<<<<<<')||e.startsWith('+=======')||e.startsWith('+>>>>>>>');n&&(l=Object.assign({},l,{hasConflicts:!0}))}}null!=l&&(t.push(l),l=void 0);const i=t.filter((t)=>t.hasConflicts||!1);return 0<i.length?{kind:r.ComputedAction.Conflicts,conflictedFiles:i.length}:{kind:r.ComputedAction.Clean,entries:t}}},function(e){'use strict';function t(e){if(this._capacity=r(e),this._length=0,this._front=0,a(e)){for(var t=e.length,n=0;n<t;++n)this[n]=e[n];this._length=t}}function n(e,t,n,o,r){for(var i=0;i<r;++i)n[i+o]=e[i+t],e[i+t]=void 0}function o(e){return e>>>=0,--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e+1}function r(e){if('number'!=typeof e)if(a(e))e=e.length;else return 16;return o(Math.min(Math.max(16,e),1073741824))}t.prototype.toArray=function(){for(var e=this._length,t=Array(e),n=this._front,o=this._capacity,r=0;r<e;++r)t[r]=this[n+r&o-1];return t},t.prototype.push=function(e){var t=arguments.length,n=this._length;if(1<t){var o=this._capacity;if(n+t>o){for(var r=0;r<t;++r){this._checkCapacity(n+1);var i=this._front+n&this._capacity-1;this[i]=arguments[r],n++,this._length=n}return n}for(var i=this._front,r=0;r<t;++r)this[i+n&o-1]=arguments[r],i++;return this._length=n+t,n+t}if(0===t)return n;this._checkCapacity(n+1);var r=this._front+n&this._capacity-1;return this[r]=e,this._length=n+1,n+1},t.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},t.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},t.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(1<n){var o=this._capacity;if(t+n>o){for(var r=n-1;0<=r;r--){this._checkCapacity(t+1);var o=this._capacity,i=(this._front-1&o-1^o)-o;this[i]=arguments[r],t++,this._length=t,this._front=i}return t}for(var a=this._front,r=n-1,i;0<=r;r--)i=(a-1&o-1^o)-o,this[i]=arguments[r],a=i;return this._front=a,this._length=t+n,t+n}if(0===n)return t;this._checkCapacity(t+1);var o=this._capacity,r=(this._front-1&o-1^o)-o;return this[r]=e,this._length=t+1,this._front=r,t+1},t.prototype.peekBack=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1;return this[t]}},t.prototype.peekFront=function(){return 0===this._length?void 0:this[this._front]},t.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;return 0>t&&(t+=n),0>t||t>=n?void 0:this[this._front+t&this._capacity-1]}},t.prototype.isEmpty=function(){return 0===this._length},t.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,o=0;o<e;++o)this[t+o&n-1]=void 0;this._length=0,this._front=0},t.prototype.toString=function(){return this.toArray().toString()},t.prototype.valueOf=t.prototype.toString,t.prototype.removeFront=t.prototype.shift,t.prototype.removeBack=t.prototype.pop,t.prototype.insertFront=t.prototype.unshift,t.prototype.insertBack=t.prototype.push,t.prototype.enqueue=t.prototype.push,t.prototype.dequeue=t.prototype.shift,t.prototype.toJSON=t.prototype.toArray,Object.defineProperty(t.prototype,'length',{get:function(){return this._length},set:function(){throw new RangeError('')}}),t.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(r(1.5*this._capacity+16))},t.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var o=this._front,r=this._length;if(o+r>t){n(this,0,this,t,o+r&t-1)}};var a=Array.isArray;e.exports=t},function(e,t,n){'use strict';function o(e){const t=l.exec(e);if(!t)throw log.debug(`parseChangedEntry parse error: ${e}`),new Error(`Failed to parse status line for changed entry`);return{kind:'entry',statusCode:t[1],path:t[8]}}function r(e,t){const n=c.exec(e);if(!n)throw log.debug(`parsedRenamedOrCopiedEntry parse error: ${e}`),new Error(`Failed to parse status line for renamed or copied entry`);if(!t)throw new Error('Failed to parse renamed or copied entry, could not parse old path');return{kind:'entry',statusCode:n[1],oldPath:t,path:n[9]}}function i(e){const t=p.exec(e);if(!t)throw log.debug(`parseUnmergedEntry parse error: ${e}`),new Error(`Failed to parse status line for unmerged entry`);return{kind:'entry',statusCode:t[1],path:t[10]}}function a(e){const t=e.substr(2);return{kind:'entry',statusCode:'??',path:t}}Object.defineProperty(t,'__esModule',{value:!0});const s=n(685),d=n(23);t.isStatusHeader=function(e){return'header'===e.kind},t.isStatusEntry=function(e){return'entry'===e.kind};t.parsePorcelainStatus=function(e){const t=[],n=e.split('\0'),d=new s(n);for(let n;n=d.shift();){if(n.startsWith('# ')&&2<n.length){t.push({kind:'header',value:n.substr(2)});continue}const e=n.substr(0,1);e==='1'?t.push(o(n)):e==='2'?t.push(r(n,d.shift())):e==='u'?t.push(i(n)):e==='?'?t.push(a(n)):e==='!'}return t};const l=/^1 ([MADRCUTX?!.]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([\s\S]*?)$/,c=/^2 ([MADRCUTX?!.]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([RC]\d+) ([\s\S]*?)$/,p=/^u ([DAU]{2}) (N\.\.\.|S[C.][M.][U.]) (\d+) (\d+) (\d+) (\d+) ([a-f0-9]+) ([a-f0-9]+) ([a-f0-9]+) ([\s\S]*?)$/;t.mapStatus=function(e){return'??'===e?{kind:'untracked'}:'.M'===e?{kind:'ordinary',type:'modified',index:d.GitStatusEntry.Unchanged,workingTree:d.GitStatusEntry.Modified}:'M.'===e?{kind:'ordinary',type:'modified',index:d.GitStatusEntry.Modified,workingTree:d.GitStatusEntry.Unchanged}:'.A'===e?{kind:'ordinary',type:'added',index:d.GitStatusEntry.Unchanged,workingTree:d.GitStatusEntry.Added}:'A.'===e?{kind:'ordinary',type:'added',index:d.GitStatusEntry.Added,workingTree:d.GitStatusEntry.Unchanged}:'.D'===e?{kind:'ordinary',type:'deleted',index:d.GitStatusEntry.Unchanged,workingTree:d.GitStatusEntry.Deleted}:'D.'===e?{kind:'ordinary',type:'deleted',index:d.GitStatusEntry.Deleted,workingTree:d.GitStatusEntry.Unchanged}:'R.'===e?{kind:'renamed',index:d.GitStatusEntry.Renamed,workingTree:d.GitStatusEntry.Unchanged}:'.R'===e?{kind:'renamed',index:d.GitStatusEntry.Unchanged,workingTree:d.GitStatusEntry.Renamed}:'C.'===e?{kind:'copied',index:d.GitStatusEntry.Copied,workingTree:d.GitStatusEntry.Unchanged}:'.C'===e?{kind:'copied',index:d.GitStatusEntry.Unchanged,workingTree:d.GitStatusEntry.Copied}:'AD'===e?{kind:'ordinary',type:'added',index:d.GitStatusEntry.Added,workingTree:d.GitStatusEntry.Deleted}:'AM'===e?{kind:'ordinary',type:'added',index:d.GitStatusEntry.Added,workingTree:d.GitStatusEntry.Modified}:'RM'===e?{kind:'renamed',index:d.GitStatusEntry.Renamed,workingTree:d.GitStatusEntry.Modified}:'RD'===e?{kind:'renamed',index:d.GitStatusEntry.Renamed,workingTree:d.GitStatusEntry.Deleted}:'DD'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.BothDeleted,us:d.GitStatusEntry.Deleted,them:d.GitStatusEntry.Deleted}:'AU'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.AddedByUs,us:d.GitStatusEntry.Added,them:d.GitStatusEntry.UpdatedButUnmerged}:'UD'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.DeletedByThem,us:d.GitStatusEntry.UpdatedButUnmerged,them:d.GitStatusEntry.Deleted}:'UA'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.AddedByThem,us:d.GitStatusEntry.UpdatedButUnmerged,them:d.GitStatusEntry.Added}:'DU'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.DeletedByUs,us:d.GitStatusEntry.Deleted,them:d.GitStatusEntry.UpdatedButUnmerged}:'AA'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.BothAdded,us:d.GitStatusEntry.Added,them:d.GitStatusEntry.Added}:'UU'===e?{kind:'conflicted',action:d.UnmergedEntrySummary.BothModified,us:d.GitStatusEntry.UpdatedButUnmerged,them:d.GitStatusEntry.UpdatedButUnmerged}:{kind:'ordinary',type:'modified'}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(83),r=n(126);t.getFilesWithConflictMarkers=async function(e){const{output:t}=await o.spawnAndComplete(['diff','--check'],e,'getFilesWithConflictMarkers',new Set([0,2])),n=t.toString('utf8'),a=r.getCaptures(n,i);if(0===a.length)return new Map;const s=a.reduce((e,t)=>e.concat(t)),d=s.reduce((e,t)=>e.set(t,(e.get(t)||0)+1),new Map);return d};const i=/(.+):\d+: leftover conflict marker/gi},function(e,t,n){'use strict';async function o(e){let t;try{t=await i.git(['rev-parse','--show-cdup'],e,'getTopLevelWorkingDirectory',{successExitCodes:new Set([0,128])})}catch(e){if(e.code===a.RepositoryDoesNotExistErrorCode)return null;throw e}if(128===t.exitCode)return null;const n=t.stdout.trim();return n?r.resolve(e,n):e}Object.defineProperty(t,'__esModule',{value:!0});const r=n(1),i=n(11),a=n(35);t.getTopLevelWorkingDirectory=o,t.isBareRepository=async function(e){try{const t=await i.git(['rev-parse','--is-bare-repository'],e,'isBareRepository');return'true'===t.stdout.trim()}catch(t){if(t.message.includes('not a git repository'))return!1;throw t}},t.isGitRepository=async function(e){return null!==(await o(e))}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.getRecentBranches=async function(e,t){const n=new RegExp(/.*? (renamed|checkout)(?:: moving from|\s*) (?:refs\/heads\/|\s*)(.*?) to (?:refs\/heads\/|\s*)(.*?)$/i),r=await o.git(['log','-g','--no-abbrev-commit','--pretty=oneline','HEAD','-n','2500','--'],e.path,'getRecentBranches',{successExitCodes:new Set([0,128])});if(128===r.exitCode)return[];const i=r.stdout.split('\n'),a=new Set,s=new Set(['master']);for(const o of i){const e=n.exec(o);if(e&&4===e.length){const t=e[1],n=e[2],o=e[3];'renamed'===t&&s.add(n),s.has(o)||a.add(o)}if(a.size===t)break}return[...a]};const r=/fatal: your current branch '.*' does not have any commits yet/;t.getBranchCheckouts=async function(e,t){const n=new RegExp(/^[a-z0-9]{40}\sHEAD@{(.*)}\scheckout: moving from\s.*\sto\s(.*)$/),i=await o.git(['reflog','--date=iso',`--after="${t.toISOString()}"`,'--pretty=%H %gd %gs',`--grep-reflog=checkout: moving from .* to .*$`,'--'],e.path,'getCheckoutsAfterDate',{successExitCodes:new Set([0,128])}),a=new Map;if(128===i.exitCode&&r.test(i.stderr))return a;const s=i.stdout.split('\n');for(const o of s){const e=n.exec(o);if(null===e||3!==e.length)continue;const[,t,r]=e;a.has(r)||a.set(r,new Date(t))}return a}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(35),r=n(11),i=n(82),a=n(100),s=n(52);t.push=async function(e,t,n,d,l,c,p={forceWithLease:!1},u){const m=await r.gitNetworkArguments(e,t),h=[...m,'push',n.name,l?`${d}:${l}`:d];null!==c&&h.push(...c),l?!0===p.forceWithLease&&h.push('--force-with-lease'):h.push('--set-upstream');const f=new Set(a.AuthenticationErrors);f.add(o.GitError.ProtectedBranchForcePush);let g={env:await s.envForRemoteOperation(t,n.url),expectedErrors:f};if(u){h.push('--progress');const e=`Pushing to ${n.name}`;g=await i.executionOptionsWithProgress(Object.assign({},g,{trackLFSProgress:!0}),new i.PushProgressParser,(t)=>{const o='progress'===t.kind?t.details.text:t.text,r=t.percent;u({kind:'push',title:e,description:o,value:r,remote:n.name,branch:d})}),u({kind:'push',title:e,value:0,remote:n.name,branch:d})}const y=await r.git(h,e.path,'push',g);if(y.gitErrorDescription)throw new r.GitError(y,h)}},function(e,t,n){'use strict';async function o(e,t,n,o){const i=await r.gitNetworkArguments(e,n),a=[...i,'pull'];return s.enableRecurseSubmodulesFlag()&&a.push('--recurse-submodules'),null!=o&&a.push('--progress'),a.push(t),a}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(82),a=n(100),s=n(25),d=n(52);t.pull=async function(e,t,n,s){let l={env:await d.envForRemoteOperation(t,n.url),expectedErrors:a.AuthenticationErrors};if(s){const e=`Pulling ${n.name}`,t='pull';l=await i.executionOptionsWithProgress(Object.assign({},l,{trackLFSProgress:!0}),new i.PullProgressParser,(o)=>{if('context'!==o.kind||o.text.startsWith('remote: Counting objects')){const r='progress'===o.kind?o.details.text:o.text,i=o.percent;s({kind:t,title:e,description:r,value:i,remote:n.name})}}),s({kind:t,title:e,value:0,remote:n.name})}const c=await o(e,n.name,t,s),p=await r.git(c,e.path,'pull',l);if(p.gitErrorDescription)throw new r.GitError(p,c)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11);t.initGitRepository=async function(e){await o.git(['init'],e,'initGitRepository')}},function(e,t,n){'use strict';async function o(e,t,n,o){const i=await r.gitNetworkArguments(e,n);return a.enableRecurseSubmodulesFlag()?null==o?[...i,'fetch','--prune','--recurse-submodules=on-demand',t]:[...i,'fetch','--progress','--prune','--recurse-submodules=on-demand',t]:null==o?[...i,'fetch','--prune',t]:[...i,'fetch','--progress','--prune',t]}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(82),a=n(25),s=n(52);t.fetch=async function(e,t,n,a){let d={successExitCodes:new Set([0]),env:await s.envForRemoteOperation(t,n.url)};if(a){const e=`Fetching ${n.name}`,t='fetch';d=await i.executionOptionsWithProgress(Object.assign({},d,{trackLFSProgress:!0}),new i.FetchProgressParser,(o)=>{if('context'!==o.kind||o.text.startsWith('remote: Counting objects')){const r='progress'===o.kind?o.details.text:o.text,i=o.percent;a({kind:t,title:e,description:r,value:i,remote:n.name})}}),a({kind:t,title:e,value:0,remote:n.name})}const l=await o(e,n.name,t,a);await r.git(l,e.path,'fetch',d)},t.fetchRefspec=async function(e,t,n,o){const i={successExitCodes:new Set([0,128]),env:await s.envForRemoteOperation(t,n.url)},a=await r.gitNetworkArguments(e,t),d=[...a,'fetch',n.name,o];await r.git(d,e.path,'fetchRefspec',i)}},function(e,t,n){'use strict';function o(t){if(t instanceof r.GitError){const e=t.result.stderr.trim(),n=0<e.length?`, with output: '${e}'`:'',{exitCode:o}=t.result,r=new Error(`Commit failed - exit code ${o} received${n}`);throw r.name='commit-failed',r}else throw t}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(169),a=n(258),s=n(257);t.createCommit=async function(e,t,n){await a.unstageAll(e),await i.stageFiles(e,n);try{const n=await r.git(['commit','-F','-'],e.path,'createCommit',{stdin:t});return r.parseCommitSHA(n)}catch(t){return void o(t)}},t.createMergeCommit=async function(e,t,n=new Map){try{for(const[o,r]of n){const n=t.find((e)=>e.path===o);n===void 0?log.error(`couldn't find file ${o} even though there's a manual resolution for it`):await s.stageManualConflictResolution(e,n,r)}const o=t.filter((e)=>!n.has(e.path));await i.stageFiles(e,o);const a=await r.git(['commit','--no-edit','--cleanup=strip'],e.path,'createMergeCommit');return r.parseCommitSHA(a)}catch(t){return void o(t)}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(11),r=n(82),i=n(52);t.clone=async function(e,t,n,a){const s=await o.gitNetworkArguments(null,n.account),d=await i.envForRemoteOperation(n.account,e),l=[...s,'clone','--recursive'];let c={env:d};if(a){l.push('--progress');const e=`Cloning into ${t}`,n='clone';c=await r.executionOptionsWithProgress(Object.assign({},c,{trackLFSProgress:!0}),new r.CloneProgressParser,(t)=>{const o='progress'===t.kind?t.details.text:t.text,r=t.percent;a({kind:n,title:e,description:o,value:r})}),a({kind:n,title:e,value:0})}n.branch&&l.push('-b',n.branch),l.push('--',e,t),await o.git(l,__dirname,'clone',c)}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(19),r=n(127);t.createLFSProgressFile=async function(){const e=await r.getTempFilePath('GitHubDesktop-lfs-progress');return await o.ensureFile(e),e};const i=/^(.+?)\s{1}(\d+)\/(\d+)\s{1}(\d+)\/(\d+)\s{1}(.+)$/;t.GitLFSProgressParser=class{parse(e){const t={kind:'context',text:'Downloading Git LFS file\u2026',percent:0},n=e.match(i);if(!n||7!==n.length)return t;const o=n[1],r=parseInt(n[2],10),a=parseInt(n[3],10),s=parseInt(n[4],10),d=parseInt(n[5],10),l=n[6];if(!o||!r||!a||!s||!d||!l)return t;if(isNaN(r)||isNaN(a)||isNaN(s)||isNaN(d))return t;const c=this.directionToHumanFacingVerb(o),p={title:`${c} "${l}" (${s} of ${d})…`,value:s,total:d,percent:0,done:!1,text:e};return{kind:'progress',percent:0,details:p}}directionToHumanFacingVerb(e){return'download'===e?'Downloading':'upload'===e?'Uploading':'checkout'===e?'Checking out':'Downloading'}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'remote: Compressing objects',weight:.1},{title:'Receiving objects',weight:.7},{title:'Resolving deltas',weight:.15},{title:'Checking out files',weight:.15}];class i extends o.GitProgressParser{constructor(){super(r)}}t.PullProgressParser=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'remote: Compressing objects',weight:.1},{title:'Receiving objects',weight:.7},{title:'Resolving deltas',weight:.2}];class i extends o.GitProgressParser{constructor(){super(r)}}t.FetchProgressParser=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'Compressing objects',weight:.2},{title:'Writing objects',weight:.7},{title:'remote: Resolving deltas',weight:.1}];class i extends o.GitProgressParser{constructor(){super(r)}}t.PushProgressParser=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'remote: Compressing objects',weight:.1},{title:'Receiving objects',weight:.6},{title:'Resolving deltas',weight:.1},{title:'Checking out files',weight:.2}];class i extends o.GitProgressParser{constructor(){super(r)}}t.CloneProgressParser=i},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(71),r=[{title:'Checking out files',weight:1}];class i extends o.GitProgressParser{constructor(){super(r)}}t.CheckoutProgressParser=i},function(e,t,n){'use strict';async function o(e,t,n,o){const a=await r.gitNetworkArguments(e,n),s=null==o?[...a,'checkout']:[...a,'checkout','--progress'];return d.enableRecurseSubmodulesFlag()?t.type===i.BranchType.Remote?s.concat(t.name,'-b',t.nameWithoutRemote,'--recurse-submodules','--'):s.concat(t.name,'--recurse-submodules','--'):t.type===i.BranchType.Remote?s.concat(t.name,'-b',t.nameWithoutRemote,'--'):s.concat(t.name,'--')}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(46),a=n(82),s=n(100),d=n(25),l=n(52);t.checkoutBranch=async function(e,t,n,i){let d={env:await l.envForRemoteOperation(t,l.getFallbackUrlForProxyResolve(t,e)),expectedErrors:s.AuthenticationErrors};if(i){const e=`Checking out branch ${n.name}`,t='checkout',o=n.name;d=await a.executionOptionsWithProgress(Object.assign({},d,{trackLFSProgress:!0}),new a.CheckoutProgressParser,(n)=>{if('progress'===n.kind){const r=n.details.text,a=n.percent;i({kind:t,title:e,description:r,value:a,targetBranch:o})}}),i({kind:t,title:e,value:0,targetBranch:o})}const c=await o(e,n,t,i);return await r.git(c,e.path,'checkoutBranch',d),!0},t.checkoutPaths=async function(e,t){await r.git(['checkout','HEAD','--',...t],e.path,'checkoutPaths')}},function(e,t){'use strict';function n(e,t){switch(e.toLowerCase()){case'proxy':case'http':return`http://${t}`;case'https':return`https://${t}`;case'socks':case'socks4':return`socks4://${t}`;case'socks5':return`socks5://${t}`;}return null}Object.defineProperty(t,'__esModule',{value:!0}),t.parsePACString=function(e){if('DIRECT'===e)return null;const t=e.trim().split(/\s*;\s*/),o=[];for(const r of t){if(r.match(/^direct/i))break;const[e,t]=r.split(/\s+/,2);if(t!==void 0){const i=n(e,t);null===i?log.warn(`Skipping proxy spec: ${r}`):o.push(i)}}return 0<o.length?o:null}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=n(25),i=n(703);t.resolveGitProxy=async function(e){if(r.enableAutomaticGitProxyConfiguration()){const t=await o.remote.session.defaultSession.resolveProxy(e).catch((t)=>(log.error(`Failed resolving proxy for '${e}'`,t),'DIRECT')),n=i.parsePACString(t);if(null!==n)for(const e of n)if(e.startsWith('https://'))log.warn('ignoring https proxy, not supported in cURL/schannel');else return e}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.removeRemotePrefix=function(e){const t=e.match(/.*?\/(.*)/);return!t||2>t.length?null:t[1]}},function(e,t,n){'use strict';async function o(e,t){return await r.git(['branch','-D',t],e.path,'deleteLocalBranch'),!0}Object.defineProperty(t,'__esModule',{value:!0});const r=n(11),i=n(263),a=n(46),s=n(262),d=n(261),l=n(35),c=n(260),p=n(52);t.createBranch=async function(e,t,n,o){const a=null===n?['branch',t]:['branch',t,n];o&&a.push('--no-track'),await r.git(a,e.path,'createBranch');const s=await i.getBranches(e,`refs/heads/${t}`);return 0<s.length?s[0]:null},t.renameBranch=async function(e,t,n){await r.git(['branch','-m',t.nameWithoutRemote,n],e.path,'renameBranch')},t.deleteLocalBranch=o,t.deleteBranch=async function(e,t,n,i){t.type===a.BranchType.Local&&(await o(e,t.name));const s=t.remote;if(i&&s){const o=await r.gitNetworkArguments(e,n),i=(await c.getRemoteURL(e,s).catch((e)=>(log.error(`Could not resolve remote url for remote ${s}`,e),null)))||p.getFallbackUrlForProxyResolve(n,e),a=[...o,'push',s,`:${t.nameWithoutRemote}`],u=await r.git(a,e.path,'deleteRemoteBranch',{env:await p.envForRemoteOperation(n,i),expectedErrors:new Set([l.GitError.BranchDeletionFailed])});if(u.gitError===l.GitError.BranchDeletionFailed){const n=`refs/remotes/${s}/${t.nameWithoutRemote}`;await d.deleteRef(e,n)}}return!0},t.getBranchesPointedAt=async function(e,t){const n=['branch',`--points-at=${t}`,'--format=%(refname:short)'],{stdout:o,exitCode:i}=await r.git(n,e.path,'branchPointedAt',{successExitCodes:new Set([0,1,129])});return 1===i||129===i?null:o.split('\n').slice(0,-1)},t.getMergedBranches=async function(e,t){const n=s.formatAsLocalRef(t),o=['branch',`--format=%(objectname)%00%(refname)`,'--merged',t],{stdout:i}=await r.git(o,e.path,'mergedBranches'),a=i.split('\n');a.splice(-1,1);const d=new Map;for(const o of a){const[e,t]=o.split('\0');void 0!==e&&void 0!==t&&t!==n&&d.set(t,e)}return d}},function(e,t,n){'use strict';function o(e,t){const n=e?`a/${e}`:'/dev/null',o=t?`b/${t}`:'/dev/null';return`--- ${n}\n+++ ${o}\n`}function r(e){switch(e.status.kind){case s.AppFileStatusKind.New:case s.AppFileStatusKind.Untracked:return o(null,e.path);case s.AppFileStatusKind.Renamed:case s.AppFileStatusKind.Deleted:case s.AppFileStatusKind.Modified:case s.AppFileStatusKind.Copied:case s.AppFileStatusKind.Conflicted:return o(e.path,e.path);}return a.assertNever(e.status,`Unknown file status ${e.status}`)}function i(e,t,n,o,r){const i=1===t?`${e}`:`${e},${t}`,a=1===o?`${n}`:`${n},${o}`;return r=r?` ${r}`:'',`@@ -${i} +${a} @@${r}\n`}Object.defineProperty(t,'__esModule',{value:!0});const a=n(2),s=n(23),d=n(30);t.formatPatch=function(e,t){let n='';if(t.hunks.forEach((t)=>{let o='',r=0,l=0,c=!1;t.lines.forEach((n,i)=>{const p=t.unifiedDiffStart+i;if(n.type!==d.DiffLineType.Hunk){if(n.type===d.DiffLineType.Context)o+=`${n.text}\n`,r++,l++;else if(e.selection.isSelected(p))o+=`${n.text}\n`,n.type===d.DiffLineType.Add&&l++,n.type===d.DiffLineType.Delete&&r++,c=!0;else{if(e.status.kind===s.AppFileStatusKind.New||e.status.kind===s.AppFileStatusKind.Untracked)return;if(n.type===d.DiffLineType.Add)return;n.type===d.DiffLineType.Delete?(o+=` ${n.text.substr(1)}\n`,r++,l++):a.assertNever(n.type,`Unsupported line type ${n.type}`)}n.noTrailingNewLine&&(o+='\\ No newline at end of file\n')}}),c&&(n+=i(t.header.oldStartLine,r,t.header.newStartLine,l),n+=o)}),!n.length)throw log.debug(`formatPatch: empty path for ${e.path}`),new Error(`Could not generate a patch, no changes`);return n=r(e)+n,n},t.formatPatchToDiscardChanges=function(e,t,n){let r='';return t.hunks.forEach((e)=>{let t='',o=0,s=0,l=!1;e.lines.forEach((r,i)=>{const c=e.unifiedDiffStart+i;if(r.type!==d.DiffLineType.Hunk){if(r.type===d.DiffLineType.Context)t+=`${r.text}\n`,o++,s++;else if(n.isSelected(c))r.type===d.DiffLineType.Add?(t+=`-${r.text.substr(1)}\n`,s++):r.type===d.DiffLineType.Delete?(t+=`+${r.text.substr(1)}\n`,o++):a.assertNever(r.type,`Unsupported line type ${r.type}`),l=!0;else if(r.type===d.DiffLineType.Add)o++,s++,t+=` ${r.text.substr(1)}\n`;else{if(r.type===d.DiffLineType.Delete)return;a.assertNever(r.type,`Unsupported line type ${r.type}`)}r.noTrailingNewLine&&(t+='\\ No newline at end of file\n')}}),l&&(r+=i(e.header.newStartLine,s,e.header.oldStartLine,o),r+=t)}),0===r.length?null:o(e,e)+r}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(30),r=n(2),i=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/,a='+',s='-',d=' ',l='\\',p=new Set([a,s,d,l]);t.DiffParser=class{constructor(){this.reset()}reset(){this.ls=0,this.le=-1,this.text=''}nextLine(){return(this.ls=this.le+1,!(this.ls>=this.text.length))&&(this.le=this.text.indexOf('\n',this.ls),-1===this.le&&(this.le=this.text.length),this.ls!==this.le)}readLine(){return this.nextLine()?this.text.substring(this.ls,this.le):null}lineStartsWith(e){return this.text.startsWith(e,this.ls)}lineEndsWith(e){return this.text.endsWith(e,this.le)}peek(){const e=this.le+1;return e<this.text.length?this.text[e]:null}parseDiffHeader(){for(;this.nextLine();){if(this.lineStartsWith('Binary files ')&&this.lineEndsWith('differ'))return{isBinary:!0};if(this.lineStartsWith('+++'))return{isBinary:!1}}return null}numberFromGroup(e,t,n=null){const o=e[t];if(!o){if(!n)throw new Error(`Group ${t} missing from regexp match and no defaultValue was provided`);return n}const r=parseInt(o,10);if(isNaN(r))throw new Error(`Could not parse capture group ${t} into number: ${o}`);return r}parseHunkHeader(e){const t=i.exec(e);if(!t)throw new Error(`Invalid hunk header format`);const n=this.numberFromGroup(t,1),r=this.numberFromGroup(t,2,1),a=this.numberFromGroup(t,3),s=this.numberFromGroup(t,4,1);return new o.DiffHunkHeader(n,r,a,s)}parseLinePrefix(e){return e&&e.length&&p.has(e[0])?e[0]:null}parseHunk(e){const t=this.readLine();if(!t)throw new Error('Expected hunk header but reached end of diff');const n=this.parseHunkHeader(t),i=[];i.push(new o.DiffLine(t,o.DiffLineType.Hunk,null,null));for(let t=n.oldStartLine,p=n.newStartLine,u;u=this.parseLinePrefix(this.peek());){const e=this.readLine();if(!e)throw new Error('Expected unified diff line but reached end of diff');if(u===l){if(12>e.length)throw new Error(`Expected "no newline at end of file" marker to be at least 12 bytes long`);const t=i.length-1,n=i[t];i[t]=n.withNoTrailingNewLine(!0);continue}let n;if(u===a)n=new o.DiffLine(e,o.DiffLineType.Add,null,p++);else if(u===s)n=new o.DiffLine(e,o.DiffLineType.Delete,t++,null);else if(u===d)n=new o.DiffLine(e,o.DiffLineType.Context,t++,p++);else return r.assertNever(u,`Unknown DiffLinePrefix: ${u}`);i.push(n)}if(1===i.length)throw new Error('Malformed diff, empty hunk');return new o.DiffHunk(n,i,e,e+i.length-1)}parse(e){this.text=e;try{const e=this.parseDiffHeader(),t=this.le,n=this.text.substring(0,t);if(!e)return{header:n,contents:'',hunks:[],isBinary:!1};if(e.isBinary)return{header:n,contents:'',hunks:[],isBinary:!0};const o=[];let r=0;do{const e=this.parseHunk(r);o.push(e),r+=e.lines.length}while(this.peek());const i=this.text.substring(t+1,this.le).replace(/\n\\ No newline at end of file/g,'');return{header:n,contents:i,hunks:o,isBinary:e.isBinary}}finally{this.reset()}}}},function(e){e.exports=require('timers')},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(33),r=n(49);t.Tailer=class{constructor(e){this.emitter=new r.Emitter,this.state=null,this.onWatchEvent=(e)=>{'change'===e&&this.state&&o.stat(this.path,(e,t)=>{if(!e){const e=this.state;!e||t.size<=e.position||(this.state=Object.assign({},e,{position:t.size}),this.readChunk(t,e.position))}})},this.path=e}onDataAvailable(e){return this.emitter.on('data',e)}onError(e){return this.emitter.on('error',e)}handleError(e){this.state=null,this.emitter.emit('error',e)}start(){if(this.state)throw new Error(`Tailer already running`);try{const e=o.watch(this.path,this.onWatchEvent);e.on('error',(e)=>{this.handleError(e)}),this.state={watcher:e,position:0}}catch(e){this.handleError(e)}}readChunk(e,t){const n=o.createReadStream(this.path,{start:t,end:e.size});this.emitter.emit('data',n)}stop(){const e=this.state;e&&(e.watcher.close(),this.state=null)}}},function(e,t,n){(function(e){const t=n(1),o=t.join(__dirname,'keytar.node');try{global.process.dlopen(e,o)}catch(e){throw new Error('Cannot open '+o+': '+e)}}).call(this,n(138)(e))},function(e,t,n){function o(e,t){if(!e||0>=e.length)throw new Error(t+' is required.')}function r(e){if('function'==typeof e)return new Promise(function(t,n){e((e,o)=>{e?n(e):t(o)})});throw new Error('Callback required')}var i=n(711);e.exports={getPassword:function(e,t){return o(e,'Service'),o(t,'Account'),r((n)=>i.getPassword(e,t,n))},setPassword:function(e,t,n){return o(e,'Service'),o(t,'Account'),o(n,'Password'),r((o)=>i.setPassword(e,t,n,o))},deletePassword:function(e,t){return o(e,'Service'),o(t,'Account'),r((n)=>i.deletePassword(e,t,n))},findPassword:function(e){return o(e,'Service'),r((t)=>i.findPassword(e,t))},findCredentials:function(e){return o(e,'Service'),r((t)=>i.findCredentials(e,t))}}},function(e,t,n){'use strict';function o(){{const e=d.sep;return d.resolve(__dirname,'..','..','git').replace(/[\\\/]app.asar[\\\/]/,`${e}app.asar.unpacked${e}`)}throw new Error('Git not supported on platform: win32')}function r(){return null==process.env.LOCAL_GIT_DIRECTORY?o():d.resolve(process.env.LOCAL_GIT_DIRECTORY)}function i(){const e=r();return d.join(e,'cmd','git.exe')}function a(){if(null!=process.env.GIT_EXEC_PATH)return d.resolve(process.env.GIT_EXEC_PATH);const e=r();return'x64'===process.arch?d.join(e,'mingw64','libexec','git-core'):d.join(e,'mingw32','libexec','git-core')}Object.defineProperty(t,'__esModule',{value:!0});const d=n(1);t.setupEnvironment=function(e){const t=i();let n=process.env.PATH||'';const o=r();n='x64'===process.arch?`${o}\\mingw64\\bin;${o}\\mingw64\\usr\\bin;${n}`:`${o}\\mingw32\\bin;${o}\\mingw32\\usr\\bin;${n}`;const s=Object.assign({},process.env,{GIT_EXEC_PATH:a(),PATH:n},e);return s.Path&&delete s.Path,!1,!1,{env:s,gitLocation:t}}},function(e,t,n){'use strict';function o(e){e.stdin&&e.stdin.on('error',(t)=>{const n=t.code;if('EPIPE'!==n&&'EOF'!==n&&'ECONNRESET'!==n&&1>=e.stdin.listeners('error').length)throw t})}Object.defineProperty(t,'__esModule',{value:!0});const r=n(33),i=n(48),a=n(271),s=n(713);class d{static pathExists(e){try{return r.accessSync(e,r.F_OK),!0}catch(e){return!1}}static spawn(e,t,n){let r={};n&&n.env&&(r=n.env);const{env:a,gitLocation:d}=s.setupEnvironment(r),l=i.spawn(d,e,{env:a,cwd:t});return o(l),l}static exec(e,t,n){return new Promise(function(r,l){let c={};n&&n.env&&(c=n.env);const{env:p,gitLocation:u}=s.setupEnvironment(c),m={cwd:t,encoding:'utf8',maxBuffer:n?n.maxBuffer:10485760,env:p},h=i.execFile(u,e,m,function(e,n,o){if(!e)return void r({stdout:n,stderr:o,exitCode:0});let i=e.code;if('string'==typeof i){if('ENOENT'===i){let n=e.message;!1===d.pathExists(t)?(n='Unable to find path to repository on disk.',i=a.RepositoryDoesNotExistErrorCode):(n=`Git could not be found at the expected path: '${u}'. This might be a problem with how the application is packaged, so confirm this folder hasn't been removed when packaging.`,i=a.GitNotFoundErrorCode);const o=new Error(n);o.name=e.name,o.code=i,l(o)}else l(e);return}return'number'==typeof i?void r({stdout:n,stderr:o,exitCode:i}):void('stdout maxBuffer exceeded'===e.message?l(new Error(`The output from the command could not fit into the allocated stdout buffer. Set options.maxBuffer to a larger value than ${m.maxBuffer} bytes`)):l(e))});o(h),n&&n.stdin!==void 0&&h.stdin.end(n.stdin,n.stdinEncoding),n&&n.processCallback&&n.processCallback(h)})}static parseError(e){for(const t in a.GitErrorRegexes)if(e.match(t)){const e=a.GitErrorRegexes[t];return e}return null}}t.GitProcess=d},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(48),r=n(19),i=n(101);t.launchExternalEditor=async function(e,t){const n=t.path,a=await r.pathExists(n);if(!a){const e='Options';throw new i.ExternalEditorError(`Could not find executable for '${t.editor}' at path '${t.path}'.  Please open ${e} and select an available editor.`,{openPreferences:!0})}t.usesShell?o.spawn(`"${n}"`,[`"${e}"`],{shell:!0}):o.spawn(n,[e])}},function(e,t,n){(function(e){const t=n(1),o=t.join(__dirname,'registry.node');try{global.process.dlopen(e,o)}catch(e){throw new Error('Cannot open '+o+': '+e)}}).call(this,n(138)(e))},function(e,t,n){'use strict';function o(e,t){throw new Error(t)}function r(e){return e===l.HKEY_CLASSES_ROOT?2147483648:e===l.HKEY_CURRENT_USER?2147483649:e===l.HKEY_LOCAL_MACHINE?2147483650:e===l.HKEY_USERS?2147483651:e===l.HKEY_PERFORMANCE_DATA?2147483652:e===l.HKEY_CURRENT_CONFIG?2147483653:e===l.HKEY_DYN_DATA?2147483654:e===l.HKEY_CURRENT_USER_LOCAL_SETTINGS?2147483655:e===l.HKEY_PERFORMANCE_TEXT?2147483728:e===l.HKEY_PERFORMANCE_NLSTEXT?2147483744:o(e,'The key does not map to an expected number value')}function i(e,t){if(!s)return[];const n=r(e),o=s.readValues(n,t);return o}function a(e,t){if(!s)return[];const n=r(e),o=s.enumKeys(n,t);return o}Object.defineProperty(t,'__esModule',{value:!0});const s=n(716);var d;(function(e){e.REG_BINARY='REG_BINARY',e.REG_DWORD='REG_DWORD',e.REG_DWORD_LITTLE_ENDIAN='REG_DWORD_LITTLE_ENDIAN',e.REG_DWORD_BIG_ENDIAN='REG_DWORD_BIG_ENDIAN',e.REG_EXPAND_SZ='REG_EXPAND_SZ',e.REG_LINK='REG_LINK',e.REG_MULTI_SZ='REG_MULTI_SZ',e.REG_NONE='REG_NONE',e.REG_QWORD='REG_QWORD',e.REG_QWORD_LITTLE_ENDIAN='REG_QWORD_LITTLE_ENDIAN',e.REG_SZ='REG_SZ'})(d=t.RegistryValueType||(t.RegistryValueType={}));var l;(function(e){e.HKEY_CLASSES_ROOT='HKEY_CLASSES_ROOT',e.HKEY_CURRENT_CONFIG='HKEY_CURRENT_CONFIG',e.HKEY_DYN_DATA='HKEY_DYN_DATA',e.HKEY_CURRENT_USER_LOCAL_SETTINGS='HKEY_CURRENT_USER_LOCAL_SETTINGS',e.HKEY_CURRENT_USER='HKEY_CURRENT_USER',e.HKEY_LOCAL_MACHINE='HKEY_LOCAL_MACHINE',e.HKEY_PERFORMANCE_DATA='HKEY_PERFORMANCE_DATA',e.HKEY_PERFORMANCE_TEXT='HKEY_PERFORMANCE_TEXT',e.HKEY_PERFORMANCE_NLSTEXT='HKEY_PERFORMANCE_NLSTEXT',e.HKEY_USERS='HKEY_USERS'})(l=t.HKEY||(t.HKEY={})),t.enumerateValues=i,t.enumerateValuesSafe=function(e,t){try{return i(e,t)}catch(e){return[]}},t.enumerateKeys=a,t.enumerateKeysSafe=function(e,t){try{return a(e,t)}catch(e){return[]}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(22),r=n(85),i=n(49),a=n(173);t.themeChangeMonitor=new class{constructor(){this.emitter=new i.Emitter,this.subscribe=()=>{a.supportsDarkMode()&&o.remote.nativeTheme.addListener('updated',this.onThemeNotificationFromOS)},this.onThemeNotificationFromOS=()=>{const e=a.isDarkModeEnabled(),t=e?r.ApplicationTheme.Dark:r.ApplicationTheme.Light;this.emitThemeChanged(t)},this.subscribe()}dispose(){o.remote.nativeTheme.removeAllListeners()}onThemeChanged(e){return this.emitter.on('theme-changed',e)}emitThemeChanged(e){this.emitter.emit('theme-changed',e)}},o.remote.app.on('will-quit',()=>{t.themeChangeMonitor.dispose()})},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.TwoUp=0]='TwoUp',e[e.Swipe=1]='Swipe',e[e.OnionSkin=2]='OnionSkin',e[e.Difference=3]='Difference'})(n=t.ImageDiffType||(t.ImageDiffType={}))},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.DiffHunk=class{constructor(e,t,n,o){this.header=e,this.lines=t,this.unifiedDiffStart=n,this.unifiedDiffEnd=o}};t.DiffHunkHeader=class{constructor(e,t,n,o){this.oldStartLine=e,this.oldLineCount=t,this.newStartLine=n,this.newLineCount=o}}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.Image=class{constructor(e,t,n){this.contents=e,this.mediaType=t,this.bytes=n}}},function(e,t,n){'use strict';function o(e,t){return e===i.All?t:e===i.None?!t:e!==i.Partial&&r.assertNever(e,`Unknown selection type ${e}`)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(2);var i;(function(e){e.All='All',e.Partial='Partial',e.None='None'})(i=t.DiffSelectionType||(t.DiffSelectionType={}));class a{constructor(e,t=null,n=null){this.defaultSelectionType=e,this.divergingLines=t,this.selectableLines=n}static fromInitialSelection(e){return e!==i.All&&e!==i.None?r.assertNever(e,'Can only instantiate a DiffSelection with All or None as the initial selection'):new a(e,null,null)}getSelectionType(){const e=this.divergingLines,t=this.selectableLines;if(!e)return this.defaultSelectionType;if(0===e.size)return this.defaultSelectionType;if(t&&t.size===e.size){const n=[...t].every((t)=>e.has(t));if(n)return this.defaultSelectionType===i.All?i.None:i.All}return i.Partial}isSelected(e){const t=!!this.divergingLines&&this.divergingLines.has(e);return this.defaultSelectionType===i.All?!t:this.defaultSelectionType===i.None?t:r.assertNever(this.defaultSelectionType,`Unknown base selection type ${this.defaultSelectionType}`)}isSelectable(e){return!this.selectableLines||this.selectableLines.has(e)}withLineSelection(e,t){return this.withRangeSelection(e,1,t)}withRangeSelection(e,t,n){const r=this.getSelectionType(),s=e+t;if(o(r,n))return this;if(r===i.Partial){const t=new Set(this.divergingLines);if(o(this.defaultSelectionType,n))for(let n=e;n<s;n++)t.delete(n);else for(let n=e;n<s;n++)this.isSelectable(n)&&t.add(n);return new a(this.defaultSelectionType,0===t.size?null:t,this.selectableLines)}else{const t=new Set;for(let n=e;n<s;n++)this.isSelectable(n)&&t.add(n);return new a(r,t,this.selectableLines)}}withToggleLineSelection(e){return this.withLineSelection(e,!this.isSelected(e))}withSelectAll(){return new a(i.All,null,this.selectableLines)}withSelectNone(){return new a(i.None,null,this.selectableLines)}withSelectableLines(e){const t=this.divergingLines?new Set([...this.divergingLines].filter((t)=>e.has(t))):null;return new a(this.defaultSelectionType,t,e)}}t.DiffSelection=a},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n;(function(e){e[e.Context=0]='Context',e[e.Add=1]='Add',e[e.Delete=2]='Delete',e[e.Hunk=3]='Hunk'})(n=t.DiffLineType||(t.DiffLineType={}));class o{constructor(e,t,n,o,r=!1){this.text=e,this.type=t,this.oldLineNumber=n,this.newLineNumber=o,this.noTrailingNewLine=r}withNoTrailingNewLine(e){return new o(this.text,this.type,this.oldLineNumber,this.newLineNumber,e)}isIncludeableLine(){return this.type===n.Add||this.type===n.Delete}get content(){return this.text.substr(1)}}t.DiffLine=o},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.maximumDiffStringSize=268435441;var n;(function(e){e[e.Text=0]='Text',e[e.Image=1]='Image',e[e.Binary=2]='Binary',e[e.Submodule=3]='Submodule',e[e.LargeText=4]='LargeText',e[e.Unrenderable=5]='Unrenderable'})(n=t.DiffType||(t.DiffType={})),t.parseLineEndingText=function(e){const t=e.trim();return'CR'===t?'CR':'LF'===t?'LF':'CRLF'===t?'CRLF':null}},function(e){e.exports=require('querystring')},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(32),i=n(1),a=n(41),s=n(53).pathExists;e.exports={outputFile:o(function(e,t,n,o){'function'==typeof n&&(o=n,n='utf8');const d=i.dirname(e);s(d,(i,s)=>i?o(i):s?r.writeFile(e,t,n,o):void a.mkdirs(d,(i)=>i?o(i):void r.writeFile(e,t,n,o)))}),outputFileSync:function(e,...t){const n=i.dirname(e);return r.existsSync(n)?r.writeFileSync(e,...t):void(a.mkdirsSync(n),r.writeFileSync(e,...t))}}},function(e,t,n){'use strict';function o(e,t,n,o){return n?p(t,(i)=>i?o(i):r(e,t,n,o)):void m(t,(i,a)=>i?o(i):a?o(new Error('dest already exists.')):r(e,t,n,o))}function r(e,t,n,o){d.rename(e,t,(r)=>r?'EXDEV'===r.code?i(e,t,n,o):o(r):o())}function i(e,t,n,o){c(e,t,{overwrite:n,errorOnExist:!0},(t)=>t?o(t):p(e,o))}function a(e,t){const n=e.split(l.sep),o=t.split(l.sep);return n.reduce((e,t,n)=>e&&o[n]===t,!0)}const s=n(39).fromCallback,d=n(32),l=n(1),c=n(283).copy,p=n(133).remove,u=n(41).mkdirp,m=n(53).pathExists;e.exports={move:s(function(e,t,n,r){'function'==typeof n&&(r=n,n={});const i=n.overwrite||n.clobber||!1;return e=l.resolve(e),t=l.resolve(t),e===t?d.access(e,r):void d.stat(e,(n,s)=>n?r(n):s.isDirectory()&&a(e,t)?r(new Error(`Cannot move '${e}' to a subdirectory of itself, '${t}'.`)):void u(l.dirname(t),(n)=>n?r(n):o(e,t,i,r)))})}},function(e,t,n){'use strict';function o(e,t,n){function i(){if(a)try{return d.renameSync(e,t)}catch(i){if('ENOTEMPTY'===i.code||'EEXIST'===i.code||'EPERM'===i.code)return p(t),n.overwrite=!1,o(e,t,n);if('EXDEV'!==i.code)throw i;return r(e,t,a)}else try{return d.linkSync(e,t),d.unlinkSync(e)}catch(n){if('EXDEV'===n.code||'EISDIR'===n.code||'EPERM'===n.code||'ENOTSUP'===n.code)return r(e,t,a);throw n}}n=n||{};const a=n.overwrite||n.clobber||!1;if(e=l.resolve(e),t=l.resolve(t),e===t)return d.accessSync(e);if(s(e,t))throw new Error(`Cannot move '${e}' into itself '${t}'.`);u(l.dirname(t)),i()}function r(e,t,n){const o=d.statSync(e);return o.isDirectory()?a(e,t,n):i(e,t,n)}function i(e,t,n){const o=65536,r=m(o),i=n?'w':'wx',a=d.openSync(e,'r'),s=d.fstatSync(a),l=d.openSync(t,i,s.mode);for(let i=0;i<s.size;){const e=d.readSync(a,r,0,o,i);d.writeSync(l,r,0,e),i+=e}return d.closeSync(a),d.closeSync(l),d.unlinkSync(e)}function a(e,t,n){function o(){return c(e,t,r),p(e)}const r={overwrite:!1};n?(p(t),o()):o()}function s(e,t){try{return d.statSync(e).isDirectory()&&e!==t&&-1<t.indexOf(e)&&t.split(l.dirname(e)+l.sep)[1].split(l.sep)[0]===l.basename(e)}catch(t){return!1}}const d=n(32),l=n(1),c=n(287).copySync,p=n(133).removeSync,u=n(41).mkdirsSync,m=n(284);e.exports={moveSync:o}},function(e,t,n){'use strict';const o=n(32),r=n(1),i=n(41),a=n(175);e.exports=function(e,t,n){const s=r.dirname(e);o.existsSync(s)||i.mkdirsSync(s),a.writeJsonSync(e,t,n)}},function(e,t,n){'use strict';const o=n(1),r=n(41),i=n(53).pathExists,a=n(175);e.exports=function(e,t,n,s){'function'==typeof n&&(s=n,n={});const d=o.dirname(e);i(d,(o,i)=>o?s(o):i?a.writeJson(e,t,n,s):void r.mkdirs(d,(o)=>o?s(o):void a.writeJson(e,t,n,s)))}},function(e,t,n){function o(e,t,n){null==n&&(n=t,t={}),'string'==typeof t&&(t={encoding:t}),t=t||{};var o=t.fs||l,r=!0;'throws'in t&&(r=t.throws),o.readFile(e,t,function(o,i){if(o)return n(o);i=d(i);var a;try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return r?(t.message=e+': '+t.message,n(t)):n(null,null)}n(null,a)})}function r(e,t){t=t||{},'string'==typeof t&&(t={encoding:t});var n=t.fs||l,o=!0;'throws'in t&&(o=t.throws);try{var r=n.readFileSync(e,t);return r=d(r),JSON.parse(r,t.reviver)}catch(t){if(o)throw t.message=e+': '+t.message,t;else return null}}function i(e,t){var n='\n',o;'object'==typeof t&&null!==t&&(t.spaces&&(o=t.spaces),t.EOL&&(n=t.EOL));var r=JSON.stringify(e,t?t.replacer:null,o);return r.replace(/\n/g,n)+n}function a(e,t,n,o){null==o&&(o=n,n={}),n=n||{};var r=n.fs||l,a='';try{a=i(t,n)}catch(e){return void(o&&o(e,null))}r.writeFile(e,a,n,o)}function s(e,t,n){n=n||{};var o=n.fs||l,r=i(t,n);return o.writeFileSync(e,r,n)}function d(e){return Buffer.isBuffer(e)&&(e=e.toString('utf8')),e=e.replace(/^\uFEFF/,''),e}var l;try{l=n(32)}catch(e){l=n(33)}e.exports={readFile:o,readFileSync:r,writeFile:a,writeFileSync:s}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(175);r.outputJson=o(n(730)),r.outputJsonSync=n(729),r.outputJSON=r.outputJson,r.outputJSONSync=r.outputJsonSync,r.writeJSON=r.writeJson,r.writeJSONSync=r.writeJsonSync,r.readJSON=r.readJson,r.readJSONSync=r.readJsonSync,e.exports=r},function(e,t,n){'use strict';const o=n(32);e.exports={symlinkType:function(e,t,n){return n='function'==typeof t?t:n,t='function'!=typeof t&&t,t?n(null,t):void o.lstat(e,(e,o)=>e?n(null,'file'):void(t=o&&o.isDirectory()?'dir':'file',n(null,t)))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=o.lstatSync(e)}catch(t){return'file'}return n&&n.isDirectory()?'dir':'file'}}},function(e,t,n){'use strict';const o=n(1),r=n(32),i=n(53).pathExists;e.exports={symlinkPaths:function(e,t,n){if(o.isAbsolute(e))return r.lstat(e,(t)=>t?(t.message=t.message.replace('lstat','ensureSymlink'),n(t)):n(null,{toCwd:e,toDst:e}));else{const a=o.dirname(t),s=o.join(a,e);return i(s,(t,i)=>t?n(t):i?n(null,{toCwd:s,toDst:e}):r.lstat(e,(t)=>t?(t.message=t.message.replace('lstat','ensureSymlink'),n(t)):n(null,{toCwd:e,toDst:o.relative(a,e)})))}},symlinkPathsSync:function(e,t){let n;if(o.isAbsolute(e)){if(n=r.existsSync(e),!n)throw new Error('absolute srcpath does not exist');return{toCwd:e,toDst:e}}else{const i=o.dirname(t),a=o.join(i,e);if(n=r.existsSync(a),n)return{toCwd:a,toDst:e};if(n=r.existsSync(e),!n)throw new Error('relative srcpath does not exist');return{toCwd:e,toDst:o.relative(i,e)}}}}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(1),i=n(32),a=n(41),s=a.mkdirs,d=a.mkdirsSync,l=n(734),c=l.symlinkPaths,p=l.symlinkPathsSync,u=n(733),m=u.symlinkType,h=u.symlinkTypeSync,f=n(53).pathExists;e.exports={createSymlink:o(function(e,t,n,o){o='function'==typeof n?n:o,n='function'!=typeof n&&n,f(t,(a,d)=>a?o(a):d?o(null):void c(e,t,(a,d)=>a?o(a):void(e=d.toDst,m(d.toCwd,n,(n,a)=>{if(n)return o(n);const d=r.dirname(t);f(d,(n,r)=>n?o(n):r?i.symlink(e,t,a,o):void s(d,(n)=>n?o(n):void i.symlink(e,t,a,o)))}))))}),createSymlinkSync:function(e,t,n){const o=i.existsSync(t);if(!o){const o=p(e,t);e=o.toDst,n=h(o.toCwd,n);const a=r.dirname(t),s=i.existsSync(a);return s?i.symlinkSync(e,t,n):(d(a),i.symlinkSync(e,t,n))}}}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(1),i=n(32),a=n(41),s=n(53).pathExists;e.exports={createLink:o(function(e,t,n){function o(e,t){i.link(e,t,(e)=>e?n(e):void n(null))}s(t,(d,l)=>d?n(d):l?n(null):void i.lstat(e,(i)=>{if(i)return i.message=i.message.replace('lstat','ensureLink'),n(i);const d=r.dirname(t);s(d,(r,i)=>r?n(r):i?o(e,t):void a.mkdirs(d,(r)=>r?n(r):void o(e,t)))}))}),createLinkSync:function(e,t){const n=i.existsSync(t);if(!n){try{i.lstatSync(e)}catch(e){throw e.message=e.message.replace('lstat','ensureLink'),e}const n=r.dirname(t),o=i.existsSync(n);return o?i.linkSync(e,t):(a.mkdirsSync(n),i.linkSync(e,t))}}}},function(e,t,n){'use strict';const o=n(39).fromCallback,r=n(1),i=n(32),a=n(41),s=n(53).pathExists;e.exports={createFile:o(function(e,t){function n(){i.writeFile(e,'',(e)=>e?t(e):void t())}i.stat(e,(o,i)=>{if(!o&&i.isFile())return t();const d=r.dirname(e);s(d,(e,o)=>e?t(e):o?n():void a.mkdirs(d,(e)=>e?t(e):void n()))})}),createFileSync:function(e){let t;try{t=i.statSync(e)}catch(t){}if(!(t&&t.isFile())){const t=r.dirname(e);i.existsSync(t)||a.mkdirsSync(t),i.writeFileSync(e,'')}}}},function(e,t,n){'use strict';const o=n(737),r=n(736),i=n(735);e.exports={createFile:o.createFile,createFileSync:o.createFileSync,ensureFile:o.createFile,ensureFileSync:o.createFileSync,createLink:r.createLink,createLinkSync:r.createLinkSync,ensureLink:r.createLink,ensureLinkSync:r.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},function(e,t,n){'use strict';function o(e){['unlink','chmod','stat','lstat','rmdir','readdir'].forEach((t)=>{e[t]=e[t]||p[t],t+='Sync',e[t]=e[t]||p[t]}),e.maxBusyTries=e.maxBusyTries||3}function r(e,t,n){let r=0;'function'==typeof t&&(n=t,t={}),f(e,'rimraf: missing path'),f.strictEqual(typeof e,'string','rimraf: path should be a string'),f.strictEqual(typeof n,'function','rimraf: callback function required'),f(t,'rimraf: invalid options argument provided'),f.strictEqual(typeof t,'object','rimraf: options should be object'),o(t),i(e,t,function o(a){if(a){if(('EBUSY'===a.code||'ENOTEMPTY'===a.code||'EPERM'===a.code)&&r<t.maxBusyTries){r++;const n=100*r;return setTimeout(()=>i(e,t,o),n)}'ENOENT'===a.code&&(a=null)}n(a)})}function i(e,t,n){f(e),f(t),f('function'==typeof n),t.lstat(e,(o,r)=>o&&'ENOENT'===o.code?n(null):o&&'EPERM'===o.code&&g?a(e,t,o,n):r&&r.isDirectory()?d(e,t,o,n):void t.unlink(e,(o)=>{if(o){if('ENOENT'===o.code)return n(null);if('EPERM'===o.code)return a(e,t,o,n);if('EISDIR'===o.code)return d(e,t,o,n)}return n(o)}))}function a(e,t,n,o){f(e),f(t),f('function'==typeof o),n&&f(n instanceof Error),t.chmod(e,438,(r)=>{r?o('ENOENT'===r.code?null:n):t.stat(e,(r,i)=>{r?o('ENOENT'===r.code?null:n):i.isDirectory()?d(e,t,n,o):t.unlink(e,o)})})}function s(e,t,n){let o;f(e),f(t),n&&f(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if('ENOENT'===e.code)return;throw n}try{o=t.statSync(e)}catch(e){if('ENOENT'===e.code)return;throw n}o.isDirectory()?u(e,t,n):t.unlinkSync(e)}function d(e,t,n,o){f(e),f(t),n&&f(n instanceof Error),f('function'==typeof o),t.rmdir(e,(r)=>{r&&('ENOTEMPTY'===r.code||'EEXIST'===r.code||'EPERM'===r.code)?l(e,t,o):r&&'ENOTDIR'===r.code?o(n):o(r)})}function l(e,t,o){f(e),f(t),f('function'==typeof o),t.readdir(e,(i,a)=>{if(i)return o(i);let s=a.length,n;return 0===s?t.rmdir(e,o):void a.forEach((i)=>{r(h.join(e,i),t,(r)=>n?void 0:r?o(n=r):void(0==--s&&t.rmdir(e,o)))})})}function c(e,t){let n;t=t||{},o(t),f(e,'rimraf: missing path'),f.strictEqual(typeof e,'string','rimraf: path should be a string'),f(t,'rimraf: missing options'),f.strictEqual(typeof t,'object','rimraf: options should be object');try{n=t.lstatSync(e)}catch(n){if('ENOENT'===n.code)return;'EPERM'===n.code&&g&&s(e,t,n)}try{n&&n.isDirectory()?u(e,t,null):t.unlinkSync(e)}catch(n){if('ENOENT'===n.code)return;if('EPERM'===n.code)return s(e,t,n);if('EISDIR'!==n.code)throw n;u(e,t,n)}}function u(e,t,n){f(e),f(t),n&&f(n instanceof Error);try{t.rmdirSync(e)}catch(o){if('ENOTDIR'===o.code)throw n;else if('ENOTEMPTY'===o.code||'EEXIST'===o.code||'EPERM'===o.code)m(e,t);else if('ENOENT'!==o.code)throw o}}function m(e,t){f(e),f(t),t.readdirSync(e).forEach((n)=>c(h.join(e,n),t));{const n=Date.now();do try{const n=t.rmdirSync(e,t);return n}catch(e){}while(500>Date.now()-n)}}const p=n(32),h=n(1),f=n(288),g=!0;e.exports=r,r.sync=c},function(e,t,n){'use strict';function o(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach((t)=>{t=a.join(e,t),d.removeSync(t)})}const r=n(39).fromCallback,i=n(33),a=n(1),s=n(41),d=n(133),l=r(function(e,t){t=t||function(){},i.readdir(e,(n,o)=>{function r(){const e=o.pop();return e?void d.remove(e,(e)=>e?t(e):void r()):t()}return n?s.mkdirs(e,t):void(o=o.map((t)=>a.join(e,t)),r())})});e.exports={emptyDirSync:o,emptydirSync:o,emptyDir:l,emptydir:l}},function(e,t,n){'use strict';function o(e,t,n,o){'function'!=typeof n||o?'function'==typeof n&&(n={filter:n}):(o=n,n={}),o=o||function(){},n=n||{},n.clobber=!('clobber'in n)||!!n.clobber,n.overwrite='overwrite'in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&'ia32'===process.arch&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n
    see https://github.com/jprichardson/node-fs-extra/issues/269`),E(e,t,(a,s)=>a?o(a):n.filter?i(r,s,e,t,n,o):r(s,e,t,n,o))}function r(e,t,n,o,r){const i=k.dirname(n);_(i,(s,d)=>s?r(s):d?a(e,t,n,o,r):void T(i,(i)=>i?r(i):a(e,t,n,o,r)))}function i(e,t,n,o,r,i){Promise.resolve(r.filter(n,o)).then((a)=>a?t?e(t,n,o,r,i):e(n,o,r,i):i(),(e)=>i(e))}function a(e,t,n,o,r){return o.filter?i(s,e,t,n,o,r):s(e,t,n,o,r)}function s(e,t,n,o,r){const i=o.dereference?w.stat:w.lstat;i(t,(i,a)=>{if(i)return r(i);return a.isDirectory()?m(a,e,t,n,o,r):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?d(a,e,t,n,o,r):a.isSymbolicLink()?S(e,t,n,o,r):void 0})}function d(e,t,n,o,r,i){return t===x?c(e,n,o,r,i):l(e,n,o,r,i)}function l(e,t,n,o,r){return o.overwrite?void w.unlink(n,(i)=>i?r(i):c(e,t,n,o,r)):o.errorOnExist?r(new Error(`'${n}' already exists`)):r()}function c(e,t,n,o,r){return'function'==typeof w.copyFile?w.copyFile(t,n,(t)=>t?r(t):u(e,n,o,r)):p(e,t,n,o,r)}function p(e,t,n,o,r){const i=w.createReadStream(t);i.on('error',(e)=>r(e)).once('open',()=>{const t=w.createWriteStream(n,{mode:e.mode});t.on('error',(e)=>r(e)).on('open',()=>i.pipe(t)).once('close',()=>u(e,n,o,r))})}function u(e,t,n,o){w.chmod(t,e.mode,(r)=>r?o(r):n.preserveTimestamps?R(t,e.atime,e.mtime,o):o())}function m(e,t,n,o,r,i){return t===x?h(e,n,o,r,i):t&&!t.isDirectory()?i(new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`)):f(n,o,r,i)}function h(e,t,n,o,r){w.mkdir(n,(i)=>i?r(i):void f(t,n,o,(t)=>t?r(t):w.chmod(n,e.mode,r)))}function f(e,t,n,o){w.readdir(e,(r,i)=>r?o(r):g(i,e,t,n,o))}function g(e,t,n,o,r){const i=e.pop();return i?y(e,i,t,n,o,r):r()}function y(e,t,n,o,r,i){const s=k.join(n,t),d=k.join(o,t);E(s,d,(t,l)=>t?i(t):void a(l,s,d,r,(t)=>t?i(t):g(e,n,o,r,i)))}function S(e,t,n,o,r){w.readlink(t,(t,i)=>t?r(t):(o.dereference&&(i=k.resolve(process.cwd(),i)),e===x?w.symlink(i,n,r):void w.readlink(n,(t,a)=>t?'EINVAL'===t.code||'UNKNOWN'===t.code?w.symlink(i,n,r):r(t):(o.dereference&&(a=k.resolve(process.cwd(),a)),b(i,a)?r(new Error(`Cannot copy '${i}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&b(a,i)?r(new Error(`Cannot overwrite '${a}' with '${i}'.`)):C(i,n,r)))))}function C(e,t,n){w.unlink(t,(o)=>o?n(o):w.symlink(e,t,n))}function b(e,t){const n=k.resolve(e).split(k.sep),o=k.resolve(t).split(k.sep);return n.reduce((e,t,n)=>e&&o[n]===t,!0)}function v(e,t,n){w.stat(e,(e,o)=>e?n(e):void w.stat(t,(e,t)=>e?'ENOENT'===e.code?n(null,{srcStat:o,destStat:x}):n(e):n(null,{srcStat:o,destStat:t})))}function E(e,t,n){v(e,t,(o,r)=>{if(o)return n(o);const{srcStat:i,destStat:a}=r;return a.ino&&a.ino===i.ino?n(new Error('Source and destination must not be the same.')):i.isDirectory()&&b(e,t)?n(new Error(`Cannot copy '${e}' to a subdirectory of itself, '${t}'.`)):n(null,a)})}const w=n(32),k=n(1),T=n(41).mkdirs,_=n(53).pathExists,R=n(285).utimesMillis,x=Symbol('notExist');e.exports=o},function(e,t,n){'use strict';function o(e,t,n){t&&'object'==typeof t||(t={mode:t});let d=t.mode;const l=t.fs||r;if(a(e)){const t=new Error(e+' contains invalid WIN32 path characters.');throw t.code='EINVAL',t}d===void 0&&(d=s&~process.umask()),n||(n=null),e=i.resolve(e);try{l.mkdirSync(e,d),n=n||e}catch(r){if('ENOENT'===r.code){if(i.dirname(e)===e)throw r;n=o(i.dirname(e),t,n),o(e,t,n)}else{let t;try{t=l.statSync(e)}catch(e){throw r}if(!t.isDirectory())throw r}}return n}const r=n(32),i=n(1),a=n(286).invalidWin32Path,s=parseInt('0777',8);e.exports=o},function(e,t,n){'use strict';function o(e,t,n,d){if('function'==typeof t?(n=t,t={}):(!t||'object'!=typeof t)&&(t={mode:t}),a(e)){const t=new Error(e+' contains invalid WIN32 path characters.');return t.code='EINVAL',n(t)}let l=t.mode;const c=t.fs||r;void 0===l&&(l=s&~process.umask()),d||(d=null),n=n||function(){},e=i.resolve(e),c.mkdir(e,l,(r)=>{if(!r)return d=d||e,n(null,d);switch(r.code){case'ENOENT':if(i.dirname(e)===e)return n(r);o(i.dirname(e),t,(r,i)=>{r?n(r,i):o(e,t,n,i)});break;default:c.stat(e,(e,t)=>{e||!t.isDirectory()?n(r,d):n(null,d)});}})}const r=n(32),i=n(1),a=n(286).invalidWin32Path,s=parseInt('0777',8);e.exports=o},function(e,t,n){'use strict';function o(e,t,n){'function'==typeof n&&(n={filter:n}),n=n||{},n.clobber=!('clobber'in n)||!!n.clobber,n.overwrite='overwrite'in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&'ia32'===process.arch&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n
    see https://github.com/jprichardson/node-fs-extra/issues/269`);const o=S(e,t);if(!n.filter||n.filter(e,t)){const i=b.dirname(t);return C.existsSync(i)||v(i),r(o,e,t,n)}}function r(e,t,n,o){return o.filter&&!o.filter(t,n)?void 0:i(e,t,n,o)}function i(e,t,n,o){const r=o.dereference?C.statSync:C.lstatSync,i=r(t);if(i.isDirectory())return c(i,e,t,n,o);return i.isFile()||i.isCharacterDevice()||i.isBlockDevice()?a(i,e,t,n,o):i.isSymbolicLink()?h(e,t,n,o):void 0}function a(e,t,n,o,r){return t===w?d(e,n,o,r):s(e,n,o,r)}function s(e,t,n,o){if(o.overwrite)return C.unlinkSync(n),d(e,t,n,o);if(o.errorOnExist)throw new Error(`'${n}' already exists`)}function d(e,t,n,o){return'function'==typeof C.copyFileSync?(C.copyFileSync(t,n),C.chmodSync(n,e.mode),o.preserveTimestamps?E(n,e.atime,e.mtime):void 0):l(e,t,n,o)}function l(e,t,o,r){const i=65536,a=n(284)(i),s=C.openSync(t,'r'),d=C.openSync(o,'w',e.mode);for(let n=0;n<e.size;){const e=C.readSync(s,a,0,i,n);C.writeSync(d,a,0,e),n+=e}r.preserveTimestamps&&C.futimesSync(d,e.atime,e.mtime),C.closeSync(s),C.closeSync(d)}function c(e,t,n,o,r){if(t===w)return p(e,n,o,r);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${o}' with directory '${n}'.`);return u(n,o,r)}function p(e,t,n,o){return C.mkdirSync(n),u(t,n,o),C.chmodSync(n,e.mode)}function u(e,t,n){C.readdirSync(e).forEach((o)=>m(o,e,t,n))}function m(e,t,n,o){const i=b.join(t,e),a=b.join(n,e),s=S(i,a);return r(s,i,a,o)}function h(e,t,n,o){let r=C.readlinkSync(t);if(o.dereference&&(r=b.resolve(process.cwd(),r)),e===w)return C.symlinkSync(r,n);else{let e;try{e=C.readlinkSync(n)}catch(e){if('EINVAL'===e.code||'UNKNOWN'===e.code)return C.symlinkSync(r,n);throw e}if(o.dereference&&(e=b.resolve(process.cwd(),e)),g(r,e))throw new Error(`Cannot copy '${r}' to a subdirectory of itself, '${e}'.`);if(C.statSync(n).isDirectory()&&g(e,r))throw new Error(`Cannot overwrite '${e}' with '${r}'.`);return f(r,n)}}function f(e,t){return C.unlinkSync(t),C.symlinkSync(e,t)}function g(e,t){const n=b.resolve(e).split(b.sep),o=b.resolve(t).split(b.sep);return n.reduce((e,t,n)=>e&&o[n]===t,!0)}function y(e,t){const n=C.statSync(e);let o;try{o=C.statSync(t)}catch(e){if('ENOENT'===e.code)return{srcStat:n,destStat:w};throw e}return{srcStat:n,destStat:o}}function S(e,t){const{srcStat:n,destStat:o}=y(e,t);if(o.ino&&o.ino===n.ino)throw new Error('Source and destination must not be the same.');if(n.isDirectory()&&g(e,t))throw new Error(`Cannot copy '${e}' to a subdirectory of itself, '${t}'.`);return o}const C=n(32),b=n(1),v=n(41).mkdirsSync,E=n(285).utimesMillisSync,w=Symbol('notExist');e.exports=o},function(e){'use strict';e.exports=function(e){if(null===e||'object'!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}},function(e,t,n){var o=n(289).Stream;e.exports=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);o.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags='r',this.mode=438,this.bufferSize=65536,r=r||{};for(var a=Object.keys(r),s=0,d=a.length,l;s<d;s++)l=a[s],this[l]=r[l];if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if('number'!=typeof this.start)throw TypeError('start must be a Number');if(void 0===this.end)this.end=Infinity;else if('number'!=typeof this.end)throw TypeError('end must be a Number');if(this.start>this.end)throw new Error('start must be <= end');this.pos=this.start}return null===this.fd?void e.open(this.path,this.flags,this.mode,function(e,t){return e?(i.emit('error',e),void(i.readable=!1)):void(i.fd=t,i.emit('open',t),i._read())}):void process.nextTick(function(){i._read()})}function n(t,r){if(!(this instanceof n))return new n(t,r);o.call(this),this.path=t,this.fd=null,this.writable=!0,this.flags='w',this.encoding='binary',this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),a=0,s=i.length,d;a<s;a++)d=i[a],this[d]=r[d];if(this.start!==void 0){if('number'!=typeof this.start)throw TypeError('start must be a Number');if(0>this.start)throw new Error('start must be >= zero');this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}return{ReadStream:t,WriteStream:n}}},function(e){e.exports=require('constants')},function(e,t,n){var o=n(747),r=process.cwd,i=null,a=process.env.GRACEFUL_FS_PLATFORM||'win32';process.cwd=function(){return i||(i=r.call(process)),i};try{process.cwd()}catch(e){}var s=process.chdir;process.chdir=function(e){i=null,s.call(process,e)},e.exports=function(e){function t(t){return t?function(n,o,r){return t.call(e,n,o,function(e){l(e)&&(e=null),r&&r.apply(this,arguments)})}:t}function n(t){return t?function(n,o){try{return t.call(e,n,o)}catch(e){if(!l(e))throw e}}:t}function r(t){return t?function(n,o,r,i){return t.call(e,n,o,r,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function i(t){return t?function(n,o,r){try{return t.call(e,n,o,r)}catch(e){if(!l(e))throw e}}:t}function s(t){return t?function(n,o,r){function i(e,t){t&&(0>t.uid&&(t.uid+=4294967296),0>t.gid&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return'function'==typeof o&&(r=o,o=null),o?t.call(e,n,o,i):t.call(e,n,i)}:t}function d(t){return t?function(n,o){var r=o?t.call(e,n,o):t.call(e,n);return 0>r.uid&&(r.uid+=4294967296),0>r.gid&&(r.gid+=4294967296),r}:t}function l(e){if(!e)return!0;if('ENOSYS'===e.code)return!0;var t=!process.getuid||0!==process.getuid();return!!(t&&('EINVAL'===e.code||'EPERM'===e.code))}o.hasOwnProperty('O_SYMLINK')&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,o.O_WRONLY|o.O_SYMLINK,n,function(t,o){return t?void(r&&r(t)):void e.fchmod(o,n,function(t){e.close(o,function(e){r&&r(t||e)})})})},e.lchmodSync=function(t,n){var r=e.openSync(t,o.O_WRONLY|o.O_SYMLINK,n),i=!0,a;try{a=e.fchmodSync(r,n),i=!1}finally{if(i)try{e.closeSync(r)}catch(e){}else e.closeSync(r)}return a}}(e),e.lutimes||function(e){o.hasOwnProperty('O_SYMLINK')?(e.lutimes=function(t,n,r,i){e.open(t,o.O_SYMLINK,function(t,o){return t?void(i&&i(t)):void e.futimes(o,n,r,function(t){e.close(o,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,n,r){var i=e.openSync(t,o.O_SYMLINK),a=!0,s;try{s=e.futimesSync(i,n,r),a=!1}finally{if(a)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return s}):(e.lutimes=function(e,t,n,o){o&&process.nextTick(o)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=d(e.statSync),e.fstatSync=d(e.fstatSync),e.lstatSync=d(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,n,o){o&&process.nextTick(o)},e.lchownSync=function(){}),'win32'===a&&(e.rename=function(t){return function(n,o,r){var i=Date.now(),a=0;t(n,o,function s(d){return d&&('EACCES'===d.code||'EPERM'===d.code)&&6e4>Date.now()-i?(setTimeout(function(){e.stat(o,function(e){e&&'ENOENT'===e.code?t(n,o,s):r(d)})},a),void(100>a&&(a+=10))):void(r&&r(d))})}}(e.rename)),e.read=function(t){function n(n,o,r,i,a,s){var d;if(s&&'function'==typeof s){var l=0;d=function(c){return c&&'EAGAIN'===c.code&&10>l?(l++,t.call(e,n,o,r,i,a,d)):void s.apply(this,arguments)}}return t.call(e,n,o,r,i,a,d)}return n.__proto__=t,n}(e.read),e.readSync=function(t){return function(n,o,r,i,a){for(var s=0;;)try{return t.call(e,n,o,r,i,a)}catch(e){if('EAGAIN'===e.code&&10>s){s++;continue}throw e}}}(e.readSync)}},function(e,t,n){'use strict';function o(e){if(e.kind===D.HistoryTabMode.History)return{kind:D.HistoryTabMode.History};const{comparisonMode:t,comparisonBranch:n}=e;return{kind:D.HistoryTabMode.Compare,comparisonMode:t,branch:n}}function r(e){return null===e?0:e.behind}function i(e,t){return null!==e&&!(e.type!==w.PopupType.RebaseFlow)&&null!==t.step&&!('ChooseBranch'!==t.step.kind&&'WarnForcePush'!==t.step.kind&&'ShowProgress'!==t.step.kind)}Object.defineProperty(t,'__esModule',{value:!0});const a=n(1),s=n(22),d=n(19),l=n(725),c=n(136),p=n(132),u=n(282),m=n(131),h=n(103),g=n(30),f=n(130),y=n(102),S=n(281),C=n(174),b=n(26),v=n(23),E=n(31),w=n(24),k=n(718),T=n(87),_=n(85),R=n(27),x=n(10),P=n(40),D=n(28),M=n(280),A=n(2),I=n(273),L=n(272),F=n(269),B=n(267),N=n(20),O=n(248),H=n(669),z=n(668),U=n(54),W=n(55),V=n(81),G=n(80),K=n(123),j=n(86),q=n(293),Y=n(245),X=n(62),Q=n(663),$=n(122),Z=n(660),J=n(659),ee=n(167),te=n(658),ne=n(656),oe=n(56),re=n(101),ie=n(653),ae=n(652),se=n(25),de=n(98),le=n(57),ce=n(173),pe=n(70),ue=n(239),me=n(61),he=n(79),fe=n(69),ge=n(648),ye=n(647),Se=n(646),Ce=n(97),be=n(645),ve=n(38),Ee=n(25),we=n(644),ke=n(643),Te=n(104),_e=n(642),Re=n(166),xe=n(165),Pe='last-selected-repository-id',De='recently-selected-repositories',Me=250,Ae='sidebar-width',Ie=250,Le='commit-summary-width',Fe=250,Be='stashed-files-width',Ne=!0,Oe=!0,He=!0,ze='confirmRepoRemoval',Ue='confirmDiscardChanges',We='confirmForcePush',Ve='uncommittedChangesStrategyKind',Ge='externalEditor',Ke=g.ImageDiffType.TwoUp,je='image-diff-type',qe='hide-whitespace-in-diff',Ye='shell';class Xe extends X.TypedBaseStore{constructor(e,t,n,o,r,i,a,d,l,c){super(),this.gitHubUserStore=e,this.cloningRepositoriesStore=t,this.issuesStore=n,this.statsStore=o,this.signInStore=r,this.accountsStore=i,this.repositoriesStore=a,this.pullRequestCoordinator=d,this.repositoryStateCache=l,this.apiRepositoriesStore=c,this.accounts=[],this.repositories=[],this.recentRepositories=[],this.selectedRepository=null,this.currentBackgroundFetcher=null,this.currentAheadBehindUpdater=null,this.currentBranchPruner=null,this.showWelcomeFlow=!1,this.focusCommitMessage=!1,this.currentPopup=null,this.currentFoldout=null,this.currentBanner=null,this.errors=[],this.emitQueued=!1,this.localRepositoryStateLookup=new Map,this.emoji=new Map,this.appMenu=null,this.highlightAccessKeys=!1,this.appIsFocused=!1,this.sidebarWidth=Me,this.commitSummaryWidth=Ie,this.stashedFilesWidth=Fe,this.windowZoomFactor=1,this.isUpdateAvailableBannerVisible=!1,this.askForConfirmationOnRepositoryRemoval=Ne,this.confirmDiscardChanges=Oe,this.askForConfirmationOnForcePush=He,this.imageDiffType=Ke,this.hideWhitespaceInDiff=!1,this.uncommittedChangesStrategyKind=me.uncommittedChangesStrategyKindDefault,this.selectedExternalEditor=null,this.resolvedExternalEditor=null,this.selectedShell=K.Default,this.repositoryFilterText='',this.currentMergeTreePromise=null,this.resolveOpenInDesktop=null,this.selectedCloneRepositoryTab=m.CloneRepositoryTab.DotCom,this.selectedBranchesTab=u.BranchesTab.Branches,this.selectedTheme=_.ApplicationTheme.Light,this.automaticallySwitchTheme=!1,this.hasUserViewedStash=!1,this.currentOnboardingTutorialStep=Ce.TutorialStep.NotApplicable,this.getResolvedExternalEditor=()=>this.resolvedExternalEditor,this.showWelcomeFlow=!q.hasShownWelcomeFlow(),this.gitStoreCache=new ne.GitStoreCache(P.shell,this.statsStore,(e,t)=>this.onGitStoreUpdated(e,t),(e,t)=>this.loadAndCacheUsers(e,this.accounts,t),(e)=>this.emitError(e));const p=s.remote.getCurrentWindow();this.windowState=Y.getWindowState(p),this.onWindowZoomFactorChanged(p.webContents.zoomFactor),this.wireupIpcEventHandlers(p),this.wireupStoreEventHandlers(),R.getAppMenu(),this.tutorialAssessor=new be.OnboardingTutorialAssessor(this.getResolvedExternalEditor)}async updateCurrentTutorialStep(e){const t=await this.tutorialAssessor.getCurrentStep(e.isTutorialRepository,this.repositoryStateCache.get(e));t!==this.currentOnboardingTutorialStep&&(this.currentOnboardingTutorialStep=t,log.info(`Current tutorial step is now ${t}`),this.recordTutorialStepCompleted(t),this.emitUpdate())}recordTutorialStepCompleted(e){if(Ce.isValidTutorialStep(e))switch(this.statsStore.recordHighestTutorialStepCompleted(Ce.orderedTutorialSteps.indexOf(e)),e){case Ce.TutorialStep.PickEditor:break;case Ce.TutorialStep.CreateBranch:this.statsStore.recordTutorialEditorInstalled();break;case Ce.TutorialStep.EditFile:this.statsStore.recordTutorialBranchCreated();break;case Ce.TutorialStep.MakeCommit:this.statsStore.recordTutorialFileEdited();break;case Ce.TutorialStep.PushBranch:this.statsStore.recordTutorialCommitCreated();break;case Ce.TutorialStep.OpenPullRequest:this.statsStore.recordTutorialBranchPushed();break;case Ce.TutorialStep.AllDone:this.statsStore.recordTutorialPrCreated(),this.statsStore.recordTutorialCompleted();break;default:A.assertNever(e,'Unaccounted for step type');}}async _resumeTutorial(e){this.tutorialAssessor.resumeTutorial(),await this.updateCurrentTutorialStep(e)}async _pauseTutorial(e){this.tutorialAssessor.pauseTutorial(),await this.updateCurrentTutorialStep(e)}async _skipPickEditorTutorialStep(e){this.tutorialAssessor.skipPickEditor(),await this.updateCurrentTutorialStep(e)}async _markPullRequestTutorialStepAsComplete(e){this.tutorialAssessor.markPullRequestTutorialStepAsComplete(),await this.updateCurrentTutorialStep(e)}wireupIpcEventHandlers(){s.ipcRenderer.on(Y.windowStateChannelName,(e,t)=>{this.windowState=t,this.emitUpdate()}),s.ipcRenderer.on('zoom-factor-changed',(e,t)=>{this.onWindowZoomFactorChanged(t)}),s.ipcRenderer.on('app-menu',(e,{menu:t})=>{this.setAppMenu(t)})}wireupStoreEventHandlers(){this.gitHubUserStore.onDidUpdate(()=>{this.emitUpdate()}),this.cloningRepositoriesStore.onDidUpdate(()=>{this.emitUpdate()}),this.cloningRepositoriesStore.onDidError((t)=>this.emitError(t)),this.signInStore.onDidAuthenticate((e,t)=>{this._addAccount(e),this.showWelcomeFlow&&this.statsStore.recordWelcomeWizardSignInMethod(t)}),this.signInStore.onDidUpdate(()=>this.emitUpdate()),this.signInStore.onDidError((e)=>this.emitError(e)),this.accountsStore.onDidUpdate((e)=>{this.accounts=e,this.emitUpdate()}),this.accountsStore.onDidError((e)=>this.emitError(e)),this.repositoriesStore.onDidUpdate((e)=>{this.repositories=e,this.updateRepositorySelectionAfterRepositoriesChanged(),this.emitUpdate()}),this.pullRequestCoordinator.onPullRequestsChanged((e,t)=>this.onPullRequestChanged(e,t)),this.pullRequestCoordinator.onIsLoadingPullRequests((e,t)=>{this.repositoryStateCache.updateBranchesState(e,()=>({isLoadingPullRequests:t})),this.emitUpdate()}),this.apiRepositoriesStore.onDidUpdate(()=>this.emitUpdate()),this.apiRepositoriesStore.onDidError((e)=>this.emitError(e))}loadEmoji(){const e=T.getAppPath();te.readEmoji(e).then((e)=>{this.emoji=e,this.emitUpdate()}).catch((e)=>{log.warn(`Unexpected issue when trying to read emoji into memory`,e)})}emitUpdate(){return'hidden'===this.windowState?void this.emitUpdateNow():void(this.emitQueued||(this.emitQueued=!0,window.requestAnimationFrame(()=>{this.emitUpdateNow()})))}emitUpdateNow(){this.emitQueued=!1;const e=this.getState();super.emitUpdate(e),z.updateMenuState(e,this.appMenu)}onWindowZoomFactorChanged(e){const t=this.windowZoomFactor;this.windowZoomFactor=e,e!==t&&this.emitUpdate()}getSelectedState(){const e=this.selectedRepository;if(!e)return null;if(e instanceof h.CloningRepository){const t=this.cloningRepositoriesStore.getRepositoryState(e);return t?{type:D.SelectionType.CloningRepository,repository:e,progress:t}:null}return e.missing?{type:D.SelectionType.MissingRepository,repository:e}:{type:D.SelectionType.Repository,repository:e,state:this.repositoryStateCache.get(e)}}getState(){const e=[...this.repositories,...this.cloningRepositoriesStore.repositories];return{accounts:this.accounts,repositories:e,recentRepositories:this.recentRepositories,localRepositoryStateLookup:this.localRepositoryStateLookup,windowState:this.windowState,windowZoomFactor:this.windowZoomFactor,appIsFocused:this.appIsFocused,selectedState:this.getSelectedState(),signInState:this.signInStore.getState(),currentPopup:this.currentPopup,currentFoldout:this.currentFoldout,errors:this.errors,showWelcomeFlow:this.showWelcomeFlow,focusCommitMessage:this.focusCommitMessage,emoji:this.emoji,sidebarWidth:this.sidebarWidth,commitSummaryWidth:this.commitSummaryWidth,stashedFilesWidth:this.stashedFilesWidth,appMenuState:this.appMenu?this.appMenu.openMenus:[],highlightAccessKeys:this.highlightAccessKeys,isUpdateAvailableBannerVisible:this.isUpdateAvailableBannerVisible,currentBanner:this.currentBanner,askForConfirmationOnRepositoryRemoval:this.askForConfirmationOnRepositoryRemoval,askForConfirmationOnDiscardChanges:this.confirmDiscardChanges,askForConfirmationOnForcePush:this.askForConfirmationOnForcePush,uncommittedChangesStrategyKind:this.uncommittedChangesStrategyKind,selectedExternalEditor:this.selectedExternalEditor,imageDiffType:this.imageDiffType,hideWhitespaceInDiff:this.hideWhitespaceInDiff,selectedShell:this.selectedShell,repositoryFilterText:this.repositoryFilterText,resolvedExternalEditor:this.resolvedExternalEditor,selectedCloneRepositoryTab:this.selectedCloneRepositoryTab,selectedBranchesTab:this.selectedBranchesTab,selectedTheme:this.selectedTheme,automaticallySwitchTheme:this.automaticallySwitchTheme,apiRepositories:this.apiRepositoriesStore.getState(),optOutOfUsageTracking:this.statsStore.getOptOut(),currentOnboardingTutorialStep:this.currentOnboardingTutorialStep}}onGitStoreUpdated(e,t){const n=this.repositoryStateCache.get(e);this.repositoryStateCache.updateBranchesState(e,(o)=>{let{currentPullRequest:r}=o;const{tip:i,currentRemote:a}=t;if(!E.tipEquals(o.tip,i)||!C.remoteEquals(n.remote,a))if(i.kind!==E.TipState.Valid||null===a)r=null;else{const{branch:t}=i;if(!r||!ke.isPullRequestAssociatedWithBranch(t,r,a)){const e=o.openPullRequests;r=ke.findAssociatedPullRequest(t,e,a)}i.kind===E.TipState.Valid&&o.tip.kind===E.TipState.Valid&&i.branch.name!==o.tip.branch.name&&this.refreshBranchProtectionState(e)}return{tip:t.tip,defaultBranch:t.defaultBranch,allBranches:t.allBranches,recentBranches:t.recentBranches,pullWithRebase:t.pullWithRebase,currentPullRequest:r}});let o=!1,r=!1;this.repositoryStateCache.updateChangesState(e,(e)=>{const n=t.currentBranchStashEntry;return e.selection.kind===D.ChangesSelectionKind.Stash&&null!==e.stashEntry&&(null===n?o=!0:e.stashEntry.stashSha!==n.stashSha&&(r=!0)),{commitMessage:t.commitMessage,showCoAuthoredBy:t.showCoAuthoredBy,coAuthors:t.coAuthors,stashEntry:n}}),this.repositoryStateCache.update(e,()=>({commitLookup:t.commitLookup,localCommitSHAs:t.localCommitSHAs,localTags:t.localTags,aheadBehind:t.aheadBehind,tagsToPush:t.tagsToPush,remote:t.currentRemote,lastFetched:t.lastFetched})),o?this._selectWorkingDirectoryFiles(e):r?this._selectStashedFile(e):this.emitUpdate()}clearBranchProtectionState(e){this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:!1})),this.emitUpdate()}async refreshBranchProtectionState(e){const t=this.gitStoreCache.get(e);if(t.tip.kind===E.TipState.Valid&&null!==e.gitHubRepository){const n=e.gitHubRepository,o=ge.findRemoteBranchName(t.tip,t.currentRemote,n);if(null!==o){const t=x.getAccountForEndpoint(this.accounts,n.endpoint);if(null===t)return;if(!y.hasWritePermission(n))return this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:!1})),void this.emitUpdate();const r=n.name,i=n.owner.login,a=x.API.fromAccount(t),s=await a.fetchPushControl(i,r,o),d=!we.isBranchPushable(s);this.repositoryStateCache.updateChangesState(e,()=>({currentBranchProtected:d})),this.emitUpdate()}}}clearSelectedCommit(e){this.repositoryStateCache.updateCommitSelection(e,()=>({sha:null,file:null,changedFiles:[],diff:null}))}async _changeCommitSelection(e,t){const{commitSelection:n}=this.repositoryStateCache.get(e);n.sha===t||(this.repositoryStateCache.updateCommitSelection(e,()=>({sha:t,file:null,changedFiles:[],diff:null})),this.emitUpdate())}updateOrSelectFirstCommit(e,t){const n=this.repositoryStateCache.get(e);let o=n.commitSelection.sha;if(null!=o){const n=t.findIndex((e)=>e===o);0>n&&(o=null,this.clearSelectedCommit(e))}null==o&&0<t.length&&(this._changeCommitSelection(e,t[0]),this._loadChangedFilesForCurrentSelection(e))}startAheadBehindUpdater(e){if(null!=this.currentAheadBehindUpdater)return void A.fatalError(`An ahead/behind updater is already active and cannot start updating on ${e.name}`);const t=new Q.AheadBehindUpdater(e,(t)=>{this.repositoryStateCache.updateCompareState(e,()=>({aheadBehindCache:t})),this.emitUpdate()});this.currentAheadBehindUpdater=t,this.currentAheadBehindUpdater.start()}stopAheadBehindUpdate(){const e=this.currentAheadBehindUpdater;null!=e&&(e.stop(),this.currentAheadBehindUpdater=null)}async _initializeCompare(e,t){const n=this.repositoryStateCache.get(e),{branchesState:i,compareState:a}=n,{tip:s,currentPullRequest:d}=i,l=s.kind===E.TipState.Valid?s.branch:null,c=null==l?i.allBranches:i.allBranches.filter((e)=>e.name!==l.name),p=l?i.recentBranches.filter((e)=>e.name!==l.name):i.recentBranches,u=i.defaultBranch,m=null!=l&&null!=u&&l.name!==u.name?u:null,h=this.currentAheadBehindUpdater;let f=null,g=null;s.kind===E.TipState.Valid&&null!==h&&(f=await J.inferComparisonBranch(e,c,d,N.getRemotes),null!==f&&(g=await h.executeAsyncTask(s.branch.tip.sha,f.tip.sha))),this.repositoryStateCache.updateCompareState(e,()=>({allBranches:c,recentBranches:p,defaultBranch:m,inferredComparisonBranch:{branch:f,aheadBehind:g}}));let y=0,S=!1;if(null!==f){y=r(g);const e=n.compareState.inferredComparisonBranch,t=r(e.aheadBehind);S=0<y&&t!==y}S?this._updateDivergingBranchBannerState(e,{isPromptVisible:!0,isNudgeVisible:!0,isPromptDismissed:!1}):0<y?this._updateDivergingBranchBannerState(e,{isPromptVisible:!0}):this._updateDivergingBranchBannerState(e,{isPromptVisible:!1,isNudgeVisible:!1});const C=a.formState,b=null==t?o(C):t;this._executeCompare(e,b)}async _executeCompare(e,t){const n=this.gitStoreCache.get(e),o=t.kind;if(t.kind===D.HistoryTabMode.History){const{tip:t}=n;let o=null;t.kind===E.TipState.Valid?o=t.branch.tip.sha:t.kind===E.TipState.Detached&&(o=t.currentSha);const{compareState:r}=this.repositoryStateCache.get(e),{formState:i,commitSHAs:a}=r,s=r.tip,d=null!==o&&null!==s&&o===s;if(d&&i.kind===D.HistoryTabMode.History&&0<a.length)return;const l=await n.loadCommitBatch('HEAD');if(null===l)return;const c={kind:D.HistoryTabMode.History};return this.repositoryStateCache.updateCompareState(e,()=>({tip:o,formState:c,commitSHAs:l,filterText:'',showBranchList:!1})),this.updateOrSelectFirstCommit(e,l),this.emitUpdate()}return t.kind===D.HistoryTabMode.Compare?this.updateCompareToBranch(e,t):A.assertNever(t,`Unknown action: ${o}`)}async updateCompareToBranch(e,t){const n=this.gitStoreCache.get(e),o=t.branch,r=await n.getCompareCommits(o,t.comparisonMode);this.statsStore.recordBranchComparison();const{branchesState:i}=this.repositoryStateCache.get(e);if(null!==i.defaultBranch&&o.name===i.defaultBranch.name&&this.statsStore.recordDefaultBranchComparison(),null==r)return;const{ahead:a,behind:s}=r,d={ahead:a,behind:s},l=r.commits.map((e)=>e.sha),c={kind:D.HistoryTabMode.Compare,comparisonBranch:o,comparisonMode:t.comparisonMode,aheadBehind:d};this.repositoryStateCache.updateCompareState(e,()=>({formState:c,filterText:o.name,commitSHAs:l}));const p=n.tip;let u=null;if(p.kind===E.TipState.Valid?u=p.branch.tip.sha:p.kind===E.TipState.Detached&&(u=p.currentSha),null!=this.currentAheadBehindUpdater&&null!=u){const e=t.comparisonMode===D.ComparisonMode.Ahead?o.tip.sha:u,n=t.comparisonMode===D.ComparisonMode.Ahead?u:o.tip.sha;this.currentAheadBehindUpdater.insert(e,n,d)}const m={kind:pe.ComputedAction.Loading};if(this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:m})),this.emitUpdate(),this.updateOrSelectFirstCommit(e,l),null!=this.currentMergeTreePromise)return this.currentMergeTreePromise;if(p.kind===E.TipState.Valid&&0<d.behind){const n=$.promiseWithMinimumTimeout(()=>N.mergeTree(e,p.branch,t.branch),500).catch((e)=>(log.warn(`Error occurred while trying to merge ${p.branch.name} (${p.branch.tip.sha}) and ${t.branch.name} (${t.branch.tip.sha})`,e),null)).then((t)=>{this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:t})),this.emitUpdate()}),o=()=>{this.currentMergeTreePromise=null};return n.then(o,o),this.currentMergeTreePromise=n,this.currentMergeTreePromise}return this.repositoryStateCache.updateCompareState(e,()=>({mergeStatus:null})),this.emitUpdate()}_updateCompareForm(e,t){this.repositoryStateCache.updateCompareState(e,(e)=>U.merge(e,t)),this.emitUpdate();const{branchesState:n,compareState:o}=this.repositoryStateCache.get(e);if(n.tip.kind===E.TipState.Valid&&null!==this.currentAheadBehindUpdater)if(o.showBranchList){const e=n.tip.branch;this.currentAheadBehindUpdater.schedule(e,o.defaultBranch,o.recentBranches,o.allBranches)}else this.currentAheadBehindUpdater.clear()}async _loadNextCommitBatch(e){const t=this.gitStoreCache.get(e),n=this.repositoryStateCache.get(e),{formState:o}=n.compareState;if(o.kind===D.HistoryTabMode.History){const o=n.compareState.commitSHAs,r=o[o.length-1],i=await t.loadCommitBatch(`${r}^`);if(null==i)return;this.repositoryStateCache.updateCompareState(e,()=>({commitSHAs:o.concat(i)})),this.emitUpdate()}}async _loadChangedFilesForCurrentSelection(e){const t=this.repositoryStateCache.get(e),{commitSelection:n}=t,o=n.sha;if(null==o)return;const r=this.gitStoreCache.get(e),i=await r.performFailableOperation(()=>N.getChangedFiles(e,o));if(!i)return;if(o!==t.commitSelection.sha)return;const a=null===n.file,s=a&&i.length?i[0]:n.file;this.repositoryStateCache.updateCommitSelection(e,()=>({file:s,changedFiles:i,diff:null})),this.emitUpdate(),null!==s&&this._changeFileSelection(e,s)}async _setRepositoryFilterText(e){this.repositoryFilterText=e,this.emitUpdate()}async _changeFileSelection(e,t){this.repositoryStateCache.updateCommitSelection(e,()=>({file:t,diff:null})),this.emitUpdate();const n=this.repositoryStateCache.get(e),o=n.commitSelection.sha;if(!o)return;const r=await N.getCommitDiff(e,t,o,this.hideWhitespaceInDiff),i=this.repositoryStateCache.get(e);i.commitSelection.sha===n.commitSelection.sha&&i.commitSelection.file&&i.commitSelection.file.id===t.id&&(this.repositoryStateCache.updateCommitSelection(e,()=>({diff:r})),this.emitUpdate())}async _selectRepository(e){const t=this.selectedRepository,n=this.currentOnboardingTutorialStep!==Ce.TutorialStep.NotApplicable;if(!n||e instanceof b.Repository&&e.isTutorialRepository||(this.currentOnboardingTutorialStep=Ce.TutorialStep.NotApplicable),this.selectedRepository=e,this.emitUpdate(),this.stopBackgroundFetching(),this.stopPullRequestUpdater(),this._clearBanner(),this.stopBackgroundPruner(),null==e)return Promise.resolve(null);if(!(e instanceof b.Repository))return Promise.resolve(null);oe.setNumber(Pe,e.id);const o=t?t.id:null;this.updateRecentRepositories(o,e.id);const r=await this.recoverMissingRepository(e);return r.missing?(this.gitStoreCache.remove(e),Promise.resolve(null)):(this.updateBranchProtectionsFromAPI(e),this._selectRepositoryRefreshTasks(r,t))}updateRecentRepositories(e,t){const n=oe.getNumberArray(De).filter((n)=>n!==t&&n!==e);null!==e&&n.unshift(e);const o=n.slice(0,3);oe.setNumberArray(De,o),this.recentRepositories=o,this.emitUpdate()}async _selectRepositoryRefreshTasks(e,t){return(this._refreshRepository(e),b.isRepositoryWithGitHubRepository(e)&&(this._refreshIssues(e.gitHubRepository),this.pullRequestCoordinator.getAllPullRequests(e).then((t)=>{this.onPullRequestChanged(e,t)})),this.selectedRepository!==e)?null:(this.stopBackgroundFetching(),this.stopPullRequestUpdater(),this.stopAheadBehindUpdate(),this.stopBackgroundPruner(),this.startBackgroundFetching(e,!t),this.startPullRequestUpdater(e),this.startAheadBehindUpdater(e),this.refreshMentionables(e),this.startBackgroundPruner(e),this.addUpstreamRemoteIfNeeded(e),this.repositoryWithRefreshedGitHubRepository(e))}stopBackgroundPruner(){const e=this.currentBranchPruner;null!==e&&(e.stop(),this.currentBranchPruner=null)}startBackgroundPruner(e){if(null!==this.currentBranchPruner)return void A.fatalError(`A branch pruner is already active and cannot start updating on ${e.name}`);const t=new ae.BranchPruner(e,this.gitStoreCache,this.repositoriesStore,this.repositoryStateCache,(e)=>this._refreshRepository(e));this.currentBranchPruner=t,this.currentBranchPruner.start()}async _refreshIssues(t){const e=x.getAccountForEndpoint(this.accounts,t.endpoint);if(e)try{await this.issuesStore.refreshIssues(t,e)}catch(n){log.warn(`Unable to fetch issues for ${t.fullName}`,n)}}stopBackgroundFetching(){const e=this.currentBackgroundFetcher;e&&(e.stop(),this.currentBackgroundFetcher=null)}refreshMentionables(e){const t=B.getAccountForRepository(this.accounts,e);if(t){const n=e.gitHubRepository;n&&this.gitHubUserStore.updateMentionables(n,t)}}startPullRequestUpdater(e){if(this.appIsFocused&&b.isRepositoryWithGitHubRepository(e)){const t=B.getAccountForRepository(this.accounts,e);if(null!==t)return this.pullRequestCoordinator.startPullRequestUpdater(e,t)}this.pullRequestCoordinator.stopPullRequestUpdater()}stopPullRequestUpdater(){this.pullRequestCoordinator.stopPullRequestUpdater()}async fetchPullRequest(e,t){const n=x.getEndpointForRepository(e),o=x.getAccountForEndpoint(this.accounts,n);if(o){const n=x.API.fromAccount(o),r=Te.parseRemote(e);if(r&&r.owner&&r.name)return await n.fetchPullRequest(r.owner,r.name,t)}return null}shouldBackgroundFetch(e,t){const n=this.gitStoreCache.get(e),o=n.lastFetched;if(null===o)return!0;const r=new Date,i=r.getTime()-o.getTime(),a=b.nameOf(e);if(i<1800000){const e=Math.floor(i/1e3);return log.debug(`Skipping background fetch as '${a}' was fetched ${e}s ago`),!1}return null===t||!!(o<t)||(log.debug(`Skipping background fetch since nothing has been pushed to '${a}' since the last fetch at ${o}`),!1)}startBackgroundFetching(e,t){if(this.currentBackgroundFetcher)return void A.fatalError(`We should only have on background fetcher active at once, but we're trying to start background fetching on ${e.name} while another background fetcher is still active!`);const n=B.getAccountForRepository(this.accounts,e);if(n&&e.gitHubRepository){const o=new Z.BackgroundFetcher(e,n,(e)=>this.performFetch(e,n,f.FetchType.BackgroundTask),(e)=>this.shouldBackgroundFetch(e,null));o.start(t),this.currentBackgroundFetcher=o}}async loadInitialState(){const[e,t]=await Promise.all([this.accountsStore.getAll(),this.repositoriesStore.getAll()]);log.info(`[AppStore] loading ${t.length} repositories from store`),e.forEach((e)=>{log.info(`[AppStore] found account: ${e.login} (${e.name})`)}),this.accounts=e,this.repositories=t;for(const t of e){const e=t.emails.map((e)=>({endpoint:t.endpoint,email:e.email,login:t.login,avatarURL:t.avatarURL,name:t.name}));for(const t of e)this.gitHubUserStore.cacheUser(t)}this.updateRepositorySelectionAfterRepositoriesChanged(),this.sidebarWidth=oe.getNumber(Ae,Me),this.commitSummaryWidth=oe.getNumber(Le,Ie),this.stashedFilesWidth=oe.getNumber(Be,Fe),this.askForConfirmationOnRepositoryRemoval=oe.getBoolean(ze,Ne),this.confirmDiscardChanges=oe.getBoolean(Ue,Oe),this.askForConfirmationOnForcePush=oe.getBoolean(We,He);const n=me.parseStrategy(localStorage.getItem(Ve));this.uncommittedChangesStrategyKind=n||me.uncommittedChangesStrategyKindDefault,this.updateSelectedExternalEditor((await this.lookupSelectedExternalEditor())).catch((t)=>log.error('Failed resolving current editor at startup',t));const o=localStorage.getItem(Ye);this.selectedShell=o?K.parse(o):K.Default,this.updateMenuLabelsForSelectedRepository();const r=localStorage.getItem(je);this.imageDiffType=null===r?Ke:parseInt(r),this.hideWhitespaceInDiff=oe.getBoolean(qe,!1),this.automaticallySwitchTheme=_.getAutoSwitchPersistedTheme(),this.automaticallySwitchTheme?(this.selectedTheme=ce.isDarkModeEnabled()?_.ApplicationTheme.Dark:_.ApplicationTheme.Light,_.setPersistedTheme(this.selectedTheme)):this.selectedTheme=_.getPersistedTheme(),k.themeChangeMonitor.onThemeChanged((e)=>{this.automaticallySwitchTheme&&(this.selectedTheme=e,this.emitUpdate())}),this.emitUpdateNow(),this.accountsStore.refresh()}updateSelectedExternalEditor(e){return this.selectedExternalEditor=e,this._resolveCurrentEditor()}async lookupSelectedExternalEditor(){const e=(await M.getAvailableEditors()).map((e)=>e.editor),t=localStorage.getItem(Ge);if(t){const n=M.parse(t);if(n&&e.includes(n))return n}if(e.length){const t=e[0];return localStorage.setItem(Ge,t),t}return null}updateMenuLabelsForSelectedRepository(){const{selectedState:e}=this.getState();null!==e&&e.type===D.SelectionType.Repository?this.updateMenuItemLabels(e.state):this.updateMenuItemLabels(null)}updateMenuItemLabels(e){const{selectedShell:t,selectedExternalEditor:n,askForConfirmationOnRepositoryRemoval:o,askForConfirmationOnForcePush:r}=this,i={selectedShell:t,selectedExternalEditor:n,askForConfirmationOnRepositoryRemoval:o,askForConfirmationOnForcePush:r};if(null===e)return void R.updatePreferredAppMenuItemLabels(i);const{changesState:a,branchesState:s,aheadBehind:d}=e,{defaultBranch:l,currentPullRequest:c}=s,p=null===l||null===l.upstreamWithoutRemote?void 0:l.upstreamWithoutRemote,u=V.isCurrentBranchForcePush(s,d),m=a.selection.kind===D.ChangesSelectionKind.Stash,h=null!==a.stashEntry;R.updatePreferredAppMenuItemLabels(Object.assign({},i,{defaultBranchName:p,isForcePushForCurrentRepository:u,isStashedChangesVisible:m,hasCurrentPullRequest:null!==c,askForConfirmationWhenStashingAllChanges:h}))}updateRepositorySelectionAfterRepositoriesChanged(){const e=this.selectedRepository;let t=this.selectedRepository;if(e){const n=this.repositories.find((t)=>t.constructor===e.constructor&&t.id===e.id)||null;t=n}if(null===t&&0<this.repositories.length){const e=oe.getNumber(Pe,0);0<e&&(t=this.repositories.find((t)=>t.id===e)||null),t||(t=this.repositories[0])}const n=e&&t&&e.hash!==t.hash||e&&!t||!e&&t;n&&(this._selectRepository(t),this.emitUpdate())}async _loadStatus(e,t=!1){const n=this.gitStoreCache.get(e),o=await n.loadStatus();return null===o?null:(this.repositoryStateCache.updateChangesState(e,(e)=>ie.updateChangedFiles(e,o,t)),this.repositoryStateCache.updateChangesState(e,(e)=>({conflictState:ie.updateConflictState(e,o,this.statsStore)})),this.updateRebaseFlowConflictsIfFound(e),this.selectedRepository===e&&this._triggerConflictsFlow(e),this.emitUpdate(),this.updateChangesWorkingDirectoryDiff(e),o)}updateRebaseFlowConflictsIfFound(e){const{changesState:t,rebaseState:n}=this.repositoryStateCache.get(e),{conflictState:o}=t;if(null===o||D.isMergeConflictState(o))return;const{step:r}=n;if(null!==r&&('ShowConflicts'===r.kind||'ConfirmAbort'===r.kind)){const{baseBranch:t,targetBranch:n}=r.conflictState,i=Object.assign({},o,{baseBranch:t,targetBranch:n});this.repositoryStateCache.updateRebaseState(e,()=>({step:Object.assign({},r,{conflictState:i})}))}}async _triggerConflictsFlow(e){const t=this.repositoryStateCache.get(e),{conflictState:n}=t.changesState;return null===n?void this.clearConflictsFlowVisuals(t):void('merge'===n.kind?await this.showMergeConflictsDialog(e,n):'rebase'===n.kind?await this.showRebaseConflictsDialog(e,n):A.assertNever(n,`Unsupported conflict kind`))}clearConflictsFlowVisuals(e){i(this.currentPopup,e.rebaseState)||(this._closePopup(w.PopupType.MergeConflicts),this._closePopup(w.PopupType.AbortMerge),this._clearBanner(de.BannerType.MergeConflictsFound),this._closePopup(w.PopupType.RebaseFlow),this._clearBanner(de.BannerType.RebaseConflictsFound))}async showRebaseConflictsDialog(e,t){const n=null!==this.currentPopup&&this.currentPopup.type===w.PopupType.RebaseFlow;if(n)return;const o=null!==this.currentBanner&&this.currentBanner.type===de.BannerType.RebaseConflictsFound;if(o)return;await this._setRebaseProgressFromState(e);const r=V.initializeRebaseFlowForConflictedRepository(t);this.repositoryStateCache.updateRebaseState(e,()=>({step:r})),this._showPopup({type:w.PopupType.RebaseFlow,repository:e})}async showMergeConflictsDialog(e,t){const n=null!==this.currentPopup&&(this.currentPopup.type===w.PopupType.MergeConflicts||this.currentPopup.type===w.PopupType.AbortMerge),o=null!==this.currentBanner&&this.currentBanner.type===de.BannerType.MergeConflictsFound;if(!(n||o)){const n=await N.getBranchesPointedAt(e,'MERGE_HEAD');if(null!==n){const o=1===n.length?n[0]:void 0,r=t.currentBranch;this._showPopup({type:w.PopupType.MergeConflicts,repository:e,ourBranch:r,theirBranch:o})}}}async _changeRepositorySection(e,t){return(this.repositoryStateCache.update(e,()=>({selectedSection:t})),this.emitUpdate(),t===D.RepositorySectionTab.History)?this.refreshHistorySection(e):t===D.RepositorySectionTab.Changes?this.refreshChangesSection(e,{includingStatus:!0,clearPartialState:!1}):void 0}async _selectWorkingDirectoryFiles(e,t){this.repositoryStateCache.updateChangesState(e,(e)=>ie.selectWorkingDirectoryFiles(e,t)),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),this.updateChangesWorkingDirectoryDiff(e)}async updateChangesWorkingDirectoryDiff(e){const t=this.repositoryStateCache.get(e),n=t.changesState;if(n.selection.kind!==D.ChangesSelectionKind.WorkingDirectory)return;const o=n.selection,r=o.selectedFileIDs;if(1!==r.length)return void(null!==o.diff&&(this.repositoryStateCache.updateChangesState(e,()=>({selection:Object.assign({},o,{diff:null})})),this.emitUpdate()));const i=r[0],a=n.workingDirectory.findFileWithID(i);if(null===a)return;const s=await N.getWorkingDirectoryDiff(e,a),d=this.repositoryStateCache.get(e),l=d.changesState;if(l.selection.kind!==D.ChangesSelectionKind.WorkingDirectory||!fe.arrayEquals(l.selection.selectedFileIDs,r))return;const c=l.selection.selectedFileIDs[0];if(c!==i)return;const p=l.workingDirectory.findFileWithID(c);if(null===p)return;const u=new Set;s.kind===g.DiffType.Text&&s.hunks.forEach((e)=>{e.lines.forEach((t,n)=>{t.isIncludeableLine()&&u.add(e.unifiedDiffStart+n)})});const m=p.selection.withSelectableLines(u),h=p.withSelection(m),f=l.workingDirectory.files.map((e)=>e.id===h.id?h:e),y=v.WorkingDirectoryStatus.fromFiles(f),S=Object.assign({},l.selection,{diff:s});this.repositoryStateCache.updateChangesState(e,()=>({selection:S,workingDirectory:y})),this.emitUpdate()}_hideStashedChanges(e){const{changesState:t}=this.repositoryStateCache.get(e);t.selection.kind!==D.ChangesSelectionKind.Stash||(this.repositoryStateCache.updateChangesState(e,(e)=>{const t=e.workingDirectory.files,n=t.filter((e)=>e.selection.getSelectionType()!==g.DiffSelectionType.None).map((e)=>e.id);return{selection:{kind:D.ChangesSelectionKind.WorkingDirectory,diff:null,selectedFileIDs:n}}}),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository())}async _selectStashedFile(e,t){this.repositoryStateCache.update(e,()=>({selectedSection:D.RepositorySectionTab.Changes})),this.repositoryStateCache.updateChangesState(e,(e)=>{let n=null;const{stashEntry:o,selection:r}=e,i=r.kind===D.ChangesSelectionKind.Stash?r.selectedStashedFile:null,a=null!==o&&o.files.kind===he.StashedChangesLoadStates.Loaded?o.files.files:[];return void 0===t?null===i?n=a[0]||null:n=a.find((e)=>e.id===i.id)||a[0]||null:null!==t&&(n=a.find((e)=>e.id===t.id)||null),{selection:{kind:D.ChangesSelectionKind.Stash,selectedStashedFile:n,selectedStashedFileDiff:null}}}),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),this.updateChangesStashDiff(e),this.hasUserViewedStash||(this.statsStore.recordStashViewedAfterCheckout(),this.hasUserViewedStash=!0)}async updateChangesStashDiff(e){const t=this.repositoryStateCache.get(e),n=t.changesState,o=n.selection;if(o.kind!==D.ChangesSelectionKind.Stash)return;const r=n.stashEntry;if(null===r)return;let i=o.selectedStashedFile;if(null===i&&r.files.kind===he.StashedChangesLoadStates.Loaded&&0<r.files.files.length&&(i=r.files.files[0]),null===i)return this.repositoryStateCache.updateChangesState(e,()=>({selection:{kind:D.ChangesSelectionKind.Stash,selectedStashedFile:null,selectedStashedFileDiff:null}})),void this.emitUpdate();const a=await N.getCommitDiff(e,i,i.commitish),s=this.repositoryStateCache.get(e),d=s.changesState;d.selection.kind!==D.ChangesSelectionKind.Stash||d.selection.selectedStashedFile!==o.selectedStashedFile||(this.repositoryStateCache.updateChangesState(e,()=>({selection:{kind:D.ChangesSelectionKind.Stash,selectedStashedFile:i,selectedStashedFileDiff:a}})),this.emitUpdate())}async _commitIncludedChanges(e,t){const n=this.repositoryStateCache.get(e),o=n.changesState.workingDirectory.files,r=o.filter((e)=>e.selection.getSelectionType()!==g.DiffSelectionType.None),i=this.gitStoreCache.get(e),a=await this.isCommitting(e,()=>i.performFailableOperation(async()=>{const n=await L.formatCommitMessage(e,t);return N.createCommit(e,n,r)}));if(a){this.statsStore.recordCommit();const r=o.some((e)=>e.selection.getSelectionType()===g.DiffSelectionType.Partial);r&&this.statsStore.recordPartialCommit();const{trailers:a}=t;a!==void 0&&a.some(N.isCoAuthoredByTrailer)&&this.statsStore.recordCoAuthoredCommit();const s=B.getAccountForRepository(this.accounts,e);if(null!==e.gitHubRepository){if(null!==s){s.endpoint===x.getDotComAPIEndpoint()?this.statsStore.recordCommitToDotcom():this.statsStore.recordCommitToEnterprise();const{commitAuthor:e}=n;if(null!==e){const t=s.emails.some((t)=>t.email.toLowerCase()===e.email.toLowerCase());t||this.statsStore.recordUnattributedCommit()}}const t=await this.repositoriesStore.hasBranchProtectionsConfigured(e.gitHubRepository);t&&this.statsStore.recordCommitToRepositoryWithBranchProtections();const o=ge.findRemoteBranchName(i.tip,i.currentRemote,e.gitHubRepository);if(null!==o){const{changesState:t}=this.repositoryStateCache.get(e);t.currentBranchProtected&&this.statsStore.recordCommitToProtectedBranch()}null===e.gitHubRepository||y.hasWritePermission(e.gitHubRepository)||(this.statsStore.recordCommitToRepositoryWithoutWriteAccess(),null!==e.gitHubRepository.dbID&&this.statsStore.recordRepositoryCommitedInWithoutWriteAccess(e.gitHubRepository.dbID))}await this._refreshRepository(e),await this.refreshChangesSection(e,{includingStatus:!0,clearPartialState:!0})}return a||!1}_changeFileIncluded(e,t,n){const o=n?t.selection.withSelectAll():t.selection.withSelectNone();return this.updateWorkingDirectoryFileSelection(e,t,o),Promise.resolve()}_changeFileLineSelection(e,t,n){return this.updateWorkingDirectoryFileSelection(e,t,n),Promise.resolve()}updateWorkingDirectoryFileSelection(e,t,n){this.repositoryStateCache.updateChangesState(e,(e)=>{const o=e.workingDirectory.files.map((e)=>e.id===t.id?e.withSelection(n):e),r=v.WorkingDirectoryStatus.fromFiles(o);return{workingDirectory:r}}),this.emitUpdate()}_changeIncludeAllFiles(e,t){return this.repositoryStateCache.updateChangesState(e,(e)=>{const n=e.workingDirectory.withIncludeAllFiles(t);return{workingDirectory:n}}),this.emitUpdate(),Promise.resolve()}async _refreshOrRecoverRepository(e){if(e.missing){const t=await this.recoverMissingRepository(e);if(!t.missing)return this._refreshRepository(t)}else return this._refreshRepository(e)}async recoverMissingRepository(e){if(!e.missing)return e;const t=(await d.pathExists(e.path))&&(await N.isGitRepository(e.path))&&null!==(await this._loadStatus(e));return t?await this._updateRepositoryMissing(e,!1):e}async _refreshRepository(e){if(e.missing)return;const t=await d.pathExists(e.path);if(!t)return void this._updateRepositoryMissing(e,!0);const n=this.repositoryStateCache.get(e),o=this.gitStoreCache.get(e),r=await this._loadStatus(e);if(this.updateSidebarIndicator(e,r),null===r)return void(await this._updateRepositoryMissing(e,!0));await o.loadBranches();const i=n.selectedSection;let a;if(i===D.RepositorySectionTab.History)a=this.refreshHistorySection(e);else if(i===D.RepositorySectionTab.Changes)a=this.refreshChangesSection(e,{includingStatus:!1,clearPartialState:!1});else return A.assertNever(i,`Unknown section: ${i}`);await Promise.all([o.loadRemotes(),o.updateLastFetched(),o.loadStashEntries(),this.refreshAuthor(e),a]),await o.refreshTags(),this.updateStashEntryCountMetric(e,o.desktopStashEntryCount,o.stashEntryCount),this.updateCurrentPullRequest(e);const s=this.repositoryStateCache.get(e);this.updateMenuItemLabels(s),this._initializeCompare(e),this.updateCurrentTutorialStep(e)}async updateStashEntryCountMetric(e,t,n){const o=await this.repositoriesStore.getLastStashCheckDate(e),r=le(),i=r.subtract(24,'hours');if(null==o||i.isAfter(o)){await this.repositoriesStore.updateLastStashCheckDate(e);this.statsStore.addStashEntriesCreatedOutsideDesktop(n-t)}}async updateSidebarIndicator(e,t){const n=this.localRepositoryStateLookup;return e.missing?void n.delete(e.id):null===t?void n.delete(e.id):void n.set(e.id,{aheadBehind:t.branchAheadBehind||null,changedFilesCount:t.workingDirectory.files.length})}async refreshAllSidebarIndicators(){const e=performance&&performance.now?performance.now():null,t=Array(...this.repositories);for(const e of t)await this.refreshIndicatorForRepository(e);if(e&&1<t.length){const n=performance.now()-e,o=(n/1e3).toFixed(3);log.info(`Background fetch for ${t.length} repositories took ${o}sec`)}this.emitUpdate()}async refreshIndicatorForRepository(e){const t=this.localRepositoryStateLookup;if(e.missing)return void t.delete(e.id);const n=await d.pathExists(e.path);if(!n)return void t.delete(e.id);const o=this.gitStoreCache.get(e),r=await o.loadStatus();if(null===r)return void t.delete(e.id);const i=await H.inferLastPushForRepository(this.accounts,o,e);this.shouldBackgroundFetch(e,i)&&(await this._fetch(e,f.FetchType.BackgroundTask)),t.set(e.id,{aheadBehind:o.aheadBehind,changedFilesCount:r.workingDirectory.files.length})}async refreshChangesSection(e,t){t.includingStatus&&(await this._loadStatus(e,t.clearPartialState));const n=this.gitStoreCache.get(e),o=this.repositoryStateCache.get(e);if(o.branchesState.tip.kind===E.TipState.Valid){const e=o.branchesState.tip.branch;await n.loadLocalCommits(e)}else o.branchesState.tip.kind===E.TipState.Unborn&&(await n.loadLocalCommits(null))}async refreshHistorySection(e){const t=this.gitStoreCache.get(e),n=this.repositoryStateCache.get(e),o=n.branchesState.tip;return o.kind===E.TipState.Valid&&(await t.loadLocalCommits(o.branch)),this.updateOrSelectFirstCommit(e,n.compareState.commitSHAs)}async refreshAuthor(e){const t=this.gitStoreCache.get(e),n=(await t.performFailableOperation(()=>N.getAuthorIdentity(e)))||null;this.repositoryStateCache.update(e,()=>({commitAuthor:n})),this.emitUpdate()}async _showPopup(e){this._closePopup(),this._closeFoldout(D.FoldoutType.AppMenu),this.currentPopup=e,this.emitUpdate()}_closePopup(e){const t=this.currentPopup;null==t||void 0!==e&&t.type!==e||(t.type===w.PopupType.CloneRepository&&this._completeOpenInDesktop(()=>Promise.resolve(null)),this.currentPopup=null,this.emitUpdate())}async _showFoldout(e){this.currentFoldout=e,this.emitUpdate()}async _closeCurrentFoldout(){null==this.currentFoldout||(this.currentFoldout=null,this.emitUpdate())}async _closeFoldout(e){null==this.currentFoldout||void 0!==e&&this.currentFoldout.type!==e||(this.currentFoldout=null,this.emitUpdate())}async _createBranch(e,t,n,o=me.getUncommittedChangesStrategy(this.uncommittedChangesStrategyKind),r=!1){const i=this.gitStoreCache.get(e),a=await i.performFailableOperation(()=>N.createBranch(e,t,n,r));if(null==a)return e;const{changesState:s,branchesState:d}=this.repositoryStateCache.get(e),{tip:l}=d,c=l.kind===E.TipState.Valid?l.branch:null,p=0<s.workingDirectory.files.length;if(p&&null!==c&&o.kind===me.UncommittedChangesStrategyKind.AskForConfirmation)return this._showPopup({type:w.PopupType.StashAndSwitchBranch,branchToCheckout:a,repository:e}),e;const u=await this._checkoutBranch(e,a,o);return this._closePopup(),u}async _createTag(e,t,n){const o=this.gitStoreCache.get(e);await o.createTag(t,n),this._closePopup()}async _deleteTag(e,t){const n=this.gitStoreCache.get(e);await n.deleteTag(t)}updateCheckoutProgress(e,t){this.repositoryStateCache.update(e,()=>({checkoutProgress:t})),this.selectedRepository===e&&this.emitUpdate()}getLocalBranch(e,t){const n=this.gitStoreCache.get(e);return n.allBranches.find((e)=>e.nameWithoutRemote===t)||null}async _checkoutBranch(e,t,n=me.getUncommittedChangesStrategy(this.uncommittedChangesStrategyKind)){const o=this.gitStoreCache.get(e),{changesState:r,branchesState:i}=this.repositoryStateCache.get(e);let a=null;const s=0<r.workingDirectory.files.length;if(s){if(n.kind===me.askToStash.kind)return this._showPopup({type:w.PopupType.StashAndSwitchBranch,branchToCheckout:t,repository:e}),e;a=await this.stashToPopAfterBranchCheckout(e,t,n)}const d=void 0!==(await this.withAuthenticatingUser(e,(e,n)=>o.performFailableOperation(()=>N.checkoutBranch(e,n,t,(t)=>{this.updateCheckoutProgress(e,t)}),{repository:e,retryAction:{type:G.RetryActionType.Checkout,repository:e,branch:t},gitContext:{kind:'checkout',branchToCheckout:t}})));if(d&&this.clearBranchProtectionState(e),n.kind===me.UncommittedChangesStrategyKind.MoveToNewBranch&&d&&(this.statsStore.recordChangesTakenToNewBranch(),a)){const t=a.stashSha;await o.performFailableOperation(()=>ue.popStashEntry(e,t))}this._selectWorkingDirectoryFiles(e);try{this.updateCheckoutProgress(e,{kind:'checkout',title:'Refreshing repository',value:1,targetBranch:t.name}),await this._refreshRepository(e)}finally{this.updateCheckoutProgress(e,null),this._initializeCompare(e,{kind:D.HistoryTabMode.History})}const{defaultBranch:l}=i;return null!==l&&t.name!==l.name&&this.statsStore.recordNonDefaultBranchCheckout(),null===r.stashEntry||this.hasUserViewedStash||this.statsStore.recordStashNotViewedAfterCheckout(),this.hasUserViewedStash=!1,e}async stashToPopAfterBranchCheckout(e,t,n=me.getUncommittedChangesStrategy(this.uncommittedChangesStrategyKind)){const{changesState:o,branchesState:{tip:r}}=this.repositoryStateCache.get(e),i=r.kind===E.TipState.Valid?r.branch:null;if(null!==i&&n.kind===me.UncommittedChangesStrategyKind.StashOnCurrentBranch)await this._createStashAndDropPreviousEntry(e,i.name),this.statsStore.recordStashCreatedOnCurrentBranch();else if(n.kind===me.UncommittedChangesStrategyKind.MoveToNewBranch){const r=o.workingDirectory.files.some((e)=>e.status.kind===v.AppFileStatusKind.Deleted),{transientStashEntry:i}=n;if(r&&!i){const n=this.gitStoreCache.get(e),r=await n.performFailableOperation(()=>ue.createDesktopStashEntry(e,t.name,ve.getUntrackedFiles(o.workingDirectory)));if(r)return ue.getLastDesktopStashEntryForBranch(e,t.name)}return i}return null}async _createStashForCurrentBranch(e,t){const n=this.repositoryStateCache.get(e),o=n.branchesState.tip,r=o.kind===E.TipState.Valid?o.branch:null,i=null!==n.changesState.stashEntry;return null===r?void 0:t&&i?this._showPopup({type:w.PopupType.ConfirmOverwriteStash,branchToCheckout:null,repository:e}):void(await this._createStashAndDropPreviousEntry(e,r.name),this.statsStore.recordStashCreatedOnCurrentBranch(),await this._refreshRepository(e))}async repositoryWithRefreshedGitHubRepository(e){const t=e.gitHubRepository,n=await this.matchGitHubRepository(e);if(!n)return e;const o=new S.Owner(n.owner,n.endpoint,null),r=new y.GitHubRepository(n.name,o,null),i=new b.Repository(e.path,e.id,r,e.missing,{},!1),a=x.getAccountForEndpoint(this.accounts,n.endpoint);if(!a)return t&&n.endpoint===t.endpoint?e:i;const{owner:s,name:d}=n,l=x.API.fromAccount(a),c=await l.fetchRepository(s,d);if(!c)return t&&n.endpoint===t.endpoint?e:i;se.enableUpdateRemoteUrl()&&e.gitHubRepository&&(await ye.updateRemoteUrl(this.gitStoreCache.get(e),e.gitHubRepository,c));const p=n.endpoint,u=await this.repositoriesStore.updateGitHubRepository(e,p,c);return await this.refreshBranchProtectionState(e),u}async updateBranchProtectionsFromAPI(e){if(null!==e.gitHubRepository&&null!==e.gitHubRepository.dbID){const{owner:t,name:n}=e.gitHubRepository,o=x.getAccountForEndpoint(this.accounts,e.gitHubRepository.endpoint);if(null!==o){const r=x.API.fromAccount(o),i=await r.fetchProtectedBranches(t.login,n);await this.repositoriesStore.updateBranchProtections(e.gitHubRepository,i)}}}async matchGitHubRepository(e){const t=this.gitStoreCache.get(e);t.defaultRemote||(await t.loadRemotes());const n=t.defaultRemote;return null===n?null:W.matchGitHubRepository(this.accounts,n.url)}_pushError(e){const t=Array.from(this.errors);return t.push(e),this.errors=t,this.emitUpdate(),Promise.resolve()}_clearError(t){return this.errors=this.errors.filter((n)=>n!==t),this.emitUpdate(),Promise.resolve()}async _renameBranch(e,t,n){const o=this.gitStoreCache.get(e);return await o.performFailableOperation(()=>N.renameBranch(e,t,n)),this._refreshRepository(e)}async _deleteBranch(e,t,n){return this.withAuthenticatingUser(e,async(e,o)=>{const{branchesState:r}=this.repositoryStateCache.get(e),{defaultBranch:i}=r;if(null==i)throw new Error(`A default branch cannot be found for this repository, so the app is unable to identify which branch to switch to before removing the current branch.`);const a=this.gitStoreCache.get(e);return await a.performFailableOperation(()=>N.checkoutBranch(e,o,i)),await a.performFailableOperation(()=>N.deleteBranch(e,t,o,n)),this._refreshRepository(e)})}updatePushPullFetchProgress(e,t){this.repositoryStateCache.update(e,()=>({pushPullFetchProgress:t})),Ee.enableProgressBarOnIcon()&&(null===t?s.remote.getCurrentWindow().setProgressBar(-1):s.remote.getCurrentWindow().setProgressBar(t.value)),this.selectedRepository===e&&this.emitUpdate()}async _push(e,t){return this.withAuthenticatingUser(e,(e,n)=>this.performPush(e,n,t))}async performPush(e,t,n){const o=this.repositoryStateCache.get(e),{remote:r}=o;return null===r?void this._showPopup({type:w.PopupType.PublishRepository,repository:e}):this.withPushPullFetch(e,t,async()=>{const{tip:i}=o.branchesState;if(i.kind===E.TipState.Unborn)throw new Error('The current branch is unborn.');if(i.kind===E.TipState.Detached)throw new Error('The current repository is in a detached HEAD state.');if(i.kind===E.TipState.Valid){const{branch:o}=i,a=o.remote||r.name,s=`Pushing to ${a}`;this.updatePushPullFetchProgress(e,{kind:'push',title:s,value:0,remote:a,branch:o.name});let d=2.5,l=1;const c=.1,p=1/(d+l)*(1-c);d*=p,l*=p;const u={type:G.RetryActionType.Push,repository:e},m={name:a,url:r.url};m.name!==r.name&&Re.sendNonFatalException('remoteNameMismatch',new Error('The current remote name differs from the branch remote'));const h=this.gitStoreCache.get(e);await h.performFailableOperation(async()=>{await N.push(e,t,m,o.name,o.upstreamWithoutRemote,h.tagsToPush,n,(t)=>{this.updatePushPullFetchProgress(e,Object.assign({},t,{title:s,value:d*t.value}))}),h.clearTagsToPush(),await h.fetchRemotes(t,[m],!1,(t)=>{this.updatePushPullFetchProgress(e,Object.assign({},t,{value:d+t.value*l}))});const r='Refreshing repository',i=d+l;this.updatePushPullFetchProgress(e,{kind:'generic',title:r,value:i}),await this.refreshBranchProtectionState(e),await this._refreshRepository(e),this.updatePushPullFetchProgress(e,{kind:'generic',title:r,description:'Fast-forwarding branches',value:i+.5*c}),await this.fastForwardBranches(e)},{retryAction:u}),this.updatePushPullFetchProgress(e,null),this.updateMenuLabelsForSelectedRepository();const{accounts:f}=this.getState(),g=await I.findAccountForRemoteURL(r.url,f);this.statsStore.recordPush(g,n)}})}async isCommitting(e,t){const n=this.repositoryStateCache.get(e);if(!n.isCommitting){this.repositoryStateCache.update(e,()=>({isCommitting:!0})),this.emitUpdate();try{const e=await t();return void 0!==e}finally{this.repositoryStateCache.update(e,()=>({isCommitting:!1})),this.emitUpdate()}}}async withPushPullFetch(e,t,n){const o=this.repositoryStateCache.get(e);if(!o.isPushPullFetchInProgress){this.repositoryStateCache.update(e,()=>({isPushPullFetchInProgress:!0})),this.emitUpdate();try{await n()}finally{this.repositoryStateCache.update(e,()=>({isPushPullFetchInProgress:!1})),this.emitUpdate()}}}async _pull(e){return this.withAuthenticatingUser(e,(e,t)=>this.performPull(e,t))}async performPull(e,t){return this.withPushPullFetch(e,t,async()=>{const n=this.gitStoreCache.get(e),o=n.currentRemote;if(!o)throw new Error('The repository has no remotes.');const r=this.repositoryStateCache.get(e),i=r.branchesState.tip;if(i.kind===E.TipState.Unborn)throw new Error('The current branch is unborn.');if(i.kind===E.TipState.Detached)throw new Error('The current repository is in a detached HEAD state.');if(i.kind===E.TipState.Valid){let r=null,a;null!==i.branch.upstream&&(r=await N.getMergeBase(e,i.branch.name,i.branch.upstream),a={kind:'pull',theirBranch:i.branch.upstream,currentBranch:i.branch.name});const s=`Pulling ${o.name}`;this.updatePushPullFetchProgress(e,{kind:'pull',title:s,value:0,remote:o.name});try{let i=2,s=1;const d=.1,l=1/(i+s)*(1-d);i*=l,s*=l;const c={type:G.RetryActionType.Pull,repository:e};n.pullWithRebase?this.statsStore.recordPullWithRebaseEnabled():this.statsStore.recordPullWithDefaultSetting(),await n.performFailableOperation(()=>N.pull(e,t,o,(t)=>{this.updatePushPullFetchProgress(e,Object.assign({},t,{value:t.value*i}))}),{gitContext:a,retryAction:c});const p=i+s,u='Refreshing repository';this.updatePushPullFetchProgress(e,{kind:'generic',title:u,value:p}),r&&(await n.reconcileHistory(r)),await this.refreshBranchProtectionState(e),await this._refreshRepository(e),this.updatePushPullFetchProgress(e,{kind:'generic',title:u,description:'Fast-forwarding branches',value:p+.5*d}),await this.fastForwardBranches(e)}finally{this.updatePushPullFetchProgress(e,null)}}})}async fastForwardBranches(e){const{branchesState:t}=this.repositoryStateCache.get(e),n=Se.findBranchesForFastForward(t);for(const t of n){const n=await N.getBranchAheadBehind(e,t);if(!n)continue;const{ahead:o,behind:r}=n;if(0===o&&0<r){const n=t.upstream,o=N.formatAsLocalRef(t.name);await N.updateRef(e,o,t.tip.sha,n,'pull: Fast-forward')}}}async _publishRepository(e,t,n,o,r,i){const a=x.API.fromAccount(r),s=await a.createRepository(i,t,n,o),d=this.gitStoreCache.get(e);return await d.performFailableOperation(()=>N.addRemote(e,'origin',s.clone_url)),await d.loadRemotes(),d.tip.kind===E.TipState.Valid&&(await this.performPush(e,r)),this.repositoryWithRefreshedGitHubRepository(e)}getAccountForRemoteURL(e){const t=W.matchGitHubRepository(this.accounts,e);if(t){const n=x.getAccountForEndpoint(this.accounts,t.endpoint);if(n){const t=0<n.token.length?'has token':'empty token';return log.info(`[AppStore.getAccountForRemoteURL] account found for remote: ${e} - ${n.login} (${t})`),n}}const n=F.getGenericHostname(e),o=F.getGenericUsername(n);return null==o?(log.info(`[AppStore.getAccountForRemoteURL] no generic credentials found for '${e}'`),null):(log.info(`[AppStore.getAccountForRemoteURL] found generic credentials for '${n}' and '${o}'`),{login:o,endpoint:n})}_clone(e,t,n){const o=this.getAccountForRemoteURL(e),r=this.cloningRepositoriesStore.clone(e,t,Object.assign({},n,{account:o})),i=this.cloningRepositoriesStore.repositories.find((n)=>n.url===e&&n.path===t);return r.then((e)=>{e&&this.statsStore.recordCloneRepository()}),{promise:r,repository:i}}_removeCloningRepository(e){this.cloningRepositoriesStore.remove(e)}async _discardChanges(e,t){const n=this.gitStoreCache.get(e);return await n.discardChanges(t),this._refreshRepository(e)}async _discardChangesFromSelection(e,t,n,o){const r=this.gitStoreCache.get(e);return await r.discardChangesFromSelection(t,n,o),this._refreshRepository(e)}async _undoCommit(e,t){const n=this.gitStoreCache.get(e);await n.undoCommit(t);const{commitSelection:o}=this.repositoryStateCache.get(e);return o.sha===t.sha&&this.clearSelectedCommit(e),this._refreshRepository(e)}async _fetchRefspec(e,t){return this.withAuthenticatingUser(e,async(e,n)=>{const o=this.gitStoreCache.get(e);return await o.fetchRefspec(n,t),this._refreshRepository(e)})}_fetch(e,t){return this.withAuthenticatingUser(e,(e,n)=>this.performFetch(e,n,t))}_fetchRemote(e,t,n){return this.withAuthenticatingUser(e,(e,o)=>this.performFetch(e,o,n,[t]))}async performFetch(e,t,n,o){await this.withPushPullFetch(e,t,async()=>{const r=this.gitStoreCache.get(e);try{const i=.9,a=n===f.FetchType.BackgroundTask,s=(t)=>{this.updatePushPullFetchProgress(e,Object.assign({},t,{value:t.value*i}))};o===void 0?await r.fetch(t,a,s):await r.fetchRemotes(t,o,a,s);const d='Refreshing repository';this.updatePushPullFetchProgress(e,{kind:'generic',title:d,value:i}),await this.refreshBranchProtectionState(e),await this._refreshRepository(e),this.updatePushPullFetchProgress(e,{kind:'generic',title:d,description:'Fast-forwarding branches',value:i+.5*.1}),await this.fastForwardBranches(e)}finally{this.updatePushPullFetchProgress(e,null),n===f.FetchType.UserInitiatedTask&&null!=e.gitHubRepository&&this._refreshIssues(e.gitHubRepository)}})}_endWelcomeFlow(){return this.showWelcomeFlow=!1,this.emitUpdate(),q.markWelcomeFlowComplete(),this.statsStore.recordWelcomeWizardTerminated(),Promise.resolve()}_setCommitMessageFocus(e){this.focusCommitMessage!==e&&(this.focusCommitMessage=e,this.emitUpdate())}_setSidebarWidth(e){return this.sidebarWidth=e,oe.setNumber(Ae,e),this.emitUpdate(),Promise.resolve()}_resetSidebarWidth(){return this.sidebarWidth=Me,localStorage.removeItem(Ae),this.emitUpdate(),Promise.resolve()}_setCommitSummaryWidth(e){return this.commitSummaryWidth=e,oe.setNumber(Le,e),this.emitUpdate(),Promise.resolve()}_resetCommitSummaryWidth(){return this.commitSummaryWidth=Ie,localStorage.removeItem(Le),this.emitUpdate(),Promise.resolve()}_setCommitMessage(e,t){const n=this.gitStoreCache.get(e);return n.setCommitMessage(t)}setAppMenu(e){return this.appMenu=this.appMenu?this.appMenu.withMenu(e):p.AppMenu.fromMenu(e),this.emitUpdate(),Promise.resolve()}_setAppMenuState(e){return this.appMenu&&(this.appMenu=e(this.appMenu),this.emitUpdate()),Promise.resolve()}_setAccessKeyHighlightState(e){return this.highlightAccessKeys!==e&&(this.highlightAccessKeys=e,this.emitUpdate()),Promise.resolve()}async _mergeBranch(e,t,n){const o=this.gitStoreCache.get(e);null!==n&&(n.kind===pe.ComputedAction.Clean?this.statsStore.recordMergeHintSuccessAndUserProceeded():n.kind===pe.ComputedAction.Conflicts?this.statsStore.recordUserProceededAfterConflictWarning():n.kind===pe.ComputedAction.Loading&&this.statsStore.recordUserProceededWhileLoading());const r=await o.merge(t),{tip:i}=o;return r&&i.kind===E.TipState.Valid&&this._setBanner({type:de.BannerType.SuccessfulMerge,ourBranch:i.branch.name,theirBranch:t}),this._refreshRepository(e)}async _setRebaseProgressFromState(e){const t=await N.getRebaseSnapshot(e);if(null===t)return;const{progress:n,commits:o}=t;this.repositoryStateCache.updateRebaseState(e,()=>({progress:n,commits:o}))}_initializeRebaseProgress(e,t){this.repositoryStateCache.updateRebaseState(e,()=>{const e=0<t.length,n=e?t[0].summary:null;return{progress:{value:V.formatRebaseValue(0),rebasedCommitCount:0,currentCommitSummary:n,totalCommitCount:t.length},commits:t}}),this.emitUpdate()}_setConflictsResolved(e){this.repositoryStateCache.updateRebaseState(e,()=>({userHasResolvedConflicts:!0}))}async _setRebaseFlowStep(e,t){this.repositoryStateCache.updateRebaseState(e,()=>({step:t})),this.emitUpdate(),'ShowProgress'===t.kind&&null!==t.rebaseAction&&(await $.sleep(500),await t.rebaseAction())}_endRebaseFlow(e){this.repositoryStateCache.updateRebaseState(e,()=>({step:null,progress:null,commits:null,preview:null,userHasResolvedConflicts:!1})),this.emitUpdate()}async _rebase(e,t,n){const o=(t)=>{this.repositoryStateCache.updateRebaseState(e,()=>({progress:t})),this.emitUpdate()},r=this.gitStoreCache.get(e),i=await r.performFailableOperation(()=>N.rebase(e,t,n,o));return i||N.RebaseResult.Error}async _abortRebase(e){const t=this.gitStoreCache.get(e);return await t.performFailableOperation(()=>N.abortRebase(e))}async _continueRebase(e,t,n){const o=(t)=>{this.repositoryStateCache.updateRebaseState(e,()=>({progress:t})),this.emitUpdate()},r=this.gitStoreCache.get(e),i=await r.performFailableOperation(()=>N.continueRebase(e,t.files,n,o));return i||N.RebaseResult.Error}async _abortMerge(e){const t=this.gitStoreCache.get(e);return await t.performFailableOperation(()=>N.abortMerge(e))}async _finishConflictedMerge(e,t,n){const o=t.files.filter((e)=>e.status.kind===v.AppFileStatusKind.Conflicted),r=this.gitStoreCache.get(e);return await r.performFailableOperation(()=>N.createMergeCommit(e,o,n))}async _setRemoteURL(e,t,n){const o=this.gitStoreCache.get(e);await o.setRemoteURL(t,n)}async _openShell(e){this.statsStore.recordOpenShell();try{const t=await K.findShellOrDefault(this.selectedShell);await K.launchShell(t,e,(e)=>this._pushError(e))}catch(e){this.emitError(e)}}_openInBrowser(e){return P.shell.openExternal(e)}async _openInExternalEditor(e){const{selectedExternalEditor:t}=this.getState();try{const n=await M.findEditorOrDefault(t);if(null===n)return void this.emitError(new re.ExternalEditorError('No suitable editors installed for GitHub Desktop to launch. Install Atom for your platform and restart GitHub Desktop to try again.',{suggestAtom:!0}));await M.launchExternalEditor(e,n)}catch(e){this.emitError(e)}}async _saveGitIgnore(e,t){return await N.saveGitIgnore(e,t),this._refreshRepository(e)}async setStatsOptOut(e,t){await this.statsStore.setOptOut(e,t),this.emitUpdate()}markUsageStatsNoteSeen(){j.markUsageStatsNoteSeen()}_setConfirmRepositoryRemovalSetting(e){return this.askForConfirmationOnRepositoryRemoval=e,oe.setBoolean(ze,e),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),Promise.resolve()}_setConfirmDiscardChangesSetting(e){return this.confirmDiscardChanges=e,oe.setBoolean(Ue,e),this.emitUpdate(),Promise.resolve()}_setConfirmForcePushSetting(e){return this.askForConfirmationOnForcePush=e,oe.setBoolean(We,e),this.updateMenuLabelsForSelectedRepository(),this.emitUpdate(),Promise.resolve()}_setUncommittedChangesStrategyKindSetting(e){return this.uncommittedChangesStrategyKind=e,localStorage.setItem(Ve,e),this.emitUpdate(),Promise.resolve()}_setExternalEditor(e){const t=this.updateSelectedExternalEditor(e);return localStorage.setItem(Ge,e),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository(),t}_setShell(e){return this.selectedShell=e,localStorage.setItem(Ye,e),this.emitUpdate(),this.updateMenuLabelsForSelectedRepository(),Promise.resolve()}_changeImageDiffType(e){return this.imageDiffType=e,localStorage.setItem(je,JSON.stringify(this.imageDiffType)),this.emitUpdate(),Promise.resolve()}_setHideWhitespaceInDiff(e,t,n){return oe.setBoolean(qe,e),this.hideWhitespaceInDiff=e,null===n?this.updateChangesWorkingDirectoryDiff(t):this._changeFileSelection(t,n)}_setUpdateBannerVisibility(e){this.isUpdateAvailableBannerVisible=e,this.emitUpdate()}_setBanner(e){this.currentBanner=e,this.emitUpdate()}_clearBanner(e){const{currentBanner:t}=this;null===t||void 0!==e&&t.type!==e||(this.currentBanner=null,this.emitUpdate())}_updateDivergingBranchBannerState(e,t){const n=this.repositoryStateCache.get(e).compareState.divergingBranchBannerState,o=Object.assign({},n,t);fe.shallowEquals(n,o)||(this.repositoryStateCache.updateCompareState(e,()=>({divergingBranchBannerState:o})),this.emitUpdate())}_reportStats(){return this.showWelcomeFlow||j.hasSeenUsageStatsNote()?this.statsStore.reportStats(this.accounts,this.repositories):(this._showPopup({type:w.PopupType.UsageReportingChanges}),Promise.resolve())}_recordLaunchStats(e){return this.statsStore.recordLaunchStats(e)}async _appendIgnoreRule(e,t){return await N.appendIgnoreRule(e,t),this._refreshRepository(e)}_resetSignInState(){return this.signInStore.reset(),Promise.resolve()}_onDotComSupportsBasicAuthUpdated(e){return this.signInStore.onDotComSupportsBasicAuthUpdated(e)}_tryGetDotComSupportsBasicAuth(){return this.signInStore.tryGetDotComSupportsBasicAuth()}_beginDotComSignIn(){return this.signInStore.beginDotComSignIn(),Promise.resolve()}_beginEnterpriseSignIn(){return this.signInStore.beginEnterpriseSignIn(),Promise.resolve()}_setSignInEndpoint(e){return this.signInStore.setEndpoint(e)}_setSignInCredentials(e,t){return this.signInStore.authenticateWithBasicAuth(e,t)}_requestBrowserAuthentication(){return this.signInStore.authenticateWithBrowser()}_setSignInOTP(e){return this.signInStore.setTwoFactorOTP(e)}async _setAppFocusState(e){this.appIsFocused!==e&&(this.appIsFocused=e,this.emitUpdate()),this.appIsFocused?this.selectedRepository instanceof b.Repository&&(this.startPullRequestUpdater(this.selectedRepository),this.currentOnboardingTutorialStep===Ce.TutorialStep.PickEditor&&(await this._resolveCurrentEditor())):this.stopPullRequestUpdater()}_startOpenInDesktop(e){const t=new Promise((e)=>this.resolveOpenInDesktop=e);return e(),t}async _completeOpenInDesktop(e){const t=this.resolveOpenInDesktop;this.resolveOpenInDesktop=null;const n=await e();return t&&t(n),n}_updateRepositoryPath(e,t){return this.repositoriesStore.updateRepositoryPath(e,t)}_removeAccount(e){return log.info(`[AppStore] removing account ${e.login} (${e.name}) from store`),this.accountsStore.removeAccount(e)}async _addAccount(e){log.info(`[AppStore] adding account ${e.login} (${e.name}) to store`);const t=await this.accountsStore.addAccount(e),n=this.getState().selectedState;if(n&&n.type===D.SelectionType.Repository){const e=await this.accountsStore.getAll(),t=n.state,o=t.commitLookup.values();this.loadAndCacheUsers(n.repository,e,o)}this.showWelcomeFlow&&null!==t&&this.apiRepositoriesStore.loadRepositories(t)}loadAndCacheUsers(e,t,n){for(const o of n)this.gitHubUserStore._loadAndCacheUser(t,e,o.sha,o.author.email)}_updateRepositoryMissing(e,t){return this.repositoriesStore.updateRepositoryMissing(e,t)}async _updateRepositoryWorkflowPreferences(e,t){await this.repositoriesStore.updateRepositoryWorkflowPreferences(e,t)}async _addTutorialRepository(e,t,n){const o=await ee.validatedRepositoryPath(e);if(o)log.info(`[AppStore] adding tutorial repository at ${o} to store`),await this.repositoriesStore.addTutorialRepository(o,t,n),this.tutorialAssessor.onNewTutorialRepository();else{const t=new Error(`${e} isn't a git repository.`);this.emitError(t)}}async _addRepositories(e){const t=[],n=[];for(const o of e){const e=await ee.validatedRepositoryPath(o);if(e){log.info(`[AppStore] adding repository at ${e} to store`);const o=await this.repositoriesStore.addRepository(e),r=this.gitStoreCache.get(o);await r.loadRemotes();const[i,a]=await Promise.all([this.repositoryWithRefreshedGitHubRepository(o),this.isUsingLFS(o)]);t.push(i),a&&n.push(i)}else{const e=new Error(`${o} isn't a git repository.`);this.emitError(e)}}return 0<n.length&&this._showPopup({type:w.PopupType.InitializeLFS,repositories:n}),t}async _removeRepositories(e){const t=e.filter((e)=>e instanceof b.Repository),n=e.filter((e)=>e instanceof h.CloningRepository);n.forEach((e)=>{this._removeCloningRepository(e)});for(const n of t)await this.repositoriesStore.removeRepository(n);const o=await this.repositoriesStore.getAll();0===o.length?this._closeFoldout(D.FoldoutType.Repository):this._showFoldout({type:D.FoldoutType.Repository})}async _cloneAgain(e,t){const{promise:n,repository:o}=this._clone(e,t);await this._selectRepository(o);const r=await n;if(r){const e=this.repositories,n=e.find((e)=>e.path===t);if(n){const e=await this._updateRepositoryMissing(n,!1);await this._selectRepository(e)}}}async withAuthenticatingUser(e,t){let n=e,o=B.getAccountForRepository(this.accounts,n);if(o||(n=await this.repositoryWithRefreshedGitHubRepository(e),o=B.getAccountForRepository(this.accounts,n)),!o){const t=this.gitStoreCache.get(e),n=t.currentRemote;if(n){const e=F.getGenericHostname(n.url),t=F.getGenericUsername(e);null!=t&&(o={login:t,endpoint:e})}}if(o instanceof c.Account){const t=0<o.token.length?'has token':'empty token';log.info(`[AppStore.withAuthenticatingUser] account found for repository: ${e.name} - ${o.login} (${t})`)}return t(n,o)}updateRevertProgress(e,t){this.repositoryStateCache.update(e,()=>({revertProgress:t})),this.selectedRepository===e&&this.emitUpdate()}async _revertCommit(e,t){return this.withAuthenticatingUser(e,async(n,o)=>{const r=this.gitStoreCache.get(n);await r.revertCommit(n,t,o,(e)=>{this.updateRevertProgress(n,e)}),this.updateRevertProgress(n,null),await this._refreshRepository(e)})}async promptForGenericGitAuthentication(e,t){let n;if(e instanceof b.Repository){const t=this.gitStoreCache.get(e),o=t.currentRemote;if(!o)return;n=o.url}else n=e.url;const o=F.getGenericHostname(n);return this._showPopup({type:w.PopupType.GenericGitAuthentication,hostname:o,retryAction:t})}async _installGlobalLFSFilters(e){try{await O.installGlobalLFSFilters(e)}catch(e){this.emitError(e)}}async isUsingLFS(e){try{return await O.isUsingLFS(e)}catch(e){return!1}}async _installLFSHooks(e){for(const t of e)try{await O.installLFSHooks(t,!0)}catch(e){this.emitError(e)}}_changeCloneRepositoriesTab(e){return this.selectedCloneRepositoryTab=e,this.emitUpdate(),Promise.resolve()}_refreshApiRepositories(e){return this.apiRepositoriesStore.loadRepositories(e)}_changeBranchesTab(e){return this.selectedBranchesTab=e,this.emitUpdate(),Promise.resolve()}async _showGitHubExplore(e){const{gitHubRepository:t}=e;if(t&&null!==t.htmlURL){const e=new URL(t.htmlURL);e.pathname='/explore',await this._openInBrowser(e.toString())}}async _createPullRequest(e){const t=e.gitHubRepository;if(t){const t=this.repositoryStateCache.get(e),n=t.branchesState.tip;if(n.kind===E.TipState.Valid){const o=n.branch,r=t.aheadBehind;null==r?this._showPopup({type:w.PopupType.PushBranchCommits,repository:e,branch:o}):0<r.ahead?this._showPopup({type:w.PopupType.PushBranchCommits,repository:e,branch:o,unPushedCommits:r.ahead}):await this._openCreatePullRequestInBrowser(e,o)}}}async _showPullRequest(e){if(null!==e.gitHubRepository){const t=this.repositoryStateCache.get(e).branchesState.currentPullRequest;if(null!==t){const{htmlURL:e}=t.base.gitHubRepository;if(null!==e){const n=`${e}/pull/${t.pullRequestNumber}`;await this._openInBrowser(n)}}}}async _refreshPullRequests(e){if(b.isRepositoryWithGitHubRepository(e)){const t=B.getAccountForRepository(this.accounts,e);null!==t&&(await this.pullRequestCoordinator.refreshPullRequests(e,t))}}async onPullRequestChanged(e,t){this.repositoryStateCache.updateBranchesState(e,()=>({openPullRequests:t})),this.updateCurrentPullRequest(e),this.gitStoreCache.get(e).pruneForkedRemotes(t);const n=this.getSelectedState();n&&n.type===D.SelectionType.Repository&&n.repository.id===e.id&&this.updateMenuLabelsForSelectedRepository(),this.emitUpdate()}updateCurrentPullRequest(e){const t=e.gitHubRepository;t&&(this.repositoryStateCache.updateBranchesState(e,(t)=>{let n=null;const{remote:o}=this.repositoryStateCache.get(e);return t.tip.kind===E.TipState.Valid&&o&&(n=ke.findAssociatedPullRequest(t.tip.branch,t.openPullRequests,o)),{currentPullRequest:n}}),this.emitUpdate())}async _openCreatePullRequestInBrowser(e,t){const n=e.gitHubRepository;if(n){const o=l.escape(t.nameWithoutRemote),r=`${n.htmlURL}/pull/new/${o}`;await this._openInBrowser(r),this.currentOnboardingTutorialStep===Ce.TutorialStep.OpenPullRequest&&this._markPullRequestTutorialStepAsComplete(e)}}async _updateExistingUpstreamRemote(e){const t=this.gitStoreCache.get(e);return await t.updateExistingUpstreamRemote(),this._refreshRepository(e)}getIgnoreExistingUpstreamRemoteKey(e){return`repository/${e.id}/ignoreExistingUpstreamRemote`}_ignoreExistingUpstreamRemote(e){const t=this.getIgnoreExistingUpstreamRemoteKey(e);return oe.setBoolean(t,!0),Promise.resolve()}getIgnoreExistingUpstreamRemote(e){const t=this.getIgnoreExistingUpstreamRemoteKey(e);return Promise.resolve(oe.getBoolean(t,!1))}async addUpstreamRemoteIfNeeded(e){const t=this.gitStoreCache.get(e),n=await this.getIgnoreExistingUpstreamRemote(e);return n?void 0:t.addUpstreamRemoteIfNeeded()}async _checkoutPullRequest(e,t){const n=A.forceUnwrap(`Cannot checkout a PR if the repository doesn't have a GitHub repository`,e.gitHubRepository),o=t.head,r=o.gitHubRepository.cloneURL===n.cloneURL;if(r){const t=this.gitStoreCache.get(e),n=t.defaultRemote;if(null!=n){const r=`${n.name}/${o.ref}`,i=null!=t.allBranches.find((e)=>e.name===r);i||(await this._fetchRemote(e,n,f.FetchType.UserInitiatedTask))}const r=this.getLocalBranch(e,o.ref);null!==r&&(await this._checkoutBranch(e,r))}else{const n=A.forceUnwrap('This pull request\'s clone URL is not populated but should be',o.gitHubRepository.cloneURL),i=C.forkPullRequestRemoteName(o.gitHubRepository.owner.login),r=await N.getRemotes(e),a=r.find((e)=>e.name===i)||(await N.addRemote(e,i,n));if(a.url!==n){const e=new Error(`Expected PR remote ${i} url to be ${n} got ${a.url}.`);return log.error(e.message),this.emitError(e)}await this._fetchRemote(e,a,f.FetchType.UserInitiatedTask);const s=`pr/${t.pullRequestNumber}`,d=this.getLocalBranch(e,s);null===d?await this._createBranch(e,s,`${i}/${o.ref}`):await this._checkoutBranch(e,d)}this.statsStore.recordPRBranchCheckout()}_setShowCoAuthoredBy(e,t){return this.gitStoreCache.get(e).setShowCoAuthoredBy(t),Promise.resolve()}_setCoAuthors(e,t){return this.gitStoreCache.get(e).setCoAuthors(t),Promise.resolve()}_setSelectedTheme(e){return _.setPersistedTheme(e),this.selectedTheme=e,this.emitUpdate(),Promise.resolve()}_setAutomaticallySwitchTheme(e){return _.setAutoSwitchPersistedTheme(e),this.automaticallySwitchTheme=e,this.emitUpdate(),Promise.resolve()}async _resolveCurrentEditor(){const e=await M.findEditorOrDefault(this.selectedExternalEditor),t=null==e?null:e.editor;this.resolvedExternalEditor!==t&&(this.resolvedExternalEditor=t,this.currentOnboardingTutorialStep===Ce.TutorialStep.PickEditor&&this.selectedRepository instanceof b.Repository&&this.updateCurrentTutorialStep(this.selectedRepository),this.emitUpdate())}_updateManualConflictResolution(e,t,n){this.repositoryStateCache.updateChangesState(e,(e)=>{const{conflictState:o}=e;if(null===o)return{conflictState:o};const r=new Map(o.manualResolutions);return null===n?r.delete(t):r.set(t,n),{conflictState:Object.assign({},o,{manualResolutions:r})}});const o=this.repositoryStateCache.get(e),{changesState:r,rebaseState:i}=o,{conflictState:a}=r,{step:s}=i;null!==a&&'rebase'===a.kind&&null!==s&&'ShowConflicts'===s.kind&&this.repositoryStateCache.updateRebaseState(e,()=>({step:Object.assign({},s,{conflictState:a})})),this.emitUpdate()}async _createStashAndDropPreviousEntry(e,t){const n=await ue.getLastDesktopStashEntryForBranch(e,t);null!==n&&(await ue.dropDesktopStashEntry(e,n.stashSha),log.info(`Dropped stash '${n.stashSha}' associated with ${n.branchName}`));const{changesState:{workingDirectory:o}}=this.repositoryStateCache.get(e);await ue.createDesktopStashEntry(e,t,ve.getUntrackedFiles(o))}async _moveChangesToBranchAndCheckout(e,t){const{changesState:{workingDirectory:n}}=this.repositoryStateCache.get(e),o=this.gitStoreCache.get(e),r=await o.performFailableOperation(()=>ue.createDesktopStashEntry(e,t.name,ve.getUntrackedFiles(n)));if(r){const n=await ue.getLastDesktopStashEntryForBranch(e,t.name),o={kind:me.UncommittedChangesStrategyKind.MoveToNewBranch,transientStashEntry:n};await this._checkoutBranch(e,t,o)}}async _popStashEntry(e,t){const n=this.gitStoreCache.get(e);await n.performFailableOperation(()=>ue.popStashEntry(e,t.stashSha)),log.info(`[AppStore. _popStashEntry] popped stash with commit id ${t.stashSha}`),this.statsStore.recordStashRestore(),await this._refreshRepository(e)}async _dropStashEntry(e,t){const n=this.gitStoreCache.get(e);await n.performFailableOperation(()=>ue.dropDesktopStashEntry(e,t.stashSha)),log.info(`[AppStore. _dropStashEntry] dropped stash with commit id ${t.stashSha}`),this.statsStore.recordStashDiscard(),await n.loadStashEntries()}_setStashedFilesWidth(e){return this.stashedFilesWidth=e,oe.setNumber(Be,e),this.emitUpdate(),Promise.resolve()}_resetStashedFilesWidth(){return this.stashedFilesWidth=Fe,localStorage.removeItem(Be),this.emitUpdate(),Promise.resolve()}async _testPruneBranches(){null===this.currentBranchPruner||(await this.currentBranchPruner.testPrune())}async _showCreateforkDialog(e){const t=B.getAccountForRepository(this.accounts,e);null===t||(await this._showPopup({type:w.PopupType.CreateFork,repository:e,account:t}))}async _convertRepositoryToFork(e,t){const n=this.gitStoreCache.get(e),o=n.defaultRemote?n.defaultRemote.name:void 0,r=n.defaultRemote?n.defaultRemote.url:void 0;if(o!==void 0&&r!==void 0&&(await n.setRemoteURL(o,t.clone_url))){await n.ensureUpstreamRemoteURL(r);const o=await this.repositoriesStore.updateGitHubRepository(e,e.gitHubRepository.endpoint,t);return o}return e}async _createTutorialRepository(e){try{await this.statsStore.recordTutorialStarted();const t='desktop-tutorial',n=a.resolve(xe.getDefaultDir(),t),o=await _e.createTutorialRepository(e,t,n,(e,t,n)=>{null!==this.currentPopup&&this.currentPopup.type===w.PopupType.CreateTutorialRepository&&(this.currentPopup=Object.assign({},this.currentPopup,{progress:{kind:'generic',title:e,value:t,description:n}}),this.emitUpdate())});await this._addTutorialRepository(n,e.endpoint,o),await this.statsStore.recordTutorialRepoCreated()}catch(e){Re.sendNonFatalException('tutorialRepoCreation',e),e instanceof N.GitError?this.emitError(e):this.emitError(new Error(`Failed creating the tutorial repository.\n\n${e.message}`))}finally{this._closePopup(w.PopupType.CreateTutorialRepository)}}}t.AppStore=Xe},function(e,t,n){'use strict';async function o(e){return e.token?a.fetchUser(e.endpoint,e.token):s.fatalError(`Cannot update an account which doesn't have a token: ${e.login}`)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(291),i=n(136),a=n(10),s=n(2),d=n(62);class l extends d.TypedBaseStore{constructor(e,t){super(),this.accounts=[],this.dataStore=e,this.secureStore=t,this.loadingPromise=this.loadFromStore()}async getAll(){return await this.loadingPromise,this.accounts.slice()}async addAccount(t){await this.loadingPromise;try{const e=r.getKeyForAccount(t);await this.secureStore.setItem(e,t.login,t.token)}catch(n){return log.error(`Error adding account '${t.login}'`,n),this.emitError(n),null}const e=this.accounts.reduce((e,t)=>e.set(t.endpoint,t),new Map);return e.set(t.endpoint,t),this.accounts=[...e.values()],this.save(),t}async refresh(){this.accounts=await Promise.all(this.accounts.map((e)=>this.tryUpdateAccount(e))),this.save(),this.emitUpdate(this.accounts)}async tryUpdateAccount(t){try{return await o(t)}catch(n){return log.warn(`Error refreshing account '${t.login}'`,n),t}}async removeAccount(t){await this.loadingPromise;try{await this.secureStore.deleteItem(r.getKeyForAccount(t),t.login)}catch(n){return log.error(`Error removing account '${t.login}'`,n),void this.emitError(n)}this.accounts=this.accounts.filter((e)=>e.endpoint!==t.endpoint||e.id!==t.id),this.save()}async loadFromStore(){const e=this.dataStore.getItem('users');if(e&&e.length){const t=JSON.parse(e),n=[];for(const e of t){const t=new i.Account(e.login,e.endpoint,'',e.emails,e.avatarURL,e.id,e.name),o=r.getKeyForAccount(t);try{const r=await this.secureStore.getItem(o,e.login);n.push(t.withToken(r||''))}catch(t){log.error(`Error getting token for '${o}'. Skipping.`,t),this.emitError(t)}}this.accounts=n,this.emitUpdate(this.accounts)}}save(){const e=this.accounts.map((e)=>e.withToken(''));this.dataStore.setItem('users',JSON.stringify(e)),this.emitUpdate(this.accounts)}}t.AccountsStore=l},function(e){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var o;(function(r){'use strict';var a='?',i='function',s='undefined',d='object',l='model',c='name',p='type',u='vendor',m='version',h='architecture',f='console',g='mobile',y='tablet',S='smarttv',C='wearable',b={extend:function(e,t){var n={};for(var o in e)n[o]=t[o]&&0==t[o].length%2?t[o].concat(e[o]):e[o];return n},has:function(e,t){return!('string'!=typeof e)&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e==='string'?e.replace(/[^\d\.]/g,'').split('.')[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}},v={rgx:function(e,t){for(var n=0,o,r,a,s,l,c;n<t.length&&!l;){var p=t[n],u=t[n+1];for(o=r=0;o<p.length&&!l;)if(l=p[o++].exec(e),!!l)for(a=0;a<u.length;a++)c=l[++r],s=u[a],typeof s===d&&0<s.length?2==s.length?typeof s[1]==i?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:3==s.length?typeof s[1]!==i||s[1].exec&&s[1].test?this[s[0]]=c?c.replace(s[1],s[2]):void 0:this[s[0]]=c?s[1].call(this,c,s[2]):void 0:4==s.length&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):void 0):this[s]=c?c:void 0;n+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===d&&0<t[n].length){for(var o=0;o<t[n].length;o++)if(b.has(t[n][o],e))return n===a?void 0:n;}else if(b.has(t[n],e))return n===a?void 0:n;return e}},E={browser:{oldsafari:{version:{"1.0":'/8',1.2:'/1',1.3:'/3',"2.0":'/412',"2.0.2":'/416',"2.0.3":'/417',"2.0.4":'/419',"?":'/'}}},device:{amazon:{model:{"Fire Phone":['SD','KF']}},sprint:{model:{"Evo Shift 4G":'7373KT'},vendor:{HTC:'APA',Sprint:'Sprint'}}},os:{windows:{version:{ME:'4.90',"NT 3.11":'NT3.51',"NT 4.0":'NT4.0',2000:'NT 5.0',XP:['NT 5.1','NT 5.2'],Vista:'NT 6.0',7:'NT 6.1',8:'NT 6.2',8.1:'NT 6.3',10:['NT 6.4','NT 10.0'],RT:'ARM'}}}},w={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,m],[/(opios)[\/\s]+([\w\.]+)/i],[[c,'Opera Mini'],m],[/\s(opr)\/([\w\.]+)/i],[[c,'Opera'],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[c,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,'IE'],m],[/(edge)\/((\d+)?[\w\.]+)/i],[c,m],[/(yabrowser)\/([\w\.]+)/i],[[c,'Yandex'],m],[/(puffin)\/([\w\.]+)/i],[[c,'Puffin'],m],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[c,'UCBrowser'],m],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g,' '],m],[/(micromessenger)\/([\w\.]+)/i],[[c,'WeChat'],m],[/(QQ)\/([\d\.]+)/i],[c,m],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[c,m],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[c,'MIUI Browser']],[/;fbav\/([\w\.]+);/i],[m,[c,'Facebook']],[/(headlesschrome) ([\w\.]+)/i],[m,[c,'Chrome Headless']],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,'$1 WebView'],m],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[c,/(.+(?:g|us))(.+)/,'$1 $2'],m],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[c,'Android Browser']],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,m],[/(dolfin)\/([\w\.]+)/i],[[c,'Dolphin'],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,'Chrome'],m],[/(coast)\/([\w\.]+)/i],[[c,'Opera Coast'],m],[/fxios\/([\w\.-]+)/i],[m,[c,'Firefox']],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[c,'Mobile Safari']],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[m,v.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,'Netscape'],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,'amd64']],[/(ia32(?=;))/i],[[h,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,'ia32']],[/windows\s(ce|mobile);\sppc;/i],[[h,'arm']],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,'',b.lowerize]],[/(sun4\w)[;\)]/i],[[h,'sparc']],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,u,[p,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[u,'Apple'],[p,y]],[/(apple\s{0,1}tv)/i],[[l,'Apple TV'],[u,'Apple']],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,l,[p,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[u,'Amazon'],[p,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,v.str,E.device.amazon.model],[u,'Amazon'],[p,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,u,[p,g]],[/\((ip[honed|\s\w*]+);/i],[l,[u,'Apple'],[p,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,l,[p,g]],[/\(bb10;\s(\w+)/i],[l,[u,'BlackBerry'],[p,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[l,[u,'Asus'],[p,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,'Sony'],[l,'Xperia Tablet'],[p,y]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[l,[u,'Sony'],[p,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,l,[p,f]],[/android.+;\s(shield)\sbuild/i],[l,[u,'Nvidia'],[p,f]],[/(playstation\s[34portablevi]+)/i],[l,[u,'Sony'],[p,f]],[/(sprint\s(\w+))/i],[[u,v.str,E.device.sprint.vendor],[l,v.str,E.device.sprint.model],[p,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,l,[p,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[u,[l,/_/g,' '],[p,g]],[/(nexus\s9)/i],[l,[u,'HTC'],[p,y]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[l,[u,'Huawei'],[p,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,l,[p,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[u,'Microsoft'],[p,f]],[/(kin\.[onetw]{3})/i],[[l,/\./g,' '],[u,'Microsoft'],[p,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[u,'Motorola'],[p,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[u,'Motorola'],[p,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,b.trim],[l,b.trim],[p,S]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,'SmartTV'],[u,'Samsung'],[p,S]],[/\(dtv[\);].+(aquos)/i],[l,[u,'Sharp'],[p,S]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,'Samsung'],l,[p,y]],[/smart-tv.+(samsung)/i],[u,[p,S],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[u,'Samsung'],l,[p,g]],[/sie-(\w+)*/i],[l,[u,'Siemens'],[p,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[u,'Nokia'],l,[p,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[u,'Acer'],[p,y]],[/android.+([vl]k\-?\d{3})\s+build/i],[l,[u,'LG'],[p,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,'LG'],l,[p,y]],[/(lg) netcast\.tv/i],[u,l,[p,S]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[l,[u,'LG'],[p,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[u,'Lenovo'],[p,y]],[/linux;.+((jolla));/i],[u,l,[p,g]],[/((pebble))app\/[\d\.]+\s/i],[u,l,[p,C]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,l,[p,g]],[/crkey/i],[[l,'Chromecast'],[u,'Google']],[/android.+;\s(glass)\s\d/i],[l,[u,'Google'],[p,C]],[/android.+;\s(pixel c)\s/i],[l,[u,'Google'],[p,y]],[/android.+;\s(pixel xl|pixel)\s/i],[l,[u,'Google'],[p,g]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g,' '],[u,'Xiaomi'],[p,g]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[l,[u,'Meizu'],[p,y]],[/android.+a000(1)\s+build/i],[l,[u,'OnePlus'],[p,g]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[l,[u,'RCA'],[p,y]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[l,[u,'Dell'],[p,y]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[l,[u,'Verizon'],[p,y]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,'Barnes & Noble'],l,[p,y]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[l,[u,'NuVision'],[p,y]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[u,'ZTE'],l,[p,y]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[l,[u,'Swiss'],[p,g]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[l,[u,'Swiss'],[p,y]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[l,[u,'Zeki'],[p,y]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[u,'Dragon Touch'],l,[p,y]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[l,[u,'Insignia'],[p,y]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[l,[u,'NextBook'],[p,y]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,'Voice'],l,[p,g]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[u,'LvTel'],l,[p,g]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[l,[u,'Envizen'],[p,y]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[u,l,[p,y]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[l,[u,'MachSpeed'],[p,y]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,l,[p,y]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[l,[u,'Rotor'],[p,y]],[/android.+(KS(.+))\s+build/i],[l,[u,'Amazon'],[p,y]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[u,l,[p,y]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,b.lowerize],u,l],[/(android.+)[;\/].+build/i],[l,[u,'Generic']]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[c,'EdgeHTML']],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,m],[/rv\:([\w\.]+).*(gecko)/i],[m,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[m,v.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,'Windows'],[m,v.str,E.os.windows.version]],[/\((bb)(10);/i],[[c,'BlackBerry'],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,'Symbian'],m],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,'Firefox OS'],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,'Chromium OS'],m],[/(sunos)\s?([\w\.]+\d)*/i],[[c,'Solaris'],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,m],[/(haiku)\s(\w+)/i],[c,m],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[m,/_/g,'.'],[c,'iOS']],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,'Mac OS'],[m,/_/g,'.']],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,m]]},k=function(e,t){this[c]=e,this[m]=t},T=function(e){this[h]=e},_=function(e,t,n){this[u]=e,this[l]=t,this[p]=n},R=k,x=k,P=function(e,t){if('object'==typeof e&&(t=e,e=void 0),!(this instanceof P))return new P(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:''),o=t?b.extend(w,t):w,i=new k,a=new T,s=new _,d=new R,l=new x;return this.getBrowser=function(){return v.rgx.call(i,n,o.browser),i.major=b.major(i.version),i},this.getCPU=function(){return v.rgx.call(a,n,o.cpu),a},this.getDevice=function(){return v.rgx.call(s,n,o.device),s},this.getEngine=function(){return v.rgx.call(d,n,o.engine),d},this.getOS=function(){return v.rgx.call(l,n,o.os),l},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,i=new k,a=new T,s=new _,d=new R,l=new x,this},this};P.VERSION='0.7.14',P.BROWSER={NAME:c,MAJOR:'major',VERSION:m},P.CPU={ARCHITECTURE:h},P.DEVICE={MODEL:l,VENDOR:u,TYPE:p,CONSOLE:f,MOBILE:g,SMARTTV:S,TABLET:y,WEARABLE:C,EMBEDDED:'embedded'},P.ENGINE={NAME:c,VERSION:m},P.OS={NAME:c,VERSION:m},typeof t==s?n(751)?(o=function(){return P}.call(t,n,t,e),!(o!==void 0&&(e.exports=o))):r&&(r.UAParser=P):(typeof e!=s&&e.exports&&(t=e.exports=P),t.UAParser=P);var D=r&&(r.jQuery||r.Zepto);if(typeof D!=s){var M=new P;D.ua=M.getResult(),D.ua.get=function(){return M.getUA()},D.ua.set=function(e){M.setUA(e);var t=M.getResult();for(var n in t)D.ua[n]=t[n]}}})('object'==typeof window?window:this)},function(e,t){var n=Math.max,o,r,i;(function(n,a){r=[],o=a,i='function'==typeof o?o.apply(t,r):o,!(i!==void 0&&(e.exports=i))})(this,function(){function e(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function t(t){var n=t.replace(/^v/,'').replace(/\+.*$/,''),o=e(n,'-'),r=n.substring(0,o).split('.');return r.push(n.substring(o+1)),r}function o(e){return isNaN(+e)?e:+e}function r(e){if('string'!=typeof e)throw new TypeError('Invalid argument expected string');if(!s.test(e))throw new Error('Invalid argument not valid semver (\''+e+'\' received)')}function i(e,a){[e,a].forEach(r);for(var s=t(e),d=t(a),l=0;l<n(s.length-1,d.length-1);l++){var i=parseInt(s[l]||0,10),c=parseInt(d[l]||0,10);if(i>c)return 1;if(c>i)return-1}var p=s[s.length-1],u=d[d.length-1];if(p&&u){var m=p.split('.').map(o),h=u.split('.').map(o);for(l=0;l<n(m.length,h.length);l++){if(void 0===m[l]||'string'==typeof h[l]&&'number'==typeof m[l])return-1;if(void 0===h[l]||'string'==typeof m[l]&&'number'==typeof h[l])return 1;if(m[l]>h[l])return 1;if(h[l]>m[l])return-1}}else if(p||u)return p?-1:1;return 0}function a(e){if('string'!=typeof e)throw new TypeError('Invalid operator type, expected string but got '+typeof e);if(-1===d.indexOf(e))throw new TypeError('Invalid operator, expected one of '+d.join('|'))}var s=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,d=['>','>=','=','<','<='],l={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(e){return'string'==typeof e&&s.test(e)},i.compare=function(e,t,n){a(n);var o=i(e,t);return-1<l[n].indexOf(o)},i})},function(e,t,n){'use strict';function o(e){const t=e.find((e)=>e.endpoint===d.getDotComAPIEndpoint());return t===void 0?null:t.id}function r(e){null!==localStorage.getItem(e)||y.setNumber(e,Date.now())}function i(e){const t=y.getNumber(e);return t===void 0?null:t}function a(e){const t=i(v);if(null!==t){const n=i(e);return null===n||n<=t?-1:Math.round((n-t)/1e3)}}function s(){const e=localStorage.getItem(P);try{return e===f.SignInMethod.Basic||e===f.SignInMethod.Web?e:null===e?void 0:g.assertNever(e,`Unknown sign in method: ${e}`)}catch(e){return void log.error(`Could not parse welcome wizard sign in method`,e)}}Object.defineProperty(t,'__esModule',{value:!0});const d=n(10),l=n(87),c=n(293),p=n(134),u=n(292),m=n(54),h=n(85),f=n(72),g=n(2),y=n(56);t.SamplesURL='https://desktop.github.com/usage-data/';const S='last-daily-stats-report',C='stats-opt-out',b='has-sent-stats-opt-in-ping',v='welcome-wizard-initiated-at',E='welcome-wizard-terminated-at',w='first-repository-added-at',k='first-repository-cloned-at',T='first-repository-created-at',_='first-commit-created-at',R='first-push-to-github-at',x='first-non-default-branch-checkout-at',P='welcome-wizard-sign-in-method',D='repositories-committed-in-without-write-access',M={commits:0,partialCommits:0,openShellCount:0,coAuthoredCommits:0,branchComparisons:0,defaultBranchComparisons:0,mergesInitiatedFromComparison:0,updateFromDefaultBranchMenuCount:0,mergeIntoCurrentBranchMenuCount:0,prBranchCheckouts:0,repoWithIndicatorClicked:0,repoWithoutIndicatorClicked:0,divergingBranchBannerDismissal:0,divergingBranchBannerInitatedMerge:0,divergingBranchBannerInitiatedCompare:0,divergingBranchBannerInfluencedMerge:0,divergingBranchBannerDisplayed:0,dotcomPushCount:0,dotcomForcePushCount:0,enterprisePushCount:0,enterpriseForcePushCount:0,externalPushCount:0,externalForcePushCount:0,active:!1,mergeConflictFromPullCount:0,mergeConflictFromExplicitMergeCount:0,mergedWithLoadingHintCount:0,mergedWithCleanMergeHintCount:0,mergedWithConflictWarningHintCount:0,mergeSuccessAfterConflictsCount:0,mergeAbortedAfterConflictsCount:0,unattributedCommits:0,enterpriseCommits:0,dotcomCommits:0,mergeConflictsDialogDismissalCount:0,anyConflictsLeftOnMergeConflictsDialogDismissalCount:0,mergeConflictsDialogReopenedCount:0,guidedConflictedMergeCompletionCount:0,unguidedConflictedMergeCompletionCount:0,createPullRequestCount:0,rebaseConflictsDialogDismissalCount:0,rebaseConflictsDialogReopenedCount:0,rebaseAbortedAfterConflictsCount:0,rebaseSuccessAfterConflictsCount:0,rebaseSuccessWithoutConflictsCount:0,pullWithRebaseCount:0,pullWithDefaultSettingCount:0,stashEntriesCreatedOutsideDesktop:0,errorWhenSwitchingBranchesWithUncommmittedChanges:0,rebaseCurrentBranchMenuCount:0,stashViewedAfterCheckoutCount:0,stashCreatedOnCurrentBranchCount:0,stashNotViewedAfterCheckoutCount:0,changesTakenToNewBranchCount:0,stashRestoreCount:0,stashDiscardCount:0,stashViewCount:0,noActionTakenOnStashCount:0,suggestedStepOpenInExternalEditor:0,suggestedStepOpenWorkingDirectory:0,suggestedStepViewOnGitHub:0,suggestedStepPublishRepository:0,suggestedStepPublishBranch:0,suggestedStepCreatePullRequest:0,suggestedStepViewStash:0,commitsToProtectedBranch:0,commitsToRepositoryWithBranchProtections:0,tutorialStarted:!1,tutorialRepoCreated:!1,tutorialEditorInstalled:!1,tutorialBranchCreated:!1,tutorialFileEdited:!1,tutorialCommitCreated:!1,tutorialBranchPushed:!1,tutorialPrCreated:!1,tutorialCompleted:!1,highestTutorialStepCompleted:-1,commitsToRepositoryWithoutWriteAccess:0,forksCreated:0,issueCreationWebpageOpenedCount:0,tagsCreatedInDesktop:0,tagsCreated:0,tagsDeleted:0};t.StatsStore=class{constructor(e,t){this.uiActivityMonitorSubscription=null,this.onUiActivity=async()=>(this.disableUiActivityMonitoring(),this.updateDailyMeasures(()=>({active:!0}))),this.db=e,this.uiActivityMonitor=t;const n=y.getBoolean(C);this.optOut=n||!1,y.getBoolean(b,!1)||this.sendOptInStatusPing(this.optOut,n),this.enableUiActivityMonitoring()}shouldReportDailyStats(){const e=y.getNumber(S,0),t=Date.now();return t-e>86400000}async reportStats(e,t){if(!this.optOut&&c.hasShownWelcomeFlow()&&this.shouldReportDailyStats()){const n=Date.now(),r=await this.getDailyStats(e,t),i=o(e),a=null===i?r:Object.assign({},r,{user_id:i});try{const e=await this.post(a);if(!e.ok)throw new Error(`Unexpected status: ${e.statusText} (${e.status})`);log.info('Stats reported.'),await this.clearDailyStats(),y.setNumber(S,n)}catch(t){log.error('Error reporting stats:',t)}}}async recordLaunchStats(e){await this.db.launches.add(e)}async clearDailyStats(){await this.db.launches.clear(),await this.db.dailyMeasures.clear(),localStorage.removeItem(D),this.enableUiActivityMonitoring()}enableUiActivityMonitoring(){null!==this.uiActivityMonitorSubscription||(this.uiActivityMonitorSubscription=this.uiActivityMonitor.onActivity(this.onUiActivity))}disableUiActivityMonitoring(){null===this.uiActivityMonitorSubscription||(this.uiActivityMonitorSubscription.dispose(),this.uiActivityMonitorSubscription=null)}async getDailyStats(e,t){const n=await this.getAverageLaunchStats(),o=await this.getDailyMeasures(),r=this.determineUserType(e),i=this.categorizedRepositoryCounts(t),a=this.getOnboardingStats(),s=localStorage.getItem('shell')||'none',d=localStorage.getItem('externalEditor')||'none',c=y.getNumberArray(D).length;return Object.assign({eventType:'usage',version:l.getVersion(),osVersion:p.getOS(),platform:'win32',theme:h.getPersistedThemeName(),selectedTerminalEmulator:s,selectedTextEditor:d},n,o,r,a,{guid:u.getGUID()},i,{repositoriesCommittedInWithoutWriteAccess:c})}getOnboardingStats(){const e=i(v);if(null===e)return{};const t=a(E),n=a(w),o=a(k),r=a(T),d=a(_),l=a(R),c=a(x),p=s();return{timeToWelcomeWizardTerminated:t,timeToFirstAddedRepository:n,timeToFirstClonedRepository:o,timeToFirstCreatedRepository:r,timeToFirstCommit:d,timeToFirstGitHubPush:l,timeToFirstNonDefaultBranchCheckout:c,welcomeWizardSignInMethod:p}}categorizedRepositoryCounts(e){return{repositoryCount:e.length,gitHubRepositoryCount:e.filter((e)=>e.gitHubRepository).length}}determineUserType(e){const t=!!e.find((e)=>e.endpoint===d.getDotComAPIEndpoint()),n=!!e.find((e)=>e.endpoint!==d.getDotComAPIEndpoint());return{dotComAccount:t,enterpriseAccount:n}}async getAverageLaunchStats(){const e=await this.db.launches.toArray();if(!e||!e.length)return{mainReadyTime:-1,loadTime:-1,rendererReadyTime:-1};const t=e.reduce((e,t)=>({mainReadyTime:e.mainReadyTime+t.mainReadyTime,loadTime:e.loadTime+t.loadTime,rendererReadyTime:e.rendererReadyTime+t.rendererReadyTime}),{mainReadyTime:0,loadTime:0,rendererReadyTime:0});return{mainReadyTime:t.mainReadyTime/e.length,loadTime:t.loadTime/e.length,rendererReadyTime:t.rendererReadyTime/e.length}}async getDailyMeasures(){const e=await this.db.dailyMeasures.limit(1).first();return Object.assign({},M,e,{id:void 0})}async updateDailyMeasures(e){await this.db.transaction('rw',this.db.dailyMeasures,async()=>{const t=await this.db.dailyMeasures.limit(1).first(),n=Object.assign({},M,t),o=m.merge(n,e(n));return this.db.dailyMeasures.put(o)})}async recordCommit(){await this.updateDailyMeasures((e)=>({commits:e.commits+1})),r(_)}recordPartialCommit(){return this.updateDailyMeasures((e)=>({partialCommits:e.partialCommits+1}))}recordCoAuthoredCommit(){return this.updateDailyMeasures((e)=>({coAuthoredCommits:e.coAuthoredCommits+1}))}recordOpenShell(){return this.updateDailyMeasures((e)=>({openShellCount:e.openShellCount+1}))}recordBranchComparison(){return this.updateDailyMeasures((e)=>({branchComparisons:e.branchComparisons+1}))}recordDefaultBranchComparison(){return this.updateDailyMeasures((e)=>({defaultBranchComparisons:e.defaultBranchComparisons+1}))}recordCompareInitiatedMerge(){return this.updateDailyMeasures((e)=>({mergesInitiatedFromComparison:e.mergesInitiatedFromComparison+1}))}recordMenuInitiatedUpdate(){return this.updateDailyMeasures((e)=>({updateFromDefaultBranchMenuCount:e.updateFromDefaultBranchMenuCount+1}))}recordMergeConflictFromPull(){return this.updateDailyMeasures((e)=>({mergeConflictFromPullCount:e.mergeConflictFromPullCount+1}))}recordMergeConflictFromExplicitMerge(){return this.updateDailyMeasures((e)=>({mergeConflictFromExplicitMergeCount:e.mergeConflictFromExplicitMergeCount+1}))}recordMenuInitiatedMerge(){return this.updateDailyMeasures((e)=>({mergeIntoCurrentBranchMenuCount:e.mergeIntoCurrentBranchMenuCount+1}))}recordMenuInitiatedRebase(){return this.updateDailyMeasures((e)=>({rebaseCurrentBranchMenuCount:e.rebaseCurrentBranchMenuCount+1}))}recordPRBranchCheckout(){return this.updateDailyMeasures((e)=>({prBranchCheckouts:e.prBranchCheckouts+1}))}recordRepoClicked(e){return e?this.updateDailyMeasures((e)=>({repoWithIndicatorClicked:e.repoWithIndicatorClicked+1})):this.updateDailyMeasures((e)=>({repoWithoutIndicatorClicked:e.repoWithoutIndicatorClicked+1}))}recordUnattributedCommit(){return this.updateDailyMeasures((e)=>({unattributedCommits:e.unattributedCommits+1}))}recordCommitToEnterprise(){return this.updateDailyMeasures((e)=>({enterpriseCommits:e.enterpriseCommits+1}))}recordCommitToDotcom(){return this.updateDailyMeasures((e)=>({dotcomCommits:e.dotcomCommits+1}))}recordCommitToProtectedBranch(){return this.updateDailyMeasures((e)=>({commitsToProtectedBranch:e.commitsToProtectedBranch+1}))}recordCommitToRepositoryWithBranchProtections(){return this.updateDailyMeasures((e)=>({commitsToRepositoryWithBranchProtections:e.commitsToRepositoryWithBranchProtections+1}))}async setOptOut(e,t){const n=this.optOut!==e;this.optOut=e;const o=y.getBoolean(C);y.setBoolean(C,e),(n||t)&&(await this.sendOptInStatusPing(e,o))}getOptOut(){return this.optOut}recordDivergingBranchBannerDismissal(){return this.updateDailyMeasures((e)=>({divergingBranchBannerDismissal:e.divergingBranchBannerDismissal+1}))}recordDivergingBranchBannerInitatedMerge(){return this.updateDailyMeasures((e)=>({divergingBranchBannerInitatedMerge:e.divergingBranchBannerInitatedMerge+1}))}recordDivergingBranchBannerInitiatedCompare(){return this.updateDailyMeasures((e)=>({divergingBranchBannerInitiatedCompare:e.divergingBranchBannerInitiatedCompare+1}))}recordDivergingBranchBannerInfluencedMerge(){return this.updateDailyMeasures((e)=>({divergingBranchBannerInfluencedMerge:e.divergingBranchBannerInfluencedMerge+1}))}recordDivergingBranchBannerDisplayed(){return this.updateDailyMeasures((e)=>({divergingBranchBannerDisplayed:e.divergingBranchBannerDisplayed+1}))}async recordPush(e,t){null===e?await this.recordPushToGenericRemote(t):e.endpoint===d.getDotComAPIEndpoint()?await this.recordPushToGitHub(t):await this.recordPushToGitHubEnterprise(t)}async recordPushToGitHub(e){e&&e.forceWithLease&&(await this.updateDailyMeasures((e)=>({dotcomForcePushCount:e.dotcomForcePushCount+1}))),await this.updateDailyMeasures((e)=>({dotcomPushCount:e.dotcomPushCount+1})),r(R)}async recordPushToGitHubEnterprise(e){e&&e.forceWithLease&&(await this.updateDailyMeasures((e)=>({enterpriseForcePushCount:e.enterpriseForcePushCount+1}))),await this.updateDailyMeasures((e)=>({enterprisePushCount:e.enterprisePushCount+1})),r(R)}async recordPushToGenericRemote(e){e&&e.forceWithLease&&(await this.updateDailyMeasures((e)=>({externalForcePushCount:e.externalForcePushCount+1}))),await this.updateDailyMeasures((e)=>({externalPushCount:e.externalPushCount+1}))}recordUserProceededWhileLoading(){return this.updateDailyMeasures((e)=>({mergedWithLoadingHintCount:e.mergedWithLoadingHintCount+1}))}recordMergeHintSuccessAndUserProceeded(){return this.updateDailyMeasures((e)=>({mergedWithCleanMergeHintCount:e.mergedWithCleanMergeHintCount+1}))}recordUserProceededAfterConflictWarning(){return this.updateDailyMeasures((e)=>({mergedWithConflictWarningHintCount:e.mergedWithConflictWarningHintCount+1}))}recordMergeConflictsDialogDismissal(){return this.updateDailyMeasures((e)=>({mergeConflictsDialogDismissalCount:e.mergeConflictsDialogDismissalCount+1}))}recordAnyConflictsLeftOnMergeConflictsDialogDismissal(){return this.updateDailyMeasures((e)=>({anyConflictsLeftOnMergeConflictsDialogDismissalCount:e.anyConflictsLeftOnMergeConflictsDialogDismissalCount+1}))}recordMergeConflictsDialogReopened(){return this.updateDailyMeasures((e)=>({mergeConflictsDialogReopenedCount:e.mergeConflictsDialogReopenedCount+1}))}recordGuidedConflictedMergeCompletion(){return this.updateDailyMeasures((e)=>({guidedConflictedMergeCompletionCount:e.guidedConflictedMergeCompletionCount+1}))}recordUnguidedConflictedMergeCompletion(){return this.updateDailyMeasures((e)=>({unguidedConflictedMergeCompletionCount:e.unguidedConflictedMergeCompletionCount+1}))}recordCreatePullRequest(){return this.updateDailyMeasures((e)=>({createPullRequestCount:e.createPullRequestCount+1}))}recordRebaseConflictsDialogDismissal(){return this.updateDailyMeasures((e)=>({rebaseConflictsDialogDismissalCount:e.rebaseConflictsDialogDismissalCount+1}))}recordRebaseConflictsDialogReopened(){return this.updateDailyMeasures((e)=>({rebaseConflictsDialogReopenedCount:e.rebaseConflictsDialogReopenedCount+1}))}recordRebaseAbortedAfterConflicts(){return this.updateDailyMeasures((e)=>({rebaseAbortedAfterConflictsCount:e.rebaseAbortedAfterConflictsCount+1}))}recordPullWithRebaseEnabled(){return this.updateDailyMeasures((e)=>({pullWithRebaseCount:e.pullWithRebaseCount+1}))}recordRebaseSuccessWithoutConflicts(){return this.updateDailyMeasures((e)=>({rebaseSuccessWithoutConflictsCount:e.rebaseSuccessWithoutConflictsCount+1}))}recordRebaseSuccessAfterConflicts(){return this.updateDailyMeasures((e)=>({rebaseSuccessAfterConflictsCount:e.rebaseSuccessAfterConflictsCount+1}))}recordPullWithDefaultSetting(){return this.updateDailyMeasures((e)=>({pullWithDefaultSettingCount:e.pullWithDefaultSettingCount+1}))}recordWelcomeWizardInitiated(){y.setNumber(v,Date.now()),localStorage.removeItem(E)}recordWelcomeWizardTerminated(){y.setNumber(E,Date.now())}recordAddExistingRepository(){r(w)}recordCloneRepository(){r(k)}recordCreateRepository(){r(T)}recordNonDefaultBranchCheckout(){r(x)}recordWelcomeWizardSignInMethod(e){localStorage.setItem(P,e)}recordMergeSuccessAfterConflicts(){return this.updateDailyMeasures((e)=>({mergeSuccessAfterConflictsCount:e.mergeSuccessAfterConflictsCount+1}))}recordMergeAbortedAfterConflicts(){return this.updateDailyMeasures((e)=>({mergeAbortedAfterConflictsCount:e.mergeAbortedAfterConflictsCount+1}))}recordStashViewedAfterCheckout(){return this.updateDailyMeasures((e)=>({stashViewedAfterCheckoutCount:e.stashViewedAfterCheckoutCount+1}))}recordStashNotViewedAfterCheckout(){return this.updateDailyMeasures((e)=>({stashNotViewedAfterCheckoutCount:e.stashNotViewedAfterCheckoutCount+1}))}recordChangesTakenToNewBranch(){return this.updateDailyMeasures((e)=>({changesTakenToNewBranchCount:e.changesTakenToNewBranchCount+1}))}recordStashCreatedOnCurrentBranch(){return this.updateDailyMeasures((e)=>({stashCreatedOnCurrentBranchCount:e.stashCreatedOnCurrentBranchCount+1}))}recordStashDiscard(){return this.updateDailyMeasures((e)=>({stashDiscardCount:e.stashDiscardCount+1}))}recordStashView(){return this.updateDailyMeasures((e)=>({stashViewCount:e.stashViewCount+1}))}recordStashRestore(){return this.updateDailyMeasures((e)=>({stashRestoreCount:e.stashRestoreCount+1}))}recordNoActionTakenOnStash(){return this.updateDailyMeasures((e)=>({noActionTakenOnStashCount:e.noActionTakenOnStashCount+1}))}addStashEntriesCreatedOutsideDesktop(e){return this.updateDailyMeasures((t)=>({stashEntriesCreatedOutsideDesktop:t.stashEntriesCreatedOutsideDesktop+e}))}recordErrorWhenSwitchingBranchesWithUncommmittedChanges(){return this.updateDailyMeasures((e)=>({errorWhenSwitchingBranchesWithUncommmittedChanges:e.errorWhenSwitchingBranchesWithUncommmittedChanges+1}))}recordSuggestedStepOpenInExternalEditor(){return this.updateDailyMeasures((e)=>({suggestedStepOpenInExternalEditor:e.suggestedStepOpenInExternalEditor+1}))}recordSuggestedStepOpenWorkingDirectory(){return this.updateDailyMeasures((e)=>({suggestedStepOpenWorkingDirectory:e.suggestedStepOpenWorkingDirectory+1}))}recordSuggestedStepViewOnGitHub(){return this.updateDailyMeasures((e)=>({suggestedStepViewOnGitHub:e.suggestedStepViewOnGitHub+1}))}recordSuggestedStepPublishRepository(){return this.updateDailyMeasures((e)=>({suggestedStepPublishRepository:e.suggestedStepPublishRepository+1}))}recordSuggestedStepPublishBranch(){return this.updateDailyMeasures((e)=>({suggestedStepPublishBranch:e.suggestedStepPublishBranch+1}))}recordSuggestedStepCreatePullRequest(){return this.updateDailyMeasures((e)=>({suggestedStepCreatePullRequest:e.suggestedStepCreatePullRequest+1}))}recordSuggestedStepViewStash(){return this.updateDailyMeasures((e)=>({suggestedStepViewStash:e.suggestedStepViewStash+1}))}recordTutorialStarted(){return this.updateDailyMeasures(()=>({tutorialStarted:!0}))}recordTutorialRepoCreated(){return this.updateDailyMeasures(()=>({tutorialRepoCreated:!0}))}recordTutorialEditorInstalled(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0}))}recordTutorialBranchCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0}))}recordTutorialFileEdited(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0}))}recordTutorialCommitCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0}))}recordTutorialBranchPushed(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0,tutorialBranchPushed:!0}))}recordTutorialPrCreated(){return this.updateDailyMeasures(()=>({tutorialEditorInstalled:!0,tutorialBranchCreated:!0,tutorialFileEdited:!0,tutorialCommitCreated:!0,tutorialBranchPushed:!0,tutorialPrCreated:!0}))}recordTutorialCompleted(){return this.updateDailyMeasures(()=>({tutorialCompleted:!0}))}recordHighestTutorialStepCompleted(e){return this.updateDailyMeasures((t)=>({highestTutorialStepCompleted:Math.max(e,t.highestTutorialStepCompleted)}))}recordCommitToRepositoryWithoutWriteAccess(){return this.updateDailyMeasures((e)=>({commitsToRepositoryWithoutWriteAccess:e.commitsToRepositoryWithoutWriteAccess+1}))}recordRepositoryCommitedInWithoutWriteAccess(e){const t=y.getNumberArray(D);t.includes(e)||y.setNumberArray(D,[...t,e])}recordForkCreated(){return this.updateDailyMeasures((e)=>({forksCreated:e.forksCreated+1}))}recordIssueCreationWebpageOpened(){return this.updateDailyMeasures((e)=>({issueCreationWebpageOpenedCount:e.issueCreationWebpageOpenedCount+1}))}recordTagCreatedInDesktop(){return this.updateDailyMeasures((e)=>({tagsCreatedInDesktop:e.tagsCreatedInDesktop+1}))}recordTagCreated(e){return this.updateDailyMeasures((t)=>({tagsCreated:t.tagsCreated+e}))}recordTagDeleted(){return this.updateDailyMeasures((e)=>({tagsDeleted:e.tagsDeleted+1}))}post(e){const t={method:'POST',headers:new Headers({"Content-Type":'application/json'}),body:JSON.stringify(e)};return fetch('https://central.github.com/api/usage/desktop',t)}async sendOptInStatusPing(e,t){const n=!e,o=t===void 0?null:!t,r=n?'in':'out';try{const e=await this.post({eventType:'ping',optIn:n,previousOptInValue:o});if(!e.ok)throw new Error(`Unexpected status: ${e.statusText} (${e.status})`);y.setBoolean(b,!0),log.info(`Opt ${r} reported.`)}catch(t){log.error(`Error reporting opt ${r}:`,t)}}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(294);class r extends o.default{constructor(e){super(e),this.version(1).stores({launches:'++'}),this.version(2).stores({dailyMeasures:'++id'})}}t.StatsDatabase=r},function(e){'use strict';e.exports=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},function(e,t,n){'use strict';function o(e,t='maxAge'){let n,o,i;const s=()=>r(this,void 0,void 0,function*(){if(void 0===n){const s=(s)=>r(this,void 0,void 0,function*(){i=a.default();const r=s[1][t]-Date.now();return 0>=r?(e.delete(s[0]),void i.resolve()):(n=s[0],o=setTimeout(()=>{e.delete(s[0]),i&&i.resolve()},r),'function'==typeof o.unref&&o.unref(),i.promise)});try{for(const t of e)yield s(t)}catch(e){}n=void 0}}),d=()=>{n=void 0,void 0!==o&&(clearTimeout(o),o=void 0),void 0!==i&&(i.reject(void 0),i=void 0)},l=e.set.bind(e);return e.set=(t,o)=>{e.has(t)&&e.delete(t);const r=l(t,o);return n&&n===t&&d(),s(),r},s(),e}var r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{d(o.next(e))}catch(t){i(t)}}function s(e){try{d(o['throw'](e))}catch(t){i(t)}}function d(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}d((o=o.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,'__esModule',{value:!0});const a=i(n(756));t.default=o,e.exports=o,e.exports.default=o},function(e){'use strict';const t=(e)=>e instanceof Promise||null!==e&&'object'==typeof e&&'function'==typeof e.then&&'function'==typeof e.catch;e.exports=t,e.exports.default=t},function(e){'use strict';const t=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};e.exports=t,e.exports.default=t},function(e){'use strict';var t=e.exports=function(e){return null!==e&&'object'==typeof e&&'function'==typeof e.pipe};t.writable=function(e){return t(e)&&!1!==e.writable&&'function'==typeof e._write&&'object'==typeof e._writableState},t.readable=function(e){return t(e)&&!1!==e.readable&&'function'==typeof e._read&&'object'==typeof e._readableState},t.duplex=function(e){return t.writable(e)&&t.readable(e)},t.transform=function(e){return t.duplex(e)&&'function'==typeof e._transform&&'object'==typeof e._transformState}},function(e,t,n){'use strict';var o=n(1),r=n(296);e.exports=function(e){e=e||{};for(var t=o.resolve(e.cwd||'.'),n=[],i;i!==t;)n.push(o.join(t,'node_modules/.bin')),i=t,t=o.resolve(t,'..');return n.push(o.dirname(process.execPath)),n.concat(e.path||process.env[r()]).join(o.delimiter)}},function(e){'use strict';e.exports=function(e){var t='string'==typeof e?'\n':10,n='string'==typeof e?'\r':13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}},function(e){'use strict';function t(e,t){var n;return n=new Error(t+' '+e+' ENOENT'),n.code=n.errno='ENOENT',n.syscall=t+' '+e,n}function n(e,n,o){return 1!==e||n.file?null:t(n.original,o)}e.exports.hookChildProcess=function(e,t){var o;o=e.emit,e.emit=function(r,i){var a;return'exit'===r&&(a=n(i,t,'spawn'),a)?o.call(e,'error',a):o.apply(e,arguments)}},e.exports.verifyENOENT=n,e.exports.notFoundError=t},function(e,t,n){function o(e,t){var n=void 0===t.pathExt?process.env.PATHEXT:t.pathExt;if(!n)return!0;if(n=n.split(';'),-1!==n.indexOf(''))return!0;for(var o=0,r;o<n.length;o++)if(r=n[o].toLowerCase(),r&&e.substr(-r.length).toLowerCase()===r)return!0;return!1}function r(e,t,n){return!!(e.isSymbolicLink()||e.isFile())&&o(t,n)}function i(e,t,n){a.stat(e,function(o,i){n(o,!o&&r(i,e,t))})}e.exports=i,i.sync=function(e,t){return r(a.statSync(e),e,t)};var a=n(33)},function(e,t,n){function o(e,t,n){if('function'==typeof t&&(n=t,t={}),!n){if('function'!=typeof Promise)throw new TypeError('callback not provided');return new Promise(function(n,r){o(e,t||{},function(e,t){e?r(e):n(t)})})}a(e,t||{},function(e,o){e&&('EACCES'===e.code||t&&t.ignoreErrors)&&(e=null,o=!1),n(e,o)})}function r(e,t){try{return a.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||'EACCES'===e.code)return!1;throw e}}var i=n(33),a;a=n(764),e.exports=o,o.sync=r},function(e,t,n){function o(e){var t=new Error('not found: '+e);return t.code='ENOENT',t}function r(e,t){var n=t.colon||s,o=t.path||process.env.PATH||'',r=[''];o=o.split(n);var i='';return o.unshift(process.cwd()),i=t.pathExt||process.env.PATHEXT||'.EXE;.CMD;.BAT;.COM',r=i.split(n),-1!==e.indexOf('.')&&''!==r[0]&&r.unshift(''),(e.match(/\//)||e.match(/\\/))&&(o=['']),{env:o,ext:r,extExe:i}}function i(e,t,n){'function'==typeof t&&(n=t,t={});var i=r(e,t),s=i.env,c=i.ext,u=i.extExe,m=[];(function r(h,i){if(h===i)return t.all&&m.length?n(null,m):n(o(e));var l=s[h];'"'===l.charAt(0)&&'"'===l.slice(-1)&&(l=l.slice(1,-1));var f=a.join(l,e);!l&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f);(function e(o,a){if(o===a)return r(h+1,i);var s=c[o];d(f+s,{pathExt:u},function(r,i){if(!r&&i)if(t.all)m.push(f+s);else return n(null,f+s);return e(o+1,a)})})(0,c.length)})(0,s.length)}e.exports=i,i.sync=function(e,t){t=t||{};for(var n=r(e,t),s=n.env,c=n.ext,u=n.extExe,m=[],h=0,i=s.length,l;h<i;h++){l=s[h],'"'===l.charAt(0)&&'"'===l.slice(-1)&&(l=l.slice(1,-1));var f=a.join(l,e);!l&&/^\.[\\\/]/.test(e)&&(f=e.slice(0,2)+f);for(var p=0,g=c.length;p<g;p++){var y=f+c[p],S;try{if(S=d.sync(y,{pathExt:u}),S)if(t.all)m.push(y);else return y}catch(e){}}}if(t.all&&m.length)return m;if(t.nothrow)return null;throw o(e)};var a=n(1),s=';',d=n(765)},function(e,t,n){'use strict';var o=n(1),r=n(766),i=n(298),a=new i({max:50,maxAge:30000}),s=new RegExp(/[\/\\]/);e.exports=function(e,t){var n;if(s.test(e)&&(e=o.resolve(e)),t=!!t,n=a.get(e+'!'+t),a.has(e))return a.get(e);try{n=t?r.sync(e,{pathExt:o.delimiter+(process.env.PATHEXT||'')}):r.sync(e)}catch(t){}return a.set(e+'!'+t,n),n}},function(e,t,n){'use strict';var o=n(297);o.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}},function(e){function t(e){if(!(this instanceof t))throw new TypeError('Constructor PseudoMap requires \'new\'');if(this.clear(),e)if(e instanceof t||'function'==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else if(Array.isArray(e))e.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError('invalid argument')}function n(e,t){return e===t||e!==e&&t!==t}function o(e,t,n){this.key=e,this.value=t,this._index=n}function r(e,t){for(var o=0,r='_'+t,i=r;a.call(e,i);i=r+o++)if(n(e[i].key,t))return e[i]}function i(e,t,r){for(var d=0,i='_'+t,s=i;a.call(e,s);s=i+d++)if(n(e[s].key,t))return void(e[s].value=r);e.size++,e[s]=new o(t,r,s)}var a=Object.prototype.hasOwnProperty;e.exports=t,t.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(n){'size'!==n&&e.call(t,this._data[n].value,this._data[n].key)},this)},t.prototype.has=function(e){return!!r(this._data,e)},t.prototype.get=function(e){var t=r(this._data,e);return t&&t.value},t.prototype.set=function(e,t){i(this._data,e,t)},t.prototype.delete=function(e){var t=r(this._data,e);t&&(delete this._data[t._index],this._data.size--)},t.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,'_data',{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(t.prototype,'size',{get:function(){return this._data.size},set:function(){},enumerable:!0,configurable:!0}),t.prototype.values=t.prototype.keys=t.prototype.entries=function(){throw new Error('iterators are not implemented in this version')}},function(e,t,n){'pseudomap'===process.env.npm_package_name&&'test'===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP='true'),e.exports='function'!=typeof Map||process.env.TEST_PSEUDOMAP?n(769):Map},function(e,t,n){'use strict';function o(e){var t,n,o,r;if(l.has(e))return l.get(e);t=new Buffer(150);try{n=a.openSync(e,'r'),a.readSync(n,t,0,150,0),a.closeSync(n)}catch(t){}return o=t.toString().trim().match(/#!(.+)/i),o&&(r=o[1].replace(/\/usr\/bin\/env\s+/i,'')),l.set(e,r),r}function r(e,t){return e=''+e,t?(e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,'$1$1'),e='"'+e+'"'):e=e.replace(/([\(\)%!\^<>&|;,"'\s])/g,'^$1'),e}function i(e){return /^[a-z0-9_-]+$/i.test(e)?e:r(e,!0)}var a=n(33),s=n(298),d=n(767),l=new s({max:50,maxAge:30000});e.exports=function(e,t,n){var a,s,l,c;return t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=n||{},c=e,l=d(e),l=l||d(e,!0),a=l&&o(l),a&&(t.unshift(l),e=a),s='echo'!==e,e=i(e),t=t.map(function(e){return r(e,s)}),t=['/s','/c','"'+e+(t.length?' '+t.join(' '):'')+'"'],e=process.env.comspec||'cmd.exe',n.windowsVerbatimArguments=!0,{command:e,args:t,options:n,file:l,original:c}}},function(e,t,n){'use strict';function o(e,t,n){var o,s;return o=i(e,t,n),s=r.spawn(o.command,o.args,o.options),a.hookChildProcess(s,o),s}var r=n(48),i=n(771),a=n(763);e.exports=o,e.exports.spawn=o,e.exports._parse=i,e.exports._enoent=a},function(e,t,n){'use strict';function o(){const e=process.env;return e.SUDO_USER||e.C9_USER||e.LOGNAME||e.USER||e.LNAME||e.USERNAME}function r(e){return e.replace(/^.*\\/,'')}function i(){}const a=n(63),s=n(299),d=n(295);e.exports=d(()=>{if(a.userInfo)return Promise.resolve(a.userInfo().username);const e=o();return e?Promise.resolve(e):s('whoami').then((e)=>r(e.stdout)).catch(i)}),e.exports.sync=d(()=>{if(a.userInfo)return a.userInfo().username;const e=o();if(e)return e;try{return r(s.sync('whoami').stdout)}catch(e){}})},function(e,t,n){'use strict';function o(e,t){return r.getBoolean(`features/${e}`,t)}Object.defineProperty(t,'__esModule',{value:!0});const r=n(56);t.shouldRenderApplicationMenu=function(e,t,n){const r=()=>o(e,t);if(n){const e=r();return()=>e}return r}('should-render-application-menu',!0,!0)},function(e,t,n){'use strict';function o(e){const t=e.trim(),n=l.exec(t);if(null===n)return log.debug(`[ReleaseNotes] unable to convert text into entry: ${e}`),null;const o=n[1].toLowerCase(),r=n[2];return'new'===o||'fixed'===o||'improved'===o||'added'===o||'pretext'===o||'removed'===o?{kind:o,message:r}:(log.debug(`[ReleaseNotes] kind ${o} was found but is not a valid entry`),{kind:'other',message:r})}function r(e){return null!==e&&e!==void 0}function i(e){return e.map((e)=>o(e)).filter(r)}function a(e){const t=i(e.notes),n=t.filter((t)=>'new'===t.kind||'added'===t.kind||'improved'===t.kind),o=t.filter((t)=>'fixed'===t.kind),r=t.filter((t)=>'removed'===t.kind||'other'===t.kind),a=d(e.pub_date).format('MMMM Do YYYY');return{latestVersion:e.version,datePublished:a,pretext:void 0,enhancements:n,bugfixes:o,other:r}}async function s(){const e='',t=await fetch(`${'https://central.github.com/deployments/desktop/desktop/changelog.json'}${e}`);if(t.ok){const e=await t.json();return e}return[]}Object.defineProperty(t,'__esModule',{value:!0});const d=n(57),l=/^\[([a-z]{1,})\]\s(.*)/i;t.parseReleaseEntries=i,t.getReleaseSummary=a,t.generateReleaseSummary=async function(){const e=await s(),t=e[0];return a(t)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const n=/^Can not find Squirrel$/,o=/System\.Net\.WebException: The remote name could not be resolved: 'central\.github\.com'/,r=/A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond/;t.parseError=function(e){return n.test(e.message)?new Error('The application is missing a dependency it needs to check and install updates. This is very, very bad.'):o.test(e.message)?new Error('GitHub Desktop was not able to contact the update server. Ensure you have internet connectivity and try again.'):r.test(e.message)?new Error('GitHub Desktop was not able to check for updates due to a timeout. Ensure you have internet connectivity and try again.'):null}},function(e,t,n){(function(){var t,o,r;o=null,e.exports=t=function(){function e(){var e,t,n;for(this.disposables=new Set,t=0,n=arguments.length;t<n;t++)e=arguments[t],this.add(e)}return e.prototype.disposed=!1,e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposables.forEach(function(e){return e.dispose()}),this.disposables=null)},e.prototype.add=function(){var e,t,n;if(!this.disposed)for(t=0,n=arguments.length;t<n;t+=1)e=arguments[t],r(e),this.disposables.add(e)},e.prototype.remove=function(e){this.disposed||this.disposables['delete'](e)},e.prototype['delete']=function(e){this.remove(e)},e.prototype.clear=function(){this.disposed||this.disposables.clear()},e}(),r=function(e){if(null==o&&(o=n(180)),!o.isDisposable(e))throw new TypeError('Arguments to CompositeDisposable.add must have a .dispose() method')}}).call(this)},function(e,t,n){(function(){var t,o;t=n(180),e.exports=o=function(){function e(){this.clear()}return e.exceptionHandlers=[],e.onEventHandlerException=function(e){return 0===this.exceptionHandlers.length&&(this.dispatch=this.exceptionHandlingDispatch),this.exceptionHandlers.push(e),new t(function(t){return function(){if(t.exceptionHandlers.splice(t.exceptionHandlers.indexOf(e),1),0===t.exceptionHandlers.length)return t.dispatch=t.simpleDispatch}}(this))},e.simpleDispatch=function(e,t){return e(t)},e.exceptionHandlingDispatch=function(e,t){var n,o,r,i,a,s;try{return e(t)}catch(e){for(n=e,a=this.exceptionHandlers,s=[],(r=0,i=a.length);r<i;r++)o=a[r],s.push(o(n));return s}},e.dispatch=e.simpleDispatch,e.prototype.disposed=!1,e.prototype.clear=function(){return this.handlersByEventName={}},e.prototype.dispose=function(){return this.handlersByEventName=null,this.disposed=!0},e.prototype.on=function(e,n,o){var r;if(null==o&&(o=!1),this.disposed)throw new Error('Emitter has been disposed');if('function'!=typeof n)throw new Error('Handler must be a function');return this.handlersByEventName[e]=(r=this.handlersByEventName[e])?o?[n].concat(r):r.concat(n):[n],new t(this.off.bind(this,e,n))},e.prototype.once=function(e,t,n){var o,r;return null==n&&(n=!1),r=function(e){return o.dispose(),t(e)},o=this.on(e,r,n)},e.prototype.preempt=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){var n,o,r,i,a;if(!this.disposed&&(r=this.handlersByEventName[e])){for(o=[],i=0,a=r.length;i<a;i++)n=r[i],n!==t&&o.push(n);0<o.length?this.handlersByEventName[e]=o:delete this.handlersByEventName[e]}},e.prototype.emit=function(e,t){var n,o,r,i,a;if(o=null==(a=this.handlersByEventName)?void 0:a[e])for(r=0,i=o.length;r<i;r++)n=o[r],this.constructor.dispatch(n,t)},e.prototype.emitAsync=function(e,t){var n,o,r,i;return(o=null==(i=this.handlersByEventName)?void 0:i[e])?(r=function(){var e,r,i;for(i=[],e=0,r=o.length;e<r;e++)n=o[e],i.push(this.constructor.dispatch(n,t));return i}.call(this),Promise.all(r).then(function(){})):Promise.resolve()},e.prototype.getEventNames=function(){return Object.keys(this.handlersByEventName)},e.prototype.listenerCountForEventName=function(e){var t,n;return null==(t=null==(n=this.handlersByEventName[e])?void 0:n.length)?0:t},e.prototype.getTotalListenerCount=function(){var e,t,n,o,r;for(t=0,r=Object.keys(this.handlersByEventName),(n=0,o=r.length);n<o;n++)e=r[n],t+=this.handlersByEventName[e].length;return t},e}()}).call(this)},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(' '+e.className+' ').indexOf(' '+t+' ')},e.exports=t['default']},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(t,n){return E.length?E.forEach(function(o){return t.addEventListener(o,n,!1)}):setTimeout(n,0),function(){E.length&&E.forEach(function(o){return t.removeEventListener(o,n,!1)})}}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l=n(306),c=o(l),p=n(305),u=o(p),m=n(182),h=o(m),f=n(304),g=n(0),y=o(g),S=n(15),C=o(S),b=n(43),v=n(303),E=[];f.transitionEnd&&E.push(f.transitionEnd),f.animationEnd&&E.push(f.animationEnd);var w={children:C.default.node,name:v.nameShape.isRequired,appear:C.default.bool,enter:C.default.bool,leave:C.default.bool,appearTimeout:C.default.number,enterTimeout:C.default.number,leaveTimeout:C.default.number},k=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,d=Array(s),l=0;l<s;l++)d[l]=arguments[l];return a=(n=(o=i(this,e.call.apply(e,[this].concat(d))),o),o.componentWillAppear=function(e){o.props.appear?o.transition('appear',e,o.props.appearTimeout):e()},o.componentWillEnter=function(e){o.props.enter?o.transition('enter',e,o.props.enterTimeout):e()},o.componentWillLeave=function(e){o.props.leave?o.transition('leave',e,o.props.leaveTimeout):e()},n),i(o,a)}return a(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var o=(0,b.findDOMNode)(this);if(!o)return void(t&&t());var r=this.props.name[e]||this.props.name+'-'+e,i=this.props.name[e+'Active']||r+'-active',a=null,d=void 0;(0,c.default)(o,r),this.queueClassAndNode(i,o);var l=function(n){n&&n.target!==o||(clearTimeout(a),d&&d(),(0,u.default)(o,r),(0,u.default)(o,i),d&&d(),t&&t())};n?(a=setTimeout(l,n),this.transitionTimeouts.push(a)):f.transitionEnd&&(d=s(o,l))},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,h.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,c.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=d({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,y.default.cloneElement(y.default.Children.only(this.props.children),e)},t}(y.default.Component);k.displayName='CSSTransitionGroupChild',k.propTypes={},t.default=k,e.exports=t['default']},function(e,t,n){'use strict';t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return o.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var o={},r=[];for(var a in e)t.hasOwnProperty(a)?r.length&&(o[a]=r,r=[]):r.push(a);var s=void 0,i={};for(var d in t){if(o.hasOwnProperty(d))for(s=0;s<o[d].length;s++){var l=o[d][s];i[o[d][s]]=n(l)}i[d]=n(d)}for(s=0;s<r.length;s++)i[r[s]]=n(r[s]);return i};var o=n(0)},function(e){'use strict';e.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},function(e){'use strict';var t=function(){};!1,e.exports=function(n,o,r,i,a,s,d,e){if(t(o),!n){var l;if(void 0===o)l=new Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var c=[r,i,a,s,d,e],p=0;l=new Error(o.replace(/%s/g,function(){return c[p++]})),l.name='Invariant Violation'}throw l.framesToPop=1,l}}},function(e){'use strict';function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){'use strict';var o=n(784),r=n(783),i=n(782);e.exports=function(){function e(e,t,n,o,a,s){s===i||r(!1,'Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types')}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},d=n(0),l=o(d),c=n(15),p=o(c),u=n(309),m=o(u),h=n(780),f=o(h),g=n(303),y={transitionName:g.nameShape.isRequired,transitionAppear:p.default.bool,transitionEnter:p.default.bool,transitionLeave:p.default.bool,transitionAppearTimeout:(0,g.transitionTimeout)('Appear'),transitionEnterTimeout:(0,g.transitionTimeout)('Enter'),transitionLeaveTimeout:(0,g.transitionTimeout)('Leave')},S=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,d=Array(s),c=0;c<s;c++)d[c]=arguments[c];return a=(n=(o=i(this,e.call.apply(e,[this].concat(d))),o),o._wrapChild=function(e){return l.default.createElement(f.default,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},n),i(o,a)}return a(t,e),t.prototype.render=function(){return l.default.createElement(m.default,s({},this.props,{childFactory:this._wrapChild}))},t}(l.default.Component);S.displayName='CSSTransitionGroup',S.propTypes={},S.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=S,e.exports=t['default']},function(o,i){'use strict';/** @license React v0.13.4
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function s(){if(!l){var e=u.expirationTime;f?r():f=!0,z(c,e)}}function a(){var e=u,t=u.next;if(u===t)u=null;else{var n=u.previous;u=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=v,r=E;v=e,E=t;try{var i=n()}finally{v=o,E=r}if('function'==typeof i)if(i={callback:i,priorityLevel:e,expirationTime:t,next:null,previous:null},null===u)u=i.next=i.previous=i;else{n=null,e=u;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==u);null===n?n=u:n===u&&(u=i,s()),t=n.previous,t.next=n.previous=i,i.next=n,i.previous=t}}function p(){if(-1===h&&null!==u&&1===u.priorityLevel){l=!0;try{do a();while(null!==u&&1===u.priorityLevel)}finally{l=!1,null===u?f=!1:s()}}}function c(e){l=!0;var t=d;d=e;try{if(e)for(;null!==u;){var n=i.unstable_now();if(u.expirationTime<=n)do a();while(null!==u&&u.expirationTime<=n);else break}else if(null!==u)do a();while(null!==u&&!W())}finally{l=!1,d=t,null===u?f=!1:s(),p()}}function t(e){x=k(function(t){y(C),e(t)}),C=b(function(){_(x),e(i.unstable_now())},100)}Object.defineProperty(i,'__esModule',{value:!0});var u=null,d=!1,v=3,h=-1,E=-1,l=!1,f=!1,n=Date,b='function'==typeof setTimeout?setTimeout:void 0,y='function'==typeof clearTimeout?clearTimeout:void 0,k='function'==typeof requestAnimationFrame?requestAnimationFrame:void 0,_='function'==typeof cancelAnimationFrame?cancelAnimationFrame:void 0,x,C;if('object'==typeof performance&&'function'==typeof performance.now){var D=performance;i.unstable_now=function(){return D.now()}}else i.unstable_now=function(){return n.now()};var F=null,z,r,W;if('undefined'==typeof window?'undefined'!=typeof global&&(F=global):F=window,F&&F._schedMock){var w=F._schedMock;z=w[0],r=w[1],W=w[2],i.unstable_now=w[3]}else if('undefined'==typeof window||'function'!=typeof MessageChannel){var H=null,I=function(e){if(null!==H)try{H(e)}finally{H=null}};z=function(e){null===H?(H=e,setTimeout(I,0,!1)):setTimeout(z,0,e)},r=function(){H=null},W=function(){return!1}}else{'undefined'!=typeof console&&('function'!=typeof k&&console.error('This browser doesn\'t support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills'),'function'!=typeof _&&console.error('This browser doesn\'t support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills'));var G=null,K=!1,L=-1,M=!1,N=!1,O=0,P=33,R=33;W=function(){return O<=i.unstable_now()};var S=new MessageChannel,T=S.port2;S.port1.onmessage=function(){K=!1;var e=G,n=L;G=null,L=-1;var o=i.unstable_now(),r=!1;if(0>=O-o)if(-1!=n&&n<=o)r=!0;else return M||(M=!0,t(U)),G=e,void(L=n);if(null!=e){N=!0;try{e(r)}finally{N=!1}}};var U=function(e){if(null!==G){t(U);var n=e-O+R;n<R&&P<R?(8>n&&(n=8),R=n<P?P:n):P=n,O=e+R,K||(K=!0,T.postMessage(void 0))}else M=!1};z=function(e,n){G=e,L=n,N||0>n?T.postMessage(void 0):M||(M=!0,t(U))},r=function(){G=null,K=!1,L=-1}}i.unstable_ImmediatePriority=1,i.unstable_UserBlockingPriority=2,i.unstable_NormalPriority=3,i.unstable_IdlePriority=5,i.unstable_LowPriority=4,i.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3;}var n=v,o=h;v=e,h=i.unstable_now();try{return t()}finally{v=n,h=o,p()}},i.unstable_next=function(e){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v;}var n=v,o=h;v=t,h=i.unstable_now();try{return e()}finally{v=n,h=o,p()}},i.unstable_scheduleCallback=function(e,t){var n=-1===h?i.unstable_now():h;if(t='object'==typeof t&&null!==t&&'number'==typeof t.timeout?n+t.timeout:1===v?n+-1:2===v?n+250:5===v?n+1073741823:4===v?n+1E4:n+5E3,e={callback:e,priorityLevel:v,expirationTime:t,next:null,previous:null},null===u)u=e.next=e.previous=e,s();else{n=null;var o=u;do{if(o.expirationTime>t){n=o;break}o=o.next}while(o!==u);null===n?n=u:n==u&&(u=e,s()),t=n.previous,t.next=n.previous=e,e.next=n,e.previous=t}return e},i.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)u=null;else{e===u&&(u=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},i.unstable_wrapCallback=function(e){var t=v;return function(){var n=v,o=h;v=t,h=i.unstable_now();try{return e.apply(this,arguments)}finally{v=n,h=o,p()}}},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_shouldYield=function(){return!d&&(null!==u&&u.expirationTime<E||W())},i.unstable_continueExecution=function(){null!==u&&s()},i.unstable_pauseExecution=function(){},i.unstable_getFirstCallbackNode=function(){return u}},function(e,t,n){'use strict';e.exports=n(787)},function(e,t,o){'use strict';/** @license React v16.8.4
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function i(t,n,o,r,i,e,s,d){if(!t){if(t=void 0,void 0===n)t=Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var c=[o,r,i,e,s,d],l=0;t=Error(n.replace(/%s/g,function(){return c[l++]})),t.name='Invariant Violation'}throw t.framesToPop=1,t}}function s(e){for(var t=arguments.length-1,n='https://reactjs.org/docs/error-decoder.html?invariant='+e,o=0;o<t;o++)n+='&args[]='+encodeURIComponent(arguments[o+1]);i(!1,'Minified React error #'+e+'; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ',n)}function a(e,t,n){var o=Array.prototype.slice.call(arguments,3);try{t.apply(n,o)}catch(e){this.onError(e)}}function d(){r=!1,jr=null,a.apply(Xr,arguments)}function l(){if(d.apply(this,arguments),r){if(r){var e=jr;r=!1,jr=null}else s('198'),e=void 0;qr||(qr=!0,Yr=e)}}function p(){if(Qr)for(var t in $r){var n=$r[t],o=Qr.indexOf(t);if(-1<o?void 0:s('96',t),!Zr[o])for(var r in n.extractEvents?void 0:s('97',t),Zr[o]=n,o=n.eventTypes,o){var i=void 0,e=o[r],a=n,d=r;Jr.hasOwnProperty(d)?s('99',d):void 0,Jr[d]=e;var c=e.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&u(c[i],a,d);i=!0}else e.registrationName?(u(e.registrationName,a,d),i=!0):i=!1;i?void 0:s('98',r,t)}}}function u(e,t,n){ei[e]?s('100',e):void 0,ei[e]=t,ai[e]=t.eventTypes[n].dependencies}function m(e,t,n){var o=e.type||'unknown-event';e.currentTarget=hi(n),l(o,t,void 0,e),e.currentTarget=null}function v(e,t){return null==t?s('30'):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function c(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function h(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var o=0;o<t.length&&!e.isPropagationStopped();o++)m(e,t[o],n[o]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function f(e,t){var n=e.stateNode;if(!n)return null;var o=di(n);if(!o)return null;n=o[t];a:'onClick'===t||'onClickCapture'===t||'onDoubleClick'===t||'onDoubleClickCapture'===t||'onMouseDown'===t||'onMouseDownCapture'===t||'onMouseMove'===t||'onMouseMoveCapture'===t||'onMouseUp'===t||'onMouseUpCapture'===t?((o=!o.disabled)||(e=e.type,o='button'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e),e=!o):e=!1;return e?null:(n&&'function'!=typeof n?s('231',t,typeof n):void 0,n)}function w(e){if(null!==e&&(fi=v(fi,e)),e=fi,fi=null,e&&(c(e,h),fi?s('95'):void 0,qr))throw e=Yr,qr=!1,Yr=null,e}function _(e){if(e[Ci])return e[Ci];for(;!e[Ci];)if(e.parentNode)e=e.parentNode;else return null;return e=e[Ci],5===e.tag||6===e.tag?e:null}function g(e){return e=e[Ci],e&&(5===e.tag||6===e.tag)?e:null}function R(e){return 5===e.tag||6===e.tag?e.stateNode:void s('33')}function b(e){return e[bi]||null}function x(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function k(e,t,n){(t=f(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function A(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=x(t);for(t=n.length;0<t--;)k(n[t],'captured',e);for(t=0;t<n.length;t++)k(n[t],'bubbled',e)}}function B(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=f(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function j(e){e&&e.dispatchConfig.registrationName&&B(e._targetInst,null,e)}function q(e){c(e,A)}function $(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n['Webkit'+e]='webkit'+t,n['Moz'+e]='moz'+t,n}function _e(e){if(Ri[e])return Ri[e];if(!_i[e])return e;var t=_i[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xi)return Ri[e]=t[n];return e}function et(){if(Ni)return Ni;var t=Bi,n=t.length,o='value'in Fi?Fi.value:Fi.textContent,e=o.length,r,i;for(r=0;r<n&&t[r]===o[r];r++);var a=n-r;for(i=1;i<=a&&t[n-i]===o[e-i];i++);return Ni=o.slice(r,1<i?1-i:void 0)}function tt(){return!0}function nt(){return!1}function ot(t,n,o,r){for(var i in this.dispatchConfig=t,this._targetInst=n,this.nativeEvent=o,t=this.constructor.Interface,t)t.hasOwnProperty(i)&&((n=t[i])?this[i]=n(o):'target'===i?this.target=r:this[i]=o[i]);return this.isDefaultPrevented=(null==o.defaultPrevented?!1===o.returnValue:o.defaultPrevented)?tt:nt,this.isPropagationStopped=nt,this}function y(t,n,o,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,n,o,r),i}return new this(t,n,o,r)}function rt(e){e instanceof this?void 0:s('279'),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function it(e){e.eventPool=[],e.getPooled=y,e.release=rt}function at(e,t){return'keyup'===e?-1!==zi.indexOf(t.keyCode):'keydown'===e?229!==t.keyCode:!('keypress'!=e&&'mousedown'!=e&&'blur'!=e)}function st(e){return e=e.detail,'object'==typeof e&&'data'in e?e.data:null}function dt(e,t){return'compositionend'===e?st(t):'keypress'===e?32===t.which?(Ji=!0,$i):null:'textInput'===e?(e=t.data,e===$i&&Ji?null:e):null}function lt(e,t){if(ea)return'compositionend'===e||!Ui&&at(e,t)?(e=et(),Ni=Bi=Fi=null,ea=!1,e):null;switch(e){case'paste':return null;case'keypress':if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return Wr(t.which)}return null;case'compositionend':return Qi&&'ko'!==t.locale?null:t.data;default:return null;}}function ct(e){if(e=ci(e)){'function'==typeof ta?void 0:s('280');var t=di(e.stateNode);ta(e.stateNode,e.type,t)}}function pt(e){na?oa?oa.push(e):oa=[e]:na=e}function ut(){if(na){var e=na,t=oa;if(oa=na=null,ct(e),t)for(e=0;e<t.length;e++)ct(t[e])}}function mt(e,t){return e(t)}function ht(e,t,n){return e(t,n)}function ft(){}function gt(e,t){if(ra)return e(t);ra=!0;try{return mt(e,t)}finally{(ra=!1,null!==na||null!==oa)&&(ft(),ut())}}function yt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return'input'===t?!!ia[e.type]:!('textarea'!==t)}function St(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ct(e){if(!ki)return!1;e='on'+e;var t=e in document;return t||(t=document.createElement('div'),t.setAttribute(e,'return;'),t='function'==typeof t[e]),t}function bt(e){var t=e.type;return(e=e.nodeName)&&'input'===e.toLowerCase()&&('checkbox'===t||'radio'===t)}function vt(t){var n=bt(t)?'checked':'value',o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),r=''+t[n];if(!t.hasOwnProperty(n)&&'undefined'!=typeof o&&'function'==typeof o.get&&'function'==typeof o.set){var i=o.get,e=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=''+t,e.call(this,t)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(e){r=''+e},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Et(e){e._valueTracker||(e._valueTracker=vt(e))}function wt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o='';return e&&(o=bt(e)?e.checked?'true':'false':e.value),e=o,e!==n&&(t.setValue(e),!0)}function kt(e){return null===e||'object'!=typeof e?null:(e=ba&&e[ba]||e['@@iterator'],'function'==typeof e?e:null)}function Tt(e){if(null==e)return null;if('function'==typeof e)return e.displayName||e.name||null;if('string'==typeof e)return e;switch(e){case fa:return'ConcurrentMode';case ca:return'Fragment';case la:return'Portal';case ua:return'Profiler';case pa:return'StrictMode';case ya:return'Suspense';}if('object'==typeof e)switch(e.$$typeof){case ha:return'Context.Consumer';case ma:return'Context.Provider';case ga:var t=e.render;return t=t.displayName||t.name||'',e.displayName||(''===t?'ForwardRef':'ForwardRef('+t+')');case Sa:return Tt(e.type);case Ca:if(e=1===e._status?e._result:null)return Tt(e);}return null}function _t(t){var n='';do{a:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var o='';break a;default:var r=t._debugOwner,i=t._debugSource,e=Tt(t.type);o=null,r&&(o=Tt(r.type)),r=e,e='',i?e=' (at '+i.fileName.replace(sa,'')+':'+i.lineNumber+')':o&&(e=' (created by '+o+')'),o='\n    in '+(r||'Unknown')+e;}n+=o,t=t.return}while(t);return n}function Rt(e){return!!Ea.call(ka,e)||!Ea.call(wa,e)&&(va.test(e)?ka[e]=!0:(wa[e]=!0,!1))}function xt(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case'function':case'symbol':return!0;case'boolean':return!o&&(null===n?(e=e.toLowerCase().slice(0,5),'data-'!==e&&'aria-'!==e):!n.acceptsBooleans);default:return!1;}}function Pt(e,t,n,o){if(null===t||'undefined'==typeof t||xt(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t;}return!1}function Dt(t,n,o,r,i){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=o,this.propertyName=t,this.type=n}function C(e){return e[1].toUpperCase()}function Mt(t,n,o,r){var i=Ta.hasOwnProperty(n)?Ta[n]:null,e=null===i?!r&&!!(2<n.length&&('o'===n[0]||'O'===n[0])&&('n'===n[1]||'N'===n[1])):0===i.type;e||(Pt(n,o,i,r)&&(o=null),r||null===i?Rt(n)&&(null===o?t.removeAttribute(n):t.setAttribute(n,''+o)):i.mustUseProperty?t[i.propertyName]=null===o?3!==i.type&&'':o:(n=i.attributeName,r=i.attributeNamespace,null===o?t.removeAttribute(n):(i=i.type,o=3===i||4===i&&!0===o?'':''+o,r?t.setAttributeNS(r,n,o):t.setAttribute(n,o))))}function At(e){switch(typeof e){case'boolean':case'number':case'object':case'string':case'undefined':return e;default:return'';}}function It(e,t){var n=t.checked;return Kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null==n?e._wrapperState.initialChecked:n})}function Lt(e,t){var n=null==t.defaultValue?'':t.defaultValue,o=null==t.checked?t.defaultChecked:t.checked;n=At(null==t.value?n:t.value),e._wrapperState={initialChecked:o,initialValue:n,controlled:'checkbox'===t.type||'radio'===t.type?null!=t.checked:null!=t.value}}function Ft(e,t){t=t.checked,null!=t&&Mt(e,'checked',t,!1)}function Bt(e,t){Ft(e,t);var n=At(t.value),o=t.type;if(null!=n)'number'===o?(0===n&&''===e.value||e.value!=n)&&(e.value=''+n):e.value!==''+n&&(e.value=''+n);else if('submit'===o||'reset'===o)return void e.removeAttribute('value');t.hasOwnProperty('value')?Ot(e,t.type,n):t.hasOwnProperty('defaultValue')&&Ot(e,t.type,At(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Nt(e,t,n){if(t.hasOwnProperty('value')||t.hasOwnProperty('defaultValue')){var o=t.type;if(('submit'===o||'reset'===o)&&(void 0===t.value||null===t.value))return;t=''+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,''!==n&&(e.name=''),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,''!==n&&(e.name=n)}function Ot(e,t,n){('number'!==t||e.ownerDocument.activeElement!==e)&&(null==n?e.defaultValue=''+e._wrapperState.initialValue:e.defaultValue!==''+n&&(e.defaultValue=''+n))}function Ht(e,t,n){return e=ot.getPooled(_a.change,e,t,n),e.type='change',pt(n),q(e),e}function zt(e){w(e)}function Ut(e){var t=R(e);if(wt(t))return e}function Wt(e,t){if('change'===e)return t}function Vt(){xa&&(xa.detachEvent('onpropertychange',Gt),Pa=xa=null)}function Gt(e){'value'===e.propertyName&&Ut(Pa)&&(e=Ht(Pa,e,St(e)),gt(zt,e))}function Kt(e,t,n){'focus'===e?(Vt(),xa=t,Pa=n,xa.attachEvent('onpropertychange',Gt)):'blur'==e&&Vt()}function jt(e){if('selectionchange'===e||'keyup'===e||'keydown'===e)return Ut(Pa)}function qt(e,t){if('click'===e)return Ut(t)}function Yt(e,t){if('input'===e||'change'===e)return Ut(t)}function Xt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ia[e])&&!!t[e]}function Qt(){return Xt}function $t(e,t){return e===t&&(0!==e||1/e==1/t)||e!==e&&t!==t}function Zt(e,t){if($t(e,t))return!0;if('object'!=typeof e||null===e||'object'!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++)if(!Wa.call(t,n[o])||!$t(e[n[o]],t[n[o]]))return!1;return!0}function Jt(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function en(e){2===Jt(e)?void 0:s('188')}function tn(t){var n=t.alternate;if(!n)return n=Jt(t),3===n?s('188'):void 0,1===n?null:t;for(var o=t,r=n;;){var i=o.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var d=i.child;d;){if(d===o)return en(i),t;if(d===r)return en(i),n;d=d.sibling}s('188')}if(o.return!==r.return)o=i,r=a;else{d=!1;for(var l=i.child;l;){if(l===o){d=!0,o=i,r=a;break}if(l===r){d=!0,r=i,o=a;break}l=l.sibling}if(!d){for(l=a.child;l;){if(l===o){d=!0,o=a,r=i;break}if(l===r){d=!0,r=a,o=i;break}l=l.sibling}d?void 0:s('189')}}o.alternate===r?void 0:s('190')}return 3===o.tag?void 0:s('188'),o.stateNode.current===o?t:n}function nn(e){if(e=tn(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function on(e){var t=e.keyCode;return'charCode'in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(e,t){var n=e[0];e=e[1];var o='on'+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:o,captured:o+'Capture'},dependencies:[n],isInteractive:t},Ja[e]=t,es[n]=t}function an(t){var n=t.targetInst,o=n;do{if(!o){t.ancestors.push(o);break}var r;for(r=o;r.return;)r=r.return;if(r=3===r.tag?r.stateNode.containerInfo:null,!r)break;t.ancestors.push(o),o=_(r)}while(o);for(o=0;o<t.ancestors.length;o++){n=t.ancestors[o];var i=St(t.nativeEvent);r=t.topLevelType;for(var e=t.nativeEvent,a=null,s=0,p;s<Zr.length;s++)p=Zr[s],p&&(p=p.extractEvents(r,n,e,i))&&(a=v(a,p));w(a)}}function sn(e,t){if(!t)return null;var n=(ns(e)?dn:ln).bind(null,e);t.addEventListener(e,n,!1)}function E(e,t){if(!t)return null;var n=(ns(e)?dn:ln).bind(null,e);t.addEventListener(e,n,!0)}function dn(e,t){ht(ln,e,t)}function ln(e,t){if(rs){var n=St(t);if(n=_(n),null===n||'number'!=typeof n.tag||2===Jt(n)||(n=null),os.length){var o=os.pop();o.topLevelType=e,o.nativeEvent=t,o.targetInst=n,e=o}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{gt(an,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>os.length&&os.push(e)}}}function cn(e){return Object.prototype.hasOwnProperty.call(e,ss)||(e[ss]=as++,is[e[ss]]={}),is[e[ss]]}function pn(e){if(e=e||('undefined'==typeof document?void 0:document),'undefined'==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mn(e,t){var n=un(e);e=0;for(var o;n;){if(3===n.nodeType){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=un(n)}}function hn(e,t){return!!(e&&t)&&(!(e!==t)||!(e&&3===e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):'contains'in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=pn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=pn(e.document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&('input'===t&&('text'===e.type||'search'===e.type||'tel'===e.type||'url'===e.type||'password'===e.type)||'textarea'===t||'true'===e.contentEditable)}function yn(){var n=fn();if(gn(n)){if('selectionStart'in n)var o={start:n.selectionStart,end:n.selectionEnd};else a:{o=(o=n.ownerDocument)&&o.defaultView||window;var r=o.getSelection&&o.getSelection();if(r&&0!==r.rangeCount){o=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{o.nodeType,s.nodeType}catch(e){o=null;break a}var e=0,d=-1,c=-1,u=0,l=0,f=n,m=null;b:for(;;){for(var p;;){if(f!==o||0!==i&&3!==f.nodeType||(d=e+i),f!==s||0!==r&&3!==f.nodeType||(c=e+r),3===f.nodeType&&(e+=f.nodeValue.length),null===(p=f.firstChild))break;m=f,f=p}for(;;){if(f===n)break b;if(m===o&&++u===i&&(d=e),m===s&&++l===r&&(c=e),null!==(p=f.nextSibling))break;f=m,m=f.parentNode}f=p}o=-1===d||-1===c?null:{start:d,end:c}}else o=null}o=o||{start:0,end:0}}else o=null;return{focusedElem:n,selectionRange:o}}function Sn(t){var n=fn(),o=t.focusedElem,r=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&hn(o.ownerDocument.documentElement,o)){if(null!==r&&gn(o))if(n=r.start,t=r.end,void 0===t&&(t=n),'selectionStart'in o)o.selectionStart=n,o.selectionEnd=Vr(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var i=o.textContent.length,e=Vr(r.start,i);r=void 0===r.end?e:Vr(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=mn(o,e);var s=mn(o,r);i&&s&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(n=n.createRange(),n.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(n),t.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),t.addRange(n)))}for(n=[],t=o;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for('function'==typeof o.focus&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}function Cn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ms||null==cs||cs!==pn(n)?null:(n=cs,'selectionStart'in n&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),us&&Zt(us,n)?null:(us=n,e=ot.getPooled(ls.select,ps,e,t),e.type='select',e.target=cs,q(e),e))}function bn(e){var t='';return Gr.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function vn(e,t){return e=Kr({children:void 0},t),(t=bn(t.children))&&(e.children=t),e}function En(t,n,o,r){if(t=t.options,n){n={};for(var i=0;i<o.length;i++)n['$'+o[i]]=!0;for(o=0;o<t.length;o++)i=n.hasOwnProperty('$'+t[o].value),t[o].selected!==i&&(t[o].selected=i),i&&r&&(t[o].defaultSelected=!0)}else{for(o=''+At(o),n=null,i=0;i<t.length;i++){if(t[i].value===o)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==n||t[i].disabled||(n=t[i])}null!==n&&(n.selected=!0)}}function ae(e,t){return null==t.dangerouslySetInnerHTML?void 0:s('91'),Kr({},t,{value:void 0,defaultValue:void 0,children:''+e._wrapperState.initialValue})}function be(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null==n?void 0:s('92'),Array.isArray(t)&&(1>=t.length?void 0:s('93'),t=t[0]),n=t),null==n&&(n='')),e._wrapperState={initialValue:At(n)}}function ce(e,t){var n=At(t.value),o=At(t.defaultValue);null!=n&&(n=''+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=''+o)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function ee(e){return'svg'===e?'http://www.w3.org/2000/svg':'math'===e?'http://www.w3.org/1998/Math/MathML':'http://www.w3.org/1999/xhtml'}function ge(e,t){return null==e||'http://www.w3.org/1999/xhtml'===e?ee(t):'http://www.w3.org/2000/svg'===e&&'foreignObject'===t?'http://www.w3.org/1999/xhtml':e}function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ke(e,t,n){return null==t||'boolean'==typeof t||''===t?'':n||'number'!=typeof t||0===t||je.hasOwnProperty(e)&&je[e]?(''+t).trim():t+'px'}function ne(t,n){for(var o in t=t.style,n)if(n.hasOwnProperty(o)){var r=0===o.indexOf('--'),i=ke(o,n[o],r);'float'===o&&(o='cssFloat'),r?t.setProperty(o,i):t[o]=i}}function oe(e,t){t&&(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?s('137',e,''):void 0),null!=t.dangerouslySetInnerHTML&&(null==t.children?void 0:s('60'),'object'==typeof t.dangerouslySetInnerHTML&&'__html'in t.dangerouslySetInnerHTML?void 0:s('61')),null!=t.style&&'object'!=typeof t.style?s('62',''):void 0)}function qe(e,t){if(-1===e.indexOf('-'))return'string'==typeof t.is;return'annotation-xml'!==e&&'color-profile'!==e&&'font-face'!==e&&'font-face-src'!==e&&'font-face-uri'!==e&&'font-face-format'!==e&&'font-face-name'!==e&&'missing-glyph'!==e}function re(t,n){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var o=cn(t);n=ai[n];for(var r=0,i;r<n.length;r++)if(i=n[r],!o.hasOwnProperty(i)||!o[i]){switch(i){case'scroll':E('scroll',t);break;case'focus':case'blur':E('focus',t),E('blur',t),o.blur=!0,o.focus=!0;break;case'cancel':case'close':Ct(i)&&E(i,t);break;case'invalid':case'submit':case'reset':break;default:-1===Li.indexOf(i)&&sn(i,t);}o[i]=!0}}function se(){}function te(e,t){return!('button'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e)&&!!t.autoFocus}function we(e,t){return'textarea'===e||'option'===e||'noscript'===e||'string'==typeof t.children||'number'==typeof t.children||'object'==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function xe(t,n,o,r,i){t[bi]=i,'input'===o&&'radio'===i.type&&null!=i.name&&Ft(t,i),qe(o,r),r=qe(o,i);for(var e=0;e<n.length;e+=2){var a=n[e],s=n[e+1];'style'===a?ne(t,s):'dangerouslySetInnerHTML'===a?ie(t,s):'children'===a?he(t,s):Mt(t,a,s,r)}'input'===o?Bt(t,i):'textarea'===o?ce(t,i):'select'===o?(n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,o=i.value,null==o?n!==!!i.multiple&&(null==i.defaultValue?En(t,!!i.multiple,i.multiple?[]:'',!1):En(t,!!i.multiple,i.defaultValue,!0)):En(t,!!i.multiple,o,!1)):void 0}function Ce(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function De(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Ee(e){0>Fe||(e.current=Be[Fe],Be[Fe]=null,Fe--)}function F(e,t){Fe++,Be[Fe]=e.current,e.current=t}function G(t,n){var o=t.type.contextTypes;if(!o)return Ge;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i={},e;for(e in o)i[e]=n[e];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),i}function Je(e){return e=e.childContextTypes,null!==e&&void 0!==e}function J(e){Ee(H,e),Ee(gs,e)}function Ke(e){Ee(H,e),Ee(gs,e)}function Le(e,t,n){gs.current===Ge?void 0:s('168'),F(gs,t,e),F(H,n,e)}function Me(t,n,o){var r=t.stateNode;if(t=n.childContextTypes,'function'!=typeof r.getChildContext)return o;for(var i in r=r.getChildContext(),r)i in t?void 0:s('108',Tt(n)||'Unknown',i);return Kr({},o,r)}function Ne(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ge,I=gs.current,F(gs,t,e),F(H,H.current,e),!0}function Oe(e,t,n){var o=e.stateNode;o?void 0:s('169'),n?(t=Me(e,t,I),o.__reactInternalMemoizedMergedChildContext=t,Ee(H,e),Ee(gs,e),F(gs,t,e)):Ee(H,e),F(H,n,e)}function Pe(e){return function(t){try{return e(t)}catch(e){}}}function Se(e){if('undefined'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ie=Pe(function(e){return t.onCommitFiberRoot(n,e)}),ys=Pe(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Te(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ue(e,t,n,o){return new Te(e,t,n,o)}function K(e){return e=e.prototype,e&&e.isReactComponent}function Ve(e){if('function'==typeof e)return K(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===ga)return 11;if(e===Sa)return 14}return 2}function We(e,t){var n=e.alternate;return null===n?(n=Ue(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xe(t,n,o,r,i,e){var d=2;if(r=t,'function'==typeof t)K(t)&&(d=1);else if('string'==typeof t)d=5;else a:switch(t){case ca:return Ye(o.children,i,e,n);case fa:return Ze(o,3|i,e,n);case pa:return Ze(o,2|i,e,n);case ua:return t=Ue(12,o,n,4|i),t.elementType=ua,t.type=ua,t.expirationTime=e,t;case ya:return t=Ue(13,o,n,i),t.elementType=ya,t.type=ya,t.expirationTime=e,t;default:if('object'==typeof t&&null!==t)switch(t.$$typeof){case ma:d=10;break a;case ha:d=9;break a;case ga:d=11;break a;case Sa:d=14;break a;case Ca:d=16,r=null;break a;}s('130',null==t?t:typeof t,'');}return n=Ue(d,o,n,i),n.elementType=t,n.type=r,n.expirationTime=e,n}function Ye(e,t,n,o){return e=Ue(7,e,o,t),e.expirationTime=n,e}function Ze(e,t,n,o){return e=Ue(8,e,o,t),t=0==(1&t)?pa:fa,e.elementType=t,e.type=t,e.expirationTime=n,e}function $e(e,t,n){return e=Ue(6,e,null,t),e.expirationTime=n,e}function wn(e,t,n){return t=Ue(4,null===e.children?[]:e.children,e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kn(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),xn(t,e)}function Tn(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),n=e.earliestSuspendedTime,0===n?kn(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,kn(e,t)):t>n&&kn(e,t)}xn(0,e)}function _n(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,o=e.latestPendingTime;n===t?e.earliestPendingTime=o===t?e.latestPendingTime=0:o:o===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,o=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:o>t&&(e.latestSuspendedTime=t),xn(t,e)}function Rn(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,n>t&&(t=n),e>t&&(t=e),t}function xn(t,n){var o=n.earliestSuspendedTime,r=n.latestSuspendedTime,i=n.earliestPendingTime,e=n.latestPingedTime;i=0===i?e:i,0===i&&(0===t||r<t)&&(i=r),t=i,0!==t&&o>t&&(t=o),n.nextExpirationTimeToWorkOn=i,n.expirationTime=t}function Pn(e,t){if(e&&e.defaultProps)for(var n in t=Kr({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}function L(e){var t=e._result;switch(e._status){case 1:return t;case 2:throw t;case 0:throw t;default:switch(e._status=0,t=e._ctor,t=t(),t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result;}throw e._result=t,t;}}function Dn(e,t,n,o){t=e.memoizedState,n=n(o,t),n=null===n||void 0===n?t:Kr({},t,n),e.memoizedState=n,o=e.updateQueue,null!==o&&0===e.expirationTime&&(o.baseState=n)}function Mn(t,n,o,r,i,e,a){return t=t.stateNode,'function'==typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,e,a):!(n.prototype&&n.prototype.isPureReactComponent)||!Zt(o,r)||!Zt(i,e)}function An(t,n,o){var r=!1,i=Ge,e=n.contextType;return'object'==typeof e&&null!==e?e=ko(e):(i=Je(n)?I:gs.current,r=n.contextTypes,e=(r=null!==r&&void 0!==r)?G(t,i):Ge),n=new n(o,e),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Cs,t.stateNode=n,n._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=e),n}function In(e,t,n,o){e=t.state,'function'==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),'function'==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function Ln(t,n,o,r){var i=t.stateNode;i.props=o,i.state=t.memoizedState,i.refs=Ss;var e=n.contextType;'object'==typeof e&&null!==e?i.context=ko(e):(e=Je(n)?I:gs.current,i.context=G(t,e)),e=t.updateQueue,null!==e&&(Io(t,e,o,i,r),i.state=t.memoizedState),e=n.getDerivedStateFromProps,'function'==typeof e&&(Dn(t,n,e,o),i.state=t.memoizedState),'function'==typeof n.getDerivedStateFromProps||'function'==typeof i.getSnapshotBeforeUpdate||'function'!=typeof i.UNSAFE_componentWillMount&&'function'!=typeof i.componentWillMount||(n=i.state,'function'==typeof i.componentWillMount&&i.componentWillMount(),'function'==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&Cs.enqueueReplaceState(i,i.state,null),e=t.updateQueue,null!==e&&(Io(t,e,o,i,r),i.state=t.memoizedState)),'function'==typeof i.componentDidMount&&(t.effectTag|=4)}function Fn(t,n,o){if(t=o.ref,null!==t&&'function'!=typeof t&&'object'!=typeof t){if(o._owner){o=o._owner;var r;o&&(1===o.tag?void 0:s('309'),r=o.stateNode),r?void 0:s('147',t);var i=''+t;return null!==n&&null!==n.ref&&'function'==typeof n.ref&&n.ref._stringRef===i?n.ref:(n=function(e){var t=r.refs;t===Ss&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},n._stringRef=i,n)}'string'==typeof t?void 0:s('284'),o._owner?void 0:s('290',t)}return t}function Bn(e,t){'textarea'!==e.type&&s('31','[object Object]'===Object.prototype.toString.call(t)?'object with keys {'+Object.keys(t).join(', ')+'}':t,'')}function Nn(n){function o(e,t){if(n){var o=e.lastEffect;null===o?e.firstEffect=e.lastEffect=t:(o.nextEffect=t,e.lastEffect=t),t.nextEffect=null,t.effectTag=8}}function r(e,t){if(!n)return null;for(;null!==t;)o(e,t),t=t.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null===t.key?e.set(t.index,t):e.set(t.key,t),t=t.sibling;return e}function u(e,t,n){return e=We(e,t,n),e.index=0,e.sibling=null,e}function d(e,t,o){return(e.index=o,!n)?t:(o=e.alternate,null!==o)?(o=o.index,o<t?(e.effectTag=2,t):o):(e.effectTag=2,t)}function e(e){return n&&null===e.alternate&&(e.effectTag=2),e}function f(e,t,n,o){return null===t||6!==t.tag?(t=$e(n,e.mode,o),t.return=e,t):(t=u(t,n,o),t.return=e,t)}function h(e,t,n,o){return null!==t&&t.elementType===n.type?(o=u(t,n.props,o),o.ref=Fn(e,t,n),o.return=e,o):(o=Xe(n.type,n.key,n.props,null,e.mode,o),o.ref=Fn(e,t,n),o.return=e,o)}function l(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=wn(n,e.mode,o),t.return=e,t):(t=u(t,n.children||[],o),t.return=e,t)}function g(e,t,n,o,r){return null===t||7!==t.tag?(t=Ye(n,e.mode,o,r),t.return=e,t):(t=u(t,n,o),t.return=e,t)}function c(e,t,n){if('string'==typeof t||'number'==typeof t)return t=$e(''+t,e.mode,n),t.return=e,t;if('object'==typeof t&&null!==t){switch(t.$$typeof){case z:return n=Xe(t.type,t.key,t.props,null,e.mode,n),n.ref=Fn(e,null,t),n.return=e,n;case la:return t=wn(t,e.mode,n),t.return=e,t;}if(bs(t)||kt(t))return t=Ye(t,e.mode,n,null),t.return=e,t;Bn(e,t)}return null}function p(t,n,o,r){var i=null===n?null:n.key;if('string'==typeof o||'number'==typeof o)return null===i?f(t,n,''+o,r):null;if('object'==typeof o&&null!==o){switch(o.$$typeof){case z:return o.key===i?o.type===ca?g(t,n,o.props.children,r,i):h(t,n,o,r):null;case la:return o.key===i?l(t,n,o,r):null;}if(bs(o)||kt(o))return null===i?g(t,n,o,r,null):null;Bn(t,o)}return null}function t(t,n,o,r,i){if('string'==typeof r||'number'==typeof r)return t=t.get(o)||null,f(n,t,''+r,i);if('object'==typeof r&&null!==r){switch(r.$$typeof){case z:return t=t.get(null===r.key?o:r.key)||null,r.type===ca?g(n,t,r.props.children,i,r.key):h(n,t,r,i);case la:return t=t.get(null===r.key?o:r.key)||null,l(n,t,r,i);}if(bs(r)||kt(r))return t=t.get(o)||null,g(n,t,r,i,null);Bn(n,r)}return null}function m(s,e,a,h){for(var f=null,l=null,m=e,g=e=0,u=null;null!==m&&g<a.length;g++){m.index>g?(u=m,m=null):u=m.sibling;var y=p(s,m,a[g],h);if(null===y){null===m&&(m=u);break}n&&m&&null===y.alternate&&o(s,m),e=d(y,e,g),null===l?f=y:l.sibling=y,l=y,m=u}if(g===a.length)return r(s,m),f;if(null===m){for(;g<a.length;g++)(m=c(s,a[g],h))&&(e=d(m,e,g),null===l?f=m:l.sibling=m,l=m);return f}for(m=i(s,m);g<a.length;g++)(u=t(m,s,g,a[g],h))&&(n&&null!==u.alternate&&m.delete(null===u.key?g:u.key),e=d(u,e,g),null===l?f=u:l.sibling=u,l=u);return n&&m.forEach(function(e){return o(s,e)}),f}function y(f,e,a,h){var g=kt(a);'function'==typeof g?void 0:s('150'),a=g.call(a),null==a?s('151'):void 0;for(var y=g=null,m=e,S=e=0,u=null,C=a.next();null!==m&&!C.done;S++,C=a.next()){m.index>S?(u=m,m=null):u=m.sibling;var b=p(f,m,C.value,h);if(null===b){m||(m=u);break}n&&m&&null===b.alternate&&o(f,m),e=d(b,e,S),null===y?g=b:y.sibling=b,y=b,m=u}if(C.done)return r(f,m),g;if(null===m){for(;!C.done;S++,C=a.next())C=c(f,C.value,h),null!==C&&(e=d(C,e,S),null===y?g=C:y.sibling=C,y=C);return g}for(m=i(f,m);!C.done;S++,C=a.next())C=t(m,f,S,C.value,h),null!==C&&(n&&null!==C.alternate&&m.delete(null===C.key?S:C.key),e=d(C,e,S),null===y?g=C:y.sibling=C,y=C);return n&&m.forEach(function(e){return o(f,e)}),g}return function(t,n,i,a){var d='object'==typeof i&&null!==i&&i.type===ca&&null===i.key;d&&(i=i.props.children);var c='object'==typeof i&&null!==i;if(c)switch(i.$$typeof){case z:a:{for(c=i.key,d=n;null!==d;){if(d.key!==c)o(t,d);else if(7===d.tag?i.type===ca:d.elementType===i.type){r(t,d.sibling),n=u(d,i.type===ca?i.props.children:i.props,a),n.ref=Fn(t,d,i),n.return=t,t=n;break a}else{r(t,d);break}d=d.sibling}i.type===ca?(n=Ye(i.props.children,t.mode,a,i.key),n.return=t,t=n):(a=Xe(i.type,i.key,i.props,null,t.mode,a),a.ref=Fn(t,n,i),a.return=t,t=a)}return e(t);case la:a:{for(d=i.key;null!==n;){if(n.key!==d)o(t,n);else if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(t,n.sibling),n=u(n,i.children||[],a),n.return=t,t=n;break a}else{r(t,n);break}n=n.sibling}n=wn(i,t.mode,a),n.return=t,t=n}return e(t);}if('string'==typeof i||'number'==typeof i)return i=''+i,null!==n&&6===n.tag?(r(t,n.sibling),n=u(n,i,a),n.return=t,t=n):(r(t,n),n=$e(i,t.mode,a),n.return=t,t=n),e(t);if(bs(i))return m(t,n,i,a);if(kt(i))return y(t,n,i,a);if(c&&Bn(t,i),'undefined'==typeof i&&!d)switch(t.tag){case 1:case 0:a=t.type,s('152',a.displayName||a.name||'Component');}return r(t,n)}}function On(e){return e===ws?s('174'):void 0,e}function Hn(e,t){F(Ts,t,e),F(N,e,e),F(ks,ws,e);var n=t.nodeType;9===n||11===n?t=(t=t.documentElement)?t.namespaceURI:ge(null,''):(n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=ge(t,n));Ee(ks,e),F(ks,t,e)}function zn(e){Ee(ks,e),Ee(N,e),Ee(Ts,e)}function Un(e){On(Ts.current);var t=On(ks.current),n=ge(t,e.type);t!==n&&(F(N,e,e),F(ks,n,e))}function Wn(e){N.current===e&&(Ee(ks,e),Ee(N,e))}function Vn(){s('307')}function Gn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Kn(t,n,o,r,i,e){if(Fs=e,Bs=n,O=null===t?null:t.memoizedState,Ls.current=null===O?js:qs,n=o(r,i),Ws){do Ws=!1,Gs+=1,O=null===t?null:t.memoizedState,Q=P,zs=Os=Ns=null,Ls.current=qs,n=o(r,i);while(Ws);Vs=null,Gs=0}return Ls.current=Ks,t=Bs,t.memoizedState=P,t.expirationTime=Hs,t.updateQueue=zs,t.effectTag|=Us,t=null!==Ns&&null!==Ns.next,Fs=0,Q=Os=P=O=Ns=Bs=null,Hs=0,zs=null,Us=0,t?s('300'):void 0,n}function jn(){Ls.current=Ks,Fs=0,Q=Os=P=O=Ns=Bs=null,Hs=0,zs=null,Us=0,Ws=!1,Vs=null,Gs=0}function qn(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Os?P=Os=e:Os=Os.next=e,Os}function Yn(){if(null!==Q)Os=Q,Q=Os.next,Ns=O,O=null===Ns?null:Ns.next;else{null===O?s('310'):void 0,Ns=O;var e={memoizedState:Ns.memoizedState,baseState:Ns.baseState,queue:Ns.queue,baseUpdate:Ns.baseUpdate,next:null};Os=null===Os?P=e:Os.next=e,O=Ns.next}return Os}function Xn(e,t){return'function'==typeof t?t(e):t}function Qn(t){var n=Yn(),o=n.queue;if(null===o?s('311'):void 0,0<Gs){var r=o.dispatch;if(null!=Vs){var i=Vs.get(o);if(void 0!==i){Vs.delete(o);var e=n.memoizedState;do e=t(e,i.action),i=i.next;while(null!==i);return $t(e,n.memoizedState)||(Zs=!0),n.memoizedState=e,n.baseUpdate===o.last&&(n.baseState=e),o.eagerReducer=t,o.eagerState=e,[e,r]}}return[n.memoizedState,r]}r=o.last;var a=n.baseUpdate;if(e=n.baseState,null===a?r=null===r?null:r.next:(null!==r&&(r.next=null),r=a.next),null!==r){var d=i=null,c=r,l=!1;do{var p=c.expirationTime;p<Fs?(l||(l=!0,d=a,i=e),p>Hs&&(Hs=p)):e=c.eagerReducer===t?c.eagerState:t(e,c.action),a=c,c=c.next}while(null!==c&&c!==r);l||(d=a,i=e),$t(e,n.memoizedState)||(Zs=!0),n.memoizedState=e,n.baseUpdate=d,n.baseState=i,o.eagerReducer=t,o.eagerState=e}return[n.memoizedState,o.dispatch]}function $n(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null==zs?(zs={lastEffect:null},zs.lastEffect=e.next=e):(t=zs.lastEffect,null===t?zs.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,zs.lastEffect=e)),e}function Zn(t,n,o,r){var i=qn();Us|=t,i.memoizedState=$n(n,o,void 0,void 0===r?null:r)}function Jn(t,n,o,r){var i=Yn();r=void 0===r?null:r;var e;if(null!==Ns){var a=Ns.memoizedState;if(e=a.destroy,null!==r&&Gn(r,a.deps))return void $n(_s,o,e,r)}Us|=t,i.memoizedState=$n(n,o,e,r)}function eo(e,t){return'function'==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function to(){}function no(t,n,o){25>Gs?void 0:s('301');var r=t.alternate;if(t!==Bs&&(null===r||r!==Bs)){tr();var i=Sr();i=sr(i,t);var a={expirationTime:i,action:o,eagerReducer:null,eagerState:null,next:null},d=n.last;if(null===d)a.next=a;else{var p=d.next;null!==p&&(a.next=p),d.next=a}if(n.last=a,0===t.expirationTime&&(null===r||0===r.expirationTime)&&(r=n.eagerReducer,null!==r))try{var u=n.eagerState,l=r(u,o);if(a.eagerReducer=r,a.eagerState=l,$t(l,u))return}catch(e){}finally{}pr(t,i)}else if(Ws=!0,t={expirationTime:Fs,action:o,eagerReducer:null,eagerState:null,next:null},null==Vs&&(Vs=new Map),o=Vs.get(n),void 0===o)Vs.set(n,t);else{for(n=o;null!==n.next;)n=n.next;n.next=t}}function oo(e,t){var n=Ue(5,null,null,0);n.elementType='DELETED',n.type='DELETED',n.stateNode=t,n.return=e,n.effectTag=8,null===e.lastEffect?e.firstEffect=e.lastEffect=n:(e.lastEffect.nextEffect=n,e.lastEffect=n)}function ro(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=''===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1;}}function io(e){if(Qs){var t=Xs;if(t){var n=t;if(!ro(e,t)){if(t=Ce(n),!t||!ro(e,t))return e.effectTag|=2,Qs=!1,void(Ys=e);oo(Ys,n)}Ys=e,Xs=De(t)}else e.effectTag|=2,Qs=!1,Ys=e}}function ao(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Ys=e}function so(e){if(e!==Ys)return!1;if(!Qs)return ao(e),Qs=!0,!1;var t=e.type;if(5!==e.tag||'head'!==t&&'body'!==t&&!we(t,e.memoizedProps))for(t=Xs;t;)oo(e,t),t=Ce(t);return ao(e),Xs=Ys?Ce(e.stateNode):null,!0}function lo(){Xs=Ys=null,Qs=!1}function co(e,t,n,o){t.child=null===e?Es(t,null,n,o):vs(t,e.child,n,o)}function S(t,n,o,r,i){o=o.render;var e=n.ref;return(wo(n,i),r=Kn(t,n,o,r,e,i),null!==t&&!Zs)?(n.updateQueue=t.updateQueue,n.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Co(t,n,i)):(n.effectTag|=1,co(t,n,r,i),n.child)}function po(t,n,o,r,i,e){if(null===t){var a=o.type;return'function'!=typeof a||K(a)||void 0!==a.defaultProps||null!==o.compare||void 0!==o.defaultProps?(t=Xe(o.type,null,r,null,n.mode,e),t.ref=n.ref,t.return=n,n.child=t):(n.tag=15,n.type=a,uo(t,n,a,r,i,e))}return(a=t.child,i<e&&(i=a.memoizedProps,o=o.compare,o=null===o?Zt:o,o(i,r)&&t.ref===n.ref))?Co(t,n,e):(n.effectTag|=1,t=We(a,r,e),t.ref=n.ref,t.return=n,n.child=t)}function uo(t,n,o,r,i,e){return null!==t&&Zt(t.memoizedProps,r)&&t.ref===n.ref&&(Zs=!1,i<e)?Co(t,n,e):ho(t,n,o,r,e)}function mo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ho(t,n,o,r,i){var e=Je(o)?I:gs.current;return(e=G(n,e),wo(n,i),o=Kn(t,n,o,r,e,i),null!==t&&!Zs)?(n.updateQueue=t.updateQueue,n.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Co(t,n,i)):(n.effectTag|=1,co(t,n,o,i),n.child)}function fo(n,o,r,i,a){if(Je(r)){var e=!0;Ne(o)}else e=!1;if(wo(o,a),null===o.stateNode)null!==n&&(n.alternate=null,o.alternate=null,o.effectTag|=2),An(o,r,i,a),Ln(o,r,i,a),i=!0;else if(null===n){var s=o.stateNode,d=o.memoizedProps;s.props=d;var c=s.context,l=r.contextType;'object'==typeof l&&null!==l?l=ko(l):(l=Je(r)?I:gs.current,l=G(o,l));var u=r.getDerivedStateFromProps,h='function'==typeof u||'function'==typeof s.getSnapshotBeforeUpdate;h||'function'!=typeof s.UNSAFE_componentWillReceiveProps&&'function'!=typeof s.componentWillReceiveProps||(d!==i||c!==l)&&In(o,s,i,l),sd=!1;var p=o.memoizedState;c=s.state=p;var t=o.updateQueue;null!==t&&(Io(o,t,i,s,a),c=o.memoizedState),d!==i||p!==c||H.current||sd?('function'==typeof u&&(Dn(o,r,u,i),c=o.memoizedState),(d=sd||Mn(o,r,d,i,p,c,l))?(h||'function'!=typeof s.UNSAFE_componentWillMount&&'function'!=typeof s.componentWillMount||('function'==typeof s.componentWillMount&&s.componentWillMount(),'function'==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),'function'==typeof s.componentDidMount&&(o.effectTag|=4)):('function'==typeof s.componentDidMount&&(o.effectTag|=4),o.memoizedProps=i,o.memoizedState=c),s.props=i,s.state=c,s.context=l,i=d):('function'==typeof s.componentDidMount&&(o.effectTag|=4),i=!1)}else s=o.stateNode,d=o.memoizedProps,s.props=o.type===o.elementType?d:Pn(o.type,d),c=s.context,l=r.contextType,'object'==typeof l&&null!==l?l=ko(l):(l=Je(r)?I:gs.current,l=G(o,l)),u=r.getDerivedStateFromProps,(h='function'==typeof u||'function'==typeof s.getSnapshotBeforeUpdate)||'function'!=typeof s.UNSAFE_componentWillReceiveProps&&'function'!=typeof s.componentWillReceiveProps||(d!==i||c!==l)&&In(o,s,i,l),sd=!1,c=o.memoizedState,p=s.state=c,t=o.updateQueue,null!==t&&(Io(o,t,i,s,a),p=o.memoizedState),d!==i||c!==p||H.current||sd?('function'==typeof u&&(Dn(o,r,u,i),p=o.memoizedState),(u=sd||Mn(o,r,d,i,c,p,l))?(h||'function'!=typeof s.UNSAFE_componentWillUpdate&&'function'!=typeof s.componentWillUpdate||('function'==typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),'function'==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),'function'==typeof s.componentDidUpdate&&(o.effectTag|=4),'function'==typeof s.getSnapshotBeforeUpdate&&(o.effectTag|=256)):('function'!=typeof s.componentDidUpdate||d===n.memoizedProps&&c===n.memoizedState||(o.effectTag|=4),'function'!=typeof s.getSnapshotBeforeUpdate||d===n.memoizedProps&&c===n.memoizedState||(o.effectTag|=256),o.memoizedProps=i,o.memoizedState=p),s.props=i,s.state=p,s.context=l,i=u):('function'!=typeof s.componentDidUpdate||d===n.memoizedProps&&c===n.memoizedState||(o.effectTag|=4),'function'!=typeof s.getSnapshotBeforeUpdate||d===n.memoizedProps&&c===n.memoizedState||(o.effectTag|=256),i=!1);return go(n,o,r,i,e,a)}function go(t,n,o,r,i,e){mo(t,n);var a=0!=(64&n.effectTag);if(!r&&!a)return i&&Oe(n,o,!1),Co(t,n,e);r=n.stateNode,$s.current=n;var s=a&&'function'!=typeof o.getDerivedStateFromError?null:r.render();return n.effectTag|=1,null!==t&&a?(n.child=vs(n,t.child,null,e),n.child=vs(n,null,s,e)):co(t,n,s,e),n.memoizedState=r.state,i&&Oe(n,o,!0),n.child}function yo(e){var t=e.stateNode;t.pendingContext?Le(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Le(e,t.context,!1),Hn(e,t.containerInfo)}function So(t,n,o){var r=n.mode,i=n.pendingProps,e=n.memoizedState;if(0==(64&n.effectTag)){e=null;var a=!1}else e={timedOutAt:null===e?0:e.timedOutAt},a=!0,n.effectTag&=-65;if(null!==t)null===t.memoizedState?(s=t.child,a?(a=i.fallback,i=Ye(null,r,0,null),i.child=s,0==(1&n.mode)&&(i.child=null===n.memoizedState?n.child:n.child.child),r=i.sibling=Ye(a,r,o,null),r.effectTag|=2,o=i,i.childExpirationTime=0,o.return=r.return=n):r=o=vs(n,s,i.children,o)):(r=t.child,s=r.sibling,a?(o=i.fallback,i=We(r,r.pendingProps,0),0==(1&n.mode)&&(a=null===n.memoizedState?n.child:n.child.child,a!==r.child&&(i.child=a)),r=i.sibling=We(s,o,s.expirationTime),o=i,i.childExpirationTime=0,o.return=r.return=n):o=r=vs(n,r.child,i.children,o)),n.stateNode=t.stateNode;else if(a){var s=i.fallback;t=Ye(null,r,0,null),0==(1&n.mode)&&(t.child=null===n.memoizedState?n.child:n.child.child),r=Ye(s,r,o,null),t.sibling=r,o=t,o.return=r.return=n}else o=r=Es(n,null,i.children,o);return n.memoizedState=e,n.child=o,r}function Co(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child?s('153'):void 0,null!==t.child){for(e=t.child,n=We(e,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=We(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function bo(t,n,o){var r=n.expirationTime;if(null===t)Zs=!1;else if(t.memoizedProps!==n.pendingProps||H.current)Zs=!0;else if(r<o){switch(Zs=!1,n.tag){case 3:yo(n),lo();break;case 5:Un(n);break;case 1:Je(n.type)&&Ne(n);break;case 4:Hn(n,n.stateNode.containerInfo);break;case 10:vo(n,n.memoizedProps.value);break;case 13:if(null!==n.memoizedState)return(r=n.child.childExpirationTime,0!==r&&r>=o)?So(t,n,o):(n=Co(t,n,o),null===n?null:n.sibling);}return Co(t,n,o)}switch(n.expirationTime=0,n.tag){case 2:r=n.elementType,null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),t=n.pendingProps;var i=G(n,gs.current);if(wo(n,o),i=Kn(null,n,r,t,i,o),n.effectTag|=1,'object'==typeof i&&null!==i&&'function'==typeof i.render&&void 0===i.$$typeof){if(n.tag=1,jn(),Je(r)){var a=!0;Ne(n)}else a=!1;n.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var d=r.getDerivedStateFromProps;'function'==typeof d&&Dn(n,r,d,t),i.updater=Cs,n.stateNode=i,i._reactInternalFiber=n,Ln(n,r,t,o),n=go(null,n,r,!0,a,o)}else n.tag=0,co(null,n,i,o),n=n.child;return n;case 16:return i=n.elementType,null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),a=n.pendingProps,t=L(i),n.type=t,i=n.tag=Ve(t),a=Pn(t,a),d=void 0,(0===i?d=ho(null,n,t,a,o):1===i?d=fo(null,n,t,a,o):11===i?d=S(null,n,t,a,o):14===i?d=po(null,n,t,Pn(t.type,a),r,o):s('306',t,''),d);case 0:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Pn(r,i),ho(t,n,r,i,o);case 1:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Pn(r,i),fo(t,n,r,i,o);case 3:return yo(n),r=n.updateQueue,null===r?s('282'):void 0,i=n.memoizedState,i=null===i?null:i.element,Io(n,r,n.pendingProps,null,o),r=n.memoizedState.element,r===i?(lo(),n=Co(t,n,o)):(i=n.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(Xs=De(n.stateNode.containerInfo),Ys=n,i=Qs=!0),i?(n.effectTag|=2,n.child=Es(n,null,r,o)):(co(t,n,r,o),lo()),n=n.child),n;case 5:return Un(n),null===t&&io(n),r=n.type,i=n.pendingProps,a=null===t?null:t.memoizedProps,d=i.children,we(r,i)?d=null:null!==a&&we(r,a)&&(n.effectTag|=16),mo(t,n),1!==o&&1&n.mode&&i.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(co(t,n,d,o),n=n.child),n;case 6:return null===t&&io(n),null;case 13:return So(t,n,o);case 4:return Hn(n,n.stateNode.containerInfo),r=n.pendingProps,null===t?n.child=vs(n,null,r,o):co(t,n,r,o),n.child;case 11:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Pn(r,i),S(t,n,r,i,o);case 7:return co(t,n,n.pendingProps,o),n.child;case 8:return co(t,n,n.pendingProps.children,o),n.child;case 12:return co(t,n,n.pendingProps.children,o),n.child;case 10:a:{if(r=n.type._context,i=n.pendingProps,d=n.memoizedProps,a=i.value,vo(n,a),null!==d){var c=d.value;if(a=$t(c,a)?0:0|('function'==typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823),0!==a)for(c=n.child,null!==c&&(c.return=n);null!==c;){var u=c.contextDependencies;if(null!==u){d=c.child;for(var l=u.first;null!==l;){if(l.context===r&&0!=(l.observedBits&a)){1===c.tag&&(l=Ro(o),l.tag=id,Po(c,l)),c.expirationTime<o&&(c.expirationTime=o),l=c.alternate,null!==l&&l.expirationTime<o&&(l.expirationTime=o),l=o;for(var h=c.return,m;null!==h;){if(m=h.alternate,h.childExpirationTime<l)h.childExpirationTime=l,null!==m&&m.childExpirationTime<l&&(m.childExpirationTime=l);else if(null!==m&&m.childExpirationTime<l)m.childExpirationTime=l;else break;h=h.return}u.expirationTime<o&&(u.expirationTime=o);break}l=l.next}}else d=10===c.tag?c.type===n.type?null:c.child:c.child;if(null!==d)d.return=c;else for(d=c;null!==d;){if(d===n){d=null;break}if(c=d.sibling,null!==c){c.return=d.return,d=c;break}d=d.return}c=d}else if(d.children===i.children&&!H.current){n=Co(t,n,o);break a}}co(t,n,i.children,o),n=n.child}return n;case 9:return i=n.type,a=n.pendingProps,r=a.children,wo(n,o),i=ko(i,a.unstable_observedBits),r=r(i),n.effectTag|=1,co(t,n,r,o),n.child;case 14:return i=n.type,a=Pn(i,n.pendingProps),a=Pn(i.type,a),po(t,n,i,a,r,o);case 15:return uo(t,n,n.type,n.pendingProps,r,o);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Pn(r,i),null!==t&&(t.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,Je(r)?(t=!0,Ne(n)):t=!1,wo(n,o),An(n,r,i,o),Ln(n,r,i,o),go(null,n,r,!0,t,o);}s('156')}function vo(e,t){var n=e.type._context;F(Js,n._currentValue,e),n._currentValue=t}function Eo(e){var t=Js.current;Ee(Js,e),e.type._context._currentValue=t}function wo(e,t){ed=e,nd=td=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(Zs=!0),e.contextDependencies=null}function ko(e,t){return nd!==e&&!1!==t&&0!==t&&(('number'!=typeof t||1073741823===t)&&(nd=e,t=1073741823),t={context:e,observedBits:t,next:null},null===td?(null===ed?s('308'):void 0,td=t,ed.contextDependencies={first:t,expirationTime:0}):td=td.next=t),e._currentValue}function To(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function _o(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ro(e){return{expirationTime:e,tag:od,payload:null,callback:null,next:null,nextEffect:null}}function xo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Po(t,n){var o=t.alternate;if(null===o){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=To(t.memoizedState))}else r=t.updateQueue,i=o.updateQueue,null===r?null===i?(r=t.updateQueue=To(t.memoizedState),i=o.updateQueue=To(o.memoizedState)):r=t.updateQueue=_o(i):null===i&&(i=o.updateQueue=_o(r));null===i||r===i?xo(r,n):null===r.lastUpdate||null===i.lastUpdate?(xo(r,n),xo(i,n)):(xo(r,n),i.lastUpdate=n)}function Do(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=To(e.memoizedState):Mo(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Mo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=_o(t)),t}function Ao(t,n,o,r,i,e){switch(o.tag){case rd:return t=o.payload,'function'==typeof t?t.call(e,r,i):t;case ad:t.effectTag=64|-2049&t.effectTag;case od:if(t=o.payload,i='function'==typeof t?t.call(e,r,i):t,null===i||void 0===i)break;return Kr({},r,i);case id:sd=!0;}return r}function Io(t,n,o,r,i){sd=!1,n=Mo(t,n);for(var e=n.baseState,a=null,s=0,d=n.firstUpdate,l=e,c;null!==d;)c=d.expirationTime,c<i?(null===a&&(a=d,e=l),s<c&&(s=c)):(l=Ao(t,n,d,l,o,r),null!==d.callback&&(t.effectTag|=32,d.nextEffect=null,null===n.lastEffect?n.firstEffect=n.lastEffect=d:(n.lastEffect.nextEffect=d,n.lastEffect=d))),d=d.next;for(c=null,d=n.firstCapturedUpdate;null!==d;){var u=d.expirationTime;u<i?(null===c&&(c=d,null===a&&(e=l)),s<u&&(s=u)):(l=Ao(t,n,d,l,o,r),null!==d.callback&&(t.effectTag|=32,d.nextEffect=null,null===n.lastCapturedEffect?n.firstCapturedEffect=n.lastCapturedEffect=d:(n.lastCapturedEffect.nextEffect=d,n.lastCapturedEffect=d))),d=d.next}null===a&&(n.lastUpdate=null),null===c?n.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(e=l),n.baseState=e,n.firstUpdate=a,n.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function Lo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Fo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Fo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Fo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;'function'==typeof n?void 0:s('191',n),n.call(t)}e=e.nextEffect}}function Bo(e,t){return{value:e,source:t,stack:_t(t)}}function No(e){e.effectTag|=4}function Oo(e,t){var n=t.source,o=t.stack;null===o&&null!==n&&(o=_t(n)),null!==n&&Tt(n.type),t=t.value,null!==e&&1===e.tag&&Tt(e.type);try{console.error(t)}catch(t){setTimeout(function(){throw t})}}function Ho(e){var t=e.ref;if(null!==t)if('function'==typeof t)try{t(null)}catch(t){ar(e,t)}else t.current=null}function zo(t,n,o){if(o=o.updateQueue,o=null===o?null:o.lastEffect,null!==o){var r=o=o.next;do{if((r.tag&t)!==_s){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&n)!==_s&&(i=r.create,r.destroy=i()),r=r.next}while(r!==o)}}function Uo(t,n){for(var o=t;;){if(5===o.tag){var r=o.stateNode;if(n)r.style.display='none';else{r=o.stateNode;var i=o.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty('display')?i.display:null,r.style.display=ke('display',i)}}else if(6===o.tag)o.stateNode.nodeValue=n?'':o.memoizedProps;else if(13===o.tag&&null!==o.memoizedState){r=o.child.sibling,r.return=o,o=r;continue}else if(null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Wo(e){switch('function'==typeof ys&&ys(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&(t=t.lastEffect,null!==t)){var n=t=t.next;do{var o=n.destroy;if(void 0!==o){try{o()}catch(t){ar(e,t)}}n=n.next}while(n!==t)}break;case 1:if(Ho(e),t=e.stateNode,'function'==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ar(e,t)}break;case 5:Ho(e);break;case 4:Ko(e);}}function Vo(e){return 5===e.tag||3===e.tag||4===e.tag}function Go(t){a:{for(var n=t.return;null!==n;){if(Vo(n)){var o=n;break a}n=n.return}s('160'),o=void 0}var r=n=void 0;switch(o.tag){case 5:n=o.stateNode,r=!1;break;case 3:n=o.stateNode.containerInfo,r=!0;break;case 4:n=o.stateNode.containerInfo,r=!0;break;default:s('161');}16&o.effectTag&&(he(n,''),o.effectTag&=-17);a:b:for(o=t;;){for(;null===o.sibling;){if(null===o.return||Vo(o.return)){o=null;break a}o=o.return}for(o.sibling.return=o.return,o=o.sibling;5!==o.tag&&6!==o.tag&&18!==o.tag;){if(2&o.effectTag)continue b;if(null===o.child||4===o.tag)continue b;else o.child.return=o,o=o.child}if(!(2&o.effectTag)){o=o.stateNode;break a}}for(var i=t;;){if(5===i.tag||6===i.tag){if(!o)r?(a=n,d=i.stateNode,8===a.nodeType?(e=a.parentNode,e.insertBefore(d,a)):(e=a,e.appendChild(d)),a=a._reactRootContainer,null!==a&&void 0!==a||null!==e.onclick||(e.onclick=se)):n.appendChild(i.stateNode);else if(r){var e=n,a=i.stateNode,d=o;8===e.nodeType?e.parentNode.insertBefore(a,d):e.insertBefore(a,d)}else n.insertBefore(i.stateNode,o);}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ko(t){for(var n=t,o=!1,r=void 0,i=void 0;;){if(!o){o=n.return;a:for(;;){switch(null===o?s('160'):void 0,o.tag){case 5:r=o.stateNode,i=!1;break a;case 3:r=o.stateNode.containerInfo,i=!0;break a;case 4:r=o.stateNode.containerInfo,i=!0;break a;}o=o.return}o=!0}if(5===n.tag||6===n.tag){a:for(var e=n,a=e;;)if(Wo(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(e=r,a=n.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):r.removeChild(n.stateNode)}else if(4===n.tag){if(null!==n.child){r=n.stateNode.containerInfo,i=!0,n.child.return=n,n=n.child;continue}}else if(Wo(n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return,4===n.tag&&(o=!1)}n.sibling.return=n.return,n=n.sibling}}function jo(t,n){switch(n.tag){case 0:case 11:case 14:case 15:zo(xs,Ps,n);break;case 1:break;case 5:var o=n.stateNode;if(null!=o){var r=n.memoizedProps;t=null===t?r:t.memoizedProps;var i=n.type,e=n.updateQueue;n.updateQueue=null,null!==e&&xe(o,e,i,t,r,n)}break;case 6:null===n.stateNode?s('162'):void 0,n.stateNode.nodeValue=n.memoizedProps;break;case 3:break;case 12:break;case 13:if(o=n.memoizedState,r=void 0,t=n,null===o?r=!1:(r=!0,t=n.child,0===o.timedOutAt&&(o.timedOutAt=Sr())),null!==t&&Uo(t,r),o=n.updateQueue,null!==o){n.updateQueue=null;var d=n.stateNode;null===d&&(d=n.stateNode=new md),o.forEach(function(e){var t=lr.bind(null,n,e);d.has(e)||(d.add(e),e.then(t,t))})}break;case 17:break;default:s('163');}}function qo(e,t,n){n=Ro(n),n.tag=ad,n.payload={element:null};var o=t.value;return n.callback=function(){Rr(o),Oo(e,t)},n}function Yo(t,n,o){o=Ro(o),o.tag=ad;var r=t.type.getDerivedStateFromError;if('function'==typeof r){var i=n.value;o.payload=function(){return r(i)}}var e=t.stateNode;return null!==e&&'function'==typeof e.componentDidCatch&&(o.callback=function(){'function'!=typeof r&&(null===Rd?Rd=new Set([this]):Rd.add(this));var o=n.value,i=n.stack;Oo(t,n),this.componentDidCatch(o,{componentStack:null===i?'':i})}),o}function Xo(e){switch(e.tag){case 1:Je(e.type)&&J(e);var t=e.effectTag;return 2048&t?(e.effectTag=64|-2049&t,e):null;case 3:return zn(e),Ke(e),t=e.effectTag,0==(64&t)?void 0:s('285'),e.effectTag=64|-2049&t,e;case 5:return Wn(e),null;case 13:return t=e.effectTag,2048&t?(e.effectTag=64|-2049&t,e):null;case 18:return null;case 4:return zn(e),null;case 10:return Eo(e),null;default:return null;}}function Qo(){if(null!==bd)for(var e=bd.return,t;null!==e;){switch(t=e,t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&J(t);break;case 3:zn(t),Ke(t);break;case 5:Wn(t);break;case 4:zn(t);break;case 10:Eo(t);}e=e.return}T=null,vd=0,U=-1,Ed=!1,bd=null}function $o(){for(;null!==wd;){var e=wd.effectTag;if(16&e&&he(wd.stateNode,''),128&e){var t=wd.alternate;null!==t&&(t=t.ref,null!==t&&('function'==typeof t?t(null):t.current=null))}switch(14&e){case 2:Go(wd),wd.effectTag&=-3;break;case 6:Go(wd),wd.effectTag&=-3,jo(wd.alternate,wd);break;case 4:jo(wd.alternate,wd);break;case 8:e=wd,Ko(e),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e=e.alternate,null!==e&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null);}wd=wd.nextEffect}}function Zo(){for(;null!==wd;){if(256&wd.effectTag)a:{var e=wd.alternate,t=wd;switch(t.tag){case 0:case 11:case 15:zo(Rs,_s,t);break a;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,o=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Pn(t.type,n),o),e.__reactInternalSnapshotBeforeUpdate=t}break a;case 3:case 5:case 6:case 4:case 17:break a;default:s('163');}}wd=wd.nextEffect}}function Jo(t,n){for(;null!==wd;){var o=wd.effectTag;if(36&o){var r=wd.alternate,i=wd,a=n;switch(i.tag){case 0:case 11:case 15:zo(Ds,Ms,i);break;case 1:var d=i.stateNode;if(4&i.effectTag)if(null===r)d.componentDidMount();else{var l=i.elementType===i.type?r.memoizedProps:Pn(i.type,r.memoizedProps);d.componentDidUpdate(l,r.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}r=i.updateQueue,null!==r&&Lo(i,r,d,a);break;case 3:if(r=i.updateQueue,null!==r){if(d=null,null!==i.child)switch(i.child.tag){case 5:d=i.child.stateNode;break;case 1:d=i.child.stateNode;}Lo(i,r,d,a)}break;case 5:a=i.stateNode,null===r&&4&i.effectTag&&te(i.type,i.memoizedProps)&&a.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:s('163');}}128&o&&(i=wd.ref,null!==i&&(a=wd.stateNode,'function'==typeof i?i(a):i.current=a)),512&o&&(kd=t),wd=wd.nextEffect}}function er(t,n){_d=Td=kd=null;var o=ni;ni=!0;do{if(512&n.effectTag){var r=!1,i=void 0;try{var e=n;zo(Is,_s,e),zo(_s,As,e)}catch(e){r=!0,i=e}r&&ar(n,i)}n=n.nextEffect}while(null!==n);ni=o,o=t.expirationTime,0!==o&&Cr(t,o),qi||ni||wr(1073741823,!1)}function tr(){null!==Td&&Ae(Td),null!==_d&&_d()}function nr(t,o){V=Cd=!0,t.current===o?s('177'):void 0;var r=t.pendingCommitExpirationTime;0===r?s('261'):void 0,t.pendingCommitExpirationTime=0;var i=o.expirationTime,a=o.childExpirationTime;for(Tn(t,a>i?a:i),gd.current=null,i=void 0,1<o.effectTag?null===o.lastEffect?i=o:(o.lastEffect.nextEffect=o,i=o.firstEffect):i=o.firstEffect,pe=rs,fs=yn(),rs=!1,wd=i;null!==wd;){a=!1;var e=void 0;try{Zo()}catch(t){a=!0,e=t}a&&(null===wd?s('178'):void 0,ar(wd,e),null!==wd&&(wd=wd.nextEffect))}for(wd=i;null!==wd;){a=!1,e=void 0;try{$o()}catch(t){a=!0,e=t}a&&(null===wd?s('178'):void 0,ar(wd,e),null!==wd&&(wd=wd.nextEffect))}for(Sn(fs),fs=null,rs=!!pe,pe=null,t.current=o,wd=i;null!==wd;){a=!1,e=void 0;try{Jo(t,r)}catch(t){a=!0,e=t}a&&(null===wd?s('178'):void 0,ar(wd,e),null!==wd&&(wd=wd.nextEffect))}if(null!==i&&null!==kd){var d=er.bind(null,t,i);Td=n.unstable_runWithPriority(n.unstable_NormalPriority,function(){return ze(d)}),_d=d}Cd=V=!1,'function'==typeof Ie&&Ie(o.stateNode),r=o.expirationTime,o=o.childExpirationTime,o=o>r?o:r,0===o&&(Rd=null),yr(t,o)}function or(n){for(;;){var o=n.alternate,r=n.return,i=n.sibling;if(0==(1024&n.effectTag)){bd=n;a:{var a=o;o=n;var e=vd,d=o.pendingProps;switch(o.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:Je(o.type)&&J(o);break;case 3:zn(o),Ke(o),d=o.stateNode,d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(null===a||null===a.child)&&(so(o),o.effectTag&=-3),ld(o);break;case 5:Wn(o);var c=On(Ts.current);if(e=o.type,null!==a&&null!=o.stateNode)cd(a,o,e,d,c),a.ref!==o.ref&&(o.effectTag|=128);else if(d){var h=On(ks.current);if(so(o)){d=o,a=d.stateNode;var f=d.type,y=d.memoizedProps,m=c;switch(a[Ci]=d,a[bi]=y,e=void 0,c=f,c){case'iframe':case'object':sn('load',a);break;case'video':case'audio':for(f=0;f<Li.length;f++)sn(Li[f],a);break;case'source':sn('error',a);break;case'img':case'image':case'link':sn('error',a),sn('load',a);break;case'form':sn('reset',a),sn('submit',a);break;case'details':sn('toggle',a);break;case'input':Lt(a,y),sn('invalid',a),re(m,'onChange');break;case'select':a._wrapperState={wasMultiple:!!y.multiple},sn('invalid',a),re(m,'onChange');break;case'textarea':be(a,y),sn('invalid',a),re(m,'onChange');}for(e in oe(c,y),f=null,y)y.hasOwnProperty(e)&&(h=y[e],'children'===e?'string'==typeof h?a.textContent!==h&&(f=['children',h]):'number'==typeof h&&a.textContent!==''+h&&(f=['children',''+h]):ei.hasOwnProperty(e)&&null!=h&&re(m,e));switch(c){case'input':Et(a),Nt(a,y,!0);break;case'textarea':Et(a),de(a,y);break;case'select':case'option':break;default:'function'==typeof y.onClick&&(a.onclick=se);}e=f,d.updateQueue=e,d=null!==e,d&&No(o)}else{y=o,a=e,m=d,f=9===c.nodeType?c:c.ownerDocument,h===hs.html&&(h=ee(a)),h===hs.html?'script'===a?(a=f.createElement('div'),a.innerHTML='<script></script>',f=a.removeChild(a.firstChild)):'string'==typeof m.is?f=f.createElement(a,{is:m.is}):(f=f.createElement(a),'select'===a&&m.multiple&&(f.multiple=!0)):f=f.createElementNS(h,a),a=f,a[Ci]=y,a[bi]=d,dd(a,o,!1,!1),m=a,f=e,y=d;var p=c,t=qe(f,y);switch(f){case'iframe':case'object':sn('load',m),c=y;break;case'video':case'audio':for(c=0;c<Li.length;c++)sn(Li[c],m);c=y;break;case'source':sn('error',m),c=y;break;case'img':case'image':case'link':sn('error',m),sn('load',m),c=y;break;case'form':sn('reset',m),sn('submit',m),c=y;break;case'details':sn('toggle',m),c=y;break;case'input':Lt(m,y),c=It(m,y),sn('invalid',m),re(p,'onChange');break;case'option':c=vn(m,y);break;case'select':m._wrapperState={wasMultiple:!!y.multiple},c=Kr({},y,{value:void 0}),sn('invalid',m),re(p,'onChange');break;case'textarea':be(m,y),c=ae(m,y),sn('invalid',m),re(p,'onChange');break;default:c=y;}oe(f,c),h=void 0;var S=f,C=m,b=c;for(h in b)if(b.hasOwnProperty(h)){var u=b[h];'style'===h?ne(C,u):'dangerouslySetInnerHTML'===h?(u=u?u.__html:void 0,null!=u&&ie(C,u)):'children'===h?'string'==typeof u?('textarea'!==S||''!==u)&&he(C,u):'number'==typeof u&&he(C,''+u):'suppressContentEditableWarning'!==h&&'suppressHydrationWarning'!==h&&'autoFocus'!==h&&(ei.hasOwnProperty(h)?null!=u&&re(p,h):null!=u&&Mt(C,h,u,t))}'input'===f?(Et(m),Nt(m,y,!1)):'textarea'===f?(Et(m),de(m,y)):'option'===f?null!=y.value&&m.setAttribute('value',''+At(y.value)):'select'===f?(c=m,c.multiple=!!y.multiple,m=y.value,null==m?null!=y.defaultValue&&En(c,!!y.multiple,y.defaultValue,!0):En(c,!!y.multiple,m,!1)):'function'==typeof c.onClick&&(m.onclick=se),(d=te(e,d))&&No(o),o.stateNode=a}null!==o.ref&&(o.effectTag|=128)}else null===o.stateNode?s('166'):void 0;break;case 6:a&&null!=o.stateNode?pd(a,o,a.memoizedProps,d):('string'!=typeof d&&(null===o.stateNode?s('166'):void 0),a=On(Ts.current),On(ks.current),so(o)?(d=o,e=d.stateNode,a=d.memoizedProps,e[Ci]=d,(d=e.nodeValue!==a)&&No(o)):(e=o,d=(9===a.nodeType?a:a.ownerDocument).createTextNode(d),d[Ci]=o,e.stateNode=d));break;case 11:break;case 13:if(d=o.memoizedState,0!=(64&o.effectTag)){o.expirationTime=e,bd=o;break a}d=null!==d,e=null!==a&&null!==a.memoizedState,null!==a&&!d&&e&&(a=a.child.sibling,null!==a&&(c=o.firstEffect,null===c?(o.firstEffect=o.lastEffect=a,a.nextEffect=null):(o.firstEffect=a,a.nextEffect=c),a.effectTag=8)),(d||e)&&(o.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:zn(o),ld(o);break;case 10:Eo(o);break;case 9:break;case 14:break;case 17:Je(o.type)&&J(o);break;case 18:break;default:s('156');}bd=null}if(o=n,1===vd||1!==o.childExpirationTime){for(d=0,e=o.child;null!==e;)a=e.expirationTime,c=e.childExpirationTime,a>d&&(d=a),c>d&&(d=c),e=e.sibling;o.childExpirationTime=d}if(null!==bd)return bd;null!==r&&0==(1024&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=n.firstEffect),null!==n.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=n.firstEffect),r.lastEffect=n.lastEffect),1<n.effectTag&&(null===r.lastEffect?r.firstEffect=n:r.lastEffect.nextEffect=n,r.lastEffect=n))}else{if(n=Xo(n,vd),null!==n)return n.effectTag&=1023,n;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=1024)}if(null!==i)return i;if(null!==r)n=r;else break}return null}function rr(e){var t=bo(e.alternate,e,vd);return e.memoizedProps=e.pendingProps,null===t&&(t=or(e)),gd.current=null,t}function ir(n,o){Cd?s('243'):void 0,tr(),Cd=!0;var r=fd.current;fd.current=Ks;var i=n.nextExpirationTimeToWorkOn;(i!==vd||n!==T||null===bd)&&(Qo(),T=n,vd=i,bd=We(T.current,null,vd),n.pendingCommitExpirationTime=0);var a=!1;do{try{if(o)for(;null!==bd&&!vr();)bd=rr(bd);else for(;null!==bd;)bd=rr(bd)}catch(o){if(nd=td=ed=null,jn(),null===bd)a=!0,Rr(o);else{null===bd?s('271'):void 0;var e=bd,d=e.return;if(null===d)a=!0,Rr(o);else{a:{var c=n,h=d,l=e,f=o;if(d=vd,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==f&&'object'==typeof f&&'function'==typeof f.then){var u=f;f=h;var p=-1,t=-1;do{if(13===f.tag){var g=f.alternate;if(null!==g&&(g=g.memoizedState,null!==g)){t=10*(1073741822-g.timedOutAt);break}g=f.pendingProps.maxDuration,'number'==typeof g&&(0>=g?p=0:(-1===p||g<p)&&(p=g))}f=f.return}while(null!==f);f=h;do{if((g=13===f.tag)&&(g=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),g){if(h=f.updateQueue,null===h?(h=new Set,h.add(u),f.updateQueue=h):h.add(u),0==(1&f.mode)){f.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:(d=Ro(1073741823),d.tag=id,Po(l,d))),l.expirationTime=1073741823;break a}l=c,h=d;var y=l.pingCache;null===y?(y=l.pingCache=new hd,g=new Set,y.set(u,g)):(g=y.get(u),void 0===g&&(g=new Set,y.set(u,g))),g.has(h)||(g.add(h),l=dr.bind(null,l,u,h),u.then(l,l)),-1===p?c=1073741823:(-1===t&&(t=10*(1073741822-Rn(c,d))-5E3),c=t+p),0<=c&&U<c&&(U=c),f.effectTag|=2048,f.expirationTime=d;break a}f=f.return}while(null!==f);f=Error((Tt(l.type)||'A React component')+' suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.'+_t(l))}Ed=!0,f=Bo(f,l),c=h;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=d,d=qo(c,f,d),Do(c,d);break a;case 1:if(p=f,t=c.type,l=c.stateNode,0==(64&c.effectTag)&&('function'==typeof t.getDerivedStateFromError||null!==l&&'function'==typeof l.componentDidCatch&&(null===Rd||!Rd.has(l)))){c.effectTag|=2048,c.expirationTime=d,d=Yo(c,p,d),Do(c,d);break a}}c=c.return}while(null!==c)}bd=or(e);continue}}}break}while(1);if(Cd=!1,fd.current=r,nd=td=ed=null,jn(),a)T=null,n.finishedWork=null;else if(null!==bd)n.finishedWork=null;else{if(r=n.current.alternate,null===r?s('281'):void 0,T=null,Ed){if(a=n.latestPendingTime,e=n.latestSuspendedTime,d=n.latestPingedTime,0!==a&&a<i||0!==e&&e<i||0!==d&&d<i)return _n(n,i),void fr(n,r,i,n.expirationTime,-1);if(!n.didError&&o)return n.didError=!0,i=n.nextExpirationTimeToWorkOn=i,o=n.expirationTime=1073741823,void fr(n,r,i,o,-1)}o&&-1!==U?(_n(n,i),o=10*(1073741822-Rn(n,i)),o<U&&(U=o),o=10*(1073741822-Sr()),o=U-o,fr(n,r,i,n.expirationTime,0>o?0:o)):(n.pendingCommitExpirationTime=i,n.finishedWork=r)}}function ar(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var o=n.stateNode;if('function'==typeof n.type.getDerivedStateFromError||'function'==typeof o.componentDidCatch&&(null===Rd||!Rd.has(o)))return e=Bo(t,e),e=Yo(n,e,1073741823),Po(n,e),void pr(n,1073741823);break;case 3:return e=Bo(t,e),e=qo(n,e,1073741823),Po(n,e),void pr(n,1073741823);}n=n.return}3===e.tag&&(n=Bo(t,e),n=qo(e,n,1073741823),Po(e,n),pr(e,1073741823))}function sr(e,t){var o=n.unstable_getCurrentPriorityLevel(),r;return 0==(1&t.mode)?r=1073741823:Cd&&!V?r=vd:(o===n.unstable_ImmediatePriority?r=1073741823:o===n.unstable_UserBlockingPriority?r=1073741822-10*((0|(1073741822-e+15)/10)+1):o===n.unstable_NormalPriority?r=1073741822-25*((0|(1073741822-e+500)/25)+1):o===n.unstable_LowPriority||o===n.unstable_IdlePriority?r=1:s('313'),null!==T&&r===vd&&--r),o===n.unstable_UserBlockingPriority&&(0===Z||r<Z)&&(Z=r),r}function dr(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),null!==T&&vd===n?T=null:(t=e.earliestSuspendedTime,o=e.latestSuspendedTime,0!==t&&n<=t&&n>=o)&&(e.didError=!1,t=e.latestPingedTime,(0===t||t>n)&&(e.latestPingedTime=n),xn(n,e),n=e.expirationTime,0!==n&&Cr(e,n))}function lr(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Sr(),t=sr(t,e),e=cr(e,t),null!==e&&(kn(e,t),t=e.expirationTime,0!==t&&Cr(e,t))}function cr(t,n){t.expirationTime<n&&(t.expirationTime=n);var o=t.alternate;null!==o&&o.expirationTime<n&&(o.expirationTime=n);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(o=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),null!==o&&o.childExpirationTime<n&&(o.childExpirationTime=n),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function pr(e,t){e=cr(e,t),null!==e&&(!Cd&&0!==vd&&t>vd&&Qo(),kn(e,t),Cd&&!V&&T===e||Cr(e,e.expirationTime),ji>vi&&(ji=0,s('185')))}function ur(t,o,r,i,a){return n.unstable_runWithPriority(n.unstable_ImmediatePriority,function(){return t(o,r,i,a)})}function mr(){ti=1073741822-(0|(n.unstable_now()-si)/10)}function hr(e,t){if(0!==Y){if(t<Y)return;null!==mi&&n.unstable_cancelCallback(mi)}Y=t,e=n.unstable_now()-si,mi=n.unstable_scheduleCallback(Er,{timeout:10*(1073741822-t)-e})}function fr(t,n,o,r,i){t.expirationTime=r,0!==i||vr()?0<i&&(t.timeoutHandle=ve(gr.bind(null,t,n,o),i)):(t.pendingCommitExpirationTime=o,t.finishedWork=n)}function gr(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,mr(),ui=ti,kr(e,n)}function yr(e,t){e.expirationTime=t,e.finishedWork=null}function Sr(){return ni?ui:(br(),(0===oi||1===oi)&&(mr(),ui=ti),ui)}function Cr(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===li?(Pd=li=e,e.nextScheduledRoot=e):(li=li.nextScheduledRoot=e,li.nextScheduledRoot=Pd)):t>e.expirationTime&&(e.expirationTime=t),ni||(qi?X&&(W=e,oi=1073741823,Tr(e,1073741823,!1)):1073741823===t?wr(1073741823,!1):hr(e,t))}function br(){var t=0,n=null;if(null!==li)for(var o=li,r=Pd,i;null!==r;)if(i=r.expirationTime,0===i){if(null===o||null===li?s('244'):void 0,r===r.nextScheduledRoot){Pd=li=r.nextScheduledRoot=null;break}else if(r===Pd)Pd=i=r.nextScheduledRoot,li.nextScheduledRoot=i,r.nextScheduledRoot=null;else if(r===li){li=o,li.nextScheduledRoot=Pd,r.nextScheduledRoot=null;break}else o.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null;r=o.nextScheduledRoot}else{if(i>t&&(t=i,n=r),r===li)break;if(1073741823==t)break;o=r,r=r.nextScheduledRoot}W=n,oi=t}function vr(){return!!wi||!!n.unstable_shouldYield()&&(wi=!0)}function Er(){try{if(!vr()&&null!==Pd){mr();var e=Pd;do{var t=e.expirationTime;0!==t&&ti<=t&&(e.nextExpirationTimeToWorkOn=ti),e=e.nextScheduledRoot}while(e!==Pd)}wr(0,!0)}finally{wi=!1}}function wr(e,t){if(br(),t)for(mr(),ui=ti;null!==W&&0!==oi&&e<=oi&&!(wi&&ti>oi);)Tr(W,oi,ti>oi),br(),mr(),ui=ti;else for(;null!==W&&0!==oi&&e<=oi;)Tr(W,oi,!1),br();if(t&&(Y=0,mi=null),0!==oi&&hr(W,oi),ji=0,ii=null,null!==Dd)for(e=Dd,Dd=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){gi||(gi=!0,pi=e)}}if(gi)throw e=pi,pi=null,gi=!1,e}function kr(e,t){ni?s('253'):void 0,W=e,oi=t,Tr(e,t,!1),wr(1073741823,!1)}function Tr(e,t,n){if(ni?s('245'):void 0,ni=!0,n){var o=e.finishedWork;null===o?(e.finishedWork=null,o=e.timeoutHandle,-1!==o&&(e.timeoutHandle=-1,ye(o)),ir(e,n),o=e.finishedWork,null!==o&&(vr()?e.finishedWork=o:_r(e,o,t))):_r(e,o,t)}else o=e.finishedWork,null===o?(e.finishedWork=null,o=e.timeoutHandle,-1!==o&&(e.timeoutHandle=-1,ye(o)),ir(e,n),o=e.finishedWork,null!==o&&_r(e,o,t)):_r(e,o,t);ni=!1}function _r(e,t,o){var r=e.firstBatch;return null!==r&&r._expirationTime>=o&&(null==Dd?Dd=[r]:Dd.push(r),r._defer)?(e.finishedWork=t,void(e.expirationTime=0)):void(e.finishedWork=null,e===ii?ji++:(ii=e,ji=0),n.unstable_runWithPriority(n.unstable_ImmediatePriority,function(){nr(e,t)}))}function Rr(e){null===W?s('246'):void 0,W.expirationTime=0,gi||(gi=!0,pi=e)}function xr(e,t){var n=qi;qi=!0;try{return e(t)}finally{(qi=n)||ni||wr(1073741823,!1)}}function Pr(e,t){if(qi&&!X){X=!0;try{return e(t)}finally{X=!1}}return e(t)}function Dr(e,t,o){qi||ni||0===Z||(wr(Z,!1),Z=0);var r=qi;qi=!0;try{return n.unstable_runWithPriority(n.unstable_UserBlockingPriority,function(){return e(t,o)})}finally{(qi=r)||ni||wr(1073741823,!1)}}function Mr(t,n,o,r,i){var e=n.current;a:if(o){o=o._reactInternalFiber;b:{2===Jt(o)&&1===o.tag?void 0:s('170');var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break b;case 1:if(Je(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break b}}d=d.return}while(null!==d);s('171'),d=void 0}if(1===o.tag){var l=o.type;if(Je(l)){o=Me(o,l,d);break a}}o=d}else o=Ge;return null===n.context?n.context=o:n.pendingContext=o,n=i,i=Ro(r),i.payload={element:t},n=void 0===n?null:n,null!==n&&(i.callback=n),tr(),Po(e,i),pr(e,r),r}function Ar(t,n,o,r){var i=n.current,e=Sr();return i=sr(e,i),Mr(t,n,o,i,r)}function Ir(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode;}}function Lr(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:la,key:null==o?null:''+o,children:e,containerInfo:t,implementation:n}}function Fr(e){var t=1073741822-25*((0|(1073741822-Sr()+500)/25)+1);t>=yd&&(t=yd-1),this._expirationTime=yd=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Br(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Nr(e,t,n){t=Ue(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Or(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&' react-mount-point-unstable '===e.nodeValue)}function Hr(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=t&&1===t.nodeType&&t.hasAttribute('data-reactroot')),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Nr(e,!1,t)}function zr(t,n,o,r,i){var s=o._reactRootContainer;if(s){if('function'==typeof i){var d=i;i=function(){var e=Ir(s._internalRoot);d.call(e)}}null==t?s.render(n,i):s.legacy_renderSubtreeIntoContainer(t,n,i)}else{if(s=o._reactRootContainer=Hr(o,r),'function'==typeof i){var l=i;i=function(){var e=Ir(s._internalRoot);l.call(e)}}Pr(function(){null==t?s.render(n,i):s.legacy_renderSubtreeIntoContainer(t,n,i)})}return Ir(s._internalRoot)}function Ur(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Or(t)?void 0:s('200'),Lr(e,t,null,n)}var Wr=String.fromCharCode,Vr=Math.min,Gr=o(0),Kr=o(183),n=o(788);Gr?void 0:s('227');var r=!1,jr=null,qr=!1,Yr=null,Xr={onError:function(e){r=!0,jr=e}},Qr=null,$r={},Zr=[],Jr={},ei={},ai={},di=null,ci=null,hi=null,fi=null,yi={injectEventPluginOrder:function(e){Qr?s('101'):void 0,Qr=Array.prototype.slice.call(e),p()},injectEventPluginsByName:function(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var o=e[n];$r.hasOwnProperty(n)&&$r[n]===o||($r[n]?s('102',n):void 0,$r[n]=o,t=!0)}t&&p()}},Si=Math.random().toString(36).slice(2),Ci='__reactInternalInstance$'+Si,bi='__reactEventHandlers$'+Si,ki='undefined'!=typeof window&&window.document&&window.document.createElement,_i={animationend:$('Animation','AnimationEnd'),animationiteration:$('Animation','AnimationIteration'),animationstart:$('Animation','AnimationStart'),transitionend:$('Transition','TransitionEnd')},Ri={},xi={};ki&&(xi=document.createElement('div').style,'AnimationEvent'in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),'TransitionEvent'in window||delete _i.transitionend.transition);var Pi=_e('animationend'),Di=_e('animationiteration'),Mi=_e('animationstart'),Ai=_e('transitionend'),Li=['abort','canplay','canplaythrough','durationchange','emptied','encrypted','ended','error','loadeddata','loadedmetadata','loadstart','pause','play','playing','progress','ratechange','seeked','seeking','stalled','suspend','timeupdate','volumechange','waiting'],Fi=null,Bi=null,Ni=null;Kr(ot.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():'unknown'!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():'unknown'!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tt)},persist:function(){this.isPersistent=tt},isPersistent:nt,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=nt,this._dispatchInstances=this._dispatchListeners=null}}),ot.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ot.extend=function(t){function n(){}function o(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var i=new n;return Kr(i,o.prototype),o.prototype=i,o.prototype.constructor=o,o.Interface=Kr({},r.Interface,t),o.extend=r.extend,it(o),o},it(ot);var Oi=ot.extend({data:null}),Hi=ot.extend({data:null}),zi=[9,13,27,32],Ui=ki&&'CompositionEvent'in window,Ki=null;ki&&'documentMode'in document&&(Ki=document.documentMode);var Yi=ki&&'TextEvent'in window&&!Ki,Qi=ki&&(!Ui||Ki&&8<Ki&&11>=Ki),$i=' ',Zi={beforeInput:{phasedRegistrationNames:{bubbled:'onBeforeInput',captured:'onBeforeInputCapture'},dependencies:['compositionend','keypress','textInput','paste']},compositionEnd:{phasedRegistrationNames:{bubbled:'onCompositionEnd',captured:'onCompositionEndCapture'},dependencies:['blur','compositionend','keydown','keypress','keyup','mousedown']},compositionStart:{phasedRegistrationNames:{bubbled:'onCompositionStart',captured:'onCompositionStartCapture'},dependencies:['blur','compositionstart','keydown','keypress','keyup','mousedown']},compositionUpdate:{phasedRegistrationNames:{bubbled:'onCompositionUpdate',captured:'onCompositionUpdateCapture'},dependencies:['blur','compositionupdate','keydown','keypress','keyup','mousedown']}},Ji=!1,ea=!1,ta=null,na=null,oa=null,ra=!1,ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},aa=Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;aa.hasOwnProperty('ReactCurrentDispatcher')||(aa.ReactCurrentDispatcher={current:null});var sa=/^(.*)[\\\/]/,da='function'==typeof Symbol&&Symbol.for,z=da?Symbol.for('react.element'):60103,la=da?Symbol.for('react.portal'):60106,ca=da?Symbol.for('react.fragment'):60107,pa=da?Symbol.for('react.strict_mode'):60108,ua=da?Symbol.for('react.profiler'):60114,ma=da?Symbol.for('react.provider'):60109,ha=da?Symbol.for('react.context'):60110,fa=da?Symbol.for('react.concurrent_mode'):60111,ga=da?Symbol.for('react.forward_ref'):60112,ya=da?Symbol.for('react.suspense'):60113,Sa=da?Symbol.for('react.memo'):60115,Ca=da?Symbol.for('react.lazy'):60116,ba='function'==typeof Symbol&&Symbol.iterator,va=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ea=Object.prototype.hasOwnProperty,wa={},ka={},Ta={};['children','dangerouslySetInnerHTML','defaultValue','defaultChecked','innerHTML','suppressContentEditableWarning','suppressHydrationWarning','style'].forEach(function(e){Ta[e]=new Dt(e,0,!1,e,null)}),[['acceptCharset','accept-charset'],['className','class'],['htmlFor','for'],['httpEquiv','http-equiv']].forEach(function(e){var t=e[0];Ta[t]=new Dt(t,1,!1,e[1],null)}),['contentEditable','draggable','spellCheck','value'].forEach(function(e){Ta[e]=new Dt(e,2,!1,e.toLowerCase(),null)}),['autoReverse','externalResourcesRequired','focusable','preserveAlpha'].forEach(function(e){Ta[e]=new Dt(e,2,!1,e,null)}),['allowFullScreen','async','autoFocus','autoPlay','controls','default','defer','disabled','formNoValidate','hidden','loop','noModule','noValidate','open','playsInline','readOnly','required','reversed','scoped','seamless','itemScope'].forEach(function(e){Ta[e]=new Dt(e,3,!1,e.toLowerCase(),null)}),['checked','multiple','muted','selected'].forEach(function(e){Ta[e]=new Dt(e,3,!0,e,null)}),['capture','download'].forEach(function(e){Ta[e]=new Dt(e,4,!1,e,null)}),['cols','rows','size','span'].forEach(function(e){Ta[e]=new Dt(e,6,!1,e,null)}),['rowSpan','start'].forEach(function(e){Ta[e]=new Dt(e,5,!1,e.toLowerCase(),null)});var D=/[\-:]([a-z])/g;['accent-height','alignment-baseline','arabic-form','baseline-shift','cap-height','clip-path','clip-rule','color-interpolation','color-interpolation-filters','color-profile','color-rendering','dominant-baseline','enable-background','fill-opacity','fill-rule','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','glyph-name','glyph-orientation-horizontal','glyph-orientation-vertical','horiz-adv-x','horiz-origin-x','image-rendering','letter-spacing','lighting-color','marker-end','marker-mid','marker-start','overline-position','overline-thickness','paint-order','panose-1','pointer-events','rendering-intent','shape-rendering','stop-color','stop-opacity','strikethrough-position','strikethrough-thickness','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke-width','text-anchor','text-decoration','text-rendering','underline-position','underline-thickness','unicode-bidi','unicode-range','units-per-em','v-alphabetic','v-hanging','v-ideographic','v-mathematical','vector-effect','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing','writing-mode','xmlns:xlink','x-height'].forEach(function(e){var t=e.replace(D,C);Ta[t]=new Dt(t,1,!1,e,null)}),['xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type'].forEach(function(e){var t=e.replace(D,C);Ta[t]=new Dt(t,1,!1,e,'http://www.w3.org/1999/xlink')}),['xml:base','xml:lang','xml:space'].forEach(function(e){var t=e.replace(D,C);Ta[t]=new Dt(t,1,!1,e,'http://www.w3.org/XML/1998/namespace')}),['tabIndex','crossOrigin'].forEach(function(e){Ta[e]=new Dt(e,1,!1,e.toLowerCase(),null)});var _a={change:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'},dependencies:['blur','change','click','focus','input','keydown','keyup','selectionchange']}},xa=null,Pa=null,Da=!1;ki&&(Da=Ct('input')&&(!document.documentMode||9<document.documentMode));var Ma={eventTypes:_a,_isInputEventSupported:Da,extractEvents:function(t,n,o,r){var i=n?R(n):window,e=i.nodeName&&i.nodeName.toLowerCase(),a,s;return'select'===e||'input'===e&&'file'===i.type?a=Wt:yt(i)?Da?a=Yt:(a=jt,s=Kt):(e=i.nodeName)&&'input'===e.toLowerCase()&&('checkbox'===i.type||'radio'===i.type)&&(a=qt),a&&(a=a(t,n))?Ht(a,o,r):void(s&&s(t,i,n),'blur'===t&&(t=i._wrapperState)&&t.controlled&&'number'===i.type&&Ot(i,'number',i.value))}},Aa=ot.extend({view:null,detail:null}),Ia={Alt:'altKey',Control:'ctrlKey',Meta:'metaKey',Shift:'shiftKey'},La=0,Fa=0,Ba=!1,Na=!1,Oa=Aa.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if('movementX'in e)return e.movementX;var t=La;return La=e.screenX,Ba?'mousemove'===e.type?e.screenX-t:0:(Ba=!0,0)},movementY:function(e){if('movementY'in e)return e.movementY;var t=Fa;return Fa=e.screenY,Na?'mousemove'===e.type?e.screenY-t:0:(Na=!0,0)}}),za=Oa.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ua={mouseEnter:{registrationName:'onMouseEnter',dependencies:['mouseout','mouseover']},mouseLeave:{registrationName:'onMouseLeave',dependencies:['mouseout','mouseover']},pointerEnter:{registrationName:'onPointerEnter',dependencies:['pointerout','pointerover']},pointerLeave:{registrationName:'onPointerLeave',dependencies:['pointerout','pointerover']}},Wa=Object.prototype.hasOwnProperty,Va=ot.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ga=ot.extend({clipboardData:function(e){return'clipboardData'in e?e.clipboardData:window.clipboardData}}),Ka=Aa.extend({relatedTarget:null}),ja={Esc:'Escape',Spacebar:' ',Left:'ArrowLeft',Up:'ArrowUp',Right:'ArrowRight',Down:'ArrowDown',Del:'Delete',Win:'OS',Menu:'ContextMenu',Apps:'ContextMenu',Scroll:'ScrollLock',MozPrintableKey:'Unidentified'},qa={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'},Ya=Aa.extend({key:function(e){if(e.key){var t=ja[e.key]||e.key;if('Unidentified'!==t)return t}return'keypress'===e.type?(e=on(e),13===e?'Enter':Wr(e)):'keydown'===e.type||'keyup'===e.type?qa[e.keyCode]||'Unidentified':''},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qt,charCode:function(e){return'keypress'===e.type?on(e):0},keyCode:function(e){return'keydown'===e.type||'keyup'===e.type?e.keyCode:0},which:function(e){return'keypress'===e.type?on(e):'keydown'===e.type||'keyup'===e.type?e.keyCode:0}}),Xa=Oa.extend({dataTransfer:null}),Qa=Aa.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qt}),$a=ot.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Za=Oa.extend({deltaX:function(e){return'deltaX'in e?e.deltaX:'wheelDeltaX'in e?-e.wheelDeltaX:0},deltaY:function(e){return'deltaY'in e?e.deltaY:'wheelDeltaY'in e?-e.wheelDeltaY:'wheelDelta'in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ja={},es={};[['blur','blur'],['cancel','cancel'],['click','click'],['close','close'],['contextmenu','contextMenu'],['copy','copy'],['cut','cut'],['auxclick','auxClick'],['dblclick','doubleClick'],['dragend','dragEnd'],['dragstart','dragStart'],['drop','drop'],['focus','focus'],['input','input'],['invalid','invalid'],['keydown','keyDown'],['keypress','keyPress'],['keyup','keyUp'],['mousedown','mouseDown'],['mouseup','mouseUp'],['paste','paste'],['pause','pause'],['play','play'],['pointercancel','pointerCancel'],['pointerdown','pointerDown'],['pointerup','pointerUp'],['ratechange','rateChange'],['reset','reset'],['seeked','seeked'],['submit','submit'],['touchcancel','touchCancel'],['touchend','touchEnd'],['touchstart','touchStart'],['volumechange','volumeChange']].forEach(function(e){rn(e,!0)}),[['abort','abort'],[Pi,'animationEnd'],[Di,'animationIteration'],[Mi,'animationStart'],['canplay','canPlay'],['canplaythrough','canPlayThrough'],['drag','drag'],['dragenter','dragEnter'],['dragexit','dragExit'],['dragleave','dragLeave'],['dragover','dragOver'],['durationchange','durationChange'],['emptied','emptied'],['encrypted','encrypted'],['ended','ended'],['error','error'],['gotpointercapture','gotPointerCapture'],['load','load'],['loadeddata','loadedData'],['loadedmetadata','loadedMetadata'],['loadstart','loadStart'],['lostpointercapture','lostPointerCapture'],['mousemove','mouseMove'],['mouseout','mouseOut'],['mouseover','mouseOver'],['playing','playing'],['pointermove','pointerMove'],['pointerout','pointerOut'],['pointerover','pointerOver'],['progress','progress'],['scroll','scroll'],['seeking','seeking'],['stalled','stalled'],['suspend','suspend'],['timeupdate','timeUpdate'],['toggle','toggle'],['touchmove','touchMove'],[Ai,'transitionEnd'],['waiting','waiting'],['wheel','wheel']].forEach(function(e){rn(e,!1)});var ts={eventTypes:Ja,isInteractiveTopLevelEventType:function(e){return e=es[e],void 0!==e&&!0===e.isInteractive},extractEvents:function(t,n,o,r){var i=es[t];if(!i)return null;switch(t){case'keypress':if(0===on(o))return null;case'keydown':case'keyup':t=Ya;break;case'blur':case'focus':t=Ka;break;case'click':if(2===o.button)return null;case'auxclick':case'dblclick':case'mousedown':case'mousemove':case'mouseup':case'mouseout':case'mouseover':case'contextmenu':t=Oa;break;case'drag':case'dragend':case'dragenter':case'dragexit':case'dragleave':case'dragover':case'dragstart':case'drop':t=Xa;break;case'touchcancel':case'touchend':case'touchmove':case'touchstart':t=Qa;break;case Pi:case Di:case Mi:t=Va;break;case Ai:t=$a;break;case'scroll':t=Aa;break;case'wheel':t=Za;break;case'copy':case'cut':case'paste':t=Ga;break;case'gotpointercapture':case'lostpointercapture':case'pointercancel':case'pointerdown':case'pointermove':case'pointerout':case'pointerover':case'pointerup':t=za;break;default:t=ot;}return n=t.getPooled(i,n,o,r),q(n),n}},ns=ts.isInteractiveTopLevelEventType,os=[],rs=!0,is={},as=0,ss='_reactListenersID'+(''+Math.random()).slice(2),ds=ki&&'documentMode'in document&&11>=document.documentMode,ls={select:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'},dependencies:['blur','contextmenu','dragend','focus','keydown','keyup','mousedown','mouseup','selectionchange']}},cs=null,ps=null,us=null,ms=!1;yi.injectEventPluginOrder(['ResponderEventPlugin','SimpleEventPlugin','EnterLeaveEventPlugin','ChangeEventPlugin','SelectEventPlugin','BeforeInputEventPlugin']),di=b,ci=g,hi=R,yi.injectEventPluginsByName({SimpleEventPlugin:ts,EnterLeaveEventPlugin:{eventTypes:Ua,extractEvents:function(t,n,o,r){var i='mouseover'===t||'pointerover'===t,a='mouseout'===t||'pointerout'===t;if(i&&(o.relatedTarget||o.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=n,n=(n=o.relatedTarget||o.toElement)?_(n):null):a=null,a===n)return null;var s,d,c,l;'mouseout'===t||'mouseover'===t?(s=Oa,d=Ua.mouseLeave,c=Ua.mouseEnter,l='mouse'):('pointerout'===t||'pointerover'===t)&&(s=za,d=Ua.pointerLeave,c=Ua.pointerEnter,l='pointer');var p=null==a?i:R(a);if(i=null==n?i:R(n),t=s.getPooled(d,a,o,r),t.type=l+'leave',t.target=p,t.relatedTarget=i,o=s.getPooled(c,n,o,r),o.type=l+'enter',o.target=i,o.relatedTarget=p,r=n,a&&r)a:{for(n=a,i=r,l=0,s=n;s;s=x(s))l++;for(s=0,c=i;c;c=x(c))s++;for(;0<l-s;)n=x(n),l--;for(;0<s-l;)i=x(i),s--;for(;l--;){if(n===i||n===i.alternate)break a;n=x(n),i=x(i)}n=null}else n=null;for(i=n,n=[];a&&a!==i&&(l=a.alternate,null===l||l!==i);)n.push(a),a=x(a);for(a=[];r&&r!==i&&(l=r.alternate,null===l||l!==i);)a.push(r),r=x(r);for(r=0;r<n.length;r++)B(n[r],'bubbled',t);for(r=a.length;0<r--;)B(a[r],'captured',o);return[t,o]}},ChangeEventPlugin:Ma,SelectEventPlugin:{eventTypes:ls,extractEvents:function(t,n,o,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument,a;if(!(a=!i)){a:{i=cn(i),a=ai.onSelect;for(var s=0,d;s<a.length;s++)if(d=a[s],!i.hasOwnProperty(d)||!i[d]){i=!1;break a}i=!0}a=!i}if(a)return null;switch(i=n?R(n):window,t){case'focus':(yt(i)||'true'===i.contentEditable)&&(cs=i,ps=n,us=null);break;case'blur':us=ps=cs=null;break;case'mousedown':ms=!0;break;case'contextmenu':case'mouseup':case'dragend':return ms=!1,Cn(o,r);case'selectionchange':if(ds)break;case'keydown':case'keyup':return Cn(o,r);}return null}},BeforeInputEventPlugin:{eventTypes:Zi,extractEvents:function(t,n,o,r){var i=void 0,e=void 0;if(Ui)b:'compositionstart'===t?i=Zi.compositionStart:'compositionend'===t?i=Zi.compositionEnd:'compositionupdate'===t?i=Zi.compositionUpdate:void 0,i=void 0;else ea?at(t,o)&&(i=Zi.compositionEnd):'keydown'===t&&229===o.keyCode&&(i=Zi.compositionStart);return i?(Qi&&'ko'!==o.locale&&(ea||i!==Zi.compositionStart?i===Zi.compositionEnd&&ea&&(e=et()):(Fi=r,Bi='value'in Fi?Fi.value:Fi.textContent,ea=!0)),i=Oi.getPooled(i,n,o,r),e?i.data=e:(e=st(o),null!==e&&(i.data=e)),q(i),e=i):e=null,(t=Yi?dt(t,o):lt(t,o))?(n=Hi.getPooled(Zi.beforeInput,n,o,r),n.data=t,q(n)):n=null,null===e?n:null===n?e:[e,n]}}});var hs={html:'http://www.w3.org/1999/xhtml',mathml:'http://www.w3.org/1998/Math/MathML',svg:'http://www.w3.org/2000/svg'},fe=void 0,ie=function(t){return'undefined'!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,o,r,i){MSApp.execUnsafeLocalFunction(function(){return t(n,o,r,i)})}:t}(function(e,t){if(e.namespaceURI!==hs.svg||'innerHTML'in e)e.innerHTML=t;else{for(fe=fe||document.createElement('div'),fe.innerHTML='<svg>'+t+'</svg>',t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},le=['Webkit','ms','Moz','O'];Object.keys(je).forEach(function(e){le.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),je[t]=je[e]})});var me=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),pe=null,fs=null,ve='function'==typeof setTimeout?setTimeout:void 0,ye='function'==typeof clearTimeout?clearTimeout:void 0,ze=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback;new Set;var Be=[],Fe=-1,Ge={},gs={current:Ge},H={current:!1},I=Ge,Ie=null,ys=null,Ss=new Gr.Component().refs,Cs={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Jt(e)},enqueueSetState:function(t,n,o){t=t._reactInternalFiber;var r=Sr();r=sr(r,t);var i=Ro(r);i.payload=n,void 0!==o&&null!==o&&(i.callback=o),tr(),Po(t,i),pr(t,r)},enqueueReplaceState:function(t,n,o){t=t._reactInternalFiber;var r=Sr();r=sr(r,t);var i=Ro(r);i.tag=rd,i.payload=n,void 0!==o&&null!==o&&(i.callback=o),tr(),Po(t,i),pr(t,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Sr();n=sr(n,e);var o=Ro(n);o.tag=id,void 0!==t&&null!==t&&(o.callback=t),tr(),Po(e,o),pr(e,n)}},bs=Array.isArray,vs=Nn(!0),Es=Nn(!1),ws={},ks={current:ws},N={current:ws},Ts={current:ws},_s=0,Rs=2,xs=4,Ps=8,Ds=16,Ms=32,As=64,Is=128,Ls=aa.ReactCurrentDispatcher,Fs=0,Bs=null,Ns=null,O=null,P=null,Os=null,Q=null,Hs=0,zs=null,Us=0,Ws=!1,Vs=null,Gs=0,Ks={readContext:ko,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn},js={readContext:ko,useCallback:function(e,t){return qn().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:function(e,t){return Zn(516,Is|As,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zn(4,xs|Ms,eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zn(4,xs|Ms,e,t)},useMemo:function(e,t){var n=qn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=qn();return t=void 0===n?t:n(t),o.memoizedState=o.baseState=t,e=o.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t},e=e.dispatch=no.bind(null,Bs,e),[o.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:function(e){var t=qn();return'function'==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={last:null,dispatch:null,eagerReducer:Xn,eagerState:e},e=e.dispatch=no.bind(null,Bs,e),[t.memoizedState,e]},useDebugValue:to},qs={readContext:ko,useCallback:function(e,t){var n=Yn();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Gn(t,o[1])?o[0]:(n.memoizedState=[e,t],e)},useContext:ko,useEffect:function(e,t){return Jn(516,Is|As,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Jn(4,xs|Ms,eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jn(4,xs|Ms,e,t)},useMemo:function(e,t){var n=Yn();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&Gn(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Qn,useRef:function(){return Yn().memoizedState},useState:function(e){return Qn(Xn,e)},useDebugValue:to},Ys=null,Xs=null,Qs=!1,$s=aa.ReactCurrentOwner,Zs=!1,Js={current:null},ed=null,td=null,nd=null,od=0,rd=1,id=2,ad=3,sd=!1,dd=void 0,ld=void 0,cd=void 0,pd=void 0;dd=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ld=function(){},cd=function(t,n,o,r,i){var e=t.memoizedProps;if(e!==r){var a=n.stateNode;On(ks.current),t=null;'input'===o?(e=It(a,e),r=It(a,r),t=[]):'option'===o?(e=vn(a,e),r=vn(a,r),t=[]):'select'===o?(e=Kr({},e,{value:void 0}),r=Kr({},r,{value:void 0}),t=[]):'textarea'===o?(e=ae(a,e),r=ae(a,r),t=[]):'function'!=typeof e.onClick&&'function'==typeof r.onClick&&(a.onclick=se);oe(o,r),a=o=void 0;var s=null;for(o in e)if(!r.hasOwnProperty(o)&&e.hasOwnProperty(o)&&null!=e[o])if('style'===o){var d=e[o];for(a in d)d.hasOwnProperty(a)&&(s||(s={}),s[a]='')}else'dangerouslySetInnerHTML'!==o&&'children'!==o&&'suppressContentEditableWarning'!==o&&'suppressHydrationWarning'!==o&&'autoFocus'!==o&&(ei.hasOwnProperty(o)?t||(t=[]):(t=t||[]).push(o,null));for(o in r){var l=r[o];if(d=null==e?void 0:e[o],r.hasOwnProperty(o)&&l!==d&&(null!=l||null!=d))if('style'!==o)'dangerouslySetInnerHTML'===o?(l=l?l.__html:void 0,d=d?d.__html:void 0,null!=l&&d!==l&&(t=t||[]).push(o,''+l)):'children'===o?d===l||'string'!=typeof l&&'number'!=typeof l||(t=t||[]).push(o,''+l):'suppressContentEditableWarning'!==o&&'suppressHydrationWarning'!==o&&(ei.hasOwnProperty(o)?(null!=l&&re(i,o),t||d===l||(t=[])):(t=t||[]).push(o,l));else if(d){for(a in d)!d.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(s||(s={}),s[a]='');for(a in l)l.hasOwnProperty(a)&&d[a]!==l[a]&&(s||(s={}),s[a]=l[a])}else s||(t||(t=[]),t.push(o,s)),s=l}s&&(t=t||[]).push('style',s),i=t,(n.updateQueue=i)&&No(n)}},pd=function(e,t,n,o){n!==o&&No(t)};var md='function'==typeof WeakSet?WeakSet:Set,hd='function'==typeof WeakMap?WeakMap:Map,fd=aa.ReactCurrentDispatcher,gd=aa.ReactCurrentOwner,yd=1073741822,Cd=!1,bd=null,T=null,vd=0,U=-1,Ed=!1,wd=null,V=!1,kd=null,Td=null,_d=null,Rd=null,Pd=null,li=null,Y=0,mi=void 0,ni=!1,W=null,oi=0,Z=0,gi=!1,pi=null,qi=!1,X=!1,Dd=null,si=n.unstable_now(),ti=1073741822-(0|si/10),ui=ti,vi=50,ji=0,ii=null,wi=!1;ta=function(t,n,o){switch(n){case'input':if(Bt(t,o),n=o.name,'radio'===o.type&&null!=n){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name='+JSON.stringify(''+n)+'][type="radio"]'),n=0;n<o.length;n++){var r=o[n];if(r!==t&&r.form===t.form){var i=b(r);i?void 0:s('90'),wt(r),Bt(r,i)}}}break;case'textarea':ce(t,o);break;case'select':n=o.value,null!=n&&En(t,!!o.multiple,n,!1);}},Fr.prototype.render=function(e){this._defer?void 0:s('250'),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,o=new Br;return Mr(e,t,null,n,o._onCommit),o},Fr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fr.prototype.commit=function(){var t=this._root._internalRoot,n=t.firstBatch;if(this._defer&&null!==n?void 0:s('251'),this._hasChildren){var o=this._expirationTime;if(n!==this){this._hasChildren&&(o=this._expirationTime=n._expirationTime,this.render(this._children));for(var r=null,i=n;i!==this;)r=i,i=i._next;null===r?s('251'):void 0,r._next=i._next,this._next=n,t.firstBatch=this}this._defer=!1,kr(t,o),n=this._next,this._next=null,n=t.firstBatch=n,null!==n&&n._hasChildren&&n.render(n._children)}else this._next=null,this._defer=!1},Fr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Br.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Br.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0,n;t<e.length;t++)n=e[t],'function'==typeof n?void 0:s('191',n),n()}},Nr.prototype.render=function(e,t){var n=this._internalRoot,o=new Br;return t=void 0===t?null:t,null!==t&&o.then(t),Ar(e,n,null,o._onCommit),o},Nr.prototype.unmount=function(e){var t=this._internalRoot,n=new Br;return e=void 0===e?null:e,null!==e&&n.then(e),Ar(null,t,null,n._onCommit),n},Nr.prototype.legacy_renderSubtreeIntoContainer=function(t,n,o){var r=this._internalRoot,i=new Br;return o=void 0===o?null:o,null!==o&&i.then(o),Ar(n,r,t,i._onCommit),i},Nr.prototype.createBatch=function(){var e=new Fr(this),t=e._expirationTime,n=this._internalRoot,o=n.firstBatch;if(null===o)n.firstBatch=e,e._next=null;else{for(n=null;null!==o&&o._expirationTime>=t;)n=o,o=o._next;e._next=o,null!==n&&(n._next=e)}return e},mt=xr,ht=Dr,ft=function(){ni||0===Z||(wr(Z,!1),Z=0)};var Md={createPortal:Ur,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&('function'==typeof e.render?s('188'):s('268',Object.keys(e))),e=nn(t),e=null===e?null:e.stateNode,e},hydrate:function(e,t,n){return Or(t)?void 0:s('200'),zr(null,e,t,!0,n)},render:function(e,t,n){return Or(t)?void 0:s('200'),zr(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,o){return Or(n)?void 0:s('200'),null==e||void 0===e._reactInternalFiber?s('38'):void 0,zr(e,t,n,!1,o)},unmountComponentAtNode:function(e){return Or(e)?void 0:s('40'),!!e._reactRootContainer&&(Pr(function(){zr(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ur.apply(void 0,arguments)},unstable_batchedUpdates:xr,unstable_interactiveUpdates:Dr,flushSync:function(e,t){ni?s('187'):void 0;var n=qi;qi=!0;try{return ur(e,t)}finally{qi=n,wr(1073741823,!1)}},unstable_createRoot:function(e,t){return Or(e)?void 0:s('299','unstable_createRoot'),new Nr(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=qi;qi=!0;try{ur(e)}finally{(qi=t)||ni||wr(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[g,R,b,yi.injectEventPluginsByName,Jr,q,function(e){c(e,j)},pt,ut,ln,w]}};(function(e){var t=e.findFiberByHostInstance;return Se(Kr({},e,{overrideProps:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nn(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))})({findFiberByHostInstance:_,bundleType:0,version:'16.8.4',rendererPackageName:'react-dom'});var Ad={default:Md},Wi=Ad&&Md||Ad;e.exports=Wi.default||Wi},function(e,o,i){'use strict';/** @license React v16.8.4
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function s(t,n,o,r,i,e,s,d){if(!t){if(t=void 0,void 0===n)t=Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var c=[o,r,i,e,s,d],l=0;t=Error(n.replace(/%s/g,function(){return c[l++]})),t.name='Invariant Violation'}throw t.framesToPop=1,t}}function _(e){for(var t=arguments.length-1,n='https://reactjs.org/docs/error-decoder.html?invariant='+e,o=0;o<t;o++)n+='&args[]='+encodeURIComponent(arguments[o+1]);s(!1,'Minified React error #'+e+'; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ',n)}function a(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||A}function d(){}function l(e,t,n){this.props=e,this.context=t,this.refs=C,this.updater=n||A}function c(t,o,r){var i={},s=null,d=null,u;if(null!=o)for(u in void 0!==o.ref&&(d=o.ref),void 0!==o.key&&(s=''+o.key),o)ce.call(o,u)&&!K.hasOwnProperty(u)&&(i[u]=o[u]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var f=Array(c),l=0;l<c;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(u in c=t.defaultProps,c)void 0===i[u]&&(i[u]=c[u]);return{$$typeof:n,type:t,key:s,ref:d,props:i,_owner:le.current}}function m(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h(e){return'object'==typeof e&&null!==e&&e.$$typeof===n}function f(e){var t={"=":'=0',":":'=2'};return'$'+(''+e).replace(/[=:]/g,function(e){return t[e]})}function F(t,n,o,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=n,i.func=o,i.context=r,i.count=0,i}return{result:t,keyPrefix:n,func:o,context:r,count:0}}function B(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function R(t,o,r,i){var s=typeof t;('undefined'===s||'boolean'===s)&&(t=null);var e=!1;if(null===t)e=!0;else switch(s){case'string':case'number':e=!0;break;case'object':switch(t.$$typeof){case n:case Q:e=!0;}}if(e)return r(i,t,''===o?'.'+U(t,0):o),1;if(e=0,o=''===o?'.':o+':',Array.isArray(t))for(var d=0;d<t.length;d++){s=t[d];var l=o+U(s,d);e+=R(s,l,r,i)}else if(null===t||'object'!=typeof t?l=null:(l=de&&t[de]||t['@@iterator'],l='function'==typeof l?l:null),'function'==typeof l)for(t=l.call(t),d=0;!(s=t.next()).done;)s=s.value,l=o+U(s,d++),e+=R(s,l,r,i);else'object'===s&&(r=''+t,_('31','[object Object]'===r?'object with keys {'+Object.keys(t).join(', ')+'}':r,''));return e}function S(e,t,n){return null==e?0:R(e,'',t,n)}function U(e,t){return'object'==typeof e&&null!==e&&null!=e.key?f(e.key):t.toString(36)}function g(e,t){e.func.call(e.context,t,e.count++)}function T(t,n,o){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,n,t.count++),Array.isArray(t)?j(t,r,o,function(e){return e}):null!=t&&(h(t)&&(t=m(t,i+(!t.key||n&&n.key===t.key?'':(''+t.key).replace(L,'$&/')+'/')+o)),r.push(t))}function j(t,n,o,r,i){var e='';null!=o&&(e=(''+o).replace(L,'$&/')+'/'),n=F(n,e,r,i),S(t,T,n),B(n)}function V(){var e=H.current;return null===e?_('307'):void 0,e}var W=i(183),b='function'==typeof Symbol&&Symbol.for,n=b?Symbol.for('react.element'):60103,Q=b?Symbol.for('react.portal'):60106,q=b?Symbol.for('react.fragment'):60107,$=b?Symbol.for('react.strict_mode'):60108,ee=b?Symbol.for('react.profiler'):60114,te=b?Symbol.for('react.provider'):60109,ne=b?Symbol.for('react.context'):60110,oe=b?Symbol.for('react.concurrent_mode'):60111,re=b?Symbol.for('react.forward_ref'):60112,ie=b?Symbol.for('react.suspense'):60113,ae=b?Symbol.for('react.memo'):60115,se=b?Symbol.for('react.lazy'):60116,de='function'==typeof Symbol&&Symbol.iterator,A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};a.prototype.isReactComponent={},a.prototype.setState=function(e,t){'object'!=typeof e&&'function'!=typeof e&&null!=e?_('85'):void 0,this.updater.enqueueSetState(this,e,t,'setState')},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,'forceUpdate')},d.prototype=a.prototype;var D=l.prototype=new d;D.constructor=l,W(D,a.prototype),D.isPureReactComponent=!0;var H={current:null},le={current:null},ce=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0},L=/\/+/g,O=[],P={Children:{map:function(e,t,n){if(null==e)return e;var o=[];return j(e,o,null,t,n),o},forEach:function(e,t,n){return null==e?e:void(t=F(null,null,t,n),S(e,g,t),B(t))},count:function(e){return S(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){return h(e)?void 0:_('143'),e}},createRef:function(){return{current:null}},Component:a,PureComponent:l,createContext:function(e,t){return void 0===t&&(t=null),e={$$typeof:ne,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:te,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:re,render:e}},lazy:function(e){return{$$typeof:se,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:ae,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:q,StrictMode:$,Suspense:ie,createElement:c,cloneElement:function(t,o,r){null===t||void 0===t?_('267',t):void 0;var i=W({},t.props),a=t.key,s=t.ref,d=t._owner,u;if(null!=o){void 0!==o.ref&&(s=o.ref,d=le.current),void 0!==o.key&&(a=''+o.key);var c;for(u in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),o)ce.call(o,u)&&!K.hasOwnProperty(u)&&(i[u]=void 0===o[u]&&void 0!==c?c[u]:o[u])}if(u=arguments.length-2,1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:t.type,key:a,ref:s,props:i,_owner:d}},createFactory:function(e){var t=c.bind(null,e);return t.type=e,t},isValidElement:h,version:'16.8.4',unstable_ConcurrentMode:oe,unstable_Profiler:ee,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:H,ReactCurrentOwner:le,assign:W}},pe={default:P},Y=pe&&P||pe;e.exports=Y.default||Y},function(e){e.exports=require('module')},function(e,t,n){function o(e,t,n,o,r){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==r?null:r,this[s]=!0,null!=o&&this.add(o)}var r=n(313).SourceMapGenerator,a=n(108),i=/(\r?\n)/,s='$$$isSourceNode$$$';o.fromStringWithSourceMap=function(e,t,n){function r(e,t){if(null===e||void 0===e.source)s.add(t);else{var r=n?a.join(n,e.source):e.source;s.add(new o(e.originalLine,e.originalColumn,r,t,e.name))}}var s=new o,d=e.split(i),l=0,c=function(){function e(){return l<d.length?d[l++]:void 0}var t=e(),n=e()||'';return t+n},p=1,u=0,m=null;return t.eachMapping(function(e){if(null!==m)if(p<e.generatedLine)r(m,c()),p++,u=0;else{var t=d[l],n=t.substr(0,e.generatedColumn-u);return d[l]=t.substr(e.generatedColumn-u),u=e.generatedColumn,r(m,n),void(m=e)}for(;p<e.generatedLine;)s.add(c()),p++;if(u<e.generatedColumn){var t=d[l];s.add(t.substr(0,e.generatedColumn)),d[l]=t.substr(e.generatedColumn),u=e.generatedColumn}m=e},this),l<d.length&&(m&&r(m,c()),s.add(d.splice(l).join(''))),t.sources.forEach(function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=a.join(n,e)),s.setSourceContent(e,o))}),s},o.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else if(e[s]||'string'==typeof e)e&&this.children.push(e);else throw new TypeError('Expected a SourceNode, string, or an array of SourceNodes and strings. Got '+e);return this},o.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;0<=t;t--)this.prepend(e[t]);else if(e[s]||'string'==typeof e)this.children.unshift(e);else throw new TypeError('Expected a SourceNode, string, or an array of SourceNodes and strings. Got '+e);return this},o.prototype.walk=function(e){for(var t=0,n=this.children.length,o;t<n;t++)o=this.children[t],o[s]?o.walk(e):''!==o&&e(o,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(e){var t=this.children.length,n,o;if(0<t){for(n=[],o=0;o<t-1;o++)n.push(this.children[o]),n.push(e);n.push(this.children[o]),this.children=n}return this},o.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):'string'==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push(''.replace(e,t)),this},o.prototype.setSourceContent=function(e,t){this.sourceContents[a.toSetString(e)]=t},o.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);for(var o=Object.keys(this.sourceContents),t=0,n=o.length;t<n;t++)e(a.fromSetString(o[t]),this.sourceContents[o[t]])},o.prototype.toString=function(){var e='';return this.walk(function(t){e+=t}),e},o.prototype.toStringWithSourceMap=function(e){var t={code:'',line:1,column:0},n=new r(e),o=!1,i=null,a=null,s=null,d=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?((i!==r.source||a!==r.line||s!==r.column||d!==r.name)&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),i=r.source,a=r.line,s=r.column,d=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),i=null,o=!1);for(var l=0,c=e.length;l<c;l++)e.charCodeAt(l)===10?(t.line++,t.column=0,l+1===c?(i=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=o},function(e,t){function n(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function o(e,t){return Math.round(e+Math.random()*(t-e))}function a(e,t,s,d){if(s<d){var r=o(s,d),l=s-1;n(e,r,d);for(var i=e[d],c=s;c<d;c++)0>=t(e[c],i)&&(l+=1,n(e,l,c));n(e,l+1,c);var p=l+1;a(e,t,s,p-1),a(e,t,p+1,d)}}t.quickSort=function(e,t){a(e,t,0,e.length-1)}},function(e,t){function n(e,o,r,i,a,s){var d=Math.floor((o-e)/2)+e,l=a(r,i[d],!0);return 0===l?d:0<l?1<o-d?n(d,o,r,i,a,s):s==t.LEAST_UPPER_BOUND?o<i.length?o:-1:d:1<d-e?n(e,d,r,i,a,s):s==t.LEAST_UPPER_BOUND?d:0>e?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,o,r,i){if(0===o.length)return-1;var a=n(-1,o.length,e,o,r,i||t.GREATEST_LOWER_BOUND);if(0>a)return-1;for(;0<=a-1&&!(0!==r(o[a],o[a-1],!0));)--a;return a}},function(e,t,n){function o(e){var t=e;return'string'==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,''))),null==t.sections?new r(t):new i(t)}function r(e){var t=e;'string'==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,'')));var n=d.getArg(t,'version'),o=d.getArg(t,'sources'),r=d.getArg(t,'names',[]),i=d.getArg(t,'sourceRoot',null),a=d.getArg(t,'sourcesContent',null),s=d.getArg(t,'mappings'),c=d.getArg(t,'file',null);if(n!=this._version)throw new Error('Unsupported version: '+n);o=o.map(String).map(d.normalize).map(function(e){return i&&d.isAbsolute(i)&&d.isAbsolute(e)?d.relative(i,e):e}),this._names=l.fromArray(r.map(String),!0),this._sources=l.fromArray(o,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=s,this.file=c}function a(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function i(e){var t=e;'string'==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,'')));var n=d.getArg(t,'version'),r=d.getArg(t,'sections');if(n!=this._version)throw new Error('Unsupported version: '+n);this._sources=new l,this._names=new l;var i={line:-1,column:0};this._sections=r.map(function(e){if(e.url)throw new Error('Support for url field in sections not implemented.');var t=d.getArg(e,'offset'),n=d.getArg(t,'line'),r=d.getArg(t,'column');if(n<i.line||n===i.line&&r<i.column)throw new Error('Section offsets must be ordered and non-overlapping.');return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new o(d.getArg(e,'map'))}})}var d=n(108),s=n(794),l=n(311).ArraySet,c=n(312),p=n(793).quickSort;o.fromSourceMap=function(e){return r.fromSourceMap(e)},o.prototype._version=3,o.prototype.__generatedMappings=null,Object.defineProperty(o.prototype,'_generatedMappings',{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),o.prototype.__originalMappings=null,Object.defineProperty(o.prototype,'_originalMappings',{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),o.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return';'===n||','===n},o.prototype._parseMappings=function(){throw new Error('Subclasses must implement _parseMappings')},o.GENERATED_ORDER=1,o.ORIGINAL_ORDER=2,o.GREATEST_LOWER_BOUND=1,o.LEAST_UPPER_BOUND=2,o.prototype.eachMapping=function(e,t,n){var r=n||o.GENERATED_ORDER,i;switch(r){case o.GENERATED_ORDER:i=this._generatedMappings;break;case o.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error('Unknown order of iteration.');}var a=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=a&&(t=d.join(a,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,t||null)},o.prototype.allGeneratedPositionsFor=function(e){var t=d.getArg(e,'line'),n={source:d.getArg(e,'source'),originalLine:t,originalColumn:d.getArg(e,'column',0)};if(null!=this.sourceRoot&&(n.source=d.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],r=this._findMapping(n,this._originalMappings,'originalLine','originalColumn',d.compareByOriginalPositions,s.LEAST_UPPER_BOUND);if(0<=r){var i=this._originalMappings[r];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)o.push({line:d.getArg(i,'generatedLine',null),column:d.getArg(i,'generatedColumn',null),lastColumn:d.getArg(i,'lastGeneratedColumn',null)}),i=this._originalMappings[++r];else for(var l=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==l;)o.push({line:d.getArg(i,'generatedLine',null),column:d.getArg(i,'generatedColumn',null),lastColumn:d.getArg(i,'lastGeneratedColumn',null)}),i=this._originalMappings[++r]}return o},t.SourceMapConsumer=o,r.prototype=Object.create(o.prototype),r.prototype.consumer=o,r.fromSourceMap=function(e){var t=Object.create(r.prototype),n=t._names=l.fromArray(e._names.toArray(),!0),o=t._sources=l.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],u=t.__originalMappings=[],m=0,i=s.length;m<i;m++){var h=s[m],f=new a;f.generatedLine=h.generatedLine,f.generatedColumn=h.generatedColumn,h.source&&(f.source=o.indexOf(h.source),f.originalLine=h.originalLine,f.originalColumn=h.originalColumn,h.name&&(f.name=n.indexOf(h.name)),u.push(f)),c.push(f)}return p(t.__originalMappings,d.compareByOriginalPositions),t},r.prototype._version=3,Object.defineProperty(r.prototype,'sources',{get:function(){return this._sources.toArray().map(function(e){return null==this.sourceRoot?e:d.join(this.sourceRoot,e)},this)}}),r.prototype._parseMappings=function(e){for(var t=1,n=0,o=0,r=0,i=0,s=0,l=e.length,u=0,m={},h={},f=[],g=[],y,S,C,b,v;u<l;)if(';'===e.charAt(u))t++,u++,n=0;else if(','===e.charAt(u))u++;else{for(y=new a,y.generatedLine=t,b=u;b<l&&!this._charIsMappingSeparator(e,b);b++);if(S=e.slice(u,b),C=m[S],C)u+=S.length;else{for(C=[];u<b;)c.decode(e,u,h),v=h.value,u=h.rest,C.push(v);if(2===C.length)throw new Error('Found a source, but no line and column');if(3===C.length)throw new Error('Found a source and line, but no column');m[S]=C}y.generatedColumn=n+C[0],n=y.generatedColumn,1<C.length&&(y.source=i+C[1],i+=C[1],y.originalLine=o+C[2],o=y.originalLine,y.originalLine+=1,y.originalColumn=r+C[3],r=y.originalColumn,4<C.length&&(y.name=s+C[4],s+=C[4])),g.push(y),'number'==typeof y.originalLine&&f.push(y)}p(g,d.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,p(f,d.compareByOriginalPositions),this.__originalMappings=f},r.prototype._findMapping=function(e,t,n,o,r,i){if(0>=e[n])throw new TypeError('Line must be greater than or equal to 1, got '+e[n]);if(0>e[o])throw new TypeError('Column must be greater than or equal to 0, got '+e[o]);return s.search(e,t,r,i)},r.prototype.computeColumnSpans=function(){for(var e=0,t;e<this._generatedMappings.length;++e){if(t=this._generatedMappings[e],e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=Infinity}},r.prototype.originalPositionFor=function(e){var t={generatedLine:d.getArg(e,'line'),generatedColumn:d.getArg(e,'column')},n=this._findMapping(t,this._generatedMappings,'generatedLine','generatedColumn',d.compareByGeneratedPositionsDeflated,d.getArg(e,'bias',o.GREATEST_LOWER_BOUND));if(0<=n){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var i=d.getArg(r,'source',null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=d.join(this.sourceRoot,i)));var a=d.getArg(r,'name',null);return null!==a&&(a=this._names.at(a)),{source:i,line:d.getArg(r,'originalLine',null),column:d.getArg(r,'originalColumn',null),name:a}}}return{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},r.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=d.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=d.urlParse(this.sourceRoot))){var o=e.replace(/^file:\/\//,'');if('file'==n.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!n.path||'/'==n.path)&&this._sources.has('/'+e))return this.sourcesContent[this._sources.indexOf('/'+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t=d.getArg(e,'source');if(null!=this.sourceRoot&&(t=d.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:d.getArg(e,'line'),originalColumn:d.getArg(e,'column')},r=this._findMapping(n,this._originalMappings,'originalLine','originalColumn',d.compareByOriginalPositions,d.getArg(e,'bias',o.GREATEST_LOWER_BOUND));if(0<=r){var i=this._originalMappings[r];if(i.source===n.source)return{line:d.getArg(i,'generatedLine',null),column:d.getArg(i,'generatedColumn',null),lastColumn:d.getArg(i,'lastGeneratedColumn',null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=r,i.prototype=Object.create(o.prototype),i.prototype.constructor=o,i.prototype._version=3,Object.defineProperty(i.prototype,'sources',{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),i.prototype.originalPositionFor=function(e){var t={generatedLine:d.getArg(e,'line'),generatedColumn:d.getArg(e,'column')},n=s.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n?n:e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},i.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n],r=o.consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(e){for(var t=0,n;t<this._sections.length;t++)if(n=this._sections[t],-1!==n.consumer.sources.indexOf(d.getArg(e,'source'))){var o=n.consumer.generatedPositionFor(e);if(o){var r={line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)};return r}}return{line:null,column:null}},i.prototype._parseMappings=function(){this.__generatedMappings=[],this.__originalMappings=[];for(var e=0;e<this._sections.length;e++)for(var t=this._sections[e],n=t.consumer._generatedMappings,o=0;o<n.length;o++){var r=n[o],i=t.consumer._sources.at(r.source);null!==t.consumer.sourceRoot&&(i=d.join(t.consumer.sourceRoot,i)),this._sources.add(i),i=this._sources.indexOf(i);var a=t.consumer._names.at(r.name);this._names.add(a),a=this._names.indexOf(a);var s={source:i,generatedLine:r.generatedLine+(t.generatedOffset.generatedLine-1),generatedColumn:r.generatedColumn+(t.generatedOffset.generatedLine===r.generatedLine?t.generatedOffset.generatedColumn-1:0),originalLine:r.originalLine,originalColumn:r.originalColumn,name:a};this.__generatedMappings.push(s),'number'==typeof s.originalLine&&this.__originalMappings.push(s)}p(this.__generatedMappings,d.compareByGeneratedPositionsDeflated),p(this.__originalMappings,d.compareByOriginalPositions)},t.IndexedSourceMapConsumer=i},function(e,t,n){function o(e,t){var n=e.generatedLine,o=t.generatedLine,r=e.generatedColumn,a=t.generatedColumn;return o>n||o==n&&a>=r||0>=i.compareByGeneratedPositionsInflated(e,t)}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var i=n(108);r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){o(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=r},function(e,t){var n=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','+','/'];t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError('Must be between 0 and 63: '+e)},t.decode=function(e){var t=65,n=97,o=48;return t<=e&&e<=90?e-t:n<=e&&e<=122?e-n+26:o<=e&&e<=57?e-o+52:e==43?62:e==47?63:-1}},function(e,t,n){t.SourceMapGenerator=n(313).SourceMapGenerator,t.SourceMapConsumer=n(795).SourceMapConsumer,t.SourceNode=n(792).SourceNode},function(e,t,n){function o(){return!('browser'!==w)||'node'!==w&&'undefined'!=typeof window&&'function'==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&'renderer'===window.process.type)}function r(){return'object'==typeof process&&null!==process&&'function'==typeof process.on}function i(e){return function(t){for(var n=0,o;n<e.length;n++)if(o=e[n](t),o)return o;return null}}function a(e,t){if(!e)return t;var n=S.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(n),r=o?o[0]:'';return r+S.resolve(n.slice(r.length),t)}function s(e){var t;if(o())try{var n=new XMLHttpRequest;n.open('GET',e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var r=n.getResponseHeader('SourceMap')||n.getResponseHeader('X-SourceMap');if(r)return r}catch(t){}t=P(e);for(var i=/(?:\/\/[@#][ \t]+sourceMappingURL=([^\s'"]+?)[ \t]*$)|(?:\/\*[@#][ \t]+sourceMappingURL=([^\*]+?)[ \t]*(?:\*\/)[ \t]*$)/mg,a,s;s=i.exec(t);)a=s;return a?a[1]:null}function d(e){var t=T[e.source];if(!t){var n=D(e.source);n?(t=T[e.source]={url:n.url,map:new y(n.map)},t.map.sourcesContent&&t.map.sources.forEach(function(e,n){var o=t.map.sourcesContent[n];if(o){var r=a(t.url,e);k[r]=o}})):t=T[e.source]={url:null,map:null}}if(t&&t.map){var o=t.map.originalPositionFor(e);if(null!==o.source)return o.source=a(t.url,o.source),o}return e}function l(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=d({source:t[2],line:+t[3],column:t[4]-1});return'eval at '+t[1]+' ('+n.source+':'+n.line+':'+(n.column+1)+')'}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?'eval at '+t[1]+' ('+l(t[2])+')':e}function c(){var e='',t;if(this.isNative())e='native';else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=', '),e+=t?t:'<anonymous>';var n=this.getLineNumber();if(null!=n){e+=':'+n;var o=this.getColumnNumber();o&&(e+=':'+o)}}var r='',i=this.getFunctionName(),a=!0,s=this.isConstructor(),d=!(this.isToplevel()||s);if(d){var l=this.getTypeName();'[object Object]'===l&&(l='null');var c=this.getMethodName();i?(l&&0!=i.indexOf(l)&&(r+=l+'.'),r+=i,c&&i.indexOf('.'+c)!=i.length-c.length-1&&(r+=' [as '+c+']')):r+=l+'.'+(c||'<anonymous>')}else s?r+='new '+(i||'<anonymous>'):i?r+=i:(r+=e,a=!1);return a&&(r+=' ('+e+')'),r}function p(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]}),t.toString=c,t}function u(e){if(e.isNative())return e;var t=e.getFileName()||e.getScriptNameOrSourceURL();if(t){var n=e.getLineNumber(),r=e.getColumnNumber()-1,i=62;1!==n||!(r>i)||o()||e.isEval()||(r-=i);var a=d({source:t,line:n,column:r});return e=p(e),e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var s=e.isEval()&&e.getEvalOrigin();return s?(s=l(s),e=p(e),e.getEvalOrigin=function(){return s},e):e}function m(e,t){return E&&(k={},T={}),e+t.map(function(e){return'\n    at '+u(e)}).join('')}function h(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],o=+t[2],r=+t[3],i=k[n];if(!i&&C&&C.existsSync(n))try{i=C.readFileSync(n,'utf8')}catch(e){i=''}if(i){var a=i.split(/(?:\r\n|\r|\n)/)[o-1];if(a)return n+':'+o+'\n'+a+'\n'+Array(r).join(' ')+'^'}}return null}function f(e){var t=h(e);t&&(console.error(),console.error(t)),console.error(e.stack),process.exit(1)}function g(){var e=process.emit;process.emit=function(t){if('uncaughtException'===t){var n=arguments[1]&&arguments[1].stack,o=0<this.listeners(t).length;if(n&&!o)return f(arguments[1])}return e.apply(this,arguments)}}var y=n(798).SourceMapConsumer,S=n(1),C;try{C=n(33),C.existsSync&&C.readFileSync||(C=null)}catch(e){}var b=!1,v=!1,E=!1,w='auto',k={},T={},_=/^data:application\/json[^,]+base64,/,R=[],x=[],P=i(R);R.push(function(e){if(e=e.trim(),e in k)return k[e];var t=null;if(!C){var n=new XMLHttpRequest;n.open('GET',e,!1),n.send(null);var t=null;4===n.readyState&&200===n.status&&(t=n.responseText)}else if(C.existsSync(e))try{t=C.readFileSync(e,'utf8')}catch(e){t=''}return k[e]=t});var D=i(x);x.push(function(e){var t=s(e);if(!t)return null;var n;if(_.test(t)){var o=t.slice(t.indexOf(',')+1);n=new Buffer(o,'base64').toString(),t=e}else t=a(e,t),n=P(t);return n?{url:t,map:n}:null}),t.wrapCallSite=u,t.getErrorSource=h,t.mapSourcePosition=d,t.retrieveSourceMap=D,t.install=function(e){if(e=e||{},e.environment&&(w=e.environment,-1===['node','browser','auto'].indexOf(w)))throw new Error('environment '+w+' was unknown. Available options are {auto, browser, node}');if(e.retrieveFile&&(e.overrideRetrieveFile&&(R.length=0),R.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(x.length=0),x.unshift(e.retrieveSourceMap)),e.hookRequire&&!o()){var t;try{t=n(791)}catch(e){}var i=t.prototype._compile;i.__sourceMapSupport||(t.prototype._compile=function(e,t){return k[t]=e,T[t]=void 0,i.call(this,e,t)},t.prototype._compile.__sourceMapSupport=!0)}if(E||(E=!!('emptyCacheBetweenOperations'in e)&&e.emptyCacheBetweenOperations),b||(b=!0,Error.prepareStackTrace=m),!v){var a=!('handleUncaughtExceptions'in e)||e.handleUncaughtExceptions;a&&r()&&(v=!0,g())}}},function(e,t,n){var o=n(1).sep||'/';e.exports=function(e){if('string'!=typeof e||7>=e.length||'file://'!=e.substring(0,7))throw new TypeError('must pass in a file:// URI to convert to a file path');var t=unescape(e.substring(7)),n=t.indexOf('/'),r=t.substring(0,n),i=t.substring(n+1);return'localhost'==r&&(r=''),r&&(r=o+o+r),i=i.replace(/^(.+)\|/,'$1:'),'\\'==o&&(i=i.replace(/\//g,'\\')),/^.+\:/.test(i)||(i=o+i),r+i}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(314);t.formatError=function(e,t){return e=o.withSourceMappedStack(e),e.stack?t?`${t}\n${e.stack}`:e.stack.trim():t?`${t}\n${e.name}: ${e.message}`:`${e.name}: ${e.message}`}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=n(801);t.formatLogMessage=function(e,t){return t?o.formatError(t,e):e}},function(e,t,n){'use strict';function o(e,t,n){r.ipcRenderer.send('log',e,i.formatLogMessage(`[${'ui'}] ${t}`,n))}Object.defineProperty(t,'__esModule',{value:!0});const r=n(22),i=n(802),a=global;a.log={error(e,t){o('error',e,t),console.error(i.formatLogMessage(e,t))},warn(e,t){o('warn',e,t),console.warn(i.formatLogMessage(e,t))},info(e,t){o('info',e,t),console.info(i.formatLogMessage(e,t))},debug(e,t){o('debug',e,t),console.debug(i.formatLogMessage(e,t))}}},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),n(803);const o=n(0),r=n(43),i=n(1),a=n(57),s=n(22),d=n(310),l=n(342),c=n(72),p=n(184),u=n(28),m=n(86),h=n(184),f=n(335),g=n(334),y=n(27),S=n(134),C=n(86),b=n(314),v=n(333),E=n(332),w=n(331),k=n(330),T=n(234);!1,f.shellNeedsPatching(process)&&f.updateEnvironmentForProcess(),b.enableSourceMaps(),process.env.LOCAL_GIT_DIRECTORY=i.resolve(__dirname,'git'),n(326);const _=n(325);_(a);const R=performance.now();n(324);let x=null,P=null,D=null;const M=(e,t={},n)=>{e=b.withSourceMappedStack(e),console.error('Uncaught exception',e);{const o=Object.assign({osVersion:S.getOS(),guid:C.getGUID()},t);try{x&&(null!==x.currentBanner&&(o.currentBanner=x.currentBanner.type),null!==x.currentPopup&&(o.currentPopup=`${x.currentPopup.type}`),null!==x.selectedState&&(o.selectedState=`${x.selectedState.type}`,x.selectedState.type===u.SelectionType.Repository&&(o.selectedRepositorySection=`${x.selectedState.state.selectedSection}`)),null!==x.currentFoldout&&(o.currentFoldout=`${x.currentFoldout.type}`),x.showWelcomeFlow&&(o.inWelcomeFlow='true'),1!==x.windowZoomFactor&&(o.windowZoomFactor=`${x.windowZoomFactor}`),0<x.errors.length&&(o.activeAppErrors=`${x.errors.length}`),null!=P&&null!=D&&(o.lastUnhandledRejection=P,o.lastUnhandledRejectionTime=D.toString()),o.repositoryCount=`${x.repositories.length}`,o.windowState=x.windowState,o.accounts=`${x.accounts.length}`,!1)}catch(e){}y.sendErrorReport(e,o,n)}};process.once('uncaughtException',(e)=>{M(e),y.reportUncaughtException(e)}),process.on('send-non-fatal-exception',(e,t)=>{M(e,t,!0)}),window.addEventListener('unhandledrejection',(e)=>{if(null!==e.reason&&e.reason!==void 0)try{P=`${e.reason}`,D=new Date}catch(e){}});const A=new c.GitHubUserStore(new p.GitHubUserDatabase('GitHubUserDatabase')),I=new c.CloningRepositoriesStore,L=new c.IssuesStore(new h.IssuesDatabase('IssuesDatabase')),F=new m.StatsStore(new m.StatsDatabase('StatsDatabase'),new v.UiActivityMonitor()),B=new c.SignInStore,N=new c.AccountsStore(localStorage,c.TokenStore),O=new c.RepositoriesStore(new h.RepositoriesDatabase('Database')),H=new c.PullRequestStore(new h.PullRequestDatabase('PullRequestDatabase'),O),z=new T.PullRequestCoordinator(H,O),U=new E.RepositoryStateCache((e)=>A.getUsersForRepository(e)),W=new w.ApiRepositoriesStore(N),V=new k.CommitStatusStore(N),G=new c.AppStore(A,I,L,F,B,N,O,z,U,W);G.onDidUpdate((e)=>{x=e});const K=new l.Dispatcher(G,U,F,V);K.registerErrorHandler(l.defaultErrorHandler),K.registerErrorHandler(l.upstreamAlreadyExistsHandler),K.registerErrorHandler(l.externalEditorErrorHandler),K.registerErrorHandler(l.openShellErrorHandler),K.registerErrorHandler(l.mergeConflictHandler),K.registerErrorHandler(l.lfsAttributeMismatchHandler),K.registerErrorHandler(l.insufficientGitHubRepoPermissions),K.registerErrorHandler(l.schannelUnableToCheckRevocationForCertificate),K.registerErrorHandler(l.gitAuthenticationErrorHandler),K.registerErrorHandler(l.pushNeedsPullHandler),K.registerErrorHandler(l.samlReauthRequired),K.registerErrorHandler(l.backgroundTaskHandler),K.registerErrorHandler(l.missingRepositoryHandler),K.registerErrorHandler(l.localChangesOverwrittenHandler),K.registerErrorHandler(l.rebaseConflictsHandler),K.registerErrorHandler(l.refusedWorkflowUpdate),document.body.classList.add(`platform-${'win32'}`),K.setAppFocusState(s.remote.getCurrentWindow().isFocused()),s.ipcRenderer.on('focus',()=>{const{selectedState:e}=G.getState();e&&e.type!==u.SelectionType.CloningRepository&&K.refreshRepository(e.repository),K.setAppFocusState(!0)}),s.ipcRenderer.on('blur',()=>{K.setAccessKeyHighlightState(!1),K.setAppFocusState(!1)}),s.ipcRenderer.on('url-action',(e,{action:t})=>{K.dispatchURLAction(t)}),r.render(o.createElement(d.App,{dispatcher:K,appStore:G,repositoryStateManager:U,issuesStore:L,gitHubUserStore:A,startTime:R}),document.getElementById('desktop-app-container'))}]);
//# sourceMappingURL=renderer.js.map